2022-04-06 09:11:50.857  INFO 12684 --- [restartedMain] com.kwok.MyblogApplication               : Starting MyblogApplication using Java 11.0.6 on LAPTOP-RAL81HPH with PID 12684 (E:\a-IdeaProjects\JavaWebProjects\myblog\target\classes started by Mr Kwok in E:\a-IdeaProjects\JavaWebProjects\myblog)
2022-04-06 09:11:50.861 DEBUG 12684 --- [restartedMain] com.kwok.MyblogApplication               : Running with Spring Boot v2.6.1, Spring v5.3.13
2022-04-06 09:11:50.862  INFO 12684 --- [restartedMain] com.kwok.MyblogApplication               : The following profiles are active: dev
2022-04-06 09:11:50.903  INFO 12684 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2022-04-06 09:11:50.904  INFO 12684 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2022-04-06 09:11:51.497  INFO 12684 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-04-06 09:11:51.512  INFO 12684 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 8 ms. Found 0 JPA repository interfaces.
2022-04-06 09:11:52.107  INFO 12684 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8086 (http)
2022-04-06 09:11:52.115  INFO 12684 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2022-04-06 09:11:52.116  INFO 12684 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.55]
2022-04-06 09:11:52.177  INFO 12684 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2022-04-06 09:11:52.177  INFO 12684 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1273 ms
2022-04-06 09:11:52.309  INFO 12684 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2022-04-06 09:11:52.616  INFO 12684 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2022-04-06 09:11:52.649  INFO 12684 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2022-04-06 09:11:52.690  INFO 12684 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.1.Final
2022-04-06 09:11:52.806  INFO 12684 --- [restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-04-06 09:11:52.900  INFO 12684 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2022-04-06 09:11:53.002  INFO 12684 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-04-06 09:11:53.008  INFO 12684 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-04-06 09:11:53.370  WARN 12684 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-04-06 09:11:53.634  INFO 12684 --- [restartedMain] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page template: index
2022-04-06 09:11:53.939  INFO 12684 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2022-04-06 09:11:53.971  INFO 12684 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-04-06 09:11:53.971  INFO 12684 --- [restartedMain] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2022-04-06 09:11:53.972  INFO 12684 --- [restartedMain] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2022-04-06 09:11:53.972  INFO 12684 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8086 (http) with context path ''
2022-04-06 09:11:53.982  INFO 12684 --- [restartedMain] com.kwok.MyblogApplication               : Started MyblogApplication in 3.518 seconds (JVM running for 4.61)
2022-04-06 09:12:04.727  INFO 12684 --- [http-nio-8086-exec-1] com.kwok.aspect.LogAspect                : Request : {url='http://localhost:8086/', ip='0:0:0:0:0:0:0:1', classMethod='com.kwok.controller.IndexController.enter', args=[{}]}
2022-04-06 09:12:04.766 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.BlogMapper.listHotBlog   : ==>  Preparing: select * from blog order by views desc
2022-04-06 09:12:04.781 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.BlogMapper.listHotBlog   : ==> Parameters: 
2022-04-06 09:12:04.864 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.BlogMapper.listHotBlog   : <==      Total: 81
2022-04-06 09:12:04.865  INFO 12684 --- [http-nio-8086-exec-1] com.kwok.aspect.LogAspect                : Result : enter
2022-04-06 09:12:06.584  INFO 12684 --- [http-nio-8086-exec-7] com.kwok.aspect.LogAspect                : Request : {url='http://localhost:8086/index', ip='0:0:0:0:0:0:0:1', classMethod='com.kwok.controller.IndexController.index', args=[org.apache.catalina.connector.RequestFacade@6d43fb79, org.apache.catalina.connector.ResponseFacade@638418a1, {}]}
2022-04-06 09:12:06.585 DEBUG 12684 --- [http-nio-8086-exec-7] com.kwok.mapper.BlogMapper.getBlogCount  : ==>  Preparing: select count(1) as count from blog
2022-04-06 09:12:06.586 DEBUG 12684 --- [http-nio-8086-exec-7] com.kwok.mapper.BlogMapper.getBlogCount  : ==> Parameters: 
2022-04-06 09:12:06.605 DEBUG 12684 --- [http-nio-8086-exec-7] com.kwok.mapper.BlogMapper.getBlogCount  : <==      Total: 1
2022-04-06 09:12:06.608 DEBUG 12684 --- [http-nio-8086-exec-7] com.kwok.mapper.BlogMapper.getBlogList   : ==>  Preparing: select b.*,t.name as typeName from blog b,type t where b.type_id=t.id order by b.id desc limit ?,?
2022-04-06 09:12:06.608 DEBUG 12684 --- [http-nio-8086-exec-7] com.kwok.mapper.BlogMapper.getBlogList   : ==> Parameters: 0(Integer), 5(Integer)
2022-04-06 09:12:06.724 DEBUG 12684 --- [http-nio-8086-exec-7] com.kwok.mapper.BlogMapper.getBlogList   : <==      Total: 5
2022-04-06 09:12:06.725 DEBUG 12684 --- [http-nio-8086-exec-7] com.kwok.mapper.BlogMapper.getBlogById   : ==>  Preparing: select * from blog where id = ?
2022-04-06 09:12:06.725 DEBUG 12684 --- [http-nio-8086-exec-7] com.kwok.mapper.BlogMapper.getBlogById   : ==> Parameters: 82(Integer)
2022-04-06 09:12:06.726 DEBUG 12684 --- [http-nio-8086-exec-7] com.kwok.mapper.BlogMapper.getBlogById   : <==      Total: 0
2022-04-06 09:12:06.727 DEBUG 12684 --- [http-nio-8086-exec-7] com.kwok.mapper.BlogMapper.getBlogById   : ==>  Preparing: select * from blog where id = ?
2022-04-06 09:12:06.727 DEBUG 12684 --- [http-nio-8086-exec-7] com.kwok.mapper.BlogMapper.getBlogById   : ==> Parameters: 76(Integer)
2022-04-06 09:12:06.728 DEBUG 12684 --- [http-nio-8086-exec-7] com.kwok.mapper.BlogMapper.getBlogById   : <==      Total: 1
2022-04-06 09:12:06.731 DEBUG 12684 --- [http-nio-8086-exec-7] com.kwok.mapper.TagMapper.listTopTag     : ==>  Preparing: select tag.id,tag.name,tn.num from tag,(select tag_id,count(*) as num from blog_tag group by tag_id order by num desc) as tn where tag.id = tn.tag_id
2022-04-06 09:12:06.732 DEBUG 12684 --- [http-nio-8086-exec-7] com.kwok.mapper.TagMapper.listTopTag     : ==> Parameters: 
2022-04-06 09:12:06.736 DEBUG 12684 --- [http-nio-8086-exec-7] com.kwok.mapper.TagMapper.listTopTag     : <==      Total: 10
2022-04-06 09:12:06.739 DEBUG 12684 --- [http-nio-8086-exec-7] com.kwok.mapper.TypeMapper.listTopType   : ==>  Preparing: select type.id,type.name,tn.num from type,(select type_id,count(*) as num from blog group by type_id order by num desc) as tn where type.id = tn.type_id
2022-04-06 09:12:06.739 DEBUG 12684 --- [http-nio-8086-exec-7] com.kwok.mapper.TypeMapper.listTopType   : ==> Parameters: 
2022-04-06 09:12:06.741 DEBUG 12684 --- [http-nio-8086-exec-7] com.kwok.mapper.TypeMapper.listTopType   : <==      Total: 4
2022-04-06 09:12:06.741 DEBUG 12684 --- [http-nio-8086-exec-7] c.k.m.BlogMapper.listTopRecommendBlog    : ==>  Preparing: select * from blog where recommend = 1 order by update_time desc
2022-04-06 09:12:06.741 DEBUG 12684 --- [http-nio-8086-exec-7] c.k.m.BlogMapper.listTopRecommendBlog    : ==> Parameters: 
2022-04-06 09:12:06.744 DEBUG 12684 --- [http-nio-8086-exec-7] c.k.m.BlogMapper.listTopRecommendBlog    : <==      Total: 2
2022-04-06 09:12:06.745  INFO 12684 --- [http-nio-8086-exec-7] com.kwok.aspect.LogAspect                : Result : index
2022-04-06 09:14:43.574  INFO 12684 --- [http-nio-8086-exec-7] com.kwok.aspect.LogAspect                : Request : {url='http://localhost:8086/index', ip='0:0:0:0:0:0:0:1', classMethod='com.kwok.controller.IndexController.index', args=[org.apache.catalina.connector.RequestFacade@2bd08bff, org.apache.catalina.connector.ResponseFacade@569c43ae, {}]}
2022-04-06 09:14:43.575 DEBUG 12684 --- [http-nio-8086-exec-7] com.kwok.mapper.BlogMapper.getBlogCount  : ==>  Preparing: select count(1) as count from blog
2022-04-06 09:14:43.575 DEBUG 12684 --- [http-nio-8086-exec-7] com.kwok.mapper.BlogMapper.getBlogCount  : ==> Parameters: 
2022-04-06 09:14:43.576 DEBUG 12684 --- [http-nio-8086-exec-7] com.kwok.mapper.BlogMapper.getBlogCount  : <==      Total: 1
2022-04-06 09:14:43.577 DEBUG 12684 --- [http-nio-8086-exec-7] com.kwok.mapper.BlogMapper.getBlogList   : ==>  Preparing: select b.*,t.name as typeName from blog b,type t where b.type_id=t.id order by b.id desc limit ?,?
2022-04-06 09:14:43.577 DEBUG 12684 --- [http-nio-8086-exec-7] com.kwok.mapper.BlogMapper.getBlogList   : ==> Parameters: 0(Integer), 5(Integer)
2022-04-06 09:14:43.583 DEBUG 12684 --- [http-nio-8086-exec-7] com.kwok.mapper.BlogMapper.getBlogList   : <==      Total: 5
2022-04-06 09:14:43.583 DEBUG 12684 --- [http-nio-8086-exec-7] com.kwok.mapper.BlogMapper.getBlogById   : ==>  Preparing: select * from blog where id = ?
2022-04-06 09:14:43.583 DEBUG 12684 --- [http-nio-8086-exec-7] com.kwok.mapper.BlogMapper.getBlogById   : ==> Parameters: 82(Integer)
2022-04-06 09:14:43.584 DEBUG 12684 --- [http-nio-8086-exec-7] com.kwok.mapper.BlogMapper.getBlogById   : <==      Total: 0
2022-04-06 09:14:43.585 DEBUG 12684 --- [http-nio-8086-exec-7] com.kwok.mapper.BlogMapper.getBlogById   : ==>  Preparing: select * from blog where id = ?
2022-04-06 09:14:43.585 DEBUG 12684 --- [http-nio-8086-exec-7] com.kwok.mapper.BlogMapper.getBlogById   : ==> Parameters: 76(Integer)
2022-04-06 09:14:43.586 DEBUG 12684 --- [http-nio-8086-exec-7] com.kwok.mapper.BlogMapper.getBlogById   : <==      Total: 1
2022-04-06 09:14:43.587 DEBUG 12684 --- [http-nio-8086-exec-7] com.kwok.mapper.TagMapper.listTopTag     : ==>  Preparing: select tag.id,tag.name,tn.num from tag,(select tag_id,count(*) as num from blog_tag group by tag_id order by num desc) as tn where tag.id = tn.tag_id
2022-04-06 09:14:43.587 DEBUG 12684 --- [http-nio-8086-exec-7] com.kwok.mapper.TagMapper.listTopTag     : ==> Parameters: 
2022-04-06 09:14:43.589 DEBUG 12684 --- [http-nio-8086-exec-7] com.kwok.mapper.TagMapper.listTopTag     : <==      Total: 10
2022-04-06 09:14:43.589 DEBUG 12684 --- [http-nio-8086-exec-7] com.kwok.mapper.TypeMapper.listTopType   : ==>  Preparing: select type.id,type.name,tn.num from type,(select type_id,count(*) as num from blog group by type_id order by num desc) as tn where type.id = tn.type_id
2022-04-06 09:14:43.590 DEBUG 12684 --- [http-nio-8086-exec-7] com.kwok.mapper.TypeMapper.listTopType   : ==> Parameters: 
2022-04-06 09:14:43.591 DEBUG 12684 --- [http-nio-8086-exec-7] com.kwok.mapper.TypeMapper.listTopType   : <==      Total: 4
2022-04-06 09:14:43.592 DEBUG 12684 --- [http-nio-8086-exec-7] c.k.m.BlogMapper.listTopRecommendBlog    : ==>  Preparing: select * from blog where recommend = 1 order by update_time desc
2022-04-06 09:14:43.592 DEBUG 12684 --- [http-nio-8086-exec-7] c.k.m.BlogMapper.listTopRecommendBlog    : ==> Parameters: 
2022-04-06 09:14:43.596 DEBUG 12684 --- [http-nio-8086-exec-7] c.k.m.BlogMapper.listTopRecommendBlog    : <==      Total: 2
2022-04-06 09:14:43.596  INFO 12684 --- [http-nio-8086-exec-7] com.kwok.aspect.LogAspect                : Result : index
2022-04-06 09:19:56.452  INFO 12684 --- [http-nio-8086-exec-5] com.kwok.aspect.LogAspect                : Request : {url='http://localhost:8086/index', ip='0:0:0:0:0:0:0:1', classMethod='com.kwok.controller.IndexController.index', args=[org.apache.catalina.connector.RequestFacade@6602faf2, org.apache.catalina.connector.ResponseFacade@1dd92202, {}]}
2022-04-06 09:19:56.453 DEBUG 12684 --- [http-nio-8086-exec-5] com.kwok.mapper.BlogMapper.getBlogCount  : ==>  Preparing: select count(1) as count from blog
2022-04-06 09:19:56.454 DEBUG 12684 --- [http-nio-8086-exec-5] com.kwok.mapper.BlogMapper.getBlogCount  : ==> Parameters: 
2022-04-06 09:19:56.457 DEBUG 12684 --- [http-nio-8086-exec-5] com.kwok.mapper.BlogMapper.getBlogCount  : <==      Total: 1
2022-04-06 09:19:56.458 DEBUG 12684 --- [http-nio-8086-exec-5] com.kwok.mapper.BlogMapper.getBlogList   : ==>  Preparing: select b.*,t.name as typeName from blog b,type t where b.type_id=t.id order by b.id desc limit ?,?
2022-04-06 09:19:56.458 DEBUG 12684 --- [http-nio-8086-exec-5] com.kwok.mapper.BlogMapper.getBlogList   : ==> Parameters: 0(Integer), 5(Integer)
2022-04-06 09:19:56.464 DEBUG 12684 --- [http-nio-8086-exec-5] com.kwok.mapper.BlogMapper.getBlogList   : <==      Total: 5
2022-04-06 09:19:56.464 DEBUG 12684 --- [http-nio-8086-exec-5] com.kwok.mapper.BlogMapper.getBlogById   : ==>  Preparing: select * from blog where id = ?
2022-04-06 09:19:56.464 DEBUG 12684 --- [http-nio-8086-exec-5] com.kwok.mapper.BlogMapper.getBlogById   : ==> Parameters: 82(Integer)
2022-04-06 09:19:56.465 DEBUG 12684 --- [http-nio-8086-exec-5] com.kwok.mapper.BlogMapper.getBlogById   : <==      Total: 0
2022-04-06 09:19:56.466 DEBUG 12684 --- [http-nio-8086-exec-5] com.kwok.mapper.BlogMapper.getBlogById   : ==>  Preparing: select * from blog where id = ?
2022-04-06 09:19:56.466 DEBUG 12684 --- [http-nio-8086-exec-5] com.kwok.mapper.BlogMapper.getBlogById   : ==> Parameters: 76(Integer)
2022-04-06 09:19:56.467 DEBUG 12684 --- [http-nio-8086-exec-5] com.kwok.mapper.BlogMapper.getBlogById   : <==      Total: 1
2022-04-06 09:19:56.468 DEBUG 12684 --- [http-nio-8086-exec-5] com.kwok.mapper.TagMapper.listTopTag     : ==>  Preparing: select tag.id,tag.name,tn.num from tag,(select tag_id,count(*) as num from blog_tag group by tag_id order by num desc) as tn where tag.id = tn.tag_id
2022-04-06 09:19:56.468 DEBUG 12684 --- [http-nio-8086-exec-5] com.kwok.mapper.TagMapper.listTopTag     : ==> Parameters: 
2022-04-06 09:19:56.469 DEBUG 12684 --- [http-nio-8086-exec-5] com.kwok.mapper.TagMapper.listTopTag     : <==      Total: 10
2022-04-06 09:19:56.470 DEBUG 12684 --- [http-nio-8086-exec-5] com.kwok.mapper.TypeMapper.listTopType   : ==>  Preparing: select type.id,type.name,tn.num from type,(select type_id,count(*) as num from blog group by type_id order by num desc) as tn where type.id = tn.type_id
2022-04-06 09:19:56.470 DEBUG 12684 --- [http-nio-8086-exec-5] com.kwok.mapper.TypeMapper.listTopType   : ==> Parameters: 
2022-04-06 09:19:56.472 DEBUG 12684 --- [http-nio-8086-exec-5] com.kwok.mapper.TypeMapper.listTopType   : <==      Total: 4
2022-04-06 09:19:56.472 DEBUG 12684 --- [http-nio-8086-exec-5] c.k.m.BlogMapper.listTopRecommendBlog    : ==>  Preparing: select * from blog where recommend = 1 order by update_time desc
2022-04-06 09:19:56.472 DEBUG 12684 --- [http-nio-8086-exec-5] c.k.m.BlogMapper.listTopRecommendBlog    : ==> Parameters: 
2022-04-06 09:19:56.475 DEBUG 12684 --- [http-nio-8086-exec-5] c.k.m.BlogMapper.listTopRecommendBlog    : <==      Total: 2
2022-04-06 09:19:56.475  INFO 12684 --- [http-nio-8086-exec-5] com.kwok.aspect.LogAspect                : Result : index
2022-04-06 09:20:02.137  WARN 12684 --- [http-nio-8086-exec-7] o.a.c.util.SessionIdGeneratorBase        : Creation of SecureRandom instance for session ID generation using [SHA1PRNG] took [247] milliseconds.
2022-04-06 09:20:02.142 DEBUG 12684 --- [http-nio-8086-exec-7] c.k.m.U.findByUsernameAndPassword        : ==>  Preparing: select * from user where username = ? and password = ?
2022-04-06 09:20:02.143 DEBUG 12684 --- [http-nio-8086-exec-7] c.k.m.U.findByUsernameAndPassword        : ==> Parameters: kwok(String), 202cb962ac59075b964b07152d234b70(String)
2022-04-06 09:20:02.146 DEBUG 12684 --- [http-nio-8086-exec-7] c.k.m.U.findByUsernameAndPassword        : <==      Total: 1
2022-04-06 09:20:03.418 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.BlogMapper.getBlogCount  : ==>  Preparing: select count(1) as count from blog
2022-04-06 09:20:03.418 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.BlogMapper.getBlogCount  : ==> Parameters: 
2022-04-06 09:20:03.419 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.BlogMapper.getBlogCount  : <==      Total: 1
2022-04-06 09:20:03.420 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.BlogMapper.getBlogList   : ==>  Preparing: select b.*,t.name as typeName from blog b,type t where b.type_id=t.id order by b.id desc limit ?,?
2022-04-06 09:20:03.420 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.BlogMapper.getBlogList   : ==> Parameters: 0(Integer), 5(Integer)
2022-04-06 09:20:03.425 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.BlogMapper.getBlogList   : <==      Total: 5
2022-04-06 09:20:03.426 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.BlogMapper.getBlogById   : ==>  Preparing: select * from blog where id = ?
2022-04-06 09:20:03.426 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.BlogMapper.getBlogById   : ==> Parameters: 82(Integer)
2022-04-06 09:20:03.427 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.BlogMapper.getBlogById   : <==      Total: 0
2022-04-06 09:20:03.428 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.BlogMapper.getBlogById   : ==>  Preparing: select * from blog where id = ?
2022-04-06 09:20:03.428 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.BlogMapper.getBlogById   : ==> Parameters: 76(Integer)
2022-04-06 09:20:03.429 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.BlogMapper.getBlogById   : <==      Total: 1
2022-04-06 09:20:03.430 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.TypeMapper.listType      : ==>  Preparing: select * from type order by id desc
2022-04-06 09:20:03.430 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.TypeMapper.listType      : ==> Parameters: 
2022-04-06 09:20:03.431 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.TypeMapper.listType      : <==      Total: 6
2022-04-06 09:20:05.740  INFO 12684 --- [http-nio-8086-exec-6] com.kwok.aspect.LogAspect                : Request : {url='http://localhost:8086/index', ip='0:0:0:0:0:0:0:1', classMethod='com.kwok.controller.IndexController.index', args=[org.apache.catalina.connector.RequestFacade@2bd08bff, org.apache.catalina.connector.ResponseFacade@569c43ae, {}]}
2022-04-06 09:20:05.740 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.BlogMapper.getBlogCount  : ==>  Preparing: select count(1) as count from blog
2022-04-06 09:20:05.741 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.BlogMapper.getBlogCount  : ==> Parameters: 
2022-04-06 09:20:05.742 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.BlogMapper.getBlogCount  : <==      Total: 1
2022-04-06 09:20:05.743 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.BlogMapper.getBlogList   : ==>  Preparing: select b.*,t.name as typeName from blog b,type t where b.type_id=t.id order by b.id desc limit ?,?
2022-04-06 09:20:05.743 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.BlogMapper.getBlogList   : ==> Parameters: 0(Integer), 5(Integer)
2022-04-06 09:20:05.748 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.BlogMapper.getBlogList   : <==      Total: 5
2022-04-06 09:20:05.748 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.BlogMapper.getBlogById   : ==>  Preparing: select * from blog where id = ?
2022-04-06 09:20:05.749 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.BlogMapper.getBlogById   : ==> Parameters: 82(Integer)
2022-04-06 09:20:05.749 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.BlogMapper.getBlogById   : <==      Total: 0
2022-04-06 09:20:05.750 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.BlogMapper.getBlogById   : ==>  Preparing: select * from blog where id = ?
2022-04-06 09:20:05.750 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.BlogMapper.getBlogById   : ==> Parameters: 76(Integer)
2022-04-06 09:20:05.751 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.BlogMapper.getBlogById   : <==      Total: 1
2022-04-06 09:20:05.752 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.TagMapper.listTopTag     : ==>  Preparing: select tag.id,tag.name,tn.num from tag,(select tag_id,count(*) as num from blog_tag group by tag_id order by num desc) as tn where tag.id = tn.tag_id
2022-04-06 09:20:05.752 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.TagMapper.listTopTag     : ==> Parameters: 
2022-04-06 09:20:05.753 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.TagMapper.listTopTag     : <==      Total: 10
2022-04-06 09:20:05.753 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.TypeMapper.listTopType   : ==>  Preparing: select type.id,type.name,tn.num from type,(select type_id,count(*) as num from blog group by type_id order by num desc) as tn where type.id = tn.type_id
2022-04-06 09:20:05.753 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.TypeMapper.listTopType   : ==> Parameters: 
2022-04-06 09:20:05.754 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.TypeMapper.listTopType   : <==      Total: 4
2022-04-06 09:20:05.755 DEBUG 12684 --- [http-nio-8086-exec-6] c.k.m.BlogMapper.listTopRecommendBlog    : ==>  Preparing: select * from blog where recommend = 1 order by update_time desc
2022-04-06 09:20:05.755 DEBUG 12684 --- [http-nio-8086-exec-6] c.k.m.BlogMapper.listTopRecommendBlog    : ==> Parameters: 
2022-04-06 09:20:05.758 DEBUG 12684 --- [http-nio-8086-exec-6] c.k.m.BlogMapper.listTopRecommendBlog    : <==      Total: 2
2022-04-06 09:20:05.758  INFO 12684 --- [http-nio-8086-exec-6] com.kwok.aspect.LogAspect                : Result : index
2022-04-06 09:20:08.697 DEBUG 12684 --- [http-nio-8086-exec-3] com.kwok.mapper.TypeMapper.listType      : ==>  Preparing: select * from type order by id desc
2022-04-06 09:20:08.698 DEBUG 12684 --- [http-nio-8086-exec-3] com.kwok.mapper.TypeMapper.listType      : ==> Parameters: 
2022-04-06 09:20:08.699 DEBUG 12684 --- [http-nio-8086-exec-3] com.kwok.mapper.TypeMapper.listType      : <==      Total: 6
2022-04-06 09:20:08.699 DEBUG 12684 --- [http-nio-8086-exec-3] com.kwok.mapper.TagMapper.listTag        : ==>  Preparing: select * from tag order by id desc
2022-04-06 09:20:08.700 DEBUG 12684 --- [http-nio-8086-exec-3] com.kwok.mapper.TagMapper.listTag        : ==> Parameters: 
2022-04-06 09:20:08.700 DEBUG 12684 --- [http-nio-8086-exec-3] com.kwok.mapper.TagMapper.listTag        : <==      Total: 14
2022-04-06 09:21:29.893 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.BlogMapper.getLastBlog   : ==>  Preparing: select * from blog order by id desc limit 1
2022-04-06 09:21:29.893 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.BlogMapper.getLastBlog   : ==> Parameters: 
2022-04-06 09:21:29.895 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.BlogMapper.getLastBlog   : <==      Total: 1
2022-04-06 09:21:29.896 DEBUG 12684 --- [http-nio-8086-exec-1] c.k.mapper.BlogtagMapper.getLastBlogtag  : ==>  Preparing: select * from blog_tag order by id desc limit 1
2022-04-06 09:21:29.896 DEBUG 12684 --- [http-nio-8086-exec-1] c.k.mapper.BlogtagMapper.getLastBlogtag  : ==> Parameters: 
2022-04-06 09:21:29.897 DEBUG 12684 --- [http-nio-8086-exec-1] c.k.mapper.BlogtagMapper.getLastBlogtag  : <==      Total: 1
2022-04-06 09:21:29.898 DEBUG 12684 --- [http-nio-8086-exec-1] c.kwok.mapper.BlogtagMapper.saveBlogtag  : ==>  Preparing: insert into blog_tag (id, blog_id, tag_id) values (?, ?,?)
2022-04-06 09:21:29.898 DEBUG 12684 --- [http-nio-8086-exec-1] c.kwok.mapper.BlogtagMapper.saveBlogtag  : ==> Parameters: 195(Integer), 82(Integer), 11(Integer)
2022-04-06 09:21:29.899 DEBUG 12684 --- [http-nio-8086-exec-1] c.kwok.mapper.BlogtagMapper.saveBlogtag  : <==    Updates: 1
2022-04-06 09:21:29.900 DEBUG 12684 --- [http-nio-8086-exec-1] c.k.mapper.BlogtagMapper.getLastBlogtag  : ==>  Preparing: select * from blog_tag order by id desc limit 1
2022-04-06 09:21:29.900 DEBUG 12684 --- [http-nio-8086-exec-1] c.k.mapper.BlogtagMapper.getLastBlogtag  : ==> Parameters: 
2022-04-06 09:21:29.900 DEBUG 12684 --- [http-nio-8086-exec-1] c.k.mapper.BlogtagMapper.getLastBlogtag  : <==      Total: 1
2022-04-06 09:21:29.901 DEBUG 12684 --- [http-nio-8086-exec-1] c.kwok.mapper.BlogtagMapper.saveBlogtag  : ==>  Preparing: insert into blog_tag (id, blog_id, tag_id) values (?, ?,?)
2022-04-06 09:21:29.901 DEBUG 12684 --- [http-nio-8086-exec-1] c.kwok.mapper.BlogtagMapper.saveBlogtag  : ==> Parameters: 196(Integer), 82(Integer), 2(Integer)
2022-04-06 09:21:29.902 DEBUG 12684 --- [http-nio-8086-exec-1] c.kwok.mapper.BlogtagMapper.saveBlogtag  : <==    Updates: 1
2022-04-06 09:21:29.902 DEBUG 12684 --- [http-nio-8086-exec-1] c.k.mapper.BlogtagMapper.getLastBlogtag  : ==>  Preparing: select * from blog_tag order by id desc limit 1
2022-04-06 09:21:29.902 DEBUG 12684 --- [http-nio-8086-exec-1] c.k.mapper.BlogtagMapper.getLastBlogtag  : ==> Parameters: 
2022-04-06 09:21:29.903 DEBUG 12684 --- [http-nio-8086-exec-1] c.k.mapper.BlogtagMapper.getLastBlogtag  : <==      Total: 1
2022-04-06 09:21:29.903 DEBUG 12684 --- [http-nio-8086-exec-1] c.kwok.mapper.BlogtagMapper.saveBlogtag  : ==>  Preparing: insert into blog_tag (id, blog_id, tag_id) values (?, ?,?)
2022-04-06 09:21:29.903 DEBUG 12684 --- [http-nio-8086-exec-1] c.kwok.mapper.BlogtagMapper.saveBlogtag  : ==> Parameters: 197(Integer), 82(Integer), 4(Integer)
2022-04-06 09:21:29.904 DEBUG 12684 --- [http-nio-8086-exec-1] c.kwok.mapper.BlogtagMapper.saveBlogtag  : <==    Updates: 1
2022-04-06 09:21:29.904 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.BlogMapper.saveBlog      : ==>  Preparing: insert into blog (id, title,description, content, first_picture, flag, views, appreciation, share_statement, commentabled, published, recommend, create_time, update_time, type_id, user_id) values (?,?,?,?,?,?, ?,?,?,?, ?,?,?,?,?,?)
2022-04-06 09:21:29.908 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.BlogMapper.saveBlog      : ==> Parameters: 82(Integer), SpringBoot-Dubbo和Zookeeper集成(String), 什么是分布式系统？在《分布式系统原理与范型》一书中有如下定义：“分布式系统是若干独立计算机的集合，这些计算机对于用户来说就像单个相关系统”；分布式系统是由一组通过网络进行通信、为了完成共同的任务而协调工作的计算机节点组成的系统(String), # 什么是分布式系统？

&emsp;&emsp;在《分布式系统原理与范型》一书中有如下定义：“分布式系统是若干独立计算机的集合，这些计算机对于用户来说就像单个相关系统”；

&emsp;&emsp;分布式系统是由一组通过网络进行通信、为了完成共同的任务而协调工作的计算机节点组成的系统。分布式系统的出现是为了用廉价的、普通的机器完成单个计算机无法完成的计算、存储任务。其目的是**利用更多的机器，处理更多的数据**。

&emsp;&emsp;分布式系统（distributed system）是建立在网络之上的软件系统。

&emsp;&emsp;首先需要明确的是，只有当单个节点的处理能力无法满足日益增长的计算、存储任务的时候，且硬件的提升（加内存、加磁盘、使用更好的CPU）高昂到得不偿失的时候，应用程序也不能进一步优化的时候，我们才需要考虑分布式系统。因为，分布式系统要解决的问题本身就是和单机系统一样的，而由于分布式系统多节点、通过网络通信的拓扑结构，会引入很多单机系统没有的问题，为了解决这些问题又会引入更多的机制、协议，带来更多的问题。

## Dubbo文档

&emsp;&emsp;随着互联网的发展，网站应用的规模不断扩大，常规的垂直应用架构已无法应对，分布式服务架构以及流动计算架构势在必行，急需**一个治理系统**确保架构有条不紊的演进。

&emsp;&emsp;在Dubbo的官网文档有这样一张图

![img](https://img-blog.csdnimg.cn/img_convert/298fcaae9679843bf52cfe20ee3ec2bf.png)

## 单一应用架构

&emsp;&emsp;当网站流量很小时，只需一个应用，将所有功能都部署在一起，以减少部署节点和成本。此时，用于简化增删改查工作量的数据访问框架(ORM)是关键。

![img](https://img-blog.csdnimg.cn/img_convert/38de0c4ce31b609dca86cb9bbb5814ed.png)

&emsp;&emsp;适用于小型网站，小型管理系统，将所有功能都部署到一个功能里，简单易用。

**缺点：**

1、性能扩展比较难

2、协同开发问题

3、不利于升级维护

## 垂直应用架构

&emsp;&emsp;当访问量逐渐增大，单一应用增加机器带来的加速度越来越小，将应用拆成互不相干的几个应用，以提升效率。此时，用于加速前端页面开发的Web框架(MVC)是关键。

![img](https://img-blog.csdnimg.cn/img_convert/de8eda3538ceb9ecbe3a0eb578f34782.png)

&emsp;&emsp;通过切分业务来实现各个模块独立部署，降低了维护和部署的难度，团队各司其职更易管理，性能扩展也更方便，更有针对性。

**缺点**：公用模块无法重复利用，开发性的浪费

## 分布式服务架构

&emsp;&emsp;当垂直应用越来越多，应用之间交互不可避免，将核心业务抽取出来，作为独立的服务，逐渐形成稳定的服务中心，使前端应用能更快速的响应多变的市场需求。此时，用于提高业务复用及整合的**分布式服务框架(RPC)**是关键。

![img](https://img-blog.csdnimg.cn/img_convert/fc2e2737e8c6aa2c4c9fdbaa3c36c35b.png)

## 流动计算架构

&emsp;&emsp;当服务越来越多，容量的评估，小服务资源的浪费等问题逐渐显现，此时需增加一个调度中心基于访问压力实时管理集群容量，提高集群利用率。此时，用于**提高机器利用率的资源调度和治理中心**(SOA)[ Service Oriented Architecture]是关键。

![img](https://img-blog.csdnimg.cn/img_convert/5ef7751d9f52094edcdfe42fae22f5f9.png)

# 什么是RPC

&emsp;&emsp;RPC【Remote Procedure Call】是指远程过程调用，是一种进程间通信方式，他是一种技术的思想，而不是规范。它允许程序调用另一个地址空间（通常是共享网络的另一台机器上）的过程或函数，而不用程序员显式编码这个远程调用的细节。即程序员无论是调用本地的还是远程的函数，本质上编写的调用代码基本相同。

&emsp;&emsp;也就是说两台服务器A，B，一个应用部署在A服务器上，想要调用B服务器上应用提供的函数/方法，由于不在一个内存空间，不能直接调用，需要通过网络来表达调用的语义和传达调用的数据。为什么要用RPC呢？就是无法在一个进程内，甚至一个计算机内通过本地调用的方式完成的需求，比如不同的系统间的通讯，甚至不同的组织间的通讯，由于计算能力需要横向扩展，需要在多台机器组成的集群上部署应用。RPC就是要像调用本地的函数一样去调远程函数；

推荐阅读文章：[https://www.jianshu.com/p/2accc2840a1b](https://www.jianshu.com/p/2accc2840a1b)

**RPC基本原理**

![img](https://img-blog.csdnimg.cn/img_convert/b635528a86a5a8ac4106b55b20c76e95.png)

**步骤解析：**

![img](https://img-blog.csdnimg.cn/img_convert/1431378a4580c845871e7bf8b8df5a99.png)

**RPC两个核心模块**：通讯，序列化。


# 测试环境搭建

## Dubbo

&emsp;&emsp;Apache Dubbo |ˈdʌbəʊ| 是一款高性能、轻量级的开源Java RPC框架，它提供了三大核心能力：面向接口的远程方法调用，智能容错和负载均衡，以及服务自动注册和发现。

dubbo官网 [http://dubbo.apache.org/zh-cn/index.html]( http://dubbo.apache.org/zh-cn/index.html)

1.了解Dubbo的特性

2.查看官方文档

#### dubbo基本概念

![img](https://img-blog.csdnimg.cn/img_convert/fe89ef00bb0d3eb65b56836f93fed56b.png)

**服务提供者**（Provider）：暴露服务的服务提供方，服务提供者在启动时，向注册中心注册自己提供的服务。

**服务消费者**（Consumer）：调用远程服务的服务消费方，服务消费者在启动时，向注册中心订阅自己所需的服务，服务消费者，从提供者地址列表中，基于软负载均衡算法，选一台提供者进行调用，如果调用失败，再选另一台调用。

**注册中心**（Registry）：注册中心返回服务提供者地址列表给消费者，如果有变更，注册中心将基于长连接推送变更数据给消费者

**监控中心**（Monitor）：服务消费者和提供者，在内存中累计调用次数和调用时间，定时每分钟发送一次统计数据到监控中心

**调用关系说明**

l 服务容器负责启动，加载，运行服务提供者。

l 服务提供者在启动时，向注册中心注册自己提供的服务。

l 服务消费者在启动时，向注册中心订阅自己所需的服务。

l 注册中心返回服务提供者地址列表给消费者，如果有变更，注册中心将基于长连接推送变更数据给消费者。

l 服务消费者，从提供者地址列表中，基于软负载均衡算法，选一台提供者进行调用，如果调用失败，再选另一台调用。

l 服务消费者和提供者，在内存中累计调用次数和调用时间，定时每分钟发送一次统计数据到监控中心。

## Dubbo环境搭建

点进dubbo官方文档，推荐我们使用Zookeeper 注册中心

什么是zookeeper呢？可以查看官方文档

## Window下安装zookeeper

1、下载zookeeper ：地址， 我们下载3.4.14 ， 最新版！解压zookeeper

2、运行/bin/zkServer.cmd ，初次运行会报错，没有zoo.cfg配置文件；

可能遇到问题：闪退 !

**解决方案**：编辑zkServer.cmd文件末尾添加pause 。这样运行出错就不会退出，会提示错误信息，方便找到原因。

![img](https://img-blog.csdnimg.cn/img_convert/c4ff4b56598c8969fa569df0654b8789.png)

![img](https://img-blog.csdnimg.cn/img_convert/c6b44bce60c5fab58ad363328110bcaf.png)

3、修改zoo.cfg配置文件

将conf文件夹下面的zoo_sample.cfg复制一份改名为zoo.cfg即可。

注意几个重要位置：

dataDir=./   临时数据存储的目录（可写相对路径）

clientPort=2181   zookeeper的端口号

修改完成后再次启动zookeeper

![img](https://img-blog.csdnimg.cn/img_convert/53440ad3de4b64346970fedc63b0fb33.png)

4、使用zkCli.cmd测试

ls /：列出zookeeper根下保存的所有节点

```bash
[zk: 127.0.0.1:2181(CONNECTED) 4] ls /
[zookeeper]
```

create –e /kuangshen 123：创建一个kuangshen节点，值为123

![img](https://img-blog.csdnimg.cn/img_convert/9f5d272de7a8ea8272e89430f05d6d10.png)

get /kuangshen：获取/kuangshen节点的值

![img](https://img-blog.csdnimg.cn/img_convert/6a9aa64245d6e5f17d045ecee0935694.png)

我们再来查看一下节点

![img](https://img-blog.csdnimg.cn/img_convert/26f9bc97da9e21002efcf9bb64e548a5.png)

## window下安装dubbo-admin

&emsp;&emsp;dubbo本身并不是一个服务软件。它其实就是一个jar包，能够帮你的java程序连接到zookeeper，并利用zookeeper消费、提供服务。

&emsp;&emsp;但是为了让用户更好的管理监控众多的dubbo服务，官方提供了一个可视化的监控程序dubbo-admin，不过这个监控即使不装也不影响使用。

我们这里来安装一下：

**1、下载dubbo-admin**

地址 ：[https://github.com/apache/dubbo-admin/tree/master](https://github.com/apache/dubbo-admin/tree/master)

**2、解压进入目录**

修改 dubbo-admin\src\main\resources \application.properties 指定zookeeper地址

```bash
server.port=7001
spring.velocity.cache=false
spring.velocity.charset=UTF-8
spring.velocity.layout-url=/templates/default.vm
spring.messages.fallback-to-system-locale=false
spring.messages.basename=i18n/message
spring.root.password=root
spring.guest.password=guest

dubbo.registry.address=zookeeper://127.0.0.1:2181
```

**3、在项目目录下**打包dubbo-admin

```bash
mvn clean package -Dmaven.test.skip=true
```

**第一次打包的过程有点慢，需要耐心等待！直到成功！**

![img](https://img-blog.csdnimg.cn/img_convert/dd11b3b9aa36d523db3de8ce56a11a25.png)

4、执行 dubbo-admin\target 下的dubbo-admin-0.0.1-SNAPSHOT.jar

```bash
java -jar dubbo-admin-0.0.1-SNAPSHOT.jar
```

【注意：zookeeper的服务一定要打开！】

&emsp;&emsp;执行完毕，我们去访问一下 [http://localhost:7001/]( http://localhost:7001/) ， 这时候我们需要输入登录账户和密码，我们都是默认的root-root；

登录成功后，查看界面

![img](https://img-blog.csdnimg.cn/img_convert/571af3f236118bb43cd77cfc1b57b663.png)

安装完成！

# SpringBoot + Dubbo + zookeeper

## 框架搭建

**1. 启动zookeeper ！**

**2. IDEA创建一个空项目；**

**3.创建一个模块，实现服务提供者：provider-server ， 选择web依赖即可**

**4.项目创建完毕，我们写一个服务，比如卖票的服务；**

编写接口

```java
package com.kuang.provider.service;

public interface TicketService {
   public String getTicket();
}
```

编写实现类

```java
package com.kuang.provider.service;

public class TicketServiceImpl implements TicketService {
   @Override
   public String getTicket() {
       return "《狂神说Java》";
  }
}
```

**5.创建一个模块，实现服务消费者：consumer-server ， 选择web依赖即可**

**6.项目创建完毕，我们写一个服务，比如用户的服务；**

编写service

```java
package com.kuang.consumer.service;

public class UserService {
   //我们需要去拿去注册中心的服务
}
```

**需求：现在我们的用户想使用买票的服务，这要怎么弄呢 ？**

## 服务提供者

**1、将服务提供者注册到注册中心，我们需要整合Dubbo和zookeeper，所以需要导包**

**我们从dubbo官网进入github，看下方的帮助文档，找到dubbo-springboot，找到依赖包**

```xml
<!-- Dubbo Spring Boot Starter -->
<dependency>
   <groupId>org.apache.dubbo</groupId>
   <artifactId>dubbo-spring-boot-starter</artifactId>
   <version>2.7.3</version>
</dependency>   
```

**zookeeper的包我们去maven仓库下载，zkclient；**

```xml
<!-- https://mvnrepository.com/artifact/com.github.sgroschupf/zkclient -->
<dependency>
   <groupId>com.github.sgroschupf</groupId>
   <artifactId>zkclient</artifactId>
   <version>0.1</version>
</dependency>
```

**【新版的坑】zookeeper及其依赖包，解决日志冲突，还需要剔除日志依赖；**

```xml
<!-- 引入zookeeper -->
<dependency>
   <groupId>org.apache.curator</groupId>
   <artifactId>curator-framework</artifactId>
   <version>2.12.0</version>
</dependency>
<dependency>
   <groupId>org.apache.curator</groupId>
   <artifactId>curator-recipes</artifactId>
   <version>2.12.0</version>
</dependency>
<dependency>
   <groupId>org.apache.zookeeper</groupId>
   <artifactId>zookeeper</artifactId>
   <version>3.4.14</version>
   <!--排除这个slf4j-log4j12-->
   <exclusions>
       <exclusion>
           <groupId>org.slf4j</groupId>
           <artifactId>slf4j-log4j12</artifactId>
       </exclusion>
   </exclusions>
</dependency>
```

**2、在springboot配置文件中配置dubbo相关属性！**

```bash
#当前应用名字
dubbo.application.name=provider-server
#注册中心地址
dubbo.registry.address=zookeeper://127.0.0.1:2181
#扫描指定包下服务
dubbo.scan.base-packages=com.kuang.provider.service
```

**3、在service的实现类中配置服务注解，发布服务！注意导包问题**

```java
import org.apache.dubbo.config.annotation.Service;
import org.springframework.stereotype.Component;

@Service //将服务发布出去
@Component //放在容器中
public class TicketServiceImpl implements TicketService {
   @Override
   public String getTicket() {
       return "《狂神说Java》";
  }
}
```

**逻辑理解 ：应用启动起来，dubbo就会扫描指定的包下带有@component注解的服务，将它发布在指定的注册中心中！**

## 服务消费者

**1、导入依赖，和之前的依赖一样；**

```xml
<!--dubbo-->
<!-- Dubbo Spring Boot Starter -->
<dependency>
   <groupId>org.apache.dubbo</groupId>
   <artifactId>dubbo-spring-boot-starter</artifactId>
   <version>2.7.3</version>
</dependency>
<!--zookeeper-->
<!-- https://mvnrepository.com/artifact/com.github.sgroschupf/zkclient -->
<dependency>
   <groupId>com.github.sgroschupf</groupId>
   <artifactId>zkclient</artifactId>
   <version>0.1</version>
</dependency>
<!-- 引入zookeeper -->
<dependency>
   <groupId>org.apache.curator</groupId>
   <artifactId>curator-framework</artifactId>
   <version>2.12.0</version>
</dependency>
<dependency>
   <groupId>org.apache.curator</groupId>
   <artifactId>curator-recipes</artifactId>
   <version>2.12.0</version>
</dependency>
<dependency>
   <groupId>org.apache.zookeeper</groupId>
   <artifactId>zookeeper</artifactId>
   <version>3.4.14</version>
   <!--排除这个slf4j-log4j12-->
   <exclusions>
       <exclusion>
           <groupId>org.slf4j</groupId>
           <artifactId>slf4j-log4j12</artifactId>
       </exclusion>
   </exclusions>
</dependency>
```

2、**配置参数**

```bash
#当前应用名字
dubbo.application.name=consumer-server
#注册中心地址
dubbo.registry.address=zookeeper://127.0.0.1:2181
```

**3. 本来正常步骤是需要将服务提供者的接口打包，然后用pom文件导入，我们这里使用简单的方式，直接将服务的接口拿过来，路径必须保证正确，即和服务提供者相同；**

![img](https://img-blog.csdnimg.cn/img_convert/592ec74d015300c1a9f9470c483e100c.png)

**4. 完善消费者的服务类**

```java
package com.kuang.consumer.service;

import com.kuang.provider.service.TicketService;
import org.apache.dubbo.config.annotation.Reference;
import org.springframework.stereotype.Service;

@Service //注入到容器中
public class UserService {

   @Reference //远程引用指定的服务，他会按照全类名进行匹配，看谁给注册中心注册了这个全类名
   TicketService ticketService;

   public void bugTicket(){
       String ticket = ticketService.getTicket();
       System.out.println("在注册中心买到"+ticket);
  }

}
```

**5. 测试类编写；**

```java
@RunWith(SpringRunner.class)
@SpringBootTest
public class ConsumerServerApplicationTests {

   @Autowired
   UserService userService;

   @Test
   public void contextLoads() {

       userService.bugTicket();

  }

}
```

## 启动测试

**1. 开启zookeeper**

**2. 打开dubbo-admin实现监控【可以不用做】**

**3. 开启服务者**

**4. 消费者消费测试，结果：**

![img](https://img-blog.csdnimg.cn/img_convert/59a9855df6c9e5b1e0295b45313633d1.png)

**监控中心 ：**

![img](https://img-blog.csdnimg.cn/img_convert/ed7d9eec4227aa36493ca27d44e1c024.png)

**ok , 这就是SpingBoot + dubbo + zookeeper实现分布式开发的应用，其实就是一个服务拆分的思想；**(String), http://110.42.213.171:8080/blogimgs/82.png(String), 转载(String), 0(Integer), true(Boolean), true(Boolean), true(Boolean), true(Boolean), false(Boolean), 2022-04-06 09:21:29.896(Timestamp), 2022-04-06 09:21:29.896(Timestamp), 6(Integer), 1(Integer)
2022-04-06 09:21:29.912 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.BlogMapper.saveBlog      : <==    Updates: 1
2022-04-06 09:21:29.930 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.BlogMapper.getBlogCount  : ==>  Preparing: select count(1) as count from blog
2022-04-06 09:21:29.930 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.BlogMapper.getBlogCount  : ==> Parameters: 
2022-04-06 09:21:29.932 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.BlogMapper.getBlogCount  : <==      Total: 1
2022-04-06 09:21:29.932 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.BlogMapper.getBlogList   : ==>  Preparing: select b.*,t.name as typeName from blog b,type t where b.type_id=t.id order by b.id desc limit ?,?
2022-04-06 09:21:29.932 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.BlogMapper.getBlogList   : ==> Parameters: 0(Integer), 5(Integer)
2022-04-06 09:21:29.936 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.BlogMapper.getBlogList   : <==      Total: 5
2022-04-06 09:21:29.936 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.BlogMapper.getBlogById   : ==>  Preparing: select * from blog where id = ?
2022-04-06 09:21:29.937 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.BlogMapper.getBlogById   : ==> Parameters: 83(Integer)
2022-04-06 09:21:29.937 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.BlogMapper.getBlogById   : <==      Total: 0
2022-04-06 09:21:29.938 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.BlogMapper.getBlogById   : ==>  Preparing: select * from blog where id = ?
2022-04-06 09:21:29.938 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.BlogMapper.getBlogById   : ==> Parameters: 77(Integer)
2022-04-06 09:21:29.941 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.BlogMapper.getBlogById   : <==      Total: 1
2022-04-06 09:21:29.941 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.TypeMapper.listType      : ==>  Preparing: select * from type order by id desc
2022-04-06 09:21:29.941 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.TypeMapper.listType      : ==> Parameters: 
2022-04-06 09:21:29.942 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.TypeMapper.listType      : <==      Total: 6
2022-04-06 09:21:31.557 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.BlogMapper.getBlogCount  : ==>  Preparing: select count(1) as count from blog
2022-04-06 09:21:31.557 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.BlogMapper.getBlogCount  : ==> Parameters: 
2022-04-06 09:21:31.559 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.BlogMapper.getBlogCount  : <==      Total: 1
2022-04-06 09:21:31.559 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.BlogMapper.getBlogList   : ==>  Preparing: select b.*,t.name as typeName from blog b,type t where b.type_id=t.id order by b.id desc limit ?,?
2022-04-06 09:21:31.559 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.BlogMapper.getBlogList   : ==> Parameters: 0(Integer), 5(Integer)
2022-04-06 09:21:31.564 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.BlogMapper.getBlogList   : <==      Total: 5
2022-04-06 09:21:31.564 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.BlogMapper.getBlogById   : ==>  Preparing: select * from blog where id = ?
2022-04-06 09:21:31.565 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.BlogMapper.getBlogById   : ==> Parameters: 83(Integer)
2022-04-06 09:21:31.565 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.BlogMapper.getBlogById   : <==      Total: 0
2022-04-06 09:21:31.566 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.BlogMapper.getBlogById   : ==>  Preparing: select * from blog where id = ?
2022-04-06 09:21:31.566 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.BlogMapper.getBlogById   : ==> Parameters: 77(Integer)
2022-04-06 09:21:31.567 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.BlogMapper.getBlogById   : <==      Total: 1
2022-04-06 09:21:31.568 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.TypeMapper.listType      : ==>  Preparing: select * from type order by id desc
2022-04-06 09:21:31.568 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.TypeMapper.listType      : ==> Parameters: 
2022-04-06 09:21:31.569 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.TypeMapper.listType      : <==      Total: 6
2022-04-06 09:21:33.004  INFO 12684 --- [http-nio-8086-exec-7] com.kwok.aspect.LogAspect                : Request : {url='http://localhost:8086/index', ip='0:0:0:0:0:0:0:1', classMethod='com.kwok.controller.IndexController.index', args=[org.apache.catalina.connector.RequestFacade@7b4c3c2a, org.apache.catalina.connector.ResponseFacade@4167aeee, {}]}
2022-04-06 09:21:33.004 DEBUG 12684 --- [http-nio-8086-exec-7] com.kwok.mapper.BlogMapper.getBlogCount  : ==>  Preparing: select count(1) as count from blog
2022-04-06 09:21:33.005 DEBUG 12684 --- [http-nio-8086-exec-7] com.kwok.mapper.BlogMapper.getBlogCount  : ==> Parameters: 
2022-04-06 09:21:33.006 DEBUG 12684 --- [http-nio-8086-exec-7] com.kwok.mapper.BlogMapper.getBlogCount  : <==      Total: 1
2022-04-06 09:21:33.007 DEBUG 12684 --- [http-nio-8086-exec-7] com.kwok.mapper.BlogMapper.getBlogList   : ==>  Preparing: select b.*,t.name as typeName from blog b,type t where b.type_id=t.id order by b.id desc limit ?,?
2022-04-06 09:21:33.007 DEBUG 12684 --- [http-nio-8086-exec-7] com.kwok.mapper.BlogMapper.getBlogList   : ==> Parameters: 0(Integer), 5(Integer)
2022-04-06 09:21:33.011 DEBUG 12684 --- [http-nio-8086-exec-7] com.kwok.mapper.BlogMapper.getBlogList   : <==      Total: 5
2022-04-06 09:21:33.012 DEBUG 12684 --- [http-nio-8086-exec-7] com.kwok.mapper.BlogMapper.getBlogById   : ==>  Preparing: select * from blog where id = ?
2022-04-06 09:21:33.012 DEBUG 12684 --- [http-nio-8086-exec-7] com.kwok.mapper.BlogMapper.getBlogById   : ==> Parameters: 83(Integer)
2022-04-06 09:21:33.013 DEBUG 12684 --- [http-nio-8086-exec-7] com.kwok.mapper.BlogMapper.getBlogById   : <==      Total: 0
2022-04-06 09:21:33.013 DEBUG 12684 --- [http-nio-8086-exec-7] com.kwok.mapper.BlogMapper.getBlogById   : ==>  Preparing: select * from blog where id = ?
2022-04-06 09:21:33.013 DEBUG 12684 --- [http-nio-8086-exec-7] com.kwok.mapper.BlogMapper.getBlogById   : ==> Parameters: 77(Integer)
2022-04-06 09:21:33.015 DEBUG 12684 --- [http-nio-8086-exec-7] com.kwok.mapper.BlogMapper.getBlogById   : <==      Total: 1
2022-04-06 09:21:33.016 DEBUG 12684 --- [http-nio-8086-exec-7] com.kwok.mapper.TagMapper.listTopTag     : ==>  Preparing: select tag.id,tag.name,tn.num from tag,(select tag_id,count(*) as num from blog_tag group by tag_id order by num desc) as tn where tag.id = tn.tag_id
2022-04-06 09:21:33.016 DEBUG 12684 --- [http-nio-8086-exec-7] com.kwok.mapper.TagMapper.listTopTag     : ==> Parameters: 
2022-04-06 09:21:33.017 DEBUG 12684 --- [http-nio-8086-exec-7] com.kwok.mapper.TagMapper.listTopTag     : <==      Total: 10
2022-04-06 09:21:33.017 DEBUG 12684 --- [http-nio-8086-exec-7] com.kwok.mapper.TypeMapper.listTopType   : ==>  Preparing: select type.id,type.name,tn.num from type,(select type_id,count(*) as num from blog group by type_id order by num desc) as tn where type.id = tn.type_id
2022-04-06 09:21:33.017 DEBUG 12684 --- [http-nio-8086-exec-7] com.kwok.mapper.TypeMapper.listTopType   : ==> Parameters: 
2022-04-06 09:21:33.018 DEBUG 12684 --- [http-nio-8086-exec-7] com.kwok.mapper.TypeMapper.listTopType   : <==      Total: 4
2022-04-06 09:21:33.019 DEBUG 12684 --- [http-nio-8086-exec-7] c.k.m.BlogMapper.listTopRecommendBlog    : ==>  Preparing: select * from blog where recommend = 1 order by update_time desc
2022-04-06 09:21:33.019 DEBUG 12684 --- [http-nio-8086-exec-7] c.k.m.BlogMapper.listTopRecommendBlog    : ==> Parameters: 
2022-04-06 09:21:33.022 DEBUG 12684 --- [http-nio-8086-exec-7] c.k.m.BlogMapper.listTopRecommendBlog    : <==      Total: 2
2022-04-06 09:21:33.023  INFO 12684 --- [http-nio-8086-exec-7] com.kwok.aspect.LogAspect                : Result : index
2022-04-06 09:21:41.314  INFO 12684 --- [http-nio-8086-exec-8] com.kwok.aspect.LogAspect                : Request : {url='http://localhost:8086/blog/82', ip='0:0:0:0:0:0:0:1', classMethod='com.kwok.controller.IndexController.blog', args=[82, {}]}
2022-04-06 09:21:41.316 DEBUG 12684 --- [http-nio-8086-exec-8] com.kwok.mapper.BlogMapper.getBlogById   : ==>  Preparing: select * from blog where id = ?
2022-04-06 09:21:41.316 DEBUG 12684 --- [http-nio-8086-exec-8] com.kwok.mapper.BlogMapper.getBlogById   : ==> Parameters: 82(Integer)
2022-04-06 09:21:41.317 DEBUG 12684 --- [http-nio-8086-exec-8] com.kwok.mapper.BlogMapper.getBlogById   : <==      Total: 1
2022-04-06 09:21:41.318 DEBUG 12684 --- [http-nio-8086-exec-8] c.k.mapper.BlogMapper.updateBlogViews    : ==>  Preparing: update blog set views=? where id = ?
2022-04-06 09:21:41.318 DEBUG 12684 --- [http-nio-8086-exec-8] c.k.mapper.BlogMapper.updateBlogViews    : ==> Parameters: 1(Integer), 82(Integer)
2022-04-06 09:21:41.320 DEBUG 12684 --- [http-nio-8086-exec-8] c.k.mapper.BlogMapper.updateBlogViews    : <==    Updates: 1
2022-04-06 09:21:41.324 DEBUG 12684 --- [http-nio-8086-exec-8] com.kwok.mapper.BlogMapper.getBlogById   : ==>  Preparing: select * from blog where id = ?
2022-04-06 09:21:41.324 DEBUG 12684 --- [http-nio-8086-exec-8] com.kwok.mapper.BlogMapper.getBlogById   : ==> Parameters: 82(Integer)
2022-04-06 09:21:41.326 DEBUG 12684 --- [http-nio-8086-exec-8] com.kwok.mapper.BlogMapper.getBlogById   : <==      Total: 1
2022-04-06 09:21:41.360 DEBUG 12684 --- [http-nio-8086-exec-8] c.k.m.BlogtagMapper.getTagIdByBlogId     : ==>  Preparing: select * from blog_tag where blog_id = ?
2022-04-06 09:21:41.360 DEBUG 12684 --- [http-nio-8086-exec-8] c.k.m.BlogtagMapper.getTagIdByBlogId     : ==> Parameters: 82(Integer)
2022-04-06 09:21:41.361 DEBUG 12684 --- [http-nio-8086-exec-8] c.k.m.BlogtagMapper.getTagIdByBlogId     : <==      Total: 3
2022-04-06 09:21:41.372 DEBUG 12684 --- [http-nio-8086-exec-8] com.kwok.mapper.TagMapper.getShowTags    : ==>  Preparing: select * from tag where id in ( ? , ? , ? )
2022-04-06 09:21:41.372 DEBUG 12684 --- [http-nio-8086-exec-8] com.kwok.mapper.TagMapper.getShowTags    : ==> Parameters: 11(Integer), 2(Integer), 4(Integer)
2022-04-06 09:21:41.374 DEBUG 12684 --- [http-nio-8086-exec-8] com.kwok.mapper.TagMapper.getShowTags    : <==      Total: 3
2022-04-06 09:21:41.374  INFO 12684 --- [http-nio-8086-exec-8] com.kwok.aspect.LogAspect                : Result : blog
2022-04-06 09:21:41.986  INFO 12684 --- [http-nio-8086-exec-10] com.kwok.aspect.LogAspect                : Request : {url='http://localhost:8086/comments/82', ip='0:0:0:0:0:0:0:1', classMethod='com.kwok.controller.CommentController.comments', args=[82, {}]}
2022-04-06 09:21:41.990 DEBUG 12684 --- [http-nio-8086-exec-10] c.k.m.CommentMapper.listCommentByBlogId  : ==>  Preparing: select * from comment where blog_id = ? and parent_id = 0 order by creat_time asc
2022-04-06 09:21:41.991 DEBUG 12684 --- [http-nio-8086-exec-10] c.k.m.CommentMapper.listCommentByBlogId  : ==> Parameters: 82(Integer)
2022-04-06 09:21:41.998 DEBUG 12684 --- [http-nio-8086-exec-10] c.k.m.CommentMapper.listCommentByBlogId  : <==      Total: 0
2022-04-06 09:21:41.998  INFO 12684 --- [http-nio-8086-exec-10] com.kwok.aspect.LogAspect                : Result : blog :: commentList
2022-04-06 09:22:21.725 DEBUG 12684 --- [http-nio-8086-exec-8] com.kwok.mapper.BlogMapper.getBlogCount  : ==>  Preparing: select count(1) as count from blog
2022-04-06 09:22:21.726 DEBUG 12684 --- [http-nio-8086-exec-8] com.kwok.mapper.BlogMapper.getBlogCount  : ==> Parameters: 
2022-04-06 09:22:21.727 DEBUG 12684 --- [http-nio-8086-exec-8] com.kwok.mapper.BlogMapper.getBlogCount  : <==      Total: 1
2022-04-06 09:22:21.727 DEBUG 12684 --- [http-nio-8086-exec-8] com.kwok.mapper.BlogMapper.getBlogList   : ==>  Preparing: select b.*,t.name as typeName from blog b,type t where b.type_id=t.id order by b.id desc limit ?,?
2022-04-06 09:22:21.727 DEBUG 12684 --- [http-nio-8086-exec-8] com.kwok.mapper.BlogMapper.getBlogList   : ==> Parameters: 0(Integer), 5(Integer)
2022-04-06 09:22:21.731 DEBUG 12684 --- [http-nio-8086-exec-8] com.kwok.mapper.BlogMapper.getBlogList   : <==      Total: 5
2022-04-06 09:22:21.732 DEBUG 12684 --- [http-nio-8086-exec-8] com.kwok.mapper.BlogMapper.getBlogById   : ==>  Preparing: select * from blog where id = ?
2022-04-06 09:22:21.732 DEBUG 12684 --- [http-nio-8086-exec-8] com.kwok.mapper.BlogMapper.getBlogById   : ==> Parameters: 83(Integer)
2022-04-06 09:22:21.733 DEBUG 12684 --- [http-nio-8086-exec-8] com.kwok.mapper.BlogMapper.getBlogById   : <==      Total: 0
2022-04-06 09:22:21.733 DEBUG 12684 --- [http-nio-8086-exec-8] com.kwok.mapper.BlogMapper.getBlogById   : ==>  Preparing: select * from blog where id = ?
2022-04-06 09:22:21.733 DEBUG 12684 --- [http-nio-8086-exec-8] com.kwok.mapper.BlogMapper.getBlogById   : ==> Parameters: 77(Integer)
2022-04-06 09:22:21.735 DEBUG 12684 --- [http-nio-8086-exec-8] com.kwok.mapper.BlogMapper.getBlogById   : <==      Total: 1
2022-04-06 09:22:21.735 DEBUG 12684 --- [http-nio-8086-exec-8] com.kwok.mapper.TypeMapper.listType      : ==>  Preparing: select * from type order by id desc
2022-04-06 09:22:21.735 DEBUG 12684 --- [http-nio-8086-exec-8] com.kwok.mapper.TypeMapper.listType      : ==> Parameters: 
2022-04-06 09:22:21.736 DEBUG 12684 --- [http-nio-8086-exec-8] com.kwok.mapper.TypeMapper.listType      : <==      Total: 6
2022-04-06 09:22:22.907  INFO 12684 --- [http-nio-8086-exec-7] com.kwok.aspect.LogAspect                : Request : {url='http://localhost:8086/index', ip='0:0:0:0:0:0:0:1', classMethod='com.kwok.controller.IndexController.index', args=[org.apache.catalina.connector.RequestFacade@6d43fb79, org.apache.catalina.connector.ResponseFacade@638418a1, {}]}
2022-04-06 09:22:22.908 DEBUG 12684 --- [http-nio-8086-exec-7] com.kwok.mapper.BlogMapper.getBlogCount  : ==>  Preparing: select count(1) as count from blog
2022-04-06 09:22:22.908 DEBUG 12684 --- [http-nio-8086-exec-7] com.kwok.mapper.BlogMapper.getBlogCount  : ==> Parameters: 
2022-04-06 09:22:22.909 DEBUG 12684 --- [http-nio-8086-exec-7] com.kwok.mapper.BlogMapper.getBlogCount  : <==      Total: 1
2022-04-06 09:22:22.909 DEBUG 12684 --- [http-nio-8086-exec-7] com.kwok.mapper.BlogMapper.getBlogList   : ==>  Preparing: select b.*,t.name as typeName from blog b,type t where b.type_id=t.id order by b.id desc limit ?,?
2022-04-06 09:22:22.910 DEBUG 12684 --- [http-nio-8086-exec-7] com.kwok.mapper.BlogMapper.getBlogList   : ==> Parameters: 0(Integer), 5(Integer)
2022-04-06 09:22:22.913 DEBUG 12684 --- [http-nio-8086-exec-7] com.kwok.mapper.BlogMapper.getBlogList   : <==      Total: 5
2022-04-06 09:22:22.914 DEBUG 12684 --- [http-nio-8086-exec-7] com.kwok.mapper.BlogMapper.getBlogById   : ==>  Preparing: select * from blog where id = ?
2022-04-06 09:22:22.914 DEBUG 12684 --- [http-nio-8086-exec-7] com.kwok.mapper.BlogMapper.getBlogById   : ==> Parameters: 83(Integer)
2022-04-06 09:22:22.915 DEBUG 12684 --- [http-nio-8086-exec-7] com.kwok.mapper.BlogMapper.getBlogById   : <==      Total: 0
2022-04-06 09:22:22.915 DEBUG 12684 --- [http-nio-8086-exec-7] com.kwok.mapper.BlogMapper.getBlogById   : ==>  Preparing: select * from blog where id = ?
2022-04-06 09:22:22.915 DEBUG 12684 --- [http-nio-8086-exec-7] com.kwok.mapper.BlogMapper.getBlogById   : ==> Parameters: 77(Integer)
2022-04-06 09:22:22.916 DEBUG 12684 --- [http-nio-8086-exec-7] com.kwok.mapper.BlogMapper.getBlogById   : <==      Total: 1
2022-04-06 09:22:22.917 DEBUG 12684 --- [http-nio-8086-exec-7] com.kwok.mapper.TagMapper.listTopTag     : ==>  Preparing: select tag.id,tag.name,tn.num from tag,(select tag_id,count(*) as num from blog_tag group by tag_id order by num desc) as tn where tag.id = tn.tag_id
2022-04-06 09:22:22.917 DEBUG 12684 --- [http-nio-8086-exec-7] com.kwok.mapper.TagMapper.listTopTag     : ==> Parameters: 
2022-04-06 09:22:22.918 DEBUG 12684 --- [http-nio-8086-exec-7] com.kwok.mapper.TagMapper.listTopTag     : <==      Total: 10
2022-04-06 09:22:22.919 DEBUG 12684 --- [http-nio-8086-exec-7] com.kwok.mapper.TypeMapper.listTopType   : ==>  Preparing: select type.id,type.name,tn.num from type,(select type_id,count(*) as num from blog group by type_id order by num desc) as tn where type.id = tn.type_id
2022-04-06 09:22:22.919 DEBUG 12684 --- [http-nio-8086-exec-7] com.kwok.mapper.TypeMapper.listTopType   : ==> Parameters: 
2022-04-06 09:22:22.920 DEBUG 12684 --- [http-nio-8086-exec-7] com.kwok.mapper.TypeMapper.listTopType   : <==      Total: 4
2022-04-06 09:22:22.921 DEBUG 12684 --- [http-nio-8086-exec-7] c.k.m.BlogMapper.listTopRecommendBlog    : ==>  Preparing: select * from blog where recommend = 1 order by update_time desc
2022-04-06 09:22:22.921 DEBUG 12684 --- [http-nio-8086-exec-7] c.k.m.BlogMapper.listTopRecommendBlog    : ==> Parameters: 
2022-04-06 09:22:22.923 DEBUG 12684 --- [http-nio-8086-exec-7] c.k.m.BlogMapper.listTopRecommendBlog    : <==      Total: 2
2022-04-06 09:22:22.924  INFO 12684 --- [http-nio-8086-exec-7] com.kwok.aspect.LogAspect                : Result : index
2022-04-06 09:26:08.621 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.BlogMapper.getBlogCount  : ==>  Preparing: select count(1) as count from blog
2022-04-06 09:26:08.622 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.BlogMapper.getBlogCount  : ==> Parameters: 
2022-04-06 09:26:08.623 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.BlogMapper.getBlogCount  : <==      Total: 1
2022-04-06 09:26:08.623 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.BlogMapper.getBlogList   : ==>  Preparing: select b.*,t.name as typeName from blog b,type t where b.type_id=t.id order by b.id desc limit ?,?
2022-04-06 09:26:08.623 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.BlogMapper.getBlogList   : ==> Parameters: 0(Integer), 5(Integer)
2022-04-06 09:26:08.629 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.BlogMapper.getBlogList   : <==      Total: 5
2022-04-06 09:26:08.629 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.BlogMapper.getBlogById   : ==>  Preparing: select * from blog where id = ?
2022-04-06 09:26:08.629 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.BlogMapper.getBlogById   : ==> Parameters: 83(Integer)
2022-04-06 09:26:08.630 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.BlogMapper.getBlogById   : <==      Total: 0
2022-04-06 09:26:08.631 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.BlogMapper.getBlogById   : ==>  Preparing: select * from blog where id = ?
2022-04-06 09:26:08.631 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.BlogMapper.getBlogById   : ==> Parameters: 77(Integer)
2022-04-06 09:26:08.633 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.BlogMapper.getBlogById   : <==      Total: 1
2022-04-06 09:26:08.633 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.TypeMapper.listType      : ==>  Preparing: select * from type order by id desc
2022-04-06 09:26:08.633 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.TypeMapper.listType      : ==> Parameters: 
2022-04-06 09:26:08.634 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.TypeMapper.listType      : <==      Total: 6
2022-04-06 09:26:11.191 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.TypeMapper.getTypeCount  : ==>  Preparing: select count(1) as count from type
2022-04-06 09:26:11.191 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.TypeMapper.getTypeCount  : ==> Parameters: 
2022-04-06 09:26:11.192 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.TypeMapper.getTypeCount  : <==      Total: 1
2022-04-06 09:26:11.193 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.TypeMapper.getTypeList   : ==>  Preparing: select * from type order by id desc limit ?,?
2022-04-06 09:26:11.193 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.TypeMapper.getTypeList   : ==> Parameters: 0(Integer), 5(Integer)
2022-04-06 09:26:11.194 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.TypeMapper.getTypeList   : <==      Total: 5
2022-04-06 09:26:11.195 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.TypeMapper.getTypeById   : ==>  Preparing: select * from type where id = ?
2022-04-06 09:26:11.195 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.TypeMapper.getTypeById   : ==> Parameters: 7(Integer)
2022-04-06 09:26:11.195 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.TypeMapper.getTypeById   : <==      Total: 0
2022-04-06 09:26:11.196 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.TypeMapper.getTypeById   : ==>  Preparing: select * from type where id = ?
2022-04-06 09:26:11.196 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.TypeMapper.getTypeById   : ==> Parameters: 1(Integer)
2022-04-06 09:26:11.197 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.TypeMapper.getTypeById   : <==      Total: 1
2022-04-06 09:26:12.512 DEBUG 12684 --- [http-nio-8086-exec-4] com.kwok.mapper.TagMapper.getTagCount    : ==>  Preparing: select count(1) as count from tag
2022-04-06 09:26:12.513 DEBUG 12684 --- [http-nio-8086-exec-4] com.kwok.mapper.TagMapper.getTagCount    : ==> Parameters: 
2022-04-06 09:26:12.514 DEBUG 12684 --- [http-nio-8086-exec-4] com.kwok.mapper.TagMapper.getTagCount    : <==      Total: 1
2022-04-06 09:26:12.515 DEBUG 12684 --- [http-nio-8086-exec-4] com.kwok.mapper.TagMapper.getTagList     : ==>  Preparing: select * from tag order by id desc limit ?,?
2022-04-06 09:26:12.515 DEBUG 12684 --- [http-nio-8086-exec-4] com.kwok.mapper.TagMapper.getTagList     : ==> Parameters: 0(Integer), 5(Integer)
2022-04-06 09:26:12.516 DEBUG 12684 --- [http-nio-8086-exec-4] com.kwok.mapper.TagMapper.getTagList     : <==      Total: 5
2022-04-06 09:26:12.516 DEBUG 12684 --- [http-nio-8086-exec-4] com.kwok.mapper.TagMapper.getTagById     : ==>  Preparing: select * from tag where id = ?
2022-04-06 09:26:12.516 DEBUG 12684 --- [http-nio-8086-exec-4] com.kwok.mapper.TagMapper.getTagById     : ==> Parameters: 15(Integer)
2022-04-06 09:26:12.517 DEBUG 12684 --- [http-nio-8086-exec-4] com.kwok.mapper.TagMapper.getTagById     : <==      Total: 0
2022-04-06 09:26:12.518 DEBUG 12684 --- [http-nio-8086-exec-4] com.kwok.mapper.TagMapper.getTagById     : ==>  Preparing: select * from tag where id = ?
2022-04-06 09:26:12.518 DEBUG 12684 --- [http-nio-8086-exec-4] com.kwok.mapper.TagMapper.getTagById     : ==> Parameters: 9(Integer)
2022-04-06 09:26:12.519 DEBUG 12684 --- [http-nio-8086-exec-4] com.kwok.mapper.TagMapper.getTagById     : <==      Total: 1
2022-04-06 09:26:14.395 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.TagMapper.getTagCount    : ==>  Preparing: select count(1) as count from tag
2022-04-06 09:26:14.395 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.TagMapper.getTagCount    : ==> Parameters: 
2022-04-06 09:26:14.396 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.TagMapper.getTagCount    : <==      Total: 1
2022-04-06 09:26:14.396 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.TagMapper.getTagList     : ==>  Preparing: select * from tag order by id desc limit ?,?
2022-04-06 09:26:14.397 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.TagMapper.getTagList     : ==> Parameters: 5(Integer), 5(Integer)
2022-04-06 09:26:14.397 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.TagMapper.getTagList     : <==      Total: 5
2022-04-06 09:26:14.397 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.TagMapper.getTagById     : ==>  Preparing: select * from tag where id = ?
2022-04-06 09:26:14.398 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.TagMapper.getTagById     : ==> Parameters: 10(Integer)
2022-04-06 09:26:14.398 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.TagMapper.getTagById     : <==      Total: 1
2022-04-06 09:26:14.398 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.TagMapper.getTagById     : ==>  Preparing: select * from tag where id = ?
2022-04-06 09:26:14.399 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.TagMapper.getTagById     : ==> Parameters: 4(Integer)
2022-04-06 09:26:14.399 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.TagMapper.getTagById     : <==      Total: 1
2022-04-06 09:26:15.930 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.TagMapper.getTagCount    : ==>  Preparing: select count(1) as count from tag
2022-04-06 09:26:15.930 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.TagMapper.getTagCount    : ==> Parameters: 
2022-04-06 09:26:15.931 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.TagMapper.getTagCount    : <==      Total: 1
2022-04-06 09:26:15.931 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.TagMapper.getTagList     : ==>  Preparing: select * from tag order by id desc limit ?,?
2022-04-06 09:26:15.931 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.TagMapper.getTagList     : ==> Parameters: 10(Integer), 5(Integer)
2022-04-06 09:26:15.932 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.TagMapper.getTagList     : <==      Total: 4
2022-04-06 09:26:15.932 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.TagMapper.getTagById     : ==>  Preparing: select * from tag where id = ?
2022-04-06 09:26:15.932 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.TagMapper.getTagById     : ==> Parameters: 5(Integer)
2022-04-06 09:26:15.933 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.TagMapper.getTagById     : <==      Total: 1
2022-04-06 09:26:15.933 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.TagMapper.getTagById     : ==>  Preparing: select * from tag where id = ?
2022-04-06 09:26:15.933 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.TagMapper.getTagById     : ==> Parameters: 0(Integer)
2022-04-06 09:26:15.933 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.TagMapper.getTagById     : <==      Total: 0
2022-04-06 09:26:22.914 DEBUG 12684 --- [http-nio-8086-exec-5] com.kwok.mapper.TagMapper.getTagCount    : ==>  Preparing: select count(1) as count from tag
2022-04-06 09:26:22.914 DEBUG 12684 --- [http-nio-8086-exec-5] com.kwok.mapper.TagMapper.getTagCount    : ==> Parameters: 
2022-04-06 09:26:22.915 DEBUG 12684 --- [http-nio-8086-exec-5] com.kwok.mapper.TagMapper.getTagCount    : <==      Total: 1
2022-04-06 09:26:22.915 DEBUG 12684 --- [http-nio-8086-exec-5] com.kwok.mapper.TagMapper.getTagList     : ==>  Preparing: select * from tag order by id desc limit ?,?
2022-04-06 09:26:22.915 DEBUG 12684 --- [http-nio-8086-exec-5] com.kwok.mapper.TagMapper.getTagList     : ==> Parameters: 5(Integer), 5(Integer)
2022-04-06 09:26:22.916 DEBUG 12684 --- [http-nio-8086-exec-5] com.kwok.mapper.TagMapper.getTagList     : <==      Total: 5
2022-04-06 09:26:22.916 DEBUG 12684 --- [http-nio-8086-exec-5] com.kwok.mapper.TagMapper.getTagById     : ==>  Preparing: select * from tag where id = ?
2022-04-06 09:26:22.916 DEBUG 12684 --- [http-nio-8086-exec-5] com.kwok.mapper.TagMapper.getTagById     : ==> Parameters: 10(Integer)
2022-04-06 09:26:22.916 DEBUG 12684 --- [http-nio-8086-exec-5] com.kwok.mapper.TagMapper.getTagById     : <==      Total: 1
2022-04-06 09:26:22.917 DEBUG 12684 --- [http-nio-8086-exec-5] com.kwok.mapper.TagMapper.getTagById     : ==>  Preparing: select * from tag where id = ?
2022-04-06 09:26:22.917 DEBUG 12684 --- [http-nio-8086-exec-5] com.kwok.mapper.TagMapper.getTagById     : ==> Parameters: 4(Integer)
2022-04-06 09:26:22.917 DEBUG 12684 --- [http-nio-8086-exec-5] com.kwok.mapper.TagMapper.getTagById     : <==      Total: 1
2022-04-06 09:26:26.850 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.TagMapper.getTagCount    : ==>  Preparing: select count(1) as count from tag
2022-04-06 09:26:26.850 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.TagMapper.getTagCount    : ==> Parameters: 
2022-04-06 09:26:26.851 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.TagMapper.getTagCount    : <==      Total: 1
2022-04-06 09:26:26.851 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.TagMapper.getTagList     : ==>  Preparing: select * from tag order by id desc limit ?,?
2022-04-06 09:26:26.852 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.TagMapper.getTagList     : ==> Parameters: 0(Integer), 5(Integer)
2022-04-06 09:26:26.852 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.TagMapper.getTagList     : <==      Total: 5
2022-04-06 09:26:26.852 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.TagMapper.getTagById     : ==>  Preparing: select * from tag where id = ?
2022-04-06 09:26:26.853 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.TagMapper.getTagById     : ==> Parameters: 15(Integer)
2022-04-06 09:26:26.853 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.TagMapper.getTagById     : <==      Total: 0
2022-04-06 09:26:26.854 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.TagMapper.getTagById     : ==>  Preparing: select * from tag where id = ?
2022-04-06 09:26:26.854 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.TagMapper.getTagById     : ==> Parameters: 9(Integer)
2022-04-06 09:26:26.855 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.TagMapper.getTagById     : <==      Total: 1
2022-04-06 09:26:50.488 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.TagMapper.getTagByName   : ==>  Preparing: select * from tag where name = ?
2022-04-06 09:26:50.489 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.TagMapper.getTagByName   : ==> Parameters: SpringCloud(String)
2022-04-06 09:26:50.490 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.TagMapper.getTagByName   : <==      Total: 0
2022-04-06 09:26:50.490 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.TagMapper.getLastTag     : ==>  Preparing: select * from tag order by id desc limit 1
2022-04-06 09:26:50.490 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.TagMapper.getLastTag     : ==> Parameters: 
2022-04-06 09:26:50.491 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.TagMapper.getLastTag     : <==      Total: 1
2022-04-06 09:26:50.492 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.TagMapper.addTag         : ==>  Preparing: insert into tag (id, name) values (?,?)
2022-04-06 09:26:50.492 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.TagMapper.addTag         : ==> Parameters: 15(Integer), SpringCloud(String)
2022-04-06 09:26:50.493 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.TagMapper.addTag         : <==    Updates: 1
2022-04-06 09:26:50.498 DEBUG 12684 --- [http-nio-8086-exec-5] com.kwok.mapper.TagMapper.getTagCount    : ==>  Preparing: select count(1) as count from tag
2022-04-06 09:26:50.498 DEBUG 12684 --- [http-nio-8086-exec-5] com.kwok.mapper.TagMapper.getTagCount    : ==> Parameters: 
2022-04-06 09:26:50.499 DEBUG 12684 --- [http-nio-8086-exec-5] com.kwok.mapper.TagMapper.getTagCount    : <==      Total: 1
2022-04-06 09:26:50.499 DEBUG 12684 --- [http-nio-8086-exec-5] com.kwok.mapper.TagMapper.getTagList     : ==>  Preparing: select * from tag order by id desc limit ?,?
2022-04-06 09:26:50.500 DEBUG 12684 --- [http-nio-8086-exec-5] com.kwok.mapper.TagMapper.getTagList     : ==> Parameters: 0(Integer), 5(Integer)
2022-04-06 09:26:50.500 DEBUG 12684 --- [http-nio-8086-exec-5] com.kwok.mapper.TagMapper.getTagList     : <==      Total: 5
2022-04-06 09:26:50.501 DEBUG 12684 --- [http-nio-8086-exec-5] com.kwok.mapper.TagMapper.getTagById     : ==>  Preparing: select * from tag where id = ?
2022-04-06 09:26:50.501 DEBUG 12684 --- [http-nio-8086-exec-5] com.kwok.mapper.TagMapper.getTagById     : ==> Parameters: 16(Integer)
2022-04-06 09:26:50.501 DEBUG 12684 --- [http-nio-8086-exec-5] com.kwok.mapper.TagMapper.getTagById     : <==      Total: 0
2022-04-06 09:26:50.501 DEBUG 12684 --- [http-nio-8086-exec-5] com.kwok.mapper.TagMapper.getTagById     : ==>  Preparing: select * from tag where id = ?
2022-04-06 09:26:50.502 DEBUG 12684 --- [http-nio-8086-exec-5] com.kwok.mapper.TagMapper.getTagById     : ==> Parameters: 10(Integer)
2022-04-06 09:26:50.502 DEBUG 12684 --- [http-nio-8086-exec-5] com.kwok.mapper.TagMapper.getTagById     : <==      Total: 1
2022-04-06 09:26:52.120 DEBUG 12684 --- [http-nio-8086-exec-7] com.kwok.mapper.TypeMapper.getTypeCount  : ==>  Preparing: select count(1) as count from type
2022-04-06 09:26:52.120 DEBUG 12684 --- [http-nio-8086-exec-7] com.kwok.mapper.TypeMapper.getTypeCount  : ==> Parameters: 
2022-04-06 09:26:52.121 DEBUG 12684 --- [http-nio-8086-exec-7] com.kwok.mapper.TypeMapper.getTypeCount  : <==      Total: 1
2022-04-06 09:26:52.121 DEBUG 12684 --- [http-nio-8086-exec-7] com.kwok.mapper.TypeMapper.getTypeList   : ==>  Preparing: select * from type order by id desc limit ?,?
2022-04-06 09:26:52.122 DEBUG 12684 --- [http-nio-8086-exec-7] com.kwok.mapper.TypeMapper.getTypeList   : ==> Parameters: 0(Integer), 5(Integer)
2022-04-06 09:26:52.123 DEBUG 12684 --- [http-nio-8086-exec-7] com.kwok.mapper.TypeMapper.getTypeList   : <==      Total: 5
2022-04-06 09:26:52.123 DEBUG 12684 --- [http-nio-8086-exec-7] com.kwok.mapper.TypeMapper.getTypeById   : ==>  Preparing: select * from type where id = ?
2022-04-06 09:26:52.123 DEBUG 12684 --- [http-nio-8086-exec-7] com.kwok.mapper.TypeMapper.getTypeById   : ==> Parameters: 7(Integer)
2022-04-06 09:26:52.124 DEBUG 12684 --- [http-nio-8086-exec-7] com.kwok.mapper.TypeMapper.getTypeById   : <==      Total: 0
2022-04-06 09:26:52.124 DEBUG 12684 --- [http-nio-8086-exec-7] com.kwok.mapper.TypeMapper.getTypeById   : ==>  Preparing: select * from type where id = ?
2022-04-06 09:26:52.124 DEBUG 12684 --- [http-nio-8086-exec-7] com.kwok.mapper.TypeMapper.getTypeById   : ==> Parameters: 1(Integer)
2022-04-06 09:26:52.124 DEBUG 12684 --- [http-nio-8086-exec-7] com.kwok.mapper.TypeMapper.getTypeById   : <==      Total: 1
2022-04-06 09:27:02.839 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.BlogMapper.getBlogCount  : ==>  Preparing: select count(1) as count from blog
2022-04-06 09:27:02.840 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.BlogMapper.getBlogCount  : ==> Parameters: 
2022-04-06 09:27:02.841 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.BlogMapper.getBlogCount  : <==      Total: 1
2022-04-06 09:27:02.842 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.BlogMapper.getBlogList   : ==>  Preparing: select b.*,t.name as typeName from blog b,type t where b.type_id=t.id order by b.id desc limit ?,?
2022-04-06 09:27:02.842 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.BlogMapper.getBlogList   : ==> Parameters: 0(Integer), 5(Integer)
2022-04-06 09:27:02.850 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.BlogMapper.getBlogList   : <==      Total: 5
2022-04-06 09:27:02.850 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.BlogMapper.getBlogById   : ==>  Preparing: select * from blog where id = ?
2022-04-06 09:27:02.851 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.BlogMapper.getBlogById   : ==> Parameters: 83(Integer)
2022-04-06 09:27:02.851 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.BlogMapper.getBlogById   : <==      Total: 0
2022-04-06 09:27:02.852 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.BlogMapper.getBlogById   : ==>  Preparing: select * from blog where id = ?
2022-04-06 09:27:02.852 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.BlogMapper.getBlogById   : ==> Parameters: 77(Integer)
2022-04-06 09:27:02.853 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.BlogMapper.getBlogById   : <==      Total: 1
2022-04-06 09:27:02.854 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.TypeMapper.listType      : ==>  Preparing: select * from type order by id desc
2022-04-06 09:27:02.854 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.TypeMapper.listType      : ==> Parameters: 
2022-04-06 09:27:02.855 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.TypeMapper.listType      : <==      Total: 6
2022-04-06 09:27:04.080 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.TypeMapper.getTypeCount  : ==>  Preparing: select count(1) as count from type
2022-04-06 09:27:04.080 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.TypeMapper.getTypeCount  : ==> Parameters: 
2022-04-06 09:27:04.081 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.TypeMapper.getTypeCount  : <==      Total: 1
2022-04-06 09:27:04.081 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.TypeMapper.getTypeList   : ==>  Preparing: select * from type order by id desc limit ?,?
2022-04-06 09:27:04.082 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.TypeMapper.getTypeList   : ==> Parameters: 0(Integer), 5(Integer)
2022-04-06 09:27:04.082 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.TypeMapper.getTypeList   : <==      Total: 5
2022-04-06 09:27:04.082 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.TypeMapper.getTypeById   : ==>  Preparing: select * from type where id = ?
2022-04-06 09:27:04.083 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.TypeMapper.getTypeById   : ==> Parameters: 7(Integer)
2022-04-06 09:27:04.083 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.TypeMapper.getTypeById   : <==      Total: 0
2022-04-06 09:27:04.083 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.TypeMapper.getTypeById   : ==>  Preparing: select * from type where id = ?
2022-04-06 09:27:04.084 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.TypeMapper.getTypeById   : ==> Parameters: 1(Integer)
2022-04-06 09:27:04.084 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.TypeMapper.getTypeById   : <==      Total: 1
2022-04-06 09:27:05.375 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.TagMapper.getTagCount    : ==>  Preparing: select count(1) as count from tag
2022-04-06 09:27:05.376 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.TagMapper.getTagCount    : ==> Parameters: 
2022-04-06 09:27:05.377 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.TagMapper.getTagCount    : <==      Total: 1
2022-04-06 09:27:05.377 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.TagMapper.getTagList     : ==>  Preparing: select * from tag order by id desc limit ?,?
2022-04-06 09:27:05.377 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.TagMapper.getTagList     : ==> Parameters: 0(Integer), 5(Integer)
2022-04-06 09:27:05.378 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.TagMapper.getTagList     : <==      Total: 5
2022-04-06 09:27:05.378 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.TagMapper.getTagById     : ==>  Preparing: select * from tag where id = ?
2022-04-06 09:27:05.378 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.TagMapper.getTagById     : ==> Parameters: 16(Integer)
2022-04-06 09:27:05.379 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.TagMapper.getTagById     : <==      Total: 0
2022-04-06 09:27:05.379 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.TagMapper.getTagById     : ==>  Preparing: select * from tag where id = ?
2022-04-06 09:27:05.379 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.TagMapper.getTagById     : ==> Parameters: 10(Integer)
2022-04-06 09:27:05.380 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.TagMapper.getTagById     : <==      Total: 1
2022-04-06 09:27:06.595 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.TagMapper.getTagCount    : ==>  Preparing: select count(1) as count from tag
2022-04-06 09:27:06.595 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.TagMapper.getTagCount    : ==> Parameters: 
2022-04-06 09:27:06.596 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.TagMapper.getTagCount    : <==      Total: 1
2022-04-06 09:27:06.597 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.TagMapper.getTagList     : ==>  Preparing: select * from tag order by id desc limit ?,?
2022-04-06 09:27:06.597 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.TagMapper.getTagList     : ==> Parameters: 5(Integer), 5(Integer)
2022-04-06 09:27:06.597 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.TagMapper.getTagList     : <==      Total: 5
2022-04-06 09:27:06.598 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.TagMapper.getTagById     : ==>  Preparing: select * from tag where id = ?
2022-04-06 09:27:06.598 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.TagMapper.getTagById     : ==> Parameters: 11(Integer)
2022-04-06 09:27:06.599 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.TagMapper.getTagById     : <==      Total: 1
2022-04-06 09:27:06.600 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.TagMapper.getTagById     : ==>  Preparing: select * from tag where id = ?
2022-04-06 09:27:06.600 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.TagMapper.getTagById     : ==> Parameters: 5(Integer)
2022-04-06 09:27:06.600 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.TagMapper.getTagById     : <==      Total: 1
2022-04-06 09:27:08.330 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.TagMapper.getTagCount    : ==>  Preparing: select count(1) as count from tag
2022-04-06 09:27:08.330 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.TagMapper.getTagCount    : ==> Parameters: 
2022-04-06 09:27:08.331 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.TagMapper.getTagCount    : <==      Total: 1
2022-04-06 09:27:08.331 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.TagMapper.getTagList     : ==>  Preparing: select * from tag order by id desc limit ?,?
2022-04-06 09:27:08.332 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.TagMapper.getTagList     : ==> Parameters: 10(Integer), 5(Integer)
2022-04-06 09:27:08.332 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.TagMapper.getTagList     : <==      Total: 5
2022-04-06 09:27:08.332 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.TagMapper.getTagById     : ==>  Preparing: select * from tag where id = ?
2022-04-06 09:27:08.333 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.TagMapper.getTagById     : ==> Parameters: 6(Integer)
2022-04-06 09:27:08.333 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.TagMapper.getTagById     : <==      Total: 1
2022-04-06 09:27:08.333 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.TagMapper.getTagById     : ==>  Preparing: select * from tag where id = ?
2022-04-06 09:27:08.333 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.TagMapper.getTagById     : ==> Parameters: 0(Integer)
2022-04-06 09:27:08.334 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.TagMapper.getTagById     : <==      Total: 0
2022-04-06 09:27:10.329 DEBUG 12684 --- [http-nio-8086-exec-4] com.kwok.mapper.TagMapper.getTagCount    : ==>  Preparing: select count(1) as count from tag
2022-04-06 09:27:10.329 DEBUG 12684 --- [http-nio-8086-exec-4] com.kwok.mapper.TagMapper.getTagCount    : ==> Parameters: 
2022-04-06 09:27:10.330 DEBUG 12684 --- [http-nio-8086-exec-4] com.kwok.mapper.TagMapper.getTagCount    : <==      Total: 1
2022-04-06 09:27:10.330 DEBUG 12684 --- [http-nio-8086-exec-4] com.kwok.mapper.TagMapper.getTagList     : ==>  Preparing: select * from tag order by id desc limit ?,?
2022-04-06 09:27:10.330 DEBUG 12684 --- [http-nio-8086-exec-4] com.kwok.mapper.TagMapper.getTagList     : ==> Parameters: 5(Integer), 5(Integer)
2022-04-06 09:27:10.330 DEBUG 12684 --- [http-nio-8086-exec-4] com.kwok.mapper.TagMapper.getTagList     : <==      Total: 5
2022-04-06 09:27:10.331 DEBUG 12684 --- [http-nio-8086-exec-4] com.kwok.mapper.TagMapper.getTagById     : ==>  Preparing: select * from tag where id = ?
2022-04-06 09:27:10.331 DEBUG 12684 --- [http-nio-8086-exec-4] com.kwok.mapper.TagMapper.getTagById     : ==> Parameters: 11(Integer)
2022-04-06 09:27:10.331 DEBUG 12684 --- [http-nio-8086-exec-4] com.kwok.mapper.TagMapper.getTagById     : <==      Total: 1
2022-04-06 09:27:10.331 DEBUG 12684 --- [http-nio-8086-exec-4] com.kwok.mapper.TagMapper.getTagById     : ==>  Preparing: select * from tag where id = ?
2022-04-06 09:27:10.331 DEBUG 12684 --- [http-nio-8086-exec-4] com.kwok.mapper.TagMapper.getTagById     : ==> Parameters: 5(Integer)
2022-04-06 09:27:10.332 DEBUG 12684 --- [http-nio-8086-exec-4] com.kwok.mapper.TagMapper.getTagById     : <==      Total: 1
2022-04-06 09:27:11.755 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.TagMapper.getTagCount    : ==>  Preparing: select count(1) as count from tag
2022-04-06 09:27:11.755 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.TagMapper.getTagCount    : ==> Parameters: 
2022-04-06 09:27:11.756 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.TagMapper.getTagCount    : <==      Total: 1
2022-04-06 09:27:11.756 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.TagMapper.getTagList     : ==>  Preparing: select * from tag order by id desc limit ?,?
2022-04-06 09:27:11.756 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.TagMapper.getTagList     : ==> Parameters: 0(Integer), 5(Integer)
2022-04-06 09:27:11.757 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.TagMapper.getTagList     : <==      Total: 5
2022-04-06 09:27:11.757 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.TagMapper.getTagById     : ==>  Preparing: select * from tag where id = ?
2022-04-06 09:27:11.757 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.TagMapper.getTagById     : ==> Parameters: 16(Integer)
2022-04-06 09:27:11.758 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.TagMapper.getTagById     : <==      Total: 0
2022-04-06 09:27:11.758 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.TagMapper.getTagById     : ==>  Preparing: select * from tag where id = ?
2022-04-06 09:27:11.758 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.TagMapper.getTagById     : ==> Parameters: 10(Integer)
2022-04-06 09:27:11.758 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.TagMapper.getTagById     : <==      Total: 1
2022-04-06 09:27:15.383 DEBUG 12684 --- [http-nio-8086-exec-8] com.kwok.mapper.TypeMapper.getTypeCount  : ==>  Preparing: select count(1) as count from type
2022-04-06 09:27:15.383 DEBUG 12684 --- [http-nio-8086-exec-8] com.kwok.mapper.TypeMapper.getTypeCount  : ==> Parameters: 
2022-04-06 09:27:15.384 DEBUG 12684 --- [http-nio-8086-exec-8] com.kwok.mapper.TypeMapper.getTypeCount  : <==      Total: 1
2022-04-06 09:27:15.384 DEBUG 12684 --- [http-nio-8086-exec-8] com.kwok.mapper.TypeMapper.getTypeList   : ==>  Preparing: select * from type order by id desc limit ?,?
2022-04-06 09:27:15.384 DEBUG 12684 --- [http-nio-8086-exec-8] com.kwok.mapper.TypeMapper.getTypeList   : ==> Parameters: 0(Integer), 5(Integer)
2022-04-06 09:27:15.385 DEBUG 12684 --- [http-nio-8086-exec-8] com.kwok.mapper.TypeMapper.getTypeList   : <==      Total: 5
2022-04-06 09:27:15.385 DEBUG 12684 --- [http-nio-8086-exec-8] com.kwok.mapper.TypeMapper.getTypeById   : ==>  Preparing: select * from type where id = ?
2022-04-06 09:27:15.385 DEBUG 12684 --- [http-nio-8086-exec-8] com.kwok.mapper.TypeMapper.getTypeById   : ==> Parameters: 7(Integer)
2022-04-06 09:27:15.386 DEBUG 12684 --- [http-nio-8086-exec-8] com.kwok.mapper.TypeMapper.getTypeById   : <==      Total: 0
2022-04-06 09:27:15.386 DEBUG 12684 --- [http-nio-8086-exec-8] com.kwok.mapper.TypeMapper.getTypeById   : ==>  Preparing: select * from type where id = ?
2022-04-06 09:27:15.386 DEBUG 12684 --- [http-nio-8086-exec-8] com.kwok.mapper.TypeMapper.getTypeById   : ==> Parameters: 1(Integer)
2022-04-06 09:27:15.386 DEBUG 12684 --- [http-nio-8086-exec-8] com.kwok.mapper.TypeMapper.getTypeById   : <==      Total: 1
2022-04-06 09:27:26.712 DEBUG 12684 --- [http-nio-8086-exec-8] c.kwok.mapper.TypeMapper.getTypeByName   : ==>  Preparing: select * from type where name = ?
2022-04-06 09:27:26.712 DEBUG 12684 --- [http-nio-8086-exec-8] c.kwok.mapper.TypeMapper.getTypeByName   : ==> Parameters: 微服务(String)
2022-04-06 09:27:26.713 DEBUG 12684 --- [http-nio-8086-exec-8] c.kwok.mapper.TypeMapper.getTypeByName   : <==      Total: 0
2022-04-06 09:27:26.714 DEBUG 12684 --- [http-nio-8086-exec-8] com.kwok.mapper.TypeMapper.getLastType   : ==>  Preparing: select * from type order by id desc limit 1
2022-04-06 09:27:26.714 DEBUG 12684 --- [http-nio-8086-exec-8] com.kwok.mapper.TypeMapper.getLastType   : ==> Parameters: 
2022-04-06 09:27:26.714 DEBUG 12684 --- [http-nio-8086-exec-8] com.kwok.mapper.TypeMapper.getLastType   : <==      Total: 1
2022-04-06 09:27:26.715 DEBUG 12684 --- [http-nio-8086-exec-8] com.kwok.mapper.TypeMapper.addType       : ==>  Preparing: insert into type (id, name) values (?,?)
2022-04-06 09:27:26.715 DEBUG 12684 --- [http-nio-8086-exec-8] com.kwok.mapper.TypeMapper.addType       : ==> Parameters: 7(Integer), 微服务(String)
2022-04-06 09:27:26.716 DEBUG 12684 --- [http-nio-8086-exec-8] com.kwok.mapper.TypeMapper.addType       : <==    Updates: 1
2022-04-06 09:27:26.722 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.TypeMapper.getTypeCount  : ==>  Preparing: select count(1) as count from type
2022-04-06 09:27:26.722 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.TypeMapper.getTypeCount  : ==> Parameters: 
2022-04-06 09:27:26.723 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.TypeMapper.getTypeCount  : <==      Total: 1
2022-04-06 09:27:26.723 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.TypeMapper.getTypeList   : ==>  Preparing: select * from type order by id desc limit ?,?
2022-04-06 09:27:26.723 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.TypeMapper.getTypeList   : ==> Parameters: 0(Integer), 5(Integer)
2022-04-06 09:27:26.724 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.TypeMapper.getTypeList   : <==      Total: 5
2022-04-06 09:27:26.724 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.TypeMapper.getTypeById   : ==>  Preparing: select * from type where id = ?
2022-04-06 09:27:26.724 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.TypeMapper.getTypeById   : ==> Parameters: 8(Integer)
2022-04-06 09:27:26.724 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.TypeMapper.getTypeById   : <==      Total: 0
2022-04-06 09:27:26.724 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.TypeMapper.getTypeById   : ==>  Preparing: select * from type where id = ?
2022-04-06 09:27:26.725 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.TypeMapper.getTypeById   : ==> Parameters: 2(Integer)
2022-04-06 09:27:26.725 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.TypeMapper.getTypeById   : <==      Total: 1
2022-04-06 09:27:28.124 DEBUG 12684 --- [http-nio-8086-exec-7] com.kwok.mapper.TypeMapper.getTypeCount  : ==>  Preparing: select count(1) as count from type
2022-04-06 09:27:28.124 DEBUG 12684 --- [http-nio-8086-exec-7] com.kwok.mapper.TypeMapper.getTypeCount  : ==> Parameters: 
2022-04-06 09:27:28.125 DEBUG 12684 --- [http-nio-8086-exec-7] com.kwok.mapper.TypeMapper.getTypeCount  : <==      Total: 1
2022-04-06 09:27:28.125 DEBUG 12684 --- [http-nio-8086-exec-7] com.kwok.mapper.TypeMapper.getTypeList   : ==>  Preparing: select * from type order by id desc limit ?,?
2022-04-06 09:27:28.125 DEBUG 12684 --- [http-nio-8086-exec-7] com.kwok.mapper.TypeMapper.getTypeList   : ==> Parameters: 0(Integer), 5(Integer)
2022-04-06 09:27:28.126 DEBUG 12684 --- [http-nio-8086-exec-7] com.kwok.mapper.TypeMapper.getTypeList   : <==      Total: 5
2022-04-06 09:27:28.126 DEBUG 12684 --- [http-nio-8086-exec-7] com.kwok.mapper.TypeMapper.getTypeById   : ==>  Preparing: select * from type where id = ?
2022-04-06 09:27:28.126 DEBUG 12684 --- [http-nio-8086-exec-7] com.kwok.mapper.TypeMapper.getTypeById   : ==> Parameters: 8(Integer)
2022-04-06 09:27:28.127 DEBUG 12684 --- [http-nio-8086-exec-7] com.kwok.mapper.TypeMapper.getTypeById   : <==      Total: 0
2022-04-06 09:27:28.127 DEBUG 12684 --- [http-nio-8086-exec-7] com.kwok.mapper.TypeMapper.getTypeById   : ==>  Preparing: select * from type where id = ?
2022-04-06 09:27:28.127 DEBUG 12684 --- [http-nio-8086-exec-7] com.kwok.mapper.TypeMapper.getTypeById   : ==> Parameters: 2(Integer)
2022-04-06 09:27:28.128 DEBUG 12684 --- [http-nio-8086-exec-7] com.kwok.mapper.TypeMapper.getTypeById   : <==      Total: 1
2022-04-06 09:27:29.678 DEBUG 12684 --- [http-nio-8086-exec-4] com.kwok.mapper.TagMapper.getTagCount    : ==>  Preparing: select count(1) as count from tag
2022-04-06 09:27:29.678 DEBUG 12684 --- [http-nio-8086-exec-4] com.kwok.mapper.TagMapper.getTagCount    : ==> Parameters: 
2022-04-06 09:27:29.679 DEBUG 12684 --- [http-nio-8086-exec-4] com.kwok.mapper.TagMapper.getTagCount    : <==      Total: 1
2022-04-06 09:27:29.679 DEBUG 12684 --- [http-nio-8086-exec-4] com.kwok.mapper.TagMapper.getTagList     : ==>  Preparing: select * from tag order by id desc limit ?,?
2022-04-06 09:27:29.679 DEBUG 12684 --- [http-nio-8086-exec-4] com.kwok.mapper.TagMapper.getTagList     : ==> Parameters: 0(Integer), 5(Integer)
2022-04-06 09:27:29.680 DEBUG 12684 --- [http-nio-8086-exec-4] com.kwok.mapper.TagMapper.getTagList     : <==      Total: 5
2022-04-06 09:27:29.680 DEBUG 12684 --- [http-nio-8086-exec-4] com.kwok.mapper.TagMapper.getTagById     : ==>  Preparing: select * from tag where id = ?
2022-04-06 09:27:29.680 DEBUG 12684 --- [http-nio-8086-exec-4] com.kwok.mapper.TagMapper.getTagById     : ==> Parameters: 16(Integer)
2022-04-06 09:27:29.681 DEBUG 12684 --- [http-nio-8086-exec-4] com.kwok.mapper.TagMapper.getTagById     : <==      Total: 0
2022-04-06 09:27:29.681 DEBUG 12684 --- [http-nio-8086-exec-4] com.kwok.mapper.TagMapper.getTagById     : ==>  Preparing: select * from tag where id = ?
2022-04-06 09:27:29.681 DEBUG 12684 --- [http-nio-8086-exec-4] com.kwok.mapper.TagMapper.getTagById     : ==> Parameters: 10(Integer)
2022-04-06 09:27:29.682 DEBUG 12684 --- [http-nio-8086-exec-4] com.kwok.mapper.TagMapper.getTagById     : <==      Total: 1
2022-04-06 09:27:31.450 DEBUG 12684 --- [http-nio-8086-exec-8] com.kwok.mapper.TagMapper.getTagCount    : ==>  Preparing: select count(1) as count from tag
2022-04-06 09:27:31.450 DEBUG 12684 --- [http-nio-8086-exec-8] com.kwok.mapper.TagMapper.getTagCount    : ==> Parameters: 
2022-04-06 09:27:31.451 DEBUG 12684 --- [http-nio-8086-exec-8] com.kwok.mapper.TagMapper.getTagCount    : <==      Total: 1
2022-04-06 09:27:31.451 DEBUG 12684 --- [http-nio-8086-exec-8] com.kwok.mapper.TagMapper.getTagList     : ==>  Preparing: select * from tag order by id desc limit ?,?
2022-04-06 09:27:31.451 DEBUG 12684 --- [http-nio-8086-exec-8] com.kwok.mapper.TagMapper.getTagList     : ==> Parameters: 5(Integer), 5(Integer)
2022-04-06 09:27:31.452 DEBUG 12684 --- [http-nio-8086-exec-8] com.kwok.mapper.TagMapper.getTagList     : <==      Total: 5
2022-04-06 09:27:31.452 DEBUG 12684 --- [http-nio-8086-exec-8] com.kwok.mapper.TagMapper.getTagById     : ==>  Preparing: select * from tag where id = ?
2022-04-06 09:27:31.452 DEBUG 12684 --- [http-nio-8086-exec-8] com.kwok.mapper.TagMapper.getTagById     : ==> Parameters: 11(Integer)
2022-04-06 09:27:31.452 DEBUG 12684 --- [http-nio-8086-exec-8] com.kwok.mapper.TagMapper.getTagById     : <==      Total: 1
2022-04-06 09:27:31.453 DEBUG 12684 --- [http-nio-8086-exec-8] com.kwok.mapper.TagMapper.getTagById     : ==>  Preparing: select * from tag where id = ?
2022-04-06 09:27:31.453 DEBUG 12684 --- [http-nio-8086-exec-8] com.kwok.mapper.TagMapper.getTagById     : ==> Parameters: 5(Integer)
2022-04-06 09:27:31.454 DEBUG 12684 --- [http-nio-8086-exec-8] com.kwok.mapper.TagMapper.getTagById     : <==      Total: 1
2022-04-06 09:27:32.498 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.TagMapper.getTagCount    : ==>  Preparing: select count(1) as count from tag
2022-04-06 09:27:32.499 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.TagMapper.getTagCount    : ==> Parameters: 
2022-04-06 09:27:32.499 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.TagMapper.getTagCount    : <==      Total: 1
2022-04-06 09:27:32.499 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.TagMapper.getTagList     : ==>  Preparing: select * from tag order by id desc limit ?,?
2022-04-06 09:27:32.499 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.TagMapper.getTagList     : ==> Parameters: 10(Integer), 5(Integer)
2022-04-06 09:27:32.500 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.TagMapper.getTagList     : <==      Total: 5
2022-04-06 09:27:32.500 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.TagMapper.getTagById     : ==>  Preparing: select * from tag where id = ?
2022-04-06 09:27:32.500 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.TagMapper.getTagById     : ==> Parameters: 6(Integer)
2022-04-06 09:27:32.501 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.TagMapper.getTagById     : <==      Total: 1
2022-04-06 09:27:32.501 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.TagMapper.getTagById     : ==>  Preparing: select * from tag where id = ?
2022-04-06 09:27:32.501 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.TagMapper.getTagById     : ==> Parameters: 0(Integer)
2022-04-06 09:27:32.501 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.TagMapper.getTagById     : <==      Total: 0
2022-04-06 09:28:19.608 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.TypeMapper.getTypeCount  : ==>  Preparing: select count(1) as count from type
2022-04-06 09:28:19.608 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.TypeMapper.getTypeCount  : ==> Parameters: 
2022-04-06 09:28:19.609 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.TypeMapper.getTypeCount  : <==      Total: 1
2022-04-06 09:28:19.609 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.TypeMapper.getTypeList   : ==>  Preparing: select * from type order by id desc limit ?,?
2022-04-06 09:28:19.609 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.TypeMapper.getTypeList   : ==> Parameters: 0(Integer), 5(Integer)
2022-04-06 09:28:19.610 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.TypeMapper.getTypeList   : <==      Total: 5
2022-04-06 09:28:19.610 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.TypeMapper.getTypeById   : ==>  Preparing: select * from type where id = ?
2022-04-06 09:28:19.610 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.TypeMapper.getTypeById   : ==> Parameters: 8(Integer)
2022-04-06 09:28:19.610 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.TypeMapper.getTypeById   : <==      Total: 0
2022-04-06 09:28:19.611 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.TypeMapper.getTypeById   : ==>  Preparing: select * from type where id = ?
2022-04-06 09:28:19.611 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.TypeMapper.getTypeById   : ==> Parameters: 2(Integer)
2022-04-06 09:28:19.611 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.TypeMapper.getTypeById   : <==      Total: 1
2022-04-06 09:28:20.415 DEBUG 12684 --- [http-nio-8086-exec-5] com.kwok.mapper.TagMapper.getTagCount    : ==>  Preparing: select count(1) as count from tag
2022-04-06 09:28:20.415 DEBUG 12684 --- [http-nio-8086-exec-5] com.kwok.mapper.TagMapper.getTagCount    : ==> Parameters: 
2022-04-06 09:28:20.416 DEBUG 12684 --- [http-nio-8086-exec-5] com.kwok.mapper.TagMapper.getTagCount    : <==      Total: 1
2022-04-06 09:28:20.416 DEBUG 12684 --- [http-nio-8086-exec-5] com.kwok.mapper.TagMapper.getTagList     : ==>  Preparing: select * from tag order by id desc limit ?,?
2022-04-06 09:28:20.416 DEBUG 12684 --- [http-nio-8086-exec-5] com.kwok.mapper.TagMapper.getTagList     : ==> Parameters: 0(Integer), 5(Integer)
2022-04-06 09:28:20.416 DEBUG 12684 --- [http-nio-8086-exec-5] com.kwok.mapper.TagMapper.getTagList     : <==      Total: 5
2022-04-06 09:28:20.417 DEBUG 12684 --- [http-nio-8086-exec-5] com.kwok.mapper.TagMapper.getTagById     : ==>  Preparing: select * from tag where id = ?
2022-04-06 09:28:20.417 DEBUG 12684 --- [http-nio-8086-exec-5] com.kwok.mapper.TagMapper.getTagById     : ==> Parameters: 16(Integer)
2022-04-06 09:28:20.418 DEBUG 12684 --- [http-nio-8086-exec-5] com.kwok.mapper.TagMapper.getTagById     : <==      Total: 0
2022-04-06 09:28:20.418 DEBUG 12684 --- [http-nio-8086-exec-5] com.kwok.mapper.TagMapper.getTagById     : ==>  Preparing: select * from tag where id = ?
2022-04-06 09:28:20.418 DEBUG 12684 --- [http-nio-8086-exec-5] com.kwok.mapper.TagMapper.getTagById     : ==> Parameters: 10(Integer)
2022-04-06 09:28:20.419 DEBUG 12684 --- [http-nio-8086-exec-5] com.kwok.mapper.TagMapper.getTagById     : <==      Total: 1
2022-04-06 09:28:26.754 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.TagMapper.deleteTag      : ==>  Preparing: delete from tag where id = ?
2022-04-06 09:28:26.755 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.TagMapper.deleteTag      : ==> Parameters: 15(Integer)
2022-04-06 09:28:26.756 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.TagMapper.deleteTag      : <==    Updates: 1
2022-04-06 09:28:26.766 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.TagMapper.getTagCount    : ==>  Preparing: select count(1) as count from tag
2022-04-06 09:28:26.766 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.TagMapper.getTagCount    : ==> Parameters: 
2022-04-06 09:28:26.766 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.TagMapper.getTagCount    : <==      Total: 1
2022-04-06 09:28:26.767 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.TagMapper.getTagList     : ==>  Preparing: select * from tag order by id desc limit ?,?
2022-04-06 09:28:26.767 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.TagMapper.getTagList     : ==> Parameters: 0(Integer), 5(Integer)
2022-04-06 09:28:26.768 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.TagMapper.getTagList     : <==      Total: 5
2022-04-06 09:28:26.768 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.TagMapper.getTagById     : ==>  Preparing: select * from tag where id = ?
2022-04-06 09:28:26.768 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.TagMapper.getTagById     : ==> Parameters: 15(Integer)
2022-04-06 09:28:26.769 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.TagMapper.getTagById     : <==      Total: 0
2022-04-06 09:28:26.769 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.TagMapper.getTagById     : ==>  Preparing: select * from tag where id = ?
2022-04-06 09:28:26.769 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.TagMapper.getTagById     : ==> Parameters: 9(Integer)
2022-04-06 09:28:26.770 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.TagMapper.getTagById     : <==      Total: 1
2022-04-06 09:28:28.888 DEBUG 12684 --- [http-nio-8086-exec-4] com.kwok.mapper.TypeMapper.getTypeCount  : ==>  Preparing: select count(1) as count from type
2022-04-06 09:28:28.889 DEBUG 12684 --- [http-nio-8086-exec-4] com.kwok.mapper.TypeMapper.getTypeCount  : ==> Parameters: 
2022-04-06 09:28:28.890 DEBUG 12684 --- [http-nio-8086-exec-4] com.kwok.mapper.TypeMapper.getTypeCount  : <==      Total: 1
2022-04-06 09:28:28.890 DEBUG 12684 --- [http-nio-8086-exec-4] com.kwok.mapper.TypeMapper.getTypeList   : ==>  Preparing: select * from type order by id desc limit ?,?
2022-04-06 09:28:28.890 DEBUG 12684 --- [http-nio-8086-exec-4] com.kwok.mapper.TypeMapper.getTypeList   : ==> Parameters: 0(Integer), 5(Integer)
2022-04-06 09:28:28.891 DEBUG 12684 --- [http-nio-8086-exec-4] com.kwok.mapper.TypeMapper.getTypeList   : <==      Total: 5
2022-04-06 09:28:28.891 DEBUG 12684 --- [http-nio-8086-exec-4] com.kwok.mapper.TypeMapper.getTypeById   : ==>  Preparing: select * from type where id = ?
2022-04-06 09:28:28.891 DEBUG 12684 --- [http-nio-8086-exec-4] com.kwok.mapper.TypeMapper.getTypeById   : ==> Parameters: 8(Integer)
2022-04-06 09:28:28.892 DEBUG 12684 --- [http-nio-8086-exec-4] com.kwok.mapper.TypeMapper.getTypeById   : <==      Total: 0
2022-04-06 09:28:28.892 DEBUG 12684 --- [http-nio-8086-exec-4] com.kwok.mapper.TypeMapper.getTypeById   : ==>  Preparing: select * from type where id = ?
2022-04-06 09:28:28.893 DEBUG 12684 --- [http-nio-8086-exec-4] com.kwok.mapper.TypeMapper.getTypeById   : ==> Parameters: 2(Integer)
2022-04-06 09:28:28.893 DEBUG 12684 --- [http-nio-8086-exec-4] com.kwok.mapper.TypeMapper.getTypeById   : <==      Total: 1
2022-04-06 09:28:29.551 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.TagMapper.getTagCount    : ==>  Preparing: select count(1) as count from tag
2022-04-06 09:28:29.551 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.TagMapper.getTagCount    : ==> Parameters: 
2022-04-06 09:28:29.552 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.TagMapper.getTagCount    : <==      Total: 1
2022-04-06 09:28:29.552 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.TagMapper.getTagList     : ==>  Preparing: select * from tag order by id desc limit ?,?
2022-04-06 09:28:29.553 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.TagMapper.getTagList     : ==> Parameters: 0(Integer), 5(Integer)
2022-04-06 09:28:29.553 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.TagMapper.getTagList     : <==      Total: 5
2022-04-06 09:28:29.553 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.TagMapper.getTagById     : ==>  Preparing: select * from tag where id = ?
2022-04-06 09:28:29.553 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.TagMapper.getTagById     : ==> Parameters: 15(Integer)
2022-04-06 09:28:29.554 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.TagMapper.getTagById     : <==      Total: 0
2022-04-06 09:28:29.554 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.TagMapper.getTagById     : ==>  Preparing: select * from tag where id = ?
2022-04-06 09:28:29.554 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.TagMapper.getTagById     : ==> Parameters: 9(Integer)
2022-04-06 09:28:29.555 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.TagMapper.getTagById     : <==      Total: 1
2022-04-06 09:28:30.625 DEBUG 12684 --- [http-nio-8086-exec-4] com.kwok.mapper.TagMapper.getTagCount    : ==>  Preparing: select count(1) as count from tag
2022-04-06 09:28:30.625 DEBUG 12684 --- [http-nio-8086-exec-4] com.kwok.mapper.TagMapper.getTagCount    : ==> Parameters: 
2022-04-06 09:28:30.626 DEBUG 12684 --- [http-nio-8086-exec-4] com.kwok.mapper.TagMapper.getTagCount    : <==      Total: 1
2022-04-06 09:28:30.626 DEBUG 12684 --- [http-nio-8086-exec-4] com.kwok.mapper.TagMapper.getTagList     : ==>  Preparing: select * from tag order by id desc limit ?,?
2022-04-06 09:28:30.626 DEBUG 12684 --- [http-nio-8086-exec-4] com.kwok.mapper.TagMapper.getTagList     : ==> Parameters: 5(Integer), 5(Integer)
2022-04-06 09:28:30.627 DEBUG 12684 --- [http-nio-8086-exec-4] com.kwok.mapper.TagMapper.getTagList     : <==      Total: 5
2022-04-06 09:28:30.627 DEBUG 12684 --- [http-nio-8086-exec-4] com.kwok.mapper.TagMapper.getTagById     : ==>  Preparing: select * from tag where id = ?
2022-04-06 09:28:30.627 DEBUG 12684 --- [http-nio-8086-exec-4] com.kwok.mapper.TagMapper.getTagById     : ==> Parameters: 10(Integer)
2022-04-06 09:28:30.627 DEBUG 12684 --- [http-nio-8086-exec-4] com.kwok.mapper.TagMapper.getTagById     : <==      Total: 1
2022-04-06 09:28:30.627 DEBUG 12684 --- [http-nio-8086-exec-4] com.kwok.mapper.TagMapper.getTagById     : ==>  Preparing: select * from tag where id = ?
2022-04-06 09:28:30.627 DEBUG 12684 --- [http-nio-8086-exec-4] com.kwok.mapper.TagMapper.getTagById     : ==> Parameters: 4(Integer)
2022-04-06 09:28:30.628 DEBUG 12684 --- [http-nio-8086-exec-4] com.kwok.mapper.TagMapper.getTagById     : <==      Total: 1
2022-04-06 09:28:31.674 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.TagMapper.getTagCount    : ==>  Preparing: select count(1) as count from tag
2022-04-06 09:28:31.674 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.TagMapper.getTagCount    : ==> Parameters: 
2022-04-06 09:28:31.675 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.TagMapper.getTagCount    : <==      Total: 1
2022-04-06 09:28:31.675 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.TagMapper.getTagList     : ==>  Preparing: select * from tag order by id desc limit ?,?
2022-04-06 09:28:31.675 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.TagMapper.getTagList     : ==> Parameters: 10(Integer), 5(Integer)
2022-04-06 09:28:31.676 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.TagMapper.getTagList     : <==      Total: 4
2022-04-06 09:28:31.676 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.TagMapper.getTagById     : ==>  Preparing: select * from tag where id = ?
2022-04-06 09:28:31.676 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.TagMapper.getTagById     : ==> Parameters: 5(Integer)
2022-04-06 09:28:31.677 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.TagMapper.getTagById     : <==      Total: 1
2022-04-06 09:28:31.677 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.TagMapper.getTagById     : ==>  Preparing: select * from tag where id = ?
2022-04-06 09:28:31.677 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.TagMapper.getTagById     : ==> Parameters: 0(Integer)
2022-04-06 09:28:31.678 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.TagMapper.getTagById     : <==      Total: 0
2022-04-06 09:28:33.998 DEBUG 12684 --- [http-nio-8086-exec-7] com.kwok.mapper.TypeMapper.getTypeCount  : ==>  Preparing: select count(1) as count from type
2022-04-06 09:28:33.999 DEBUG 12684 --- [http-nio-8086-exec-7] com.kwok.mapper.TypeMapper.getTypeCount  : ==> Parameters: 
2022-04-06 09:28:33.999 DEBUG 12684 --- [http-nio-8086-exec-7] com.kwok.mapper.TypeMapper.getTypeCount  : <==      Total: 1
2022-04-06 09:28:34.000 DEBUG 12684 --- [http-nio-8086-exec-7] com.kwok.mapper.TypeMapper.getTypeList   : ==>  Preparing: select * from type order by id desc limit ?,?
2022-04-06 09:28:34.000 DEBUG 12684 --- [http-nio-8086-exec-7] com.kwok.mapper.TypeMapper.getTypeList   : ==> Parameters: 0(Integer), 5(Integer)
2022-04-06 09:28:34.001 DEBUG 12684 --- [http-nio-8086-exec-7] com.kwok.mapper.TypeMapper.getTypeList   : <==      Total: 5
2022-04-06 09:28:34.002 DEBUG 12684 --- [http-nio-8086-exec-7] com.kwok.mapper.TypeMapper.getTypeById   : ==>  Preparing: select * from type where id = ?
2022-04-06 09:28:34.002 DEBUG 12684 --- [http-nio-8086-exec-7] com.kwok.mapper.TypeMapper.getTypeById   : ==> Parameters: 8(Integer)
2022-04-06 09:28:34.002 DEBUG 12684 --- [http-nio-8086-exec-7] com.kwok.mapper.TypeMapper.getTypeById   : <==      Total: 0
2022-04-06 09:28:34.002 DEBUG 12684 --- [http-nio-8086-exec-7] com.kwok.mapper.TypeMapper.getTypeById   : ==>  Preparing: select * from type where id = ?
2022-04-06 09:28:34.003 DEBUG 12684 --- [http-nio-8086-exec-7] com.kwok.mapper.TypeMapper.getTypeById   : ==> Parameters: 2(Integer)
2022-04-06 09:28:34.003 DEBUG 12684 --- [http-nio-8086-exec-7] com.kwok.mapper.TypeMapper.getTypeById   : <==      Total: 1
2022-04-06 09:28:35.127 DEBUG 12684 --- [http-nio-8086-exec-5] com.kwok.mapper.TagMapper.getTagCount    : ==>  Preparing: select count(1) as count from tag
2022-04-06 09:28:35.127 DEBUG 12684 --- [http-nio-8086-exec-5] com.kwok.mapper.TagMapper.getTagCount    : ==> Parameters: 
2022-04-06 09:28:35.128 DEBUG 12684 --- [http-nio-8086-exec-5] com.kwok.mapper.TagMapper.getTagCount    : <==      Total: 1
2022-04-06 09:28:35.128 DEBUG 12684 --- [http-nio-8086-exec-5] com.kwok.mapper.TagMapper.getTagList     : ==>  Preparing: select * from tag order by id desc limit ?,?
2022-04-06 09:28:35.128 DEBUG 12684 --- [http-nio-8086-exec-5] com.kwok.mapper.TagMapper.getTagList     : ==> Parameters: 0(Integer), 5(Integer)
2022-04-06 09:28:35.128 DEBUG 12684 --- [http-nio-8086-exec-5] com.kwok.mapper.TagMapper.getTagList     : <==      Total: 5
2022-04-06 09:28:35.129 DEBUG 12684 --- [http-nio-8086-exec-5] com.kwok.mapper.TagMapper.getTagById     : ==>  Preparing: select * from tag where id = ?
2022-04-06 09:28:35.129 DEBUG 12684 --- [http-nio-8086-exec-5] com.kwok.mapper.TagMapper.getTagById     : ==> Parameters: 15(Integer)
2022-04-06 09:28:35.129 DEBUG 12684 --- [http-nio-8086-exec-5] com.kwok.mapper.TagMapper.getTagById     : <==      Total: 0
2022-04-06 09:28:35.129 DEBUG 12684 --- [http-nio-8086-exec-5] com.kwok.mapper.TagMapper.getTagById     : ==>  Preparing: select * from tag where id = ?
2022-04-06 09:28:35.129 DEBUG 12684 --- [http-nio-8086-exec-5] com.kwok.mapper.TagMapper.getTagById     : ==> Parameters: 9(Integer)
2022-04-06 09:28:35.130 DEBUG 12684 --- [http-nio-8086-exec-5] com.kwok.mapper.TagMapper.getTagById     : <==      Total: 1
2022-04-06 09:28:36.002 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.TagMapper.getTagCount    : ==>  Preparing: select count(1) as count from tag
2022-04-06 09:28:36.002 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.TagMapper.getTagCount    : ==> Parameters: 
2022-04-06 09:28:36.002 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.TagMapper.getTagCount    : <==      Total: 1
2022-04-06 09:28:36.003 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.TagMapper.getTagList     : ==>  Preparing: select * from tag order by id desc limit ?,?
2022-04-06 09:28:36.003 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.TagMapper.getTagList     : ==> Parameters: 5(Integer), 5(Integer)
2022-04-06 09:28:36.003 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.TagMapper.getTagList     : <==      Total: 5
2022-04-06 09:28:36.003 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.TagMapper.getTagById     : ==>  Preparing: select * from tag where id = ?
2022-04-06 09:28:36.004 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.TagMapper.getTagById     : ==> Parameters: 10(Integer)
2022-04-06 09:28:36.004 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.TagMapper.getTagById     : <==      Total: 1
2022-04-06 09:28:36.004 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.TagMapper.getTagById     : ==>  Preparing: select * from tag where id = ?
2022-04-06 09:28:36.004 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.TagMapper.getTagById     : ==> Parameters: 4(Integer)
2022-04-06 09:28:36.005 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.TagMapper.getTagById     : <==      Total: 1
2022-04-06 09:28:36.705 DEBUG 12684 --- [http-nio-8086-exec-4] com.kwok.mapper.TagMapper.getTagCount    : ==>  Preparing: select count(1) as count from tag
2022-04-06 09:28:36.705 DEBUG 12684 --- [http-nio-8086-exec-4] com.kwok.mapper.TagMapper.getTagCount    : ==> Parameters: 
2022-04-06 09:28:36.706 DEBUG 12684 --- [http-nio-8086-exec-4] com.kwok.mapper.TagMapper.getTagCount    : <==      Total: 1
2022-04-06 09:28:36.706 DEBUG 12684 --- [http-nio-8086-exec-4] com.kwok.mapper.TagMapper.getTagList     : ==>  Preparing: select * from tag order by id desc limit ?,?
2022-04-06 09:28:36.706 DEBUG 12684 --- [http-nio-8086-exec-4] com.kwok.mapper.TagMapper.getTagList     : ==> Parameters: 10(Integer), 5(Integer)
2022-04-06 09:28:36.707 DEBUG 12684 --- [http-nio-8086-exec-4] com.kwok.mapper.TagMapper.getTagList     : <==      Total: 4
2022-04-06 09:28:36.707 DEBUG 12684 --- [http-nio-8086-exec-4] com.kwok.mapper.TagMapper.getTagById     : ==>  Preparing: select * from tag where id = ?
2022-04-06 09:28:36.707 DEBUG 12684 --- [http-nio-8086-exec-4] com.kwok.mapper.TagMapper.getTagById     : ==> Parameters: 5(Integer)
2022-04-06 09:28:36.707 DEBUG 12684 --- [http-nio-8086-exec-4] com.kwok.mapper.TagMapper.getTagById     : <==      Total: 1
2022-04-06 09:28:36.708 DEBUG 12684 --- [http-nio-8086-exec-4] com.kwok.mapper.TagMapper.getTagById     : ==>  Preparing: select * from tag where id = ?
2022-04-06 09:28:36.708 DEBUG 12684 --- [http-nio-8086-exec-4] com.kwok.mapper.TagMapper.getTagById     : ==> Parameters: 0(Integer)
2022-04-06 09:28:36.708 DEBUG 12684 --- [http-nio-8086-exec-4] com.kwok.mapper.TagMapper.getTagById     : <==      Total: 0
2022-04-06 09:28:38.176 DEBUG 12684 --- [http-nio-8086-exec-3] com.kwok.mapper.TagMapper.getTagById     : ==>  Preparing: select * from tag where id = ?
2022-04-06 09:28:38.176 DEBUG 12684 --- [http-nio-8086-exec-3] com.kwok.mapper.TagMapper.getTagById     : ==> Parameters: 3(Integer)
2022-04-06 09:28:38.177 DEBUG 12684 --- [http-nio-8086-exec-3] com.kwok.mapper.TagMapper.getTagById     : <==      Total: 1
2022-04-06 09:28:46.236 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.TagMapper.getTagByName   : ==>  Preparing: select * from tag where name = ?
2022-04-06 09:28:46.236 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.TagMapper.getTagByName   : ==> Parameters: SpringCloud(String)
2022-04-06 09:28:46.237 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.TagMapper.getTagByName   : <==      Total: 0
2022-04-06 09:28:46.238 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.TagMapper.updateTag      : ==>  Preparing: update tag set name=? where id = ?
2022-04-06 09:28:46.238 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.TagMapper.updateTag      : ==> Parameters: SpringCloud(String), 3(Integer)
2022-04-06 09:28:46.239 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.TagMapper.updateTag      : <==    Updates: 1
2022-04-06 09:28:46.244 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.TagMapper.getTagCount    : ==>  Preparing: select count(1) as count from tag
2022-04-06 09:28:46.244 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.TagMapper.getTagCount    : ==> Parameters: 
2022-04-06 09:28:46.244 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.TagMapper.getTagCount    : <==      Total: 1
2022-04-06 09:28:46.245 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.TagMapper.getTagList     : ==>  Preparing: select * from tag order by id desc limit ?,?
2022-04-06 09:28:46.245 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.TagMapper.getTagList     : ==> Parameters: 0(Integer), 5(Integer)
2022-04-06 09:28:46.245 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.TagMapper.getTagList     : <==      Total: 5
2022-04-06 09:28:46.246 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.TagMapper.getTagById     : ==>  Preparing: select * from tag where id = ?
2022-04-06 09:28:46.246 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.TagMapper.getTagById     : ==> Parameters: 15(Integer)
2022-04-06 09:28:46.247 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.TagMapper.getTagById     : <==      Total: 0
2022-04-06 09:28:46.247 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.TagMapper.getTagById     : ==>  Preparing: select * from tag where id = ?
2022-04-06 09:28:46.247 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.TagMapper.getTagById     : ==> Parameters: 9(Integer)
2022-04-06 09:28:46.248 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.TagMapper.getTagById     : <==      Total: 1
2022-04-06 09:28:47.801 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.TypeMapper.getTypeCount  : ==>  Preparing: select count(1) as count from type
2022-04-06 09:28:47.801 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.TypeMapper.getTypeCount  : ==> Parameters: 
2022-04-06 09:28:47.802 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.TypeMapper.getTypeCount  : <==      Total: 1
2022-04-06 09:28:47.802 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.TypeMapper.getTypeList   : ==>  Preparing: select * from type order by id desc limit ?,?
2022-04-06 09:28:47.802 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.TypeMapper.getTypeList   : ==> Parameters: 0(Integer), 5(Integer)
2022-04-06 09:28:47.803 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.TypeMapper.getTypeList   : <==      Total: 5
2022-04-06 09:28:47.803 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.TypeMapper.getTypeById   : ==>  Preparing: select * from type where id = ?
2022-04-06 09:28:47.803 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.TypeMapper.getTypeById   : ==> Parameters: 8(Integer)
2022-04-06 09:28:47.804 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.TypeMapper.getTypeById   : <==      Total: 0
2022-04-06 09:28:47.804 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.TypeMapper.getTypeById   : ==>  Preparing: select * from type where id = ?
2022-04-06 09:28:47.804 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.TypeMapper.getTypeById   : ==> Parameters: 2(Integer)
2022-04-06 09:28:47.805 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.TypeMapper.getTypeById   : <==      Total: 1
2022-04-06 09:28:48.409 DEBUG 12684 --- [http-nio-8086-exec-5] com.kwok.mapper.TagMapper.getTagCount    : ==>  Preparing: select count(1) as count from tag
2022-04-06 09:28:48.409 DEBUG 12684 --- [http-nio-8086-exec-5] com.kwok.mapper.TagMapper.getTagCount    : ==> Parameters: 
2022-04-06 09:28:48.410 DEBUG 12684 --- [http-nio-8086-exec-5] com.kwok.mapper.TagMapper.getTagCount    : <==      Total: 1
2022-04-06 09:28:48.410 DEBUG 12684 --- [http-nio-8086-exec-5] com.kwok.mapper.TagMapper.getTagList     : ==>  Preparing: select * from tag order by id desc limit ?,?
2022-04-06 09:28:48.410 DEBUG 12684 --- [http-nio-8086-exec-5] com.kwok.mapper.TagMapper.getTagList     : ==> Parameters: 0(Integer), 5(Integer)
2022-04-06 09:28:48.410 DEBUG 12684 --- [http-nio-8086-exec-5] com.kwok.mapper.TagMapper.getTagList     : <==      Total: 5
2022-04-06 09:28:48.410 DEBUG 12684 --- [http-nio-8086-exec-5] com.kwok.mapper.TagMapper.getTagById     : ==>  Preparing: select * from tag where id = ?
2022-04-06 09:28:48.411 DEBUG 12684 --- [http-nio-8086-exec-5] com.kwok.mapper.TagMapper.getTagById     : ==> Parameters: 15(Integer)
2022-04-06 09:28:48.411 DEBUG 12684 --- [http-nio-8086-exec-5] com.kwok.mapper.TagMapper.getTagById     : <==      Total: 0
2022-04-06 09:28:48.411 DEBUG 12684 --- [http-nio-8086-exec-5] com.kwok.mapper.TagMapper.getTagById     : ==>  Preparing: select * from tag where id = ?
2022-04-06 09:28:48.411 DEBUG 12684 --- [http-nio-8086-exec-5] com.kwok.mapper.TagMapper.getTagById     : ==> Parameters: 9(Integer)
2022-04-06 09:28:48.412 DEBUG 12684 --- [http-nio-8086-exec-5] com.kwok.mapper.TagMapper.getTagById     : <==      Total: 1
2022-04-06 09:28:49.458 DEBUG 12684 --- [http-nio-8086-exec-8] com.kwok.mapper.TagMapper.getTagCount    : ==>  Preparing: select count(1) as count from tag
2022-04-06 09:28:49.458 DEBUG 12684 --- [http-nio-8086-exec-8] com.kwok.mapper.TagMapper.getTagCount    : ==> Parameters: 
2022-04-06 09:28:49.458 DEBUG 12684 --- [http-nio-8086-exec-8] com.kwok.mapper.TagMapper.getTagCount    : <==      Total: 1
2022-04-06 09:28:49.458 DEBUG 12684 --- [http-nio-8086-exec-8] com.kwok.mapper.TagMapper.getTagList     : ==>  Preparing: select * from tag order by id desc limit ?,?
2022-04-06 09:28:49.459 DEBUG 12684 --- [http-nio-8086-exec-8] com.kwok.mapper.TagMapper.getTagList     : ==> Parameters: 5(Integer), 5(Integer)
2022-04-06 09:28:49.459 DEBUG 12684 --- [http-nio-8086-exec-8] com.kwok.mapper.TagMapper.getTagList     : <==      Total: 5
2022-04-06 09:28:49.459 DEBUG 12684 --- [http-nio-8086-exec-8] com.kwok.mapper.TagMapper.getTagById     : ==>  Preparing: select * from tag where id = ?
2022-04-06 09:28:49.459 DEBUG 12684 --- [http-nio-8086-exec-8] com.kwok.mapper.TagMapper.getTagById     : ==> Parameters: 10(Integer)
2022-04-06 09:28:49.460 DEBUG 12684 --- [http-nio-8086-exec-8] com.kwok.mapper.TagMapper.getTagById     : <==      Total: 1
2022-04-06 09:28:49.460 DEBUG 12684 --- [http-nio-8086-exec-8] com.kwok.mapper.TagMapper.getTagById     : ==>  Preparing: select * from tag where id = ?
2022-04-06 09:28:49.460 DEBUG 12684 --- [http-nio-8086-exec-8] com.kwok.mapper.TagMapper.getTagById     : ==> Parameters: 4(Integer)
2022-04-06 09:28:49.461 DEBUG 12684 --- [http-nio-8086-exec-8] com.kwok.mapper.TagMapper.getTagById     : <==      Total: 1
2022-04-06 09:28:50.410 DEBUG 12684 --- [http-nio-8086-exec-7] com.kwok.mapper.TagMapper.getTagCount    : ==>  Preparing: select count(1) as count from tag
2022-04-06 09:28:50.410 DEBUG 12684 --- [http-nio-8086-exec-7] com.kwok.mapper.TagMapper.getTagCount    : ==> Parameters: 
2022-04-06 09:28:50.410 DEBUG 12684 --- [http-nio-8086-exec-7] com.kwok.mapper.TagMapper.getTagCount    : <==      Total: 1
2022-04-06 09:28:50.411 DEBUG 12684 --- [http-nio-8086-exec-7] com.kwok.mapper.TagMapper.getTagList     : ==>  Preparing: select * from tag order by id desc limit ?,?
2022-04-06 09:28:50.411 DEBUG 12684 --- [http-nio-8086-exec-7] com.kwok.mapper.TagMapper.getTagList     : ==> Parameters: 10(Integer), 5(Integer)
2022-04-06 09:28:50.411 DEBUG 12684 --- [http-nio-8086-exec-7] com.kwok.mapper.TagMapper.getTagList     : <==      Total: 4
2022-04-06 09:28:50.412 DEBUG 12684 --- [http-nio-8086-exec-7] com.kwok.mapper.TagMapper.getTagById     : ==>  Preparing: select * from tag where id = ?
2022-04-06 09:28:50.412 DEBUG 12684 --- [http-nio-8086-exec-7] com.kwok.mapper.TagMapper.getTagById     : ==> Parameters: 5(Integer)
2022-04-06 09:28:50.412 DEBUG 12684 --- [http-nio-8086-exec-7] com.kwok.mapper.TagMapper.getTagById     : <==      Total: 1
2022-04-06 09:28:50.412 DEBUG 12684 --- [http-nio-8086-exec-7] com.kwok.mapper.TagMapper.getTagById     : ==>  Preparing: select * from tag where id = ?
2022-04-06 09:28:50.412 DEBUG 12684 --- [http-nio-8086-exec-7] com.kwok.mapper.TagMapper.getTagById     : ==> Parameters: 0(Integer)
2022-04-06 09:28:50.413 DEBUG 12684 --- [http-nio-8086-exec-7] com.kwok.mapper.TagMapper.getTagById     : <==      Total: 0
2022-04-06 09:28:52.026 DEBUG 12684 --- [http-nio-8086-exec-3] com.kwok.mapper.TagMapper.getTagCount    : ==>  Preparing: select count(1) as count from tag
2022-04-06 09:28:52.026 DEBUG 12684 --- [http-nio-8086-exec-3] com.kwok.mapper.TagMapper.getTagCount    : ==> Parameters: 
2022-04-06 09:28:52.027 DEBUG 12684 --- [http-nio-8086-exec-3] com.kwok.mapper.TagMapper.getTagCount    : <==      Total: 1
2022-04-06 09:28:52.027 DEBUG 12684 --- [http-nio-8086-exec-3] com.kwok.mapper.TagMapper.getTagList     : ==>  Preparing: select * from tag order by id desc limit ?,?
2022-04-06 09:28:52.027 DEBUG 12684 --- [http-nio-8086-exec-3] com.kwok.mapper.TagMapper.getTagList     : ==> Parameters: 5(Integer), 5(Integer)
2022-04-06 09:28:52.027 DEBUG 12684 --- [http-nio-8086-exec-3] com.kwok.mapper.TagMapper.getTagList     : <==      Total: 5
2022-04-06 09:28:52.027 DEBUG 12684 --- [http-nio-8086-exec-3] com.kwok.mapper.TagMapper.getTagById     : ==>  Preparing: select * from tag where id = ?
2022-04-06 09:28:52.028 DEBUG 12684 --- [http-nio-8086-exec-3] com.kwok.mapper.TagMapper.getTagById     : ==> Parameters: 10(Integer)
2022-04-06 09:28:52.028 DEBUG 12684 --- [http-nio-8086-exec-3] com.kwok.mapper.TagMapper.getTagById     : <==      Total: 1
2022-04-06 09:28:52.028 DEBUG 12684 --- [http-nio-8086-exec-3] com.kwok.mapper.TagMapper.getTagById     : ==>  Preparing: select * from tag where id = ?
2022-04-06 09:28:52.028 DEBUG 12684 --- [http-nio-8086-exec-3] com.kwok.mapper.TagMapper.getTagById     : ==> Parameters: 4(Integer)
2022-04-06 09:28:52.029 DEBUG 12684 --- [http-nio-8086-exec-3] com.kwok.mapper.TagMapper.getTagById     : <==      Total: 1
2022-04-06 09:28:52.840 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.TypeMapper.getTypeCount  : ==>  Preparing: select count(1) as count from type
2022-04-06 09:28:52.840 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.TypeMapper.getTypeCount  : ==> Parameters: 
2022-04-06 09:28:52.841 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.TypeMapper.getTypeCount  : <==      Total: 1
2022-04-06 09:28:52.841 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.TypeMapper.getTypeList   : ==>  Preparing: select * from type order by id desc limit ?,?
2022-04-06 09:28:52.841 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.TypeMapper.getTypeList   : ==> Parameters: 0(Integer), 5(Integer)
2022-04-06 09:28:52.842 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.TypeMapper.getTypeList   : <==      Total: 5
2022-04-06 09:28:52.842 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.TypeMapper.getTypeById   : ==>  Preparing: select * from type where id = ?
2022-04-06 09:28:52.842 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.TypeMapper.getTypeById   : ==> Parameters: 8(Integer)
2022-04-06 09:28:52.843 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.TypeMapper.getTypeById   : <==      Total: 0
2022-04-06 09:28:52.843 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.TypeMapper.getTypeById   : ==>  Preparing: select * from type where id = ?
2022-04-06 09:28:52.843 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.TypeMapper.getTypeById   : ==> Parameters: 2(Integer)
2022-04-06 09:28:52.843 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.TypeMapper.getTypeById   : <==      Total: 1
2022-04-06 09:28:56.079 DEBUG 12684 --- [http-nio-8086-exec-4] com.kwok.mapper.TagMapper.getTagCount    : ==>  Preparing: select count(1) as count from tag
2022-04-06 09:28:56.079 DEBUG 12684 --- [http-nio-8086-exec-4] com.kwok.mapper.TagMapper.getTagCount    : ==> Parameters: 
2022-04-06 09:28:56.080 DEBUG 12684 --- [http-nio-8086-exec-4] com.kwok.mapper.TagMapper.getTagCount    : <==      Total: 1
2022-04-06 09:28:56.081 DEBUG 12684 --- [http-nio-8086-exec-4] com.kwok.mapper.TagMapper.getTagList     : ==>  Preparing: select * from tag order by id desc limit ?,?
2022-04-06 09:28:56.081 DEBUG 12684 --- [http-nio-8086-exec-4] com.kwok.mapper.TagMapper.getTagList     : ==> Parameters: 0(Integer), 5(Integer)
2022-04-06 09:28:56.082 DEBUG 12684 --- [http-nio-8086-exec-4] com.kwok.mapper.TagMapper.getTagList     : <==      Total: 5
2022-04-06 09:28:56.082 DEBUG 12684 --- [http-nio-8086-exec-4] com.kwok.mapper.TagMapper.getTagById     : ==>  Preparing: select * from tag where id = ?
2022-04-06 09:28:56.082 DEBUG 12684 --- [http-nio-8086-exec-4] com.kwok.mapper.TagMapper.getTagById     : ==> Parameters: 15(Integer)
2022-04-06 09:28:56.083 DEBUG 12684 --- [http-nio-8086-exec-4] com.kwok.mapper.TagMapper.getTagById     : <==      Total: 0
2022-04-06 09:28:56.083 DEBUG 12684 --- [http-nio-8086-exec-4] com.kwok.mapper.TagMapper.getTagById     : ==>  Preparing: select * from tag where id = ?
2022-04-06 09:28:56.083 DEBUG 12684 --- [http-nio-8086-exec-4] com.kwok.mapper.TagMapper.getTagById     : ==> Parameters: 9(Integer)
2022-04-06 09:28:56.084 DEBUG 12684 --- [http-nio-8086-exec-4] com.kwok.mapper.TagMapper.getTagById     : <==      Total: 1
2022-04-06 09:28:57.019 DEBUG 12684 --- [http-nio-8086-exec-3] com.kwok.mapper.TagMapper.getTagCount    : ==>  Preparing: select count(1) as count from tag
2022-04-06 09:28:57.019 DEBUG 12684 --- [http-nio-8086-exec-3] com.kwok.mapper.TagMapper.getTagCount    : ==> Parameters: 
2022-04-06 09:28:57.019 DEBUG 12684 --- [http-nio-8086-exec-3] com.kwok.mapper.TagMapper.getTagCount    : <==      Total: 1
2022-04-06 09:28:57.019 DEBUG 12684 --- [http-nio-8086-exec-3] com.kwok.mapper.TagMapper.getTagList     : ==>  Preparing: select * from tag order by id desc limit ?,?
2022-04-06 09:28:57.020 DEBUG 12684 --- [http-nio-8086-exec-3] com.kwok.mapper.TagMapper.getTagList     : ==> Parameters: 5(Integer), 5(Integer)
2022-04-06 09:28:57.020 DEBUG 12684 --- [http-nio-8086-exec-3] com.kwok.mapper.TagMapper.getTagList     : <==      Total: 5
2022-04-06 09:28:57.020 DEBUG 12684 --- [http-nio-8086-exec-3] com.kwok.mapper.TagMapper.getTagById     : ==>  Preparing: select * from tag where id = ?
2022-04-06 09:28:57.020 DEBUG 12684 --- [http-nio-8086-exec-3] com.kwok.mapper.TagMapper.getTagById     : ==> Parameters: 10(Integer)
2022-04-06 09:28:57.021 DEBUG 12684 --- [http-nio-8086-exec-3] com.kwok.mapper.TagMapper.getTagById     : <==      Total: 1
2022-04-06 09:28:57.021 DEBUG 12684 --- [http-nio-8086-exec-3] com.kwok.mapper.TagMapper.getTagById     : ==>  Preparing: select * from tag where id = ?
2022-04-06 09:28:57.021 DEBUG 12684 --- [http-nio-8086-exec-3] com.kwok.mapper.TagMapper.getTagById     : ==> Parameters: 4(Integer)
2022-04-06 09:28:57.021 DEBUG 12684 --- [http-nio-8086-exec-3] com.kwok.mapper.TagMapper.getTagById     : <==      Total: 1
2022-04-06 09:28:57.882 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.TagMapper.getTagCount    : ==>  Preparing: select count(1) as count from tag
2022-04-06 09:28:57.882 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.TagMapper.getTagCount    : ==> Parameters: 
2022-04-06 09:28:57.883 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.TagMapper.getTagCount    : <==      Total: 1
2022-04-06 09:28:57.883 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.TagMapper.getTagList     : ==>  Preparing: select * from tag order by id desc limit ?,?
2022-04-06 09:28:57.884 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.TagMapper.getTagList     : ==> Parameters: 10(Integer), 5(Integer)
2022-04-06 09:28:57.884 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.TagMapper.getTagList     : <==      Total: 4
2022-04-06 09:28:57.884 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.TagMapper.getTagById     : ==>  Preparing: select * from tag where id = ?
2022-04-06 09:28:57.885 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.TagMapper.getTagById     : ==> Parameters: 5(Integer)
2022-04-06 09:28:57.885 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.TagMapper.getTagById     : <==      Total: 1
2022-04-06 09:28:57.885 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.TagMapper.getTagById     : ==>  Preparing: select * from tag where id = ?
2022-04-06 09:28:57.885 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.TagMapper.getTagById     : ==> Parameters: 0(Integer)
2022-04-06 09:28:57.886 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.TagMapper.getTagById     : <==      Total: 0
2022-04-06 09:28:59.543 DEBUG 12684 --- [http-nio-8086-exec-8] com.kwok.mapper.BlogMapper.getBlogCount  : ==>  Preparing: select count(1) as count from blog
2022-04-06 09:28:59.543 DEBUG 12684 --- [http-nio-8086-exec-8] com.kwok.mapper.BlogMapper.getBlogCount  : ==> Parameters: 
2022-04-06 09:28:59.545 DEBUG 12684 --- [http-nio-8086-exec-8] com.kwok.mapper.BlogMapper.getBlogCount  : <==      Total: 1
2022-04-06 09:28:59.545 DEBUG 12684 --- [http-nio-8086-exec-8] com.kwok.mapper.BlogMapper.getBlogList   : ==>  Preparing: select b.*,t.name as typeName from blog b,type t where b.type_id=t.id order by b.id desc limit ?,?
2022-04-06 09:28:59.545 DEBUG 12684 --- [http-nio-8086-exec-8] com.kwok.mapper.BlogMapper.getBlogList   : ==> Parameters: 0(Integer), 5(Integer)
2022-04-06 09:28:59.549 DEBUG 12684 --- [http-nio-8086-exec-8] com.kwok.mapper.BlogMapper.getBlogList   : <==      Total: 5
2022-04-06 09:28:59.550 DEBUG 12684 --- [http-nio-8086-exec-8] com.kwok.mapper.BlogMapper.getBlogById   : ==>  Preparing: select * from blog where id = ?
2022-04-06 09:28:59.550 DEBUG 12684 --- [http-nio-8086-exec-8] com.kwok.mapper.BlogMapper.getBlogById   : ==> Parameters: 83(Integer)
2022-04-06 09:28:59.551 DEBUG 12684 --- [http-nio-8086-exec-8] com.kwok.mapper.BlogMapper.getBlogById   : <==      Total: 0
2022-04-06 09:28:59.551 DEBUG 12684 --- [http-nio-8086-exec-8] com.kwok.mapper.BlogMapper.getBlogById   : ==>  Preparing: select * from blog where id = ?
2022-04-06 09:28:59.551 DEBUG 12684 --- [http-nio-8086-exec-8] com.kwok.mapper.BlogMapper.getBlogById   : ==> Parameters: 77(Integer)
2022-04-06 09:28:59.552 DEBUG 12684 --- [http-nio-8086-exec-8] com.kwok.mapper.BlogMapper.getBlogById   : <==      Total: 1
2022-04-06 09:28:59.553 DEBUG 12684 --- [http-nio-8086-exec-8] com.kwok.mapper.TypeMapper.listType      : ==>  Preparing: select * from type order by id desc
2022-04-06 09:28:59.553 DEBUG 12684 --- [http-nio-8086-exec-8] com.kwok.mapper.TypeMapper.listType      : ==> Parameters: 
2022-04-06 09:28:59.553 DEBUG 12684 --- [http-nio-8086-exec-8] com.kwok.mapper.TypeMapper.listType      : <==      Total: 7
2022-04-06 09:29:01.058 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.TypeMapper.listType      : ==>  Preparing: select * from type order by id desc
2022-04-06 09:29:01.058 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.TypeMapper.listType      : ==> Parameters: 
2022-04-06 09:29:01.059 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.TypeMapper.listType      : <==      Total: 7
2022-04-06 09:29:01.059 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.TagMapper.listTag        : ==>  Preparing: select * from tag order by id desc
2022-04-06 09:29:01.059 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.TagMapper.listTag        : ==> Parameters: 
2022-04-06 09:29:01.060 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.TagMapper.listTag        : <==      Total: 14
2022-04-06 09:32:32.276  INFO 12684 --- [http-nio-8086-exec-3] com.kwok.aspect.LogAspect                : Request : {url='http://localhost:8086/index', ip='0:0:0:0:0:0:0:1', classMethod='com.kwok.controller.IndexController.index', args=[org.apache.catalina.connector.RequestFacade@2bd08bff, org.apache.catalina.connector.ResponseFacade@569c43ae, {}]}
2022-04-06 09:32:32.277 DEBUG 12684 --- [http-nio-8086-exec-3] com.kwok.mapper.BlogMapper.getBlogCount  : ==>  Preparing: select count(1) as count from blog
2022-04-06 09:32:32.277 DEBUG 12684 --- [http-nio-8086-exec-3] com.kwok.mapper.BlogMapper.getBlogCount  : ==> Parameters: 
2022-04-06 09:32:32.278 DEBUG 12684 --- [http-nio-8086-exec-3] com.kwok.mapper.BlogMapper.getBlogCount  : <==      Total: 1
2022-04-06 09:32:32.278 DEBUG 12684 --- [http-nio-8086-exec-3] com.kwok.mapper.BlogMapper.getBlogList   : ==>  Preparing: select b.*,t.name as typeName from blog b,type t where b.type_id=t.id order by b.id desc limit ?,?
2022-04-06 09:32:32.279 DEBUG 12684 --- [http-nio-8086-exec-3] com.kwok.mapper.BlogMapper.getBlogList   : ==> Parameters: 0(Integer), 5(Integer)
2022-04-06 09:32:32.283 DEBUG 12684 --- [http-nio-8086-exec-3] com.kwok.mapper.BlogMapper.getBlogList   : <==      Total: 5
2022-04-06 09:32:32.283 DEBUG 12684 --- [http-nio-8086-exec-3] com.kwok.mapper.BlogMapper.getBlogById   : ==>  Preparing: select * from blog where id = ?
2022-04-06 09:32:32.283 DEBUG 12684 --- [http-nio-8086-exec-3] com.kwok.mapper.BlogMapper.getBlogById   : ==> Parameters: 83(Integer)
2022-04-06 09:32:32.284 DEBUG 12684 --- [http-nio-8086-exec-3] com.kwok.mapper.BlogMapper.getBlogById   : <==      Total: 0
2022-04-06 09:32:32.284 DEBUG 12684 --- [http-nio-8086-exec-3] com.kwok.mapper.BlogMapper.getBlogById   : ==>  Preparing: select * from blog where id = ?
2022-04-06 09:32:32.284 DEBUG 12684 --- [http-nio-8086-exec-3] com.kwok.mapper.BlogMapper.getBlogById   : ==> Parameters: 77(Integer)
2022-04-06 09:32:32.285 DEBUG 12684 --- [http-nio-8086-exec-3] com.kwok.mapper.BlogMapper.getBlogById   : <==      Total: 1
2022-04-06 09:32:32.285 DEBUG 12684 --- [http-nio-8086-exec-3] com.kwok.mapper.TagMapper.listTopTag     : ==>  Preparing: select tag.id,tag.name,tn.num from tag,(select tag_id,count(*) as num from blog_tag group by tag_id order by num desc) as tn where tag.id = tn.tag_id
2022-04-06 09:32:32.285 DEBUG 12684 --- [http-nio-8086-exec-3] com.kwok.mapper.TagMapper.listTopTag     : ==> Parameters: 
2022-04-06 09:32:32.286 DEBUG 12684 --- [http-nio-8086-exec-3] com.kwok.mapper.TagMapper.listTopTag     : <==      Total: 10
2022-04-06 09:32:32.287 DEBUG 12684 --- [http-nio-8086-exec-3] com.kwok.mapper.TypeMapper.listTopType   : ==>  Preparing: select type.id,type.name,tn.num from type,(select type_id,count(*) as num from blog group by type_id order by num desc) as tn where type.id = tn.type_id
2022-04-06 09:32:32.287 DEBUG 12684 --- [http-nio-8086-exec-3] com.kwok.mapper.TypeMapper.listTopType   : ==> Parameters: 
2022-04-06 09:32:32.288 DEBUG 12684 --- [http-nio-8086-exec-3] com.kwok.mapper.TypeMapper.listTopType   : <==      Total: 4
2022-04-06 09:32:32.288 DEBUG 12684 --- [http-nio-8086-exec-3] c.k.m.BlogMapper.listTopRecommendBlog    : ==>  Preparing: select * from blog where recommend = 1 order by update_time desc
2022-04-06 09:32:32.288 DEBUG 12684 --- [http-nio-8086-exec-3] c.k.m.BlogMapper.listTopRecommendBlog    : ==> Parameters: 
2022-04-06 09:32:32.291 DEBUG 12684 --- [http-nio-8086-exec-3] c.k.m.BlogMapper.listTopRecommendBlog    : <==      Total: 2
2022-04-06 09:32:32.291  INFO 12684 --- [http-nio-8086-exec-3] com.kwok.aspect.LogAspect                : Result : index
2022-04-06 09:32:55.482  INFO 12684 --- [http-nio-8086-exec-2] com.kwok.aspect.LogAspect                : Request : {url='http://localhost:8086/index', ip='0:0:0:0:0:0:0:1', classMethod='com.kwok.controller.IndexController.index', args=[org.apache.catalina.connector.RequestFacade@f05c437, org.apache.catalina.connector.ResponseFacade@1263b795, {}]}
2022-04-06 09:32:55.483 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.BlogMapper.getBlogCount  : ==>  Preparing: select count(1) as count from blog
2022-04-06 09:32:55.483 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.BlogMapper.getBlogCount  : ==> Parameters: 
2022-04-06 09:32:55.484 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.BlogMapper.getBlogCount  : <==      Total: 1
2022-04-06 09:32:55.484 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.BlogMapper.getBlogList   : ==>  Preparing: select b.*,t.name as typeName from blog b,type t where b.type_id=t.id order by b.id desc limit ?,?
2022-04-06 09:32:55.485 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.BlogMapper.getBlogList   : ==> Parameters: 0(Integer), 5(Integer)
2022-04-06 09:32:55.489 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.BlogMapper.getBlogList   : <==      Total: 5
2022-04-06 09:32:55.489 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.BlogMapper.getBlogById   : ==>  Preparing: select * from blog where id = ?
2022-04-06 09:32:55.489 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.BlogMapper.getBlogById   : ==> Parameters: 83(Integer)
2022-04-06 09:32:55.490 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.BlogMapper.getBlogById   : <==      Total: 0
2022-04-06 09:32:55.490 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.BlogMapper.getBlogById   : ==>  Preparing: select * from blog where id = ?
2022-04-06 09:32:55.490 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.BlogMapper.getBlogById   : ==> Parameters: 77(Integer)
2022-04-06 09:32:55.492 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.BlogMapper.getBlogById   : <==      Total: 1
2022-04-06 09:32:55.492 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.TagMapper.listTopTag     : ==>  Preparing: select tag.id,tag.name,tn.num from tag,(select tag_id,count(*) as num from blog_tag group by tag_id order by num desc) as tn where tag.id = tn.tag_id
2022-04-06 09:32:55.492 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.TagMapper.listTopTag     : ==> Parameters: 
2022-04-06 09:32:55.494 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.TagMapper.listTopTag     : <==      Total: 10
2022-04-06 09:32:55.494 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.TypeMapper.listTopType   : ==>  Preparing: select type.id,type.name,tn.num from type,(select type_id,count(*) as num from blog group by type_id order by num desc) as tn where type.id = tn.type_id
2022-04-06 09:32:55.494 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.TypeMapper.listTopType   : ==> Parameters: 
2022-04-06 09:32:55.494 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.TypeMapper.listTopType   : <==      Total: 4
2022-04-06 09:32:55.494 DEBUG 12684 --- [http-nio-8086-exec-2] c.k.m.BlogMapper.listTopRecommendBlog    : ==>  Preparing: select * from blog where recommend = 1 order by update_time desc
2022-04-06 09:32:55.495 DEBUG 12684 --- [http-nio-8086-exec-2] c.k.m.BlogMapper.listTopRecommendBlog    : ==> Parameters: 
2022-04-06 09:32:55.497 DEBUG 12684 --- [http-nio-8086-exec-2] c.k.m.BlogMapper.listTopRecommendBlog    : <==      Total: 2
2022-04-06 09:32:55.497  INFO 12684 --- [http-nio-8086-exec-2] com.kwok.aspect.LogAspect                : Result : index
2022-04-06 09:32:56.583  INFO 12684 --- [http-nio-8086-exec-5] com.kwok.aspect.LogAspect                : Request : {url='http://localhost:8086/types/-1', ip='0:0:0:0:0:0:0:1', classMethod='com.kwok.controller.TypeShowController.types', args=[-1, org.apache.catalina.connector.RequestFacade@253c6fd2, {}]}
2022-04-06 09:32:56.585 DEBUG 12684 --- [http-nio-8086-exec-5] com.kwok.mapper.TypeMapper.listType      : ==>  Preparing: select * from type order by id desc
2022-04-06 09:32:56.585 DEBUG 12684 --- [http-nio-8086-exec-5] com.kwok.mapper.TypeMapper.listType      : ==> Parameters: 
2022-04-06 09:32:56.587 DEBUG 12684 --- [http-nio-8086-exec-5] com.kwok.mapper.TypeMapper.listType      : <==      Total: 7
2022-04-06 09:32:56.587 DEBUG 12684 --- [http-nio-8086-exec-5] c.k.m.BlogMapper.getBlogCountByTypeId    : ==>  Preparing: select count(1) as count from blog where type_id = ?
2022-04-06 09:32:56.587 DEBUG 12684 --- [http-nio-8086-exec-5] c.k.m.BlogMapper.getBlogCountByTypeId    : ==> Parameters: 7(Integer)
2022-04-06 09:32:56.588 DEBUG 12684 --- [http-nio-8086-exec-5] c.k.m.BlogMapper.getBlogCountByTypeId    : <==      Total: 1
2022-04-06 09:32:56.588 DEBUG 12684 --- [http-nio-8086-exec-5] c.k.m.BlogMapper.getBlogCountByTypeId    : ==>  Preparing: select count(1) as count from blog where type_id = ?
2022-04-06 09:32:56.588 DEBUG 12684 --- [http-nio-8086-exec-5] c.k.m.BlogMapper.getBlogCountByTypeId    : ==> Parameters: 6(Integer)
2022-04-06 09:32:56.589 DEBUG 12684 --- [http-nio-8086-exec-5] c.k.m.BlogMapper.getBlogCountByTypeId    : <==      Total: 1
2022-04-06 09:32:56.589 DEBUG 12684 --- [http-nio-8086-exec-5] c.k.m.BlogMapper.getBlogCountByTypeId    : ==>  Preparing: select count(1) as count from blog where type_id = ?
2022-04-06 09:32:56.589 DEBUG 12684 --- [http-nio-8086-exec-5] c.k.m.BlogMapper.getBlogCountByTypeId    : ==> Parameters: 5(Integer)
2022-04-06 09:32:56.589 DEBUG 12684 --- [http-nio-8086-exec-5] c.k.m.BlogMapper.getBlogCountByTypeId    : <==      Total: 1
2022-04-06 09:32:56.589 DEBUG 12684 --- [http-nio-8086-exec-5] c.k.m.BlogMapper.getBlogCountByTypeId    : ==>  Preparing: select count(1) as count from blog where type_id = ?
2022-04-06 09:32:56.589 DEBUG 12684 --- [http-nio-8086-exec-5] c.k.m.BlogMapper.getBlogCountByTypeId    : ==> Parameters: 4(Integer)
2022-04-06 09:32:56.590 DEBUG 12684 --- [http-nio-8086-exec-5] c.k.m.BlogMapper.getBlogCountByTypeId    : <==      Total: 1
2022-04-06 09:32:56.590 DEBUG 12684 --- [http-nio-8086-exec-5] c.k.m.BlogMapper.getBlogCountByTypeId    : ==>  Preparing: select count(1) as count from blog where type_id = ?
2022-04-06 09:32:56.590 DEBUG 12684 --- [http-nio-8086-exec-5] c.k.m.BlogMapper.getBlogCountByTypeId    : ==> Parameters: 3(Integer)
2022-04-06 09:32:56.591 DEBUG 12684 --- [http-nio-8086-exec-5] c.k.m.BlogMapper.getBlogCountByTypeId    : <==      Total: 1
2022-04-06 09:32:56.591 DEBUG 12684 --- [http-nio-8086-exec-5] c.k.m.BlogMapper.getBlogCountByTypeId    : ==>  Preparing: select count(1) as count from blog where type_id = ?
2022-04-06 09:32:56.591 DEBUG 12684 --- [http-nio-8086-exec-5] c.k.m.BlogMapper.getBlogCountByTypeId    : ==> Parameters: 2(Integer)
2022-04-06 09:32:56.591 DEBUG 12684 --- [http-nio-8086-exec-5] c.k.m.BlogMapper.getBlogCountByTypeId    : <==      Total: 1
2022-04-06 09:32:56.591 DEBUG 12684 --- [http-nio-8086-exec-5] c.k.m.BlogMapper.getBlogCountByTypeId    : ==>  Preparing: select count(1) as count from blog where type_id = ?
2022-04-06 09:32:56.592 DEBUG 12684 --- [http-nio-8086-exec-5] c.k.m.BlogMapper.getBlogCountByTypeId    : ==> Parameters: 1(Integer)
2022-04-06 09:32:56.592 DEBUG 12684 --- [http-nio-8086-exec-5] c.k.m.BlogMapper.getBlogCountByTypeId    : <==      Total: 1
2022-04-06 09:32:56.592 DEBUG 12684 --- [http-nio-8086-exec-5] c.k.m.BlogMapper.getBlogCountByTypeId    : ==>  Preparing: select count(1) as count from blog where type_id = ?
2022-04-06 09:32:56.593 DEBUG 12684 --- [http-nio-8086-exec-5] c.k.m.BlogMapper.getBlogCountByTypeId    : ==> Parameters: 7(Integer)
2022-04-06 09:32:56.593 DEBUG 12684 --- [http-nio-8086-exec-5] c.k.m.BlogMapper.getBlogCountByTypeId    : <==      Total: 1
2022-04-06 09:32:56.594 DEBUG 12684 --- [http-nio-8086-exec-5] c.k.m.BlogMapper.getBlogListByTypeId     : ==>  Preparing: select b.*,t.name as typeName from blog b,type t where b.type_id=t.id and b.type_id=? order by b.id desc limit ?,?
2022-04-06 09:32:56.594 DEBUG 12684 --- [http-nio-8086-exec-5] c.k.m.BlogMapper.getBlogListByTypeId     : ==> Parameters: 7(Integer), 0(Integer), 5(Integer)
2022-04-06 09:32:56.595 DEBUG 12684 --- [http-nio-8086-exec-5] c.k.m.BlogMapper.getBlogListByTypeId     : <==      Total: 0
2022-04-06 09:32:56.595  INFO 12684 --- [http-nio-8086-exec-5] com.kwok.aspect.LogAspect                : Result : types
2022-04-06 09:32:57.672  INFO 12684 --- [http-nio-8086-exec-10] com.kwok.aspect.LogAspect                : Request : {url='http://localhost:8086/tags/-1', ip='0:0:0:0:0:0:0:1', classMethod='com.kwok.controller.TagShowController.tags', args=[-1, org.apache.catalina.connector.RequestFacade@253c6fd2, {}]}
2022-04-06 09:32:57.674 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.TagMapper.listTag        : ==>  Preparing: select * from tag order by id desc
2022-04-06 09:32:57.674 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.TagMapper.listTag        : ==> Parameters: 
2022-04-06 09:32:57.675 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.TagMapper.listTag        : <==      Total: 14
2022-04-06 09:32:57.675 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.TagMapper.tagCount       : ==>  Preparing: select count(1) as count from blog_tag where tag_id=?
2022-04-06 09:32:57.675 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.TagMapper.tagCount       : ==> Parameters: 14(Integer)
2022-04-06 09:32:57.675 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.TagMapper.tagCount       : <==      Total: 1
2022-04-06 09:32:57.676 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.TagMapper.tagCount       : ==>  Preparing: select count(1) as count from blog_tag where tag_id=?
2022-04-06 09:32:57.676 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.TagMapper.tagCount       : ==> Parameters: 13(Integer)
2022-04-06 09:32:57.676 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.TagMapper.tagCount       : <==      Total: 1
2022-04-06 09:32:57.676 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.TagMapper.tagCount       : ==>  Preparing: select count(1) as count from blog_tag where tag_id=?
2022-04-06 09:32:57.677 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.TagMapper.tagCount       : ==> Parameters: 12(Integer)
2022-04-06 09:32:57.677 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.TagMapper.tagCount       : <==      Total: 1
2022-04-06 09:32:57.677 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.TagMapper.tagCount       : ==>  Preparing: select count(1) as count from blog_tag where tag_id=?
2022-04-06 09:32:57.678 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.TagMapper.tagCount       : ==> Parameters: 11(Integer)
2022-04-06 09:32:57.678 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.TagMapper.tagCount       : <==      Total: 1
2022-04-06 09:32:57.679 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.TagMapper.tagCount       : ==>  Preparing: select count(1) as count from blog_tag where tag_id=?
2022-04-06 09:32:57.679 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.TagMapper.tagCount       : ==> Parameters: 10(Integer)
2022-04-06 09:32:57.679 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.TagMapper.tagCount       : <==      Total: 1
2022-04-06 09:32:57.679 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.TagMapper.tagCount       : ==>  Preparing: select count(1) as count from blog_tag where tag_id=?
2022-04-06 09:32:57.680 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.TagMapper.tagCount       : ==> Parameters: 9(Integer)
2022-04-06 09:32:57.680 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.TagMapper.tagCount       : <==      Total: 1
2022-04-06 09:32:57.680 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.TagMapper.tagCount       : ==>  Preparing: select count(1) as count from blog_tag where tag_id=?
2022-04-06 09:32:57.680 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.TagMapper.tagCount       : ==> Parameters: 8(Integer)
2022-04-06 09:32:57.681 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.TagMapper.tagCount       : <==      Total: 1
2022-04-06 09:32:57.681 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.TagMapper.tagCount       : ==>  Preparing: select count(1) as count from blog_tag where tag_id=?
2022-04-06 09:32:57.681 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.TagMapper.tagCount       : ==> Parameters: 7(Integer)
2022-04-06 09:32:57.682 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.TagMapper.tagCount       : <==      Total: 1
2022-04-06 09:32:57.682 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.TagMapper.tagCount       : ==>  Preparing: select count(1) as count from blog_tag where tag_id=?
2022-04-06 09:32:57.682 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.TagMapper.tagCount       : ==> Parameters: 6(Integer)
2022-04-06 09:32:57.682 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.TagMapper.tagCount       : <==      Total: 1
2022-04-06 09:32:57.683 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.TagMapper.tagCount       : ==>  Preparing: select count(1) as count from blog_tag where tag_id=?
2022-04-06 09:32:57.683 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.TagMapper.tagCount       : ==> Parameters: 5(Integer)
2022-04-06 09:32:57.683 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.TagMapper.tagCount       : <==      Total: 1
2022-04-06 09:32:57.684 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.TagMapper.tagCount       : ==>  Preparing: select count(1) as count from blog_tag where tag_id=?
2022-04-06 09:32:57.684 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.TagMapper.tagCount       : ==> Parameters: 4(Integer)
2022-04-06 09:32:57.684 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.TagMapper.tagCount       : <==      Total: 1
2022-04-06 09:32:57.684 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.TagMapper.tagCount       : ==>  Preparing: select count(1) as count from blog_tag where tag_id=?
2022-04-06 09:32:57.684 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.TagMapper.tagCount       : ==> Parameters: 3(Integer)
2022-04-06 09:32:57.685 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.TagMapper.tagCount       : <==      Total: 1
2022-04-06 09:32:57.686 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.TagMapper.tagCount       : ==>  Preparing: select count(1) as count from blog_tag where tag_id=?
2022-04-06 09:32:57.686 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.TagMapper.tagCount       : ==> Parameters: 2(Integer)
2022-04-06 09:32:57.686 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.TagMapper.tagCount       : <==      Total: 1
2022-04-06 09:32:57.686 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.TagMapper.tagCount       : ==>  Preparing: select count(1) as count from blog_tag where tag_id=?
2022-04-06 09:32:57.687 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.TagMapper.tagCount       : ==> Parameters: 1(Integer)
2022-04-06 09:32:57.687 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.TagMapper.tagCount       : <==      Total: 1
2022-04-06 09:32:57.687 DEBUG 12684 --- [http-nio-8086-exec-10] c.k.m.BlogMapper.getBlogCountByTagId     : ==>  Preparing: select count(1) as count from blog_tag where tag_id = ?
2022-04-06 09:32:57.687 DEBUG 12684 --- [http-nio-8086-exec-10] c.k.m.BlogMapper.getBlogCountByTagId     : ==> Parameters: 14(Integer)
2022-04-06 09:32:57.688 DEBUG 12684 --- [http-nio-8086-exec-10] c.k.m.BlogMapper.getBlogCountByTagId     : <==      Total: 1
2022-04-06 09:32:57.688 DEBUG 12684 --- [http-nio-8086-exec-10] c.k.m.BlogMapper.getBlogListByTagId      : ==>  Preparing: select b.*,bt.tag_id,t.name from blog b,blog_tag bt,tag t where bt.blog_id=b.id and bt.tag_id=t.id and bt.tag_id=? order by b.id desc limit ?,?
2022-04-06 09:32:57.688 DEBUG 12684 --- [http-nio-8086-exec-10] c.k.m.BlogMapper.getBlogListByTagId      : ==> Parameters: 14(Integer), 0(Integer), 5(Integer)
2022-04-06 09:32:57.691 DEBUG 12684 --- [http-nio-8086-exec-10] c.k.m.BlogMapper.getBlogListByTagId      : <==      Total: 5
2022-04-06 09:32:57.691 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.TypeMapper.getTypeById   : ==>  Preparing: select * from type where id = ?
2022-04-06 09:32:57.692 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.TypeMapper.getTypeById   : ==> Parameters: 6(Integer)
2022-04-06 09:32:57.692 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.TypeMapper.getTypeById   : <==      Total: 1
2022-04-06 09:32:57.692 DEBUG 12684 --- [http-nio-8086-exec-10] c.kwok.mapper.TagMapper.getTagsByBlogId  : ==>  Preparing: select t.* from tag t,blog_tag bt where t.id=bt.tag_id and bt.blog_id=?
2022-04-06 09:32:57.693 DEBUG 12684 --- [http-nio-8086-exec-10] c.kwok.mapper.TagMapper.getTagsByBlogId  : ==> Parameters: 66(Integer)
2022-04-06 09:32:57.693 DEBUG 12684 --- [http-nio-8086-exec-10] c.kwok.mapper.TagMapper.getTagsByBlogId  : <==      Total: 3
2022-04-06 09:32:57.693 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.TypeMapper.getTypeById   : ==>  Preparing: select * from type where id = ?
2022-04-06 09:32:57.693 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.TypeMapper.getTypeById   : ==> Parameters: 6(Integer)
2022-04-06 09:32:57.694 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.TypeMapper.getTypeById   : <==      Total: 1
2022-04-06 09:32:57.694 DEBUG 12684 --- [http-nio-8086-exec-10] c.kwok.mapper.TagMapper.getTagsByBlogId  : ==>  Preparing: select t.* from tag t,blog_tag bt where t.id=bt.tag_id and bt.blog_id=?
2022-04-06 09:32:57.694 DEBUG 12684 --- [http-nio-8086-exec-10] c.kwok.mapper.TagMapper.getTagsByBlogId  : ==> Parameters: 65(Integer)
2022-04-06 09:32:57.695 DEBUG 12684 --- [http-nio-8086-exec-10] c.kwok.mapper.TagMapper.getTagsByBlogId  : <==      Total: 3
2022-04-06 09:32:57.695 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.TypeMapper.getTypeById   : ==>  Preparing: select * from type where id = ?
2022-04-06 09:32:57.695 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.TypeMapper.getTypeById   : ==> Parameters: 6(Integer)
2022-04-06 09:32:57.695 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.TypeMapper.getTypeById   : <==      Total: 1
2022-04-06 09:32:57.695 DEBUG 12684 --- [http-nio-8086-exec-10] c.kwok.mapper.TagMapper.getTagsByBlogId  : ==>  Preparing: select t.* from tag t,blog_tag bt where t.id=bt.tag_id and bt.blog_id=?
2022-04-06 09:32:57.695 DEBUG 12684 --- [http-nio-8086-exec-10] c.kwok.mapper.TagMapper.getTagsByBlogId  : ==> Parameters: 64(Integer)
2022-04-06 09:32:57.696 DEBUG 12684 --- [http-nio-8086-exec-10] c.kwok.mapper.TagMapper.getTagsByBlogId  : <==      Total: 3
2022-04-06 09:32:57.696 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.TypeMapper.getTypeById   : ==>  Preparing: select * from type where id = ?
2022-04-06 09:32:57.696 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.TypeMapper.getTypeById   : ==> Parameters: 6(Integer)
2022-04-06 09:32:57.696 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.TypeMapper.getTypeById   : <==      Total: 1
2022-04-06 09:32:57.696 DEBUG 12684 --- [http-nio-8086-exec-10] c.kwok.mapper.TagMapper.getTagsByBlogId  : ==>  Preparing: select t.* from tag t,blog_tag bt where t.id=bt.tag_id and bt.blog_id=?
2022-04-06 09:32:57.696 DEBUG 12684 --- [http-nio-8086-exec-10] c.kwok.mapper.TagMapper.getTagsByBlogId  : ==> Parameters: 63(Integer)
2022-04-06 09:32:57.697 DEBUG 12684 --- [http-nio-8086-exec-10] c.kwok.mapper.TagMapper.getTagsByBlogId  : <==      Total: 3
2022-04-06 09:32:57.697 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.TypeMapper.getTypeById   : ==>  Preparing: select * from type where id = ?
2022-04-06 09:32:57.697 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.TypeMapper.getTypeById   : ==> Parameters: 6(Integer)
2022-04-06 09:32:57.698 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.TypeMapper.getTypeById   : <==      Total: 1
2022-04-06 09:32:57.698 DEBUG 12684 --- [http-nio-8086-exec-10] c.kwok.mapper.TagMapper.getTagsByBlogId  : ==>  Preparing: select t.* from tag t,blog_tag bt where t.id=bt.tag_id and bt.blog_id=?
2022-04-06 09:32:57.698 DEBUG 12684 --- [http-nio-8086-exec-10] c.kwok.mapper.TagMapper.getTagsByBlogId  : ==> Parameters: 62(Integer)
2022-04-06 09:32:57.698 DEBUG 12684 --- [http-nio-8086-exec-10] c.kwok.mapper.TagMapper.getTagsByBlogId  : <==      Total: 3
2022-04-06 09:32:57.699 DEBUG 12684 --- [http-nio-8086-exec-10] c.k.m.BlogMapper.getPreBlogsByTagId      : ==>  Preparing: select b.* from blog b,blog_tag bt where b.id = bt.blog_id and bt.tag_id=? and b.id > ?
2022-04-06 09:32:57.699 DEBUG 12684 --- [http-nio-8086-exec-10] c.k.m.BlogMapper.getPreBlogsByTagId      : ==> Parameters: 14(Integer), 66(Integer)
2022-04-06 09:32:57.699 DEBUG 12684 --- [http-nio-8086-exec-10] c.k.m.BlogMapper.getPreBlogsByTagId      : <==      Total: 0
2022-04-06 09:32:57.700 DEBUG 12684 --- [http-nio-8086-exec-10] c.k.m.BlogMapper.getNextBlogsByTagId     : ==>  Preparing: select b.* from blog b,blog_tag bt where b.id = bt.blog_id and bt.tag_id=? and ? > b.id
2022-04-06 09:32:57.700 DEBUG 12684 --- [http-nio-8086-exec-10] c.k.m.BlogMapper.getNextBlogsByTagId     : ==> Parameters: 14(Integer), 62(Integer)
2022-04-06 09:32:57.702 DEBUG 12684 --- [http-nio-8086-exec-10] c.k.m.BlogMapper.getNextBlogsByTagId     : <==      Total: 4
2022-04-06 09:32:57.702  INFO 12684 --- [http-nio-8086-exec-10] com.kwok.aspect.LogAspect                : Result : tags
2022-04-06 09:32:59.767  INFO 12684 --- [http-nio-8086-exec-9] com.kwok.aspect.LogAspect                : Request : {url='http://localhost:8086/archives', ip='0:0:0:0:0:0:0:1', classMethod='com.kwok.controller.ArchiveShowController.archives', args=[{}]}
2022-04-06 09:32:59.770 DEBUG 12684 --- [http-nio-8086-exec-9] c.kwok.mapper.BlogMapper.findGroupYear   : ==>  Preparing: select date_format(b.update_time,'%Y') as year from blog b group by year order by year desc
2022-04-06 09:32:59.770 DEBUG 12684 --- [http-nio-8086-exec-9] c.kwok.mapper.BlogMapper.findGroupYear   : ==> Parameters: 
2022-04-06 09:32:59.777 DEBUG 12684 --- [http-nio-8086-exec-9] c.kwok.mapper.BlogMapper.findGroupYear   : <==      Total: 1
2022-04-06 09:32:59.777 DEBUG 12684 --- [http-nio-8086-exec-9] c.kwok.mapper.BlogMapper.findBlogByYear  : ==>  Preparing: select * from blog b where date_format(b.update_time,'%Y') = ?
2022-04-06 09:32:59.777 DEBUG 12684 --- [http-nio-8086-exec-9] c.kwok.mapper.BlogMapper.findBlogByYear  : ==> Parameters: 2022(String)
2022-04-06 09:32:59.809 DEBUG 12684 --- [http-nio-8086-exec-9] c.kwok.mapper.BlogMapper.findBlogByYear  : <==      Total: 82
2022-04-06 09:32:59.810 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.BlogMapper.getBlogCount  : ==>  Preparing: select count(1) as count from blog
2022-04-06 09:32:59.810 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.BlogMapper.getBlogCount  : ==> Parameters: 
2022-04-06 09:32:59.811 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.BlogMapper.getBlogCount  : <==      Total: 1
2022-04-06 09:32:59.811  INFO 12684 --- [http-nio-8086-exec-9] com.kwok.aspect.LogAspect                : Result : archives
2022-04-06 09:33:02.312  INFO 12684 --- [http-nio-8086-exec-6] com.kwok.aspect.LogAspect                : Request : {url='http://localhost:8086/index', ip='0:0:0:0:0:0:0:1', classMethod='com.kwok.controller.IndexController.index', args=[org.apache.catalina.connector.RequestFacade@f05c437, org.apache.catalina.connector.ResponseFacade@1263b795, {}]}
2022-04-06 09:33:02.313 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.BlogMapper.getBlogCount  : ==>  Preparing: select count(1) as count from blog
2022-04-06 09:33:02.313 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.BlogMapper.getBlogCount  : ==> Parameters: 
2022-04-06 09:33:02.314 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.BlogMapper.getBlogCount  : <==      Total: 1
2022-04-06 09:33:02.315 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.BlogMapper.getBlogList   : ==>  Preparing: select b.*,t.name as typeName from blog b,type t where b.type_id=t.id order by b.id desc limit ?,?
2022-04-06 09:33:02.315 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.BlogMapper.getBlogList   : ==> Parameters: 0(Integer), 5(Integer)
2022-04-06 09:33:02.319 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.BlogMapper.getBlogList   : <==      Total: 5
2022-04-06 09:33:02.319 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.BlogMapper.getBlogById   : ==>  Preparing: select * from blog where id = ?
2022-04-06 09:33:02.319 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.BlogMapper.getBlogById   : ==> Parameters: 83(Integer)
2022-04-06 09:33:02.320 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.BlogMapper.getBlogById   : <==      Total: 0
2022-04-06 09:33:02.320 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.BlogMapper.getBlogById   : ==>  Preparing: select * from blog where id = ?
2022-04-06 09:33:02.320 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.BlogMapper.getBlogById   : ==> Parameters: 77(Integer)
2022-04-06 09:33:02.321 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.BlogMapper.getBlogById   : <==      Total: 1
2022-04-06 09:33:02.322 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.TagMapper.listTopTag     : ==>  Preparing: select tag.id,tag.name,tn.num from tag,(select tag_id,count(*) as num from blog_tag group by tag_id order by num desc) as tn where tag.id = tn.tag_id
2022-04-06 09:33:02.322 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.TagMapper.listTopTag     : ==> Parameters: 
2022-04-06 09:33:02.323 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.TagMapper.listTopTag     : <==      Total: 10
2022-04-06 09:33:02.323 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.TypeMapper.listTopType   : ==>  Preparing: select type.id,type.name,tn.num from type,(select type_id,count(*) as num from blog group by type_id order by num desc) as tn where type.id = tn.type_id
2022-04-06 09:33:02.323 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.TypeMapper.listTopType   : ==> Parameters: 
2022-04-06 09:33:02.324 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.TypeMapper.listTopType   : <==      Total: 4
2022-04-06 09:33:02.325 DEBUG 12684 --- [http-nio-8086-exec-6] c.k.m.BlogMapper.listTopRecommendBlog    : ==>  Preparing: select * from blog where recommend = 1 order by update_time desc
2022-04-06 09:33:02.325 DEBUG 12684 --- [http-nio-8086-exec-6] c.k.m.BlogMapper.listTopRecommendBlog    : ==> Parameters: 
2022-04-06 09:33:02.327 DEBUG 12684 --- [http-nio-8086-exec-6] c.k.m.BlogMapper.listTopRecommendBlog    : <==      Total: 2
2022-04-06 09:33:02.328  INFO 12684 --- [http-nio-8086-exec-6] com.kwok.aspect.LogAspect                : Result : index
2022-04-06 09:33:13.443  INFO 12684 --- [http-nio-8086-exec-3] com.kwok.aspect.LogAspect                : Request : {url='http://localhost:8086/index', ip='0:0:0:0:0:0:0:1', classMethod='com.kwok.controller.IndexController.index', args=[org.apache.catalina.connector.RequestFacade@6d43fb79, org.apache.catalina.connector.ResponseFacade@638418a1, {}]}
2022-04-06 09:33:13.443 DEBUG 12684 --- [http-nio-8086-exec-3] com.kwok.mapper.BlogMapper.getBlogCount  : ==>  Preparing: select count(1) as count from blog
2022-04-06 09:33:13.443 DEBUG 12684 --- [http-nio-8086-exec-3] com.kwok.mapper.BlogMapper.getBlogCount  : ==> Parameters: 
2022-04-06 09:33:13.445 DEBUG 12684 --- [http-nio-8086-exec-3] com.kwok.mapper.BlogMapper.getBlogCount  : <==      Total: 1
2022-04-06 09:33:13.445 DEBUG 12684 --- [http-nio-8086-exec-3] com.kwok.mapper.BlogMapper.getBlogList   : ==>  Preparing: select b.*,t.name as typeName from blog b,type t where b.type_id=t.id order by b.id desc limit ?,?
2022-04-06 09:33:13.445 DEBUG 12684 --- [http-nio-8086-exec-3] com.kwok.mapper.BlogMapper.getBlogList   : ==> Parameters: 0(Integer), 5(Integer)
2022-04-06 09:33:13.449 DEBUG 12684 --- [http-nio-8086-exec-3] com.kwok.mapper.BlogMapper.getBlogList   : <==      Total: 5
2022-04-06 09:33:13.449 DEBUG 12684 --- [http-nio-8086-exec-3] com.kwok.mapper.BlogMapper.getBlogById   : ==>  Preparing: select * from blog where id = ?
2022-04-06 09:33:13.449 DEBUG 12684 --- [http-nio-8086-exec-3] com.kwok.mapper.BlogMapper.getBlogById   : ==> Parameters: 83(Integer)
2022-04-06 09:33:13.450 DEBUG 12684 --- [http-nio-8086-exec-3] com.kwok.mapper.BlogMapper.getBlogById   : <==      Total: 0
2022-04-06 09:33:13.450 DEBUG 12684 --- [http-nio-8086-exec-3] com.kwok.mapper.BlogMapper.getBlogById   : ==>  Preparing: select * from blog where id = ?
2022-04-06 09:33:13.450 DEBUG 12684 --- [http-nio-8086-exec-3] com.kwok.mapper.BlogMapper.getBlogById   : ==> Parameters: 77(Integer)
2022-04-06 09:33:13.451 DEBUG 12684 --- [http-nio-8086-exec-3] com.kwok.mapper.BlogMapper.getBlogById   : <==      Total: 1
2022-04-06 09:33:13.451 DEBUG 12684 --- [http-nio-8086-exec-3] com.kwok.mapper.TagMapper.listTopTag     : ==>  Preparing: select tag.id,tag.name,tn.num from tag,(select tag_id,count(*) as num from blog_tag group by tag_id order by num desc) as tn where tag.id = tn.tag_id
2022-04-06 09:33:13.452 DEBUG 12684 --- [http-nio-8086-exec-3] com.kwok.mapper.TagMapper.listTopTag     : ==> Parameters: 
2022-04-06 09:33:13.453 DEBUG 12684 --- [http-nio-8086-exec-3] com.kwok.mapper.TagMapper.listTopTag     : <==      Total: 10
2022-04-06 09:33:13.454 DEBUG 12684 --- [http-nio-8086-exec-3] com.kwok.mapper.TypeMapper.listTopType   : ==>  Preparing: select type.id,type.name,tn.num from type,(select type_id,count(*) as num from blog group by type_id order by num desc) as tn where type.id = tn.type_id
2022-04-06 09:33:13.454 DEBUG 12684 --- [http-nio-8086-exec-3] com.kwok.mapper.TypeMapper.listTopType   : ==> Parameters: 
2022-04-06 09:33:13.455 DEBUG 12684 --- [http-nio-8086-exec-3] com.kwok.mapper.TypeMapper.listTopType   : <==      Total: 4
2022-04-06 09:33:13.455 DEBUG 12684 --- [http-nio-8086-exec-3] c.k.m.BlogMapper.listTopRecommendBlog    : ==>  Preparing: select * from blog where recommend = 1 order by update_time desc
2022-04-06 09:33:13.455 DEBUG 12684 --- [http-nio-8086-exec-3] c.k.m.BlogMapper.listTopRecommendBlog    : ==> Parameters: 
2022-04-06 09:33:13.457 DEBUG 12684 --- [http-nio-8086-exec-3] c.k.m.BlogMapper.listTopRecommendBlog    : <==      Total: 2
2022-04-06 09:33:13.458  INFO 12684 --- [http-nio-8086-exec-3] com.kwok.aspect.LogAspect                : Result : index
2022-04-06 09:33:19.500 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.BlogMapper.getLastBlog   : ==>  Preparing: select * from blog order by id desc limit 1
2022-04-06 09:33:19.500 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.BlogMapper.getLastBlog   : ==> Parameters: 
2022-04-06 09:33:19.502 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.BlogMapper.getLastBlog   : <==      Total: 1
2022-04-06 09:33:19.502 DEBUG 12684 --- [http-nio-8086-exec-2] c.k.mapper.BlogtagMapper.getLastBlogtag  : ==>  Preparing: select * from blog_tag order by id desc limit 1
2022-04-06 09:33:19.502 DEBUG 12684 --- [http-nio-8086-exec-2] c.k.mapper.BlogtagMapper.getLastBlogtag  : ==> Parameters: 
2022-04-06 09:33:19.503 DEBUG 12684 --- [http-nio-8086-exec-2] c.k.mapper.BlogtagMapper.getLastBlogtag  : <==      Total: 1
2022-04-06 09:33:19.503 DEBUG 12684 --- [http-nio-8086-exec-2] c.kwok.mapper.BlogtagMapper.saveBlogtag  : ==>  Preparing: insert into blog_tag (id, blog_id, tag_id) values (?, ?,?)
2022-04-06 09:33:19.503 DEBUG 12684 --- [http-nio-8086-exec-2] c.kwok.mapper.BlogtagMapper.saveBlogtag  : ==> Parameters: 198(Integer), 83(Integer), 3(Integer)
2022-04-06 09:33:19.504 DEBUG 12684 --- [http-nio-8086-exec-2] c.kwok.mapper.BlogtagMapper.saveBlogtag  : <==    Updates: 1
2022-04-06 09:33:19.504 DEBUG 12684 --- [http-nio-8086-exec-2] c.k.mapper.BlogtagMapper.getLastBlogtag  : ==>  Preparing: select * from blog_tag order by id desc limit 1
2022-04-06 09:33:19.504 DEBUG 12684 --- [http-nio-8086-exec-2] c.k.mapper.BlogtagMapper.getLastBlogtag  : ==> Parameters: 
2022-04-06 09:33:19.505 DEBUG 12684 --- [http-nio-8086-exec-2] c.k.mapper.BlogtagMapper.getLastBlogtag  : <==      Total: 1
2022-04-06 09:33:19.505 DEBUG 12684 --- [http-nio-8086-exec-2] c.kwok.mapper.BlogtagMapper.saveBlogtag  : ==>  Preparing: insert into blog_tag (id, blog_id, tag_id) values (?, ?,?)
2022-04-06 09:33:19.505 DEBUG 12684 --- [http-nio-8086-exec-2] c.kwok.mapper.BlogtagMapper.saveBlogtag  : ==> Parameters: 199(Integer), 83(Integer), 11(Integer)
2022-04-06 09:33:19.505 DEBUG 12684 --- [http-nio-8086-exec-2] c.kwok.mapper.BlogtagMapper.saveBlogtag  : <==    Updates: 1
2022-04-06 09:33:19.505 DEBUG 12684 --- [http-nio-8086-exec-2] c.k.mapper.BlogtagMapper.getLastBlogtag  : ==>  Preparing: select * from blog_tag order by id desc limit 1
2022-04-06 09:33:19.505 DEBUG 12684 --- [http-nio-8086-exec-2] c.k.mapper.BlogtagMapper.getLastBlogtag  : ==> Parameters: 
2022-04-06 09:33:19.506 DEBUG 12684 --- [http-nio-8086-exec-2] c.k.mapper.BlogtagMapper.getLastBlogtag  : <==      Total: 1
2022-04-06 09:33:19.506 DEBUG 12684 --- [http-nio-8086-exec-2] c.kwok.mapper.BlogtagMapper.saveBlogtag  : ==>  Preparing: insert into blog_tag (id, blog_id, tag_id) values (?, ?,?)
2022-04-06 09:33:19.506 DEBUG 12684 --- [http-nio-8086-exec-2] c.kwok.mapper.BlogtagMapper.saveBlogtag  : ==> Parameters: 200(Integer), 83(Integer), 4(Integer)
2022-04-06 09:33:19.507 DEBUG 12684 --- [http-nio-8086-exec-2] c.kwok.mapper.BlogtagMapper.saveBlogtag  : <==    Updates: 1
2022-04-06 09:33:19.507 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.BlogMapper.saveBlog      : ==>  Preparing: insert into blog (id, title,description, content, first_picture, flag, views, appreciation, share_statement, commentabled, published, recommend, create_time, update_time, type_id, user_id) values (?,?,?,?,?,?, ?,?,?,?, ?,?,?,?,?,?)
2022-04-06 09:33:19.508 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.BlogMapper.saveBlog      : ==> Parameters: 83(Integer), SpringCloud-微服务(String), 微服务(Microservice Architecture) 是近几年流行的一种架构思想，关于它的概念很难一言以蔽之。究竟什么是微服务呢？我们在此引用ThoughtWorks 公司的首席科学家 Martin Fowler 于2014年提出的一段话：(String), # 1.学习前言

## 1.1 学习前提

- 熟练使用SpringBoot 微服务快速开发框架

- 了解过Dubbo + Zookeeper 分布式基础

- 电脑配置内存不低于8G(我自己的是16G)

## 1.2 文章大纲

#### Spring Cloud 五大组件



- 服务注册与发现——**Netflix Eureka**
- 负载均衡：

  - 客户端负载均衡——**Netflix Ribbon**

  - 服务端负载均衡：——**Feign**(其也是依赖于Ribbon，只是将调用方式RestTemplete 更改成Service 接口)

- 断路器——**Netflix Hystrix**
- 服务网关——**Netflix Zuul**

- 分布式配置——**Spring Cloud Config**

## 1.3 常见面试题

1.1 什么是微服务？

1.2 微服务之间是如何独立通讯的？

1.3 SpringCloud 和 Dubbo有那些区别？

1.4 SpringBoot 和 SpringCloud，请谈谈你对他们的理解

1.5 什么是服务熔断？什么是服务降级？

1.6 微服务的优缺点分别是什么？说下你在项目开发中遇到的坑

1.7 你所知道的微服务技术栈有哪些？列举一二

1.8 Eureka和Zookeeper都可以提供服务注册与发现的功能，请说说两者的区别

…

# 2.微服务概述



## 2.1 什么是微服务？

#### 什么是微服务？

&emsp;&emsp;微服务(Microservice Architecture) 是近几年流行的一种架构思想，关于它的概念很难一言以蔽之。

&emsp;&emsp;究竟什么是微服务呢？我们在此引用ThoughtWorks 公司的首席科学家 Martin Fowler 于2014年提出的一段话：

原文：[https://martinfowler.com/articles/microservices.html](https://martinfowler.com/articles/microservices.html)

汉化：[https://www.cnblogs.com/liuning8023/p/4493156.html](https://www.cnblogs.com/liuning8023/p/4493156.html)

- 就目前而言，对于微服务，业界并没有一个统一的，标准的定义。
- 但通常而言，微服务架构是一种架构模式，或者说是一种架构风格，**它体长将单一的应用程序划分成一组小的服务**，每个服务运行在其独立的自己的进程内，服务之间互相协调，互相配置，为用户提供最终价值，服务之间采用轻量级的通信机制(**HTTP**)互相沟通，每个服务都围绕着具体的业务进行构建，并且能狗被独立的部署到生产环境中，另外，应尽量避免统一的，集中式的服务管理机制，对具体的一个服务而言，应该根据业务上下文，选择合适的语言，工具(**Maven**)对其进行构建，可以有一个非常轻量级的集中式管理来协调这些服务，可以使用不同的语言来编写服务，也可以使用不同的数据存储。

#### 再来从技术维度角度理解下：

- 微服务化的核心就是将传统的一站式应用，根据业务拆分成一个一个的服务，彻底地去耦合，每一个微服务提供单个业务功能的服务，一个服务做一件事情，从技术角度看就是一种小而独立的处理过程，类似进程的概念，能够自行单独启动或销毁，拥有自己独立的数据库。

## 2.2 微服务与微服务架构

#### 微服务

&emsp;&emsp;强调的是服务的大小，它关注的是某一个点，是具体解决某一个问题/提供落地对应服务的一个服务应用，狭义的看，可以看作是IDEA中的一个个微服务工程，或者Moudel。

```python
IDEA 工具里面使用Maven开发的一个个独立的小Moudel，它具体是使用SpringBoot开发的一个小模块，专业的事情交给专业的模块来做，一个模块就做着一件事情。强调的是一个个的个体，每个个体完成一个具体的任务或者功能。
```

#### 微服务架构

&emsp;&emsp;一种新的架构形式，Martin Fowler 于2014年提出。

&emsp;&emsp;微服务架构是一种架构模式，它体长将单一应用程序划分成一组小的服务，服务之间相互协调，互相配合，为用户提供最终价值。每个服务运行在其独立的进程中，服务与服务之间采用轻量级的通信机制**(如HTTP)**互相协作，每个服务都围绕着具体的业务进行构建，并且能够被独立的部署到生产环境中，另外，应尽量避免统一的，集中式的服务管理机制，对具体的一个服务而言，应根据业务上下文，选择合适的语言、工具**(如Maven)**对其进行构建。

## 2.3 微服务优缺点

#### 优点

- 单一职责原则；
- 每个服务足够内聚，足够小，代码容易理解，这样能聚焦一个指定的业务功能或业务需求；

- 开发简单，开发效率高，一个服务可能就是专一的只干一件事；
- 微服务能够被小团队单独开发，这个团队只需2-5个开发人员组成；

- 微服务是松耦合的，是有功能意义的服务，无论是在开发阶段或部署阶段都是独立的；
- 微服务能使用不同的语言开发；

- 易于和第三方集成，微服务允许容易且灵活的方式集成自动部署，通过持续集成工具，如jenkins，Hudson，bamboo；
- 微服务易于被一个开发人员理解，修改和维护，这样小团队能够更关注自己的工作成果，无需通过合作才能体现价值；

- 微服务允许利用和融合最新技术；
- **微服务只是业务逻辑的代码，不会和HTML，CSS，或其他的界面混合;**

- **每个微服务都有自己的存储能力，可以有自己的数据库，也可以有统一的数据库；**

#### 缺点

- 开发人员要处理分布式系统的复杂性；
- 多服务运维难度，随着服务的增加，运维的压力也在增大；

- 系统部署依赖问题；
- 服务间通信成本问题；

- 数据一致性问题；
- 系统集成测试问题；

- 性能和监控问题；

## 2.4 微服务技术栈有那些？

| **微服务技术条目**                     | **落地技术**                                                 |
| -------------------------------------- | ------------------------------------------------------------ |
| 服务开发                               | SpringBoot、Spring、SpringMVC等                              |
| 服务配置与管理                         | Netfix公司的Archaius、阿里的Diamond等                        |
| 服务注册与发现                         | Eureka、Consul、Zookeeper等                                  |
| 服务调用                               | Rest、PRC、gRPC                                              |
| 服务熔断器                             | Hystrix、Envoy等                                             |
| 负载均衡                               | Ribbon、Nginx等                                              |
| 服务接口调用(客户端调用服务的简化工具) | Fegin等                                                      |
| 消息队列                               | Kafka、RabbitMQ、ActiveMQ等                                  |
| 服务配置中心管理                       | SpringCloudConfig、Chef等                                    |
| 服务路由(API网关)                      | Zuul等                                                       |
| 服务监控                               | Zabbix、Nagios、Metrics、Specatator等                        |
| 全链路追踪                             | Zipkin、Brave、Dapper等                                      |
| 数据流操作开发包                       | SpringCloud Stream(封装与Redis，Rabbit，Kafka等发送接收消息) |
| 时间消息总栈                           | SpringCloud Bus                                              |
| 服务部署                               | Docker、OpenStack、Kubernetes等                              |

## 2.5 为什么选择SpringCloud作为微服务架构

1.选型依据

- 整体解决方案和框架成熟度
- 社区热度

- 可维护性
- 学习曲线



2.当前各大IT公司用的微服务架构有那些？

- 阿里：dubbo+HFS
- 京东：JFS

- 新浪：Motan
- 当当网：DubboX…



3.各微服务框架对比

| **功能点/服务框架** | **Netflix/SpringCloud**                                      | **Motan**                                                   | **gRPC**                  | **Thrift** | **Dubbo/DubboX**                    |
| ------------------- | ------------------------------------------------------------ | ----------------------------------------------------------- | ------------------------- | ---------- | ----------------------------------- |
| 功能定位            | 完整的微服务框架                                             | RPC框架，但整合了ZK或Consul，实现集群环境的基本服务注册发现 | RPC框架                   | RPC框架    | 服务框架                            |
| 支持Rest            | 是，Ribbon支持多种可拔插的序列号选择                         | 否                                                          | 否                        | 否         | 否                                  |
| 支持RPC             | 否                                                           | 是(Hession2)                                                | 是                        | 是         | 是                                  |
| 支持多语言          | 是(Rest形式)                                                 | 否                                                          | 是                        | 是         | 否                                  |
| 负载均衡            | 是(服务端zuul+客户端Ribbon)，zuul-服务，动态路由，云端负载均衡Eureka（针对中间层服务器） | 是(客户端)                                                  | 否                        | 否         | 是(客户端)                          |
| 配置服务            | Netfix Archaius，Spring Cloud Config Server 集中配置         | 是(Zookeeper提供)                                           | 否                        | 否         | 否                                  |
| 服务调用链监控      | 是(zuul)，zuul提供边缘服务，API网关                          | 否                                                          | 否                        | 否         | 否                                  |
| 高可用/容错         | 是(服务端Hystrix+客户端Ribbon)                               | 是(客户端)                                                  | 否                        | 否         | 是(客户端)                          |
| 典型应用案例        | Netflix                                                      | Sina                                                        | Google                    | Facebook   |                                     |
| 社区活跃程度        | 高                                                           | 一般                                                        | 高                        | 一般       | 2017年后重新开始维护，之前中断了5年 |
| 学习难度            | 中等                                                         | 低                                                          | 高                        | 高         | 低                                  |
| 文档丰富程度        | 高                                                           | 一般                                                        | 一般                      | 一般       | 高                                  |
| 其他                | Spring Cloud Bus为我们的应用程序带来了更多管理端点           | 支持降级                                                    | Netflix内部在开发集成gRPC | IDL定义    | 实践的公司比较多                    |

(String), http://110.42.213.171:8080/blogimgs/83.png(String), 原创(String), 0(Integer), true(Boolean), true(Boolean), true(Boolean), true(Boolean), false(Boolean), 2022-04-06 09:33:19.502(Timestamp), 2022-04-06 09:33:19.502(Timestamp), 7(Integer), 1(Integer)
2022-04-06 09:33:19.511 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.BlogMapper.saveBlog      : <==    Updates: 1
2022-04-06 09:33:19.517 DEBUG 12684 --- [http-nio-8086-exec-7] com.kwok.mapper.BlogMapper.getBlogCount  : ==>  Preparing: select count(1) as count from blog
2022-04-06 09:33:19.518 DEBUG 12684 --- [http-nio-8086-exec-7] com.kwok.mapper.BlogMapper.getBlogCount  : ==> Parameters: 
2022-04-06 09:33:19.519 DEBUG 12684 --- [http-nio-8086-exec-7] com.kwok.mapper.BlogMapper.getBlogCount  : <==      Total: 1
2022-04-06 09:33:19.519 DEBUG 12684 --- [http-nio-8086-exec-7] com.kwok.mapper.BlogMapper.getBlogList   : ==>  Preparing: select b.*,t.name as typeName from blog b,type t where b.type_id=t.id order by b.id desc limit ?,?
2022-04-06 09:33:19.519 DEBUG 12684 --- [http-nio-8086-exec-7] com.kwok.mapper.BlogMapper.getBlogList   : ==> Parameters: 0(Integer), 5(Integer)
2022-04-06 09:33:19.523 DEBUG 12684 --- [http-nio-8086-exec-7] com.kwok.mapper.BlogMapper.getBlogList   : <==      Total: 5
2022-04-06 09:33:19.523 DEBUG 12684 --- [http-nio-8086-exec-7] com.kwok.mapper.BlogMapper.getBlogById   : ==>  Preparing: select * from blog where id = ?
2022-04-06 09:33:19.523 DEBUG 12684 --- [http-nio-8086-exec-7] com.kwok.mapper.BlogMapper.getBlogById   : ==> Parameters: 84(Integer)
2022-04-06 09:33:19.524 DEBUG 12684 --- [http-nio-8086-exec-7] com.kwok.mapper.BlogMapper.getBlogById   : <==      Total: 0
2022-04-06 09:33:19.524 DEBUG 12684 --- [http-nio-8086-exec-7] com.kwok.mapper.BlogMapper.getBlogById   : ==>  Preparing: select * from blog where id = ?
2022-04-06 09:33:19.524 DEBUG 12684 --- [http-nio-8086-exec-7] com.kwok.mapper.BlogMapper.getBlogById   : ==> Parameters: 78(Integer)
2022-04-06 09:33:19.525 DEBUG 12684 --- [http-nio-8086-exec-7] com.kwok.mapper.BlogMapper.getBlogById   : <==      Total: 1
2022-04-06 09:33:19.526 DEBUG 12684 --- [http-nio-8086-exec-7] com.kwok.mapper.TypeMapper.listType      : ==>  Preparing: select * from type order by id desc
2022-04-06 09:33:19.526 DEBUG 12684 --- [http-nio-8086-exec-7] com.kwok.mapper.TypeMapper.listType      : ==> Parameters: 
2022-04-06 09:33:19.526 DEBUG 12684 --- [http-nio-8086-exec-7] com.kwok.mapper.TypeMapper.listType      : <==      Total: 7
2022-04-06 09:33:20.723 DEBUG 12684 --- [http-nio-8086-exec-8] com.kwok.mapper.BlogMapper.getBlogCount  : ==>  Preparing: select count(1) as count from blog
2022-04-06 09:33:20.723 DEBUG 12684 --- [http-nio-8086-exec-8] com.kwok.mapper.BlogMapper.getBlogCount  : ==> Parameters: 
2022-04-06 09:33:20.725 DEBUG 12684 --- [http-nio-8086-exec-8] com.kwok.mapper.BlogMapper.getBlogCount  : <==      Total: 1
2022-04-06 09:33:20.725 DEBUG 12684 --- [http-nio-8086-exec-8] com.kwok.mapper.BlogMapper.getBlogList   : ==>  Preparing: select b.*,t.name as typeName from blog b,type t where b.type_id=t.id order by b.id desc limit ?,?
2022-04-06 09:33:20.725 DEBUG 12684 --- [http-nio-8086-exec-8] com.kwok.mapper.BlogMapper.getBlogList   : ==> Parameters: 0(Integer), 5(Integer)
2022-04-06 09:33:20.728 DEBUG 12684 --- [http-nio-8086-exec-8] com.kwok.mapper.BlogMapper.getBlogList   : <==      Total: 5
2022-04-06 09:33:20.728 DEBUG 12684 --- [http-nio-8086-exec-8] com.kwok.mapper.BlogMapper.getBlogById   : ==>  Preparing: select * from blog where id = ?
2022-04-06 09:33:20.729 DEBUG 12684 --- [http-nio-8086-exec-8] com.kwok.mapper.BlogMapper.getBlogById   : ==> Parameters: 84(Integer)
2022-04-06 09:33:20.729 DEBUG 12684 --- [http-nio-8086-exec-8] com.kwok.mapper.BlogMapper.getBlogById   : <==      Total: 0
2022-04-06 09:33:20.729 DEBUG 12684 --- [http-nio-8086-exec-8] com.kwok.mapper.BlogMapper.getBlogById   : ==>  Preparing: select * from blog where id = ?
2022-04-06 09:33:20.729 DEBUG 12684 --- [http-nio-8086-exec-8] com.kwok.mapper.BlogMapper.getBlogById   : ==> Parameters: 78(Integer)
2022-04-06 09:33:20.731 DEBUG 12684 --- [http-nio-8086-exec-8] com.kwok.mapper.BlogMapper.getBlogById   : <==      Total: 1
2022-04-06 09:33:20.731 DEBUG 12684 --- [http-nio-8086-exec-8] com.kwok.mapper.TypeMapper.listType      : ==>  Preparing: select * from type order by id desc
2022-04-06 09:33:20.731 DEBUG 12684 --- [http-nio-8086-exec-8] com.kwok.mapper.TypeMapper.listType      : ==> Parameters: 
2022-04-06 09:33:20.732 DEBUG 12684 --- [http-nio-8086-exec-8] com.kwok.mapper.TypeMapper.listType      : <==      Total: 7
2022-04-06 09:33:21.468 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.BlogMapper.getBlogCount  : ==>  Preparing: select count(1) as count from blog
2022-04-06 09:33:21.468 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.BlogMapper.getBlogCount  : ==> Parameters: 
2022-04-06 09:33:21.470 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.BlogMapper.getBlogCount  : <==      Total: 1
2022-04-06 09:33:21.470 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.BlogMapper.getBlogList   : ==>  Preparing: select b.*,t.name as typeName from blog b,type t where b.type_id=t.id order by b.id desc limit ?,?
2022-04-06 09:33:21.470 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.BlogMapper.getBlogList   : ==> Parameters: 0(Integer), 5(Integer)
2022-04-06 09:33:21.473 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.BlogMapper.getBlogList   : <==      Total: 5
2022-04-06 09:33:21.473 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.BlogMapper.getBlogById   : ==>  Preparing: select * from blog where id = ?
2022-04-06 09:33:21.473 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.BlogMapper.getBlogById   : ==> Parameters: 84(Integer)
2022-04-06 09:33:21.474 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.BlogMapper.getBlogById   : <==      Total: 0
2022-04-06 09:33:21.474 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.BlogMapper.getBlogById   : ==>  Preparing: select * from blog where id = ?
2022-04-06 09:33:21.474 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.BlogMapper.getBlogById   : ==> Parameters: 78(Integer)
2022-04-06 09:33:21.476 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.BlogMapper.getBlogById   : <==      Total: 1
2022-04-06 09:33:21.476 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.TypeMapper.listType      : ==>  Preparing: select * from type order by id desc
2022-04-06 09:33:21.476 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.TypeMapper.listType      : ==> Parameters: 
2022-04-06 09:33:21.477 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.TypeMapper.listType      : <==      Total: 7
2022-04-06 09:33:22.794  INFO 12684 --- [http-nio-8086-exec-1] com.kwok.aspect.LogAspect                : Request : {url='http://localhost:8086/index', ip='0:0:0:0:0:0:0:1', classMethod='com.kwok.controller.IndexController.index', args=[org.apache.catalina.connector.RequestFacade@2bd08bff, org.apache.catalina.connector.ResponseFacade@569c43ae, {}]}
2022-04-06 09:33:22.795 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.BlogMapper.getBlogCount  : ==>  Preparing: select count(1) as count from blog
2022-04-06 09:33:22.795 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.BlogMapper.getBlogCount  : ==> Parameters: 
2022-04-06 09:33:22.796 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.BlogMapper.getBlogCount  : <==      Total: 1
2022-04-06 09:33:22.797 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.BlogMapper.getBlogList   : ==>  Preparing: select b.*,t.name as typeName from blog b,type t where b.type_id=t.id order by b.id desc limit ?,?
2022-04-06 09:33:22.797 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.BlogMapper.getBlogList   : ==> Parameters: 0(Integer), 5(Integer)
2022-04-06 09:33:22.800 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.BlogMapper.getBlogList   : <==      Total: 5
2022-04-06 09:33:22.800 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.BlogMapper.getBlogById   : ==>  Preparing: select * from blog where id = ?
2022-04-06 09:33:22.800 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.BlogMapper.getBlogById   : ==> Parameters: 84(Integer)
2022-04-06 09:33:22.801 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.BlogMapper.getBlogById   : <==      Total: 0
2022-04-06 09:33:22.801 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.BlogMapper.getBlogById   : ==>  Preparing: select * from blog where id = ?
2022-04-06 09:33:22.801 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.BlogMapper.getBlogById   : ==> Parameters: 78(Integer)
2022-04-06 09:33:22.803 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.BlogMapper.getBlogById   : <==      Total: 1
2022-04-06 09:33:22.803 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.TagMapper.listTopTag     : ==>  Preparing: select tag.id,tag.name,tn.num from tag,(select tag_id,count(*) as num from blog_tag group by tag_id order by num desc) as tn where tag.id = tn.tag_id
2022-04-06 09:33:22.803 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.TagMapper.listTopTag     : ==> Parameters: 
2022-04-06 09:33:22.804 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.TagMapper.listTopTag     : <==      Total: 11
2022-04-06 09:33:22.805 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.TypeMapper.listTopType   : ==>  Preparing: select type.id,type.name,tn.num from type,(select type_id,count(*) as num from blog group by type_id order by num desc) as tn where type.id = tn.type_id
2022-04-06 09:33:22.805 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.TypeMapper.listTopType   : ==> Parameters: 
2022-04-06 09:33:22.805 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.TypeMapper.listTopType   : <==      Total: 5
2022-04-06 09:33:22.805 DEBUG 12684 --- [http-nio-8086-exec-1] c.k.m.BlogMapper.listTopRecommendBlog    : ==>  Preparing: select * from blog where recommend = 1 order by update_time desc
2022-04-06 09:33:22.805 DEBUG 12684 --- [http-nio-8086-exec-1] c.k.m.BlogMapper.listTopRecommendBlog    : ==> Parameters: 
2022-04-06 09:33:22.808 DEBUG 12684 --- [http-nio-8086-exec-1] c.k.m.BlogMapper.listTopRecommendBlog    : <==      Total: 2
2022-04-06 09:33:22.808  INFO 12684 --- [http-nio-8086-exec-1] com.kwok.aspect.LogAspect                : Result : index
2022-04-06 09:33:35.360  INFO 12684 --- [http-nio-8086-exec-1] com.kwok.aspect.LogAspect                : Request : {url='http://localhost:8086/blog/83', ip='0:0:0:0:0:0:0:1', classMethod='com.kwok.controller.IndexController.blog', args=[83, {}]}
2022-04-06 09:33:35.361 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.BlogMapper.getBlogById   : ==>  Preparing: select * from blog where id = ?
2022-04-06 09:33:35.361 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.BlogMapper.getBlogById   : ==> Parameters: 83(Integer)
2022-04-06 09:33:35.363 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.BlogMapper.getBlogById   : <==      Total: 1
2022-04-06 09:33:35.363 DEBUG 12684 --- [http-nio-8086-exec-1] c.k.mapper.BlogMapper.updateBlogViews    : ==>  Preparing: update blog set views=? where id = ?
2022-04-06 09:33:35.363 DEBUG 12684 --- [http-nio-8086-exec-1] c.k.mapper.BlogMapper.updateBlogViews    : ==> Parameters: 1(Integer), 83(Integer)
2022-04-06 09:33:35.365 DEBUG 12684 --- [http-nio-8086-exec-1] c.k.mapper.BlogMapper.updateBlogViews    : <==    Updates: 1
2022-04-06 09:33:35.372 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.BlogMapper.getBlogById   : ==>  Preparing: select * from blog where id = ?
2022-04-06 09:33:35.372 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.BlogMapper.getBlogById   : ==> Parameters: 83(Integer)
2022-04-06 09:33:35.373 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.BlogMapper.getBlogById   : <==      Total: 1
2022-04-06 09:33:35.379 DEBUG 12684 --- [http-nio-8086-exec-1] c.k.m.BlogtagMapper.getTagIdByBlogId     : ==>  Preparing: select * from blog_tag where blog_id = ?
2022-04-06 09:33:35.379 DEBUG 12684 --- [http-nio-8086-exec-1] c.k.m.BlogtagMapper.getTagIdByBlogId     : ==> Parameters: 83(Integer)
2022-04-06 09:33:35.380 DEBUG 12684 --- [http-nio-8086-exec-1] c.k.m.BlogtagMapper.getTagIdByBlogId     : <==      Total: 3
2022-04-06 09:33:35.380 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.TagMapper.getShowTags    : ==>  Preparing: select * from tag where id in ( ? , ? , ? )
2022-04-06 09:33:35.380 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.TagMapper.getShowTags    : ==> Parameters: 3(Integer), 11(Integer), 4(Integer)
2022-04-06 09:33:35.381 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.TagMapper.getShowTags    : <==      Total: 3
2022-04-06 09:33:35.381  INFO 12684 --- [http-nio-8086-exec-1] com.kwok.aspect.LogAspect                : Result : blog
2022-04-06 09:33:35.924  INFO 12684 --- [http-nio-8086-exec-8] com.kwok.aspect.LogAspect                : Request : {url='http://localhost:8086/comments/83', ip='0:0:0:0:0:0:0:1', classMethod='com.kwok.controller.CommentController.comments', args=[83, {}]}
2022-04-06 09:33:35.924 DEBUG 12684 --- [http-nio-8086-exec-8] c.k.m.CommentMapper.listCommentByBlogId  : ==>  Preparing: select * from comment where blog_id = ? and parent_id = 0 order by creat_time asc
2022-04-06 09:33:35.924 DEBUG 12684 --- [http-nio-8086-exec-8] c.k.m.CommentMapper.listCommentByBlogId  : ==> Parameters: 83(Integer)
2022-04-06 09:33:35.925 DEBUG 12684 --- [http-nio-8086-exec-8] c.k.m.CommentMapper.listCommentByBlogId  : <==      Total: 0
2022-04-06 09:33:35.925  INFO 12684 --- [http-nio-8086-exec-8] com.kwok.aspect.LogAspect                : Result : blog :: commentList
2022-04-06 09:33:55.270 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.BlogMapper.getBlogCount  : ==>  Preparing: select count(1) as count from blog
2022-04-06 09:33:55.271 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.BlogMapper.getBlogCount  : ==> Parameters: 
2022-04-06 09:33:55.272 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.BlogMapper.getBlogCount  : <==      Total: 1
2022-04-06 09:33:55.272 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.BlogMapper.getBlogList   : ==>  Preparing: select b.*,t.name as typeName from blog b,type t where b.type_id=t.id order by b.id desc limit ?,?
2022-04-06 09:33:55.272 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.BlogMapper.getBlogList   : ==> Parameters: 0(Integer), 5(Integer)
2022-04-06 09:33:55.276 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.BlogMapper.getBlogList   : <==      Total: 5
2022-04-06 09:33:55.276 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.BlogMapper.getBlogById   : ==>  Preparing: select * from blog where id = ?
2022-04-06 09:33:55.276 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.BlogMapper.getBlogById   : ==> Parameters: 84(Integer)
2022-04-06 09:33:55.277 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.BlogMapper.getBlogById   : <==      Total: 0
2022-04-06 09:33:55.277 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.BlogMapper.getBlogById   : ==>  Preparing: select * from blog where id = ?
2022-04-06 09:33:55.277 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.BlogMapper.getBlogById   : ==> Parameters: 78(Integer)
2022-04-06 09:33:55.279 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.BlogMapper.getBlogById   : <==      Total: 1
2022-04-06 09:33:55.279 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.TypeMapper.listType      : ==>  Preparing: select * from type order by id desc
2022-04-06 09:33:55.279 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.TypeMapper.listType      : ==> Parameters: 
2022-04-06 09:33:55.280 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.TypeMapper.listType      : <==      Total: 7
2022-04-06 09:33:56.376 DEBUG 12684 --- [http-nio-8086-exec-4] com.kwok.mapper.TypeMapper.listType      : ==>  Preparing: select * from type order by id desc
2022-04-06 09:33:56.376 DEBUG 12684 --- [http-nio-8086-exec-4] com.kwok.mapper.TypeMapper.listType      : ==> Parameters: 
2022-04-06 09:33:56.377 DEBUG 12684 --- [http-nio-8086-exec-4] com.kwok.mapper.TypeMapper.listType      : <==      Total: 7
2022-04-06 09:33:56.377 DEBUG 12684 --- [http-nio-8086-exec-4] com.kwok.mapper.TagMapper.listTag        : ==>  Preparing: select * from tag order by id desc
2022-04-06 09:33:56.377 DEBUG 12684 --- [http-nio-8086-exec-4] com.kwok.mapper.TagMapper.listTag        : ==> Parameters: 
2022-04-06 09:33:56.378 DEBUG 12684 --- [http-nio-8086-exec-4] com.kwok.mapper.TagMapper.listTag        : <==      Total: 14
2022-04-06 09:33:56.378 DEBUG 12684 --- [http-nio-8086-exec-4] com.kwok.mapper.BlogMapper.getBlogById   : ==>  Preparing: select * from blog where id = ?
2022-04-06 09:33:56.378 DEBUG 12684 --- [http-nio-8086-exec-4] com.kwok.mapper.BlogMapper.getBlogById   : ==> Parameters: 83(Integer)
2022-04-06 09:33:56.379 DEBUG 12684 --- [http-nio-8086-exec-4] com.kwok.mapper.BlogMapper.getBlogById   : <==      Total: 1
2022-04-06 09:33:56.379 DEBUG 12684 --- [http-nio-8086-exec-4] c.k.m.BlogtagMapper.getTagIdByBlogId     : ==>  Preparing: select * from blog_tag where blog_id = ?
2022-04-06 09:33:56.379 DEBUG 12684 --- [http-nio-8086-exec-4] c.k.m.BlogtagMapper.getTagIdByBlogId     : ==> Parameters: 83(Integer)
2022-04-06 09:33:56.380 DEBUG 12684 --- [http-nio-8086-exec-4] c.k.m.BlogtagMapper.getTagIdByBlogId     : <==      Total: 3
2022-04-06 09:34:01.192 DEBUG 12684 --- [http-nio-8086-exec-10] c.k.m.BlogtagMapper.deletePreBlogtag     : ==>  Preparing: delete from blog_tag where blog_id = ?
2022-04-06 09:34:01.192 DEBUG 12684 --- [http-nio-8086-exec-10] c.k.m.BlogtagMapper.deletePreBlogtag     : ==> Parameters: 83(Integer)
2022-04-06 09:34:01.193 DEBUG 12684 --- [http-nio-8086-exec-10] c.k.m.BlogtagMapper.deletePreBlogtag     : <==    Updates: 3
2022-04-06 09:34:01.194 DEBUG 12684 --- [http-nio-8086-exec-10] c.k.mapper.BlogtagMapper.getLastBlogtag  : ==>  Preparing: select * from blog_tag order by id desc limit 1
2022-04-06 09:34:01.194 DEBUG 12684 --- [http-nio-8086-exec-10] c.k.mapper.BlogtagMapper.getLastBlogtag  : ==> Parameters: 
2022-04-06 09:34:01.195 DEBUG 12684 --- [http-nio-8086-exec-10] c.k.mapper.BlogtagMapper.getLastBlogtag  : <==      Total: 1
2022-04-06 09:34:01.195 DEBUG 12684 --- [http-nio-8086-exec-10] c.kwok.mapper.BlogtagMapper.saveBlogtag  : ==>  Preparing: insert into blog_tag (id, blog_id, tag_id) values (?, ?,?)
2022-04-06 09:34:01.195 DEBUG 12684 --- [http-nio-8086-exec-10] c.kwok.mapper.BlogtagMapper.saveBlogtag  : ==> Parameters: 198(Integer), 83(Integer), 3(Integer)
2022-04-06 09:34:01.196 DEBUG 12684 --- [http-nio-8086-exec-10] c.kwok.mapper.BlogtagMapper.saveBlogtag  : <==    Updates: 1
2022-04-06 09:34:01.196 DEBUG 12684 --- [http-nio-8086-exec-10] c.k.mapper.BlogtagMapper.getLastBlogtag  : ==>  Preparing: select * from blog_tag order by id desc limit 1
2022-04-06 09:34:01.196 DEBUG 12684 --- [http-nio-8086-exec-10] c.k.mapper.BlogtagMapper.getLastBlogtag  : ==> Parameters: 
2022-04-06 09:34:01.197 DEBUG 12684 --- [http-nio-8086-exec-10] c.k.mapper.BlogtagMapper.getLastBlogtag  : <==      Total: 1
2022-04-06 09:34:01.197 DEBUG 12684 --- [http-nio-8086-exec-10] c.kwok.mapper.BlogtagMapper.saveBlogtag  : ==>  Preparing: insert into blog_tag (id, blog_id, tag_id) values (?, ?,?)
2022-04-06 09:34:01.197 DEBUG 12684 --- [http-nio-8086-exec-10] c.kwok.mapper.BlogtagMapper.saveBlogtag  : ==> Parameters: 199(Integer), 83(Integer), 11(Integer)
2022-04-06 09:34:01.197 DEBUG 12684 --- [http-nio-8086-exec-10] c.kwok.mapper.BlogtagMapper.saveBlogtag  : <==    Updates: 1
2022-04-06 09:34:01.197 DEBUG 12684 --- [http-nio-8086-exec-10] c.k.mapper.BlogtagMapper.getLastBlogtag  : ==>  Preparing: select * from blog_tag order by id desc limit 1
2022-04-06 09:34:01.197 DEBUG 12684 --- [http-nio-8086-exec-10] c.k.mapper.BlogtagMapper.getLastBlogtag  : ==> Parameters: 
2022-04-06 09:34:01.198 DEBUG 12684 --- [http-nio-8086-exec-10] c.k.mapper.BlogtagMapper.getLastBlogtag  : <==      Total: 1
2022-04-06 09:34:01.198 DEBUG 12684 --- [http-nio-8086-exec-10] c.kwok.mapper.BlogtagMapper.saveBlogtag  : ==>  Preparing: insert into blog_tag (id, blog_id, tag_id) values (?, ?,?)
2022-04-06 09:34:01.198 DEBUG 12684 --- [http-nio-8086-exec-10] c.kwok.mapper.BlogtagMapper.saveBlogtag  : ==> Parameters: 200(Integer), 83(Integer), 4(Integer)
2022-04-06 09:34:01.199 DEBUG 12684 --- [http-nio-8086-exec-10] c.kwok.mapper.BlogtagMapper.saveBlogtag  : <==    Updates: 1
2022-04-06 09:34:01.199 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.BlogMapper.updateBlog    : ==>  Preparing: update blog set title=?,content=?,description=?, first_picture=?, flag=?,appreciation=?, share_statement=?,commentabled=?, published=?,recommend=?, update_time=?,type_id=? where id = ?
2022-04-06 09:34:01.200 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.BlogMapper.updateBlog    : ==> Parameters: SpringCloud-微服务(String), # 1.学习前言

## 1.1 学习前提

- 熟练使用SpringBoot 微服务快速开发框架

- 了解过Dubbo + Zookeeper 分布式基础

- 电脑配置内存不低于8G(我自己的是16G)

## 1.2 文章大纲

#### Spring Cloud 五大组件



- 服务注册与发现——**Netflix Eureka**
- 负载均衡：

  - 客户端负载均衡——**Netflix Ribbon**

  - 服务端负载均衡：——**Feign**(其也是依赖于Ribbon，只是将调用方式RestTemplete 更改成Service 接口)

- 断路器——**Netflix Hystrix**
- 服务网关——**Netflix Zuul**

- 分布式配置——**Spring Cloud Config**

## 1.3 常见面试题

1.1 什么是微服务？

1.2 微服务之间是如何独立通讯的？

1.3 SpringCloud 和 Dubbo有那些区别？

1.4 SpringBoot 和 SpringCloud，请谈谈你对他们的理解

1.5 什么是服务熔断？什么是服务降级？

1.6 微服务的优缺点分别是什么？说下你在项目开发中遇到的坑

1.7 你所知道的微服务技术栈有哪些？列举一二

1.8 Eureka和Zookeeper都可以提供服务注册与发现的功能，请说说两者的区别

…

# 2.微服务概述



## 2.1 什么是微服务？

#### 什么是微服务？

&emsp;&emsp;微服务(Microservice Architecture) 是近几年流行的一种架构思想，关于它的概念很难一言以蔽之。

&emsp;&emsp;究竟什么是微服务呢？我们在此引用ThoughtWorks 公司的首席科学家 Martin Fowler 于2014年提出的一段话：

原文：[https://martinfowler.com/articles/microservices.html](https://martinfowler.com/articles/microservices.html)

汉化：[https://www.cnblogs.com/liuning8023/p/4493156.html](https://www.cnblogs.com/liuning8023/p/4493156.html)

- 就目前而言，对于微服务，业界并没有一个统一的，标准的定义。
- 但通常而言，微服务架构是一种架构模式，或者说是一种架构风格，**它体长将单一的应用程序划分成一组小的服务**，每个服务运行在其独立的自己的进程内，服务之间互相协调，互相配置，为用户提供最终价值，服务之间采用轻量级的通信机制(**HTTP**)互相沟通，每个服务都围绕着具体的业务进行构建，并且能狗被独立的部署到生产环境中，另外，应尽量避免统一的，集中式的服务管理机制，对具体的一个服务而言，应该根据业务上下文，选择合适的语言，工具(**Maven**)对其进行构建，可以有一个非常轻量级的集中式管理来协调这些服务，可以使用不同的语言来编写服务，也可以使用不同的数据存储。

#### 再来从技术维度角度理解下：

- 微服务化的核心就是将传统的一站式应用，根据业务拆分成一个一个的服务，彻底地去耦合，每一个微服务提供单个业务功能的服务，一个服务做一件事情，从技术角度看就是一种小而独立的处理过程，类似进程的概念，能够自行单独启动或销毁，拥有自己独立的数据库。

## 2.2 微服务与微服务架构

#### 微服务

&emsp;&emsp;强调的是服务的大小，它关注的是某一个点，是具体解决某一个问题/提供落地对应服务的一个服务应用，狭义的看，可以看作是IDEA中的一个个微服务工程，或者Moudel。

```python
IDEA 工具里面使用Maven开发的一个个独立的小Moudel，它具体是使用SpringBoot开发的一个小模块，专业的事情交给专业的模块来做，一个模块就做着一件事情。强调的是一个个的个体，每个个体完成一个具体的任务或者功能。
```

#### 微服务架构

&emsp;&emsp;一种新的架构形式，Martin Fowler 于2014年提出。

&emsp;&emsp;微服务架构是一种架构模式，它体长将单一应用程序划分成一组小的服务，服务之间相互协调，互相配合，为用户提供最终价值。每个服务运行在其独立的进程中，服务与服务之间采用轻量级的通信机制**(如HTTP)**互相协作，每个服务都围绕着具体的业务进行构建，并且能够被独立的部署到生产环境中，另外，应尽量避免统一的，集中式的服务管理机制，对具体的一个服务而言，应根据业务上下文，选择合适的语言、工具**(如Maven)**对其进行构建。

## 2.3 微服务优缺点

#### 优点

- 单一职责原则；
- 每个服务足够内聚，足够小，代码容易理解，这样能聚焦一个指定的业务功能或业务需求；

- 开发简单，开发效率高，一个服务可能就是专一的只干一件事；
- 微服务能够被小团队单独开发，这个团队只需2-5个开发人员组成；

- 微服务是松耦合的，是有功能意义的服务，无论是在开发阶段或部署阶段都是独立的；
- 微服务能使用不同的语言开发；

- 易于和第三方集成，微服务允许容易且灵活的方式集成自动部署，通过持续集成工具，如jenkins，Hudson，bamboo；
- 微服务易于被一个开发人员理解，修改和维护，这样小团队能够更关注自己的工作成果，无需通过合作才能体现价值；

- 微服务允许利用和融合最新技术；
- **微服务只是业务逻辑的代码，不会和HTML，CSS，或其他的界面混合;**

- **每个微服务都有自己的存储能力，可以有自己的数据库，也可以有统一的数据库；**

#### 缺点

- 开发人员要处理分布式系统的复杂性；
- 多服务运维难度，随着服务的增加，运维的压力也在增大；

- 系统部署依赖问题；
- 服务间通信成本问题；

- 数据一致性问题；
- 系统集成测试问题；

- 性能和监控问题；

## 2.4 微服务技术栈有那些？

| **微服务技术条目**                     | **落地技术**                                                 |
| -------------------------------------- | ------------------------------------------------------------ |
| 服务开发                               | SpringBoot、Spring、SpringMVC等                              |
| 服务配置与管理                         | Netfix公司的Archaius、阿里的Diamond等                        |
| 服务注册与发现                         | Eureka、Consul、Zookeeper等                                  |
| 服务调用                               | Rest、PRC、gRPC                                              |
| 服务熔断器                             | Hystrix、Envoy等                                             |
| 负载均衡                               | Ribbon、Nginx等                                              |
| 服务接口调用(客户端调用服务的简化工具) | Fegin等                                                      |
| 消息队列                               | Kafka、RabbitMQ、ActiveMQ等                                  |
| 服务配置中心管理                       | SpringCloudConfig、Chef等                                    |
| 服务路由(API网关)                      | Zuul等                                                       |
| 服务监控                               | Zabbix、Nagios、Metrics、Specatator等                        |
| 全链路追踪                             | Zipkin、Brave、Dapper等                                      |
| 数据流操作开发包                       | SpringCloud Stream(封装与Redis，Rabbit，Kafka等发送接收消息) |
| 时间消息总栈                           | SpringCloud Bus                                              |
| 服务部署                               | Docker、OpenStack、Kubernetes等                              |

## 2.5 为什么选择SpringCloud作为微服务架构

1.选型依据

- 整体解决方案和框架成熟度
- 社区热度

- 可维护性
- 学习曲线



2.当前各大IT公司用的微服务架构有那些？

- 阿里：dubbo+HFS
- 京东：JFS

- 新浪：Motan
- 当当网：DubboX…



3.各微服务框架对比

| **功能点/服务框架** | **Netflix/SpringCloud**                                      | **Motan**                                                   | **gRPC**                  | **Thrift** | **Dubbo/DubboX**                    |
| ------------------- | ------------------------------------------------------------ | ----------------------------------------------------------- | ------------------------- | ---------- | ----------------------------------- |
| 功能定位            | 完整的微服务框架                                             | RPC框架，但整合了ZK或Consul，实现集群环境的基本服务注册发现 | RPC框架                   | RPC框架    | 服务框架                            |
| 支持Rest            | 是，Ribbon支持多种可拔插的序列号选择                         | 否                                                          | 否                        | 否         | 否                                  |
| 支持RPC             | 否                                                           | 是(Hession2)                                                | 是                        | 是         | 是                                  |
| 支持多语言          | 是(Rest形式)                                                 | 否                                                          | 是                        | 是         | 否                                  |
| 负载均衡            | 是(服务端zuul+客户端Ribbon)，zuul-服务，动态路由，云端负载均衡Eureka（针对中间层服务器） | 是(客户端)                                                  | 否                        | 否         | 是(客户端)                          |
| 配置服务            | Netfix Archaius，Spring Cloud Config Server 集中配置         | 是(Zookeeper提供)                                           | 否                        | 否         | 否                                  |
| 服务调用链监控      | 是(zuul)，zuul提供边缘服务，API网关                          | 否                                                          | 否                        | 否         | 否                                  |
| 高可用/容错         | 是(服务端Hystrix+客户端Ribbon)                               | 是(客户端)                                                  | 否                        | 否         | 是(客户端)                          |
| 典型应用案例        | Netflix                                                      | Sina                                                        | Google                    | Facebook   |                                     |
| 社区活跃程度        | 高                                                           | 一般                                                        | 高                        | 一般       | 2017年后重新开始维护，之前中断了5年 |
| 学习难度            | 中等                                                         | 低                                                          | 高                        | 高         | 低                                  |
| 文档丰富程度        | 高                                                           | 一般                                                        | 一般                      | 一般       | 高                                  |
| 其他                | Spring Cloud Bus为我们的应用程序带来了更多管理端点           | 支持降级                                                    | Netflix内部在开发集成gRPC | IDL定义    | 实践的公司比较多                    |

(String), 微服务(Microservice Architecture) 是近几年流行的一种架构思想，关于它的概念很难一言以蔽之。究竟什么是微服务呢？我们在此引用ThoughtWorks 公司的首席科学家 Martin Fowler 于2014年提出的一段话(String), http://110.42.213.171:8080/blogimgs/83.png(String), 原创(String), true(Boolean), true(Boolean), true(Boolean), true(Boolean), false(Boolean), 2022-04-06 09:34:01.192(Timestamp), 7(Integer), 83(Integer)
2022-04-06 09:34:01.202 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.BlogMapper.updateBlog    : <==    Updates: 1
2022-04-06 09:34:01.206 DEBUG 12684 --- [http-nio-8086-exec-7] com.kwok.mapper.BlogMapper.getBlogCount  : ==>  Preparing: select count(1) as count from blog
2022-04-06 09:34:01.207 DEBUG 12684 --- [http-nio-8086-exec-7] com.kwok.mapper.BlogMapper.getBlogCount  : ==> Parameters: 
2022-04-06 09:34:01.208 DEBUG 12684 --- [http-nio-8086-exec-7] com.kwok.mapper.BlogMapper.getBlogCount  : <==      Total: 1
2022-04-06 09:34:01.208 DEBUG 12684 --- [http-nio-8086-exec-7] com.kwok.mapper.BlogMapper.getBlogList   : ==>  Preparing: select b.*,t.name as typeName from blog b,type t where b.type_id=t.id order by b.id desc limit ?,?
2022-04-06 09:34:01.208 DEBUG 12684 --- [http-nio-8086-exec-7] com.kwok.mapper.BlogMapper.getBlogList   : ==> Parameters: 0(Integer), 5(Integer)
2022-04-06 09:34:01.211 DEBUG 12684 --- [http-nio-8086-exec-7] com.kwok.mapper.BlogMapper.getBlogList   : <==      Total: 5
2022-04-06 09:34:01.212 DEBUG 12684 --- [http-nio-8086-exec-7] com.kwok.mapper.BlogMapper.getBlogById   : ==>  Preparing: select * from blog where id = ?
2022-04-06 09:34:01.212 DEBUG 12684 --- [http-nio-8086-exec-7] com.kwok.mapper.BlogMapper.getBlogById   : ==> Parameters: 84(Integer)
2022-04-06 09:34:01.213 DEBUG 12684 --- [http-nio-8086-exec-7] com.kwok.mapper.BlogMapper.getBlogById   : <==      Total: 0
2022-04-06 09:34:01.213 DEBUG 12684 --- [http-nio-8086-exec-7] com.kwok.mapper.BlogMapper.getBlogById   : ==>  Preparing: select * from blog where id = ?
2022-04-06 09:34:01.213 DEBUG 12684 --- [http-nio-8086-exec-7] com.kwok.mapper.BlogMapper.getBlogById   : ==> Parameters: 78(Integer)
2022-04-06 09:34:01.215 DEBUG 12684 --- [http-nio-8086-exec-7] com.kwok.mapper.BlogMapper.getBlogById   : <==      Total: 1
2022-04-06 09:34:01.215 DEBUG 12684 --- [http-nio-8086-exec-7] com.kwok.mapper.TypeMapper.listType      : ==>  Preparing: select * from type order by id desc
2022-04-06 09:34:01.215 DEBUG 12684 --- [http-nio-8086-exec-7] com.kwok.mapper.TypeMapper.listType      : ==> Parameters: 
2022-04-06 09:34:01.216 DEBUG 12684 --- [http-nio-8086-exec-7] com.kwok.mapper.TypeMapper.listType      : <==      Total: 7
2022-04-06 09:34:02.500 DEBUG 12684 --- [http-nio-8086-exec-4] com.kwok.mapper.BlogMapper.getBlogCount  : ==>  Preparing: select count(1) as count from blog
2022-04-06 09:34:02.500 DEBUG 12684 --- [http-nio-8086-exec-4] com.kwok.mapper.BlogMapper.getBlogCount  : ==> Parameters: 
2022-04-06 09:34:02.501 DEBUG 12684 --- [http-nio-8086-exec-4] com.kwok.mapper.BlogMapper.getBlogCount  : <==      Total: 1
2022-04-06 09:34:02.502 DEBUG 12684 --- [http-nio-8086-exec-4] com.kwok.mapper.BlogMapper.getBlogList   : ==>  Preparing: select b.*,t.name as typeName from blog b,type t where b.type_id=t.id order by b.id desc limit ?,?
2022-04-06 09:34:02.502 DEBUG 12684 --- [http-nio-8086-exec-4] com.kwok.mapper.BlogMapper.getBlogList   : ==> Parameters: 0(Integer), 5(Integer)
2022-04-06 09:34:02.505 DEBUG 12684 --- [http-nio-8086-exec-4] com.kwok.mapper.BlogMapper.getBlogList   : <==      Total: 5
2022-04-06 09:34:02.505 DEBUG 12684 --- [http-nio-8086-exec-4] com.kwok.mapper.BlogMapper.getBlogById   : ==>  Preparing: select * from blog where id = ?
2022-04-06 09:34:02.506 DEBUG 12684 --- [http-nio-8086-exec-4] com.kwok.mapper.BlogMapper.getBlogById   : ==> Parameters: 84(Integer)
2022-04-06 09:34:02.506 DEBUG 12684 --- [http-nio-8086-exec-4] com.kwok.mapper.BlogMapper.getBlogById   : <==      Total: 0
2022-04-06 09:34:02.506 DEBUG 12684 --- [http-nio-8086-exec-4] com.kwok.mapper.BlogMapper.getBlogById   : ==>  Preparing: select * from blog where id = ?
2022-04-06 09:34:02.506 DEBUG 12684 --- [http-nio-8086-exec-4] com.kwok.mapper.BlogMapper.getBlogById   : ==> Parameters: 78(Integer)
2022-04-06 09:34:02.508 DEBUG 12684 --- [http-nio-8086-exec-4] com.kwok.mapper.BlogMapper.getBlogById   : <==      Total: 1
2022-04-06 09:34:02.508 DEBUG 12684 --- [http-nio-8086-exec-4] com.kwok.mapper.TypeMapper.listType      : ==>  Preparing: select * from type order by id desc
2022-04-06 09:34:02.508 DEBUG 12684 --- [http-nio-8086-exec-4] com.kwok.mapper.TypeMapper.listType      : ==> Parameters: 
2022-04-06 09:34:02.509 DEBUG 12684 --- [http-nio-8086-exec-4] com.kwok.mapper.TypeMapper.listType      : <==      Total: 7
2022-04-06 09:34:03.747  INFO 12684 --- [http-nio-8086-exec-7] com.kwok.aspect.LogAspect                : Request : {url='http://localhost:8086/index', ip='0:0:0:0:0:0:0:1', classMethod='com.kwok.controller.IndexController.index', args=[org.apache.catalina.connector.RequestFacade@f05c437, org.apache.catalina.connector.ResponseFacade@1263b795, {}]}
2022-04-06 09:34:03.747 DEBUG 12684 --- [http-nio-8086-exec-7] com.kwok.mapper.BlogMapper.getBlogCount  : ==>  Preparing: select count(1) as count from blog
2022-04-06 09:34:03.747 DEBUG 12684 --- [http-nio-8086-exec-7] com.kwok.mapper.BlogMapper.getBlogCount  : ==> Parameters: 
2022-04-06 09:34:03.749 DEBUG 12684 --- [http-nio-8086-exec-7] com.kwok.mapper.BlogMapper.getBlogCount  : <==      Total: 1
2022-04-06 09:34:03.749 DEBUG 12684 --- [http-nio-8086-exec-7] com.kwok.mapper.BlogMapper.getBlogList   : ==>  Preparing: select b.*,t.name as typeName from blog b,type t where b.type_id=t.id order by b.id desc limit ?,?
2022-04-06 09:34:03.750 DEBUG 12684 --- [http-nio-8086-exec-7] com.kwok.mapper.BlogMapper.getBlogList   : ==> Parameters: 0(Integer), 5(Integer)
2022-04-06 09:34:03.753 DEBUG 12684 --- [http-nio-8086-exec-7] com.kwok.mapper.BlogMapper.getBlogList   : <==      Total: 5
2022-04-06 09:34:03.754 DEBUG 12684 --- [http-nio-8086-exec-7] com.kwok.mapper.BlogMapper.getBlogById   : ==>  Preparing: select * from blog where id = ?
2022-04-06 09:34:03.754 DEBUG 12684 --- [http-nio-8086-exec-7] com.kwok.mapper.BlogMapper.getBlogById   : ==> Parameters: 84(Integer)
2022-04-06 09:34:03.754 DEBUG 12684 --- [http-nio-8086-exec-7] com.kwok.mapper.BlogMapper.getBlogById   : <==      Total: 0
2022-04-06 09:34:03.754 DEBUG 12684 --- [http-nio-8086-exec-7] com.kwok.mapper.BlogMapper.getBlogById   : ==>  Preparing: select * from blog where id = ?
2022-04-06 09:34:03.755 DEBUG 12684 --- [http-nio-8086-exec-7] com.kwok.mapper.BlogMapper.getBlogById   : ==> Parameters: 78(Integer)
2022-04-06 09:34:03.756 DEBUG 12684 --- [http-nio-8086-exec-7] com.kwok.mapper.BlogMapper.getBlogById   : <==      Total: 1
2022-04-06 09:34:03.757 DEBUG 12684 --- [http-nio-8086-exec-7] com.kwok.mapper.TagMapper.listTopTag     : ==>  Preparing: select tag.id,tag.name,tn.num from tag,(select tag_id,count(*) as num from blog_tag group by tag_id order by num desc) as tn where tag.id = tn.tag_id
2022-04-06 09:34:03.757 DEBUG 12684 --- [http-nio-8086-exec-7] com.kwok.mapper.TagMapper.listTopTag     : ==> Parameters: 
2022-04-06 09:34:03.758 DEBUG 12684 --- [http-nio-8086-exec-7] com.kwok.mapper.TagMapper.listTopTag     : <==      Total: 11
2022-04-06 09:34:03.758 DEBUG 12684 --- [http-nio-8086-exec-7] com.kwok.mapper.TypeMapper.listTopType   : ==>  Preparing: select type.id,type.name,tn.num from type,(select type_id,count(*) as num from blog group by type_id order by num desc) as tn where type.id = tn.type_id
2022-04-06 09:34:03.758 DEBUG 12684 --- [http-nio-8086-exec-7] com.kwok.mapper.TypeMapper.listTopType   : ==> Parameters: 
2022-04-06 09:34:03.759 DEBUG 12684 --- [http-nio-8086-exec-7] com.kwok.mapper.TypeMapper.listTopType   : <==      Total: 5
2022-04-06 09:34:03.759 DEBUG 12684 --- [http-nio-8086-exec-7] c.k.m.BlogMapper.listTopRecommendBlog    : ==>  Preparing: select * from blog where recommend = 1 order by update_time desc
2022-04-06 09:34:03.759 DEBUG 12684 --- [http-nio-8086-exec-7] c.k.m.BlogMapper.listTopRecommendBlog    : ==> Parameters: 
2022-04-06 09:34:03.761 DEBUG 12684 --- [http-nio-8086-exec-7] c.k.m.BlogMapper.listTopRecommendBlog    : <==      Total: 2
2022-04-06 09:34:03.761  INFO 12684 --- [http-nio-8086-exec-7] com.kwok.aspect.LogAspect                : Result : index
2022-04-06 09:34:07.895  INFO 12684 --- [http-nio-8086-exec-3] com.kwok.aspect.LogAspect                : Request : {url='http://localhost:8086/types/-1', ip='0:0:0:0:0:0:0:1', classMethod='com.kwok.controller.TypeShowController.types', args=[-1, org.apache.catalina.connector.RequestFacade@6d43fb79, {}]}
2022-04-06 09:34:07.896 DEBUG 12684 --- [http-nio-8086-exec-3] com.kwok.mapper.TypeMapper.listType      : ==>  Preparing: select * from type order by id desc
2022-04-06 09:34:07.896 DEBUG 12684 --- [http-nio-8086-exec-3] com.kwok.mapper.TypeMapper.listType      : ==> Parameters: 
2022-04-06 09:34:07.897 DEBUG 12684 --- [http-nio-8086-exec-3] com.kwok.mapper.TypeMapper.listType      : <==      Total: 7
2022-04-06 09:34:07.897 DEBUG 12684 --- [http-nio-8086-exec-3] c.k.m.BlogMapper.getBlogCountByTypeId    : ==>  Preparing: select count(1) as count from blog where type_id = ?
2022-04-06 09:34:07.897 DEBUG 12684 --- [http-nio-8086-exec-3] c.k.m.BlogMapper.getBlogCountByTypeId    : ==> Parameters: 7(Integer)
2022-04-06 09:34:07.897 DEBUG 12684 --- [http-nio-8086-exec-3] c.k.m.BlogMapper.getBlogCountByTypeId    : <==      Total: 1
2022-04-06 09:34:07.897 DEBUG 12684 --- [http-nio-8086-exec-3] c.k.m.BlogMapper.getBlogCountByTypeId    : ==>  Preparing: select count(1) as count from blog where type_id = ?
2022-04-06 09:34:07.897 DEBUG 12684 --- [http-nio-8086-exec-3] c.k.m.BlogMapper.getBlogCountByTypeId    : ==> Parameters: 6(Integer)
2022-04-06 09:34:07.898 DEBUG 12684 --- [http-nio-8086-exec-3] c.k.m.BlogMapper.getBlogCountByTypeId    : <==      Total: 1
2022-04-06 09:34:07.898 DEBUG 12684 --- [http-nio-8086-exec-3] c.k.m.BlogMapper.getBlogCountByTypeId    : ==>  Preparing: select count(1) as count from blog where type_id = ?
2022-04-06 09:34:07.899 DEBUG 12684 --- [http-nio-8086-exec-3] c.k.m.BlogMapper.getBlogCountByTypeId    : ==> Parameters: 5(Integer)
2022-04-06 09:34:07.899 DEBUG 12684 --- [http-nio-8086-exec-3] c.k.m.BlogMapper.getBlogCountByTypeId    : <==      Total: 1
2022-04-06 09:34:07.900 DEBUG 12684 --- [http-nio-8086-exec-3] c.k.m.BlogMapper.getBlogCountByTypeId    : ==>  Preparing: select count(1) as count from blog where type_id = ?
2022-04-06 09:34:07.900 DEBUG 12684 --- [http-nio-8086-exec-3] c.k.m.BlogMapper.getBlogCountByTypeId    : ==> Parameters: 4(Integer)
2022-04-06 09:34:07.900 DEBUG 12684 --- [http-nio-8086-exec-3] c.k.m.BlogMapper.getBlogCountByTypeId    : <==      Total: 1
2022-04-06 09:34:07.900 DEBUG 12684 --- [http-nio-8086-exec-3] c.k.m.BlogMapper.getBlogCountByTypeId    : ==>  Preparing: select count(1) as count from blog where type_id = ?
2022-04-06 09:34:07.900 DEBUG 12684 --- [http-nio-8086-exec-3] c.k.m.BlogMapper.getBlogCountByTypeId    : ==> Parameters: 3(Integer)
2022-04-06 09:34:07.901 DEBUG 12684 --- [http-nio-8086-exec-3] c.k.m.BlogMapper.getBlogCountByTypeId    : <==      Total: 1
2022-04-06 09:34:07.901 DEBUG 12684 --- [http-nio-8086-exec-3] c.k.m.BlogMapper.getBlogCountByTypeId    : ==>  Preparing: select count(1) as count from blog where type_id = ?
2022-04-06 09:34:07.901 DEBUG 12684 --- [http-nio-8086-exec-3] c.k.m.BlogMapper.getBlogCountByTypeId    : ==> Parameters: 2(Integer)
2022-04-06 09:34:07.901 DEBUG 12684 --- [http-nio-8086-exec-3] c.k.m.BlogMapper.getBlogCountByTypeId    : <==      Total: 1
2022-04-06 09:34:07.901 DEBUG 12684 --- [http-nio-8086-exec-3] c.k.m.BlogMapper.getBlogCountByTypeId    : ==>  Preparing: select count(1) as count from blog where type_id = ?
2022-04-06 09:34:07.902 DEBUG 12684 --- [http-nio-8086-exec-3] c.k.m.BlogMapper.getBlogCountByTypeId    : ==> Parameters: 1(Integer)
2022-04-06 09:34:07.902 DEBUG 12684 --- [http-nio-8086-exec-3] c.k.m.BlogMapper.getBlogCountByTypeId    : <==      Total: 1
2022-04-06 09:34:07.902 DEBUG 12684 --- [http-nio-8086-exec-3] c.k.m.BlogMapper.getBlogCountByTypeId    : ==>  Preparing: select count(1) as count from blog where type_id = ?
2022-04-06 09:34:07.903 DEBUG 12684 --- [http-nio-8086-exec-3] c.k.m.BlogMapper.getBlogCountByTypeId    : ==> Parameters: 7(Integer)
2022-04-06 09:34:07.903 DEBUG 12684 --- [http-nio-8086-exec-3] c.k.m.BlogMapper.getBlogCountByTypeId    : <==      Total: 1
2022-04-06 09:34:07.903 DEBUG 12684 --- [http-nio-8086-exec-3] c.k.m.BlogMapper.getBlogListByTypeId     : ==>  Preparing: select b.*,t.name as typeName from blog b,type t where b.type_id=t.id and b.type_id=? order by b.id desc limit ?,?
2022-04-06 09:34:07.903 DEBUG 12684 --- [http-nio-8086-exec-3] c.k.m.BlogMapper.getBlogListByTypeId     : ==> Parameters: 7(Integer), 0(Integer), 5(Integer)
2022-04-06 09:34:07.904 DEBUG 12684 --- [http-nio-8086-exec-3] c.k.m.BlogMapper.getBlogListByTypeId     : <==      Total: 1
2022-04-06 09:34:07.905 DEBUG 12684 --- [http-nio-8086-exec-3] c.k.mapper.BlogMapper.getPreBlogsById    : ==>  Preparing: select * from blog where type_id=? and id > ?
2022-04-06 09:34:07.905 DEBUG 12684 --- [http-nio-8086-exec-3] c.k.mapper.BlogMapper.getPreBlogsById    : ==> Parameters: 7(Integer), 83(Integer)
2022-04-06 09:34:07.905 DEBUG 12684 --- [http-nio-8086-exec-3] c.k.mapper.BlogMapper.getPreBlogsById    : <==      Total: 0
2022-04-06 09:34:07.906 DEBUG 12684 --- [http-nio-8086-exec-3] c.k.mapper.BlogMapper.getNextBlogsById   : ==>  Preparing: select * from blog where type_id=? and ? > id
2022-04-06 09:34:07.906 DEBUG 12684 --- [http-nio-8086-exec-3] c.k.mapper.BlogMapper.getNextBlogsById   : ==> Parameters: 7(Integer), 83(Integer)
2022-04-06 09:34:07.907 DEBUG 12684 --- [http-nio-8086-exec-3] c.k.mapper.BlogMapper.getNextBlogsById   : <==      Total: 0
2022-04-06 09:34:07.907  INFO 12684 --- [http-nio-8086-exec-3] com.kwok.aspect.LogAspect                : Result : types
2022-04-06 09:34:11.896  INFO 12684 --- [http-nio-8086-exec-6] com.kwok.aspect.LogAspect                : Request : {url='http://localhost:8086/tags/-1', ip='0:0:0:0:0:0:0:1', classMethod='com.kwok.controller.TagShowController.tags', args=[-1, org.apache.catalina.connector.RequestFacade@253c6fd2, {}]}
2022-04-06 09:34:11.896 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.TagMapper.listTag        : ==>  Preparing: select * from tag order by id desc
2022-04-06 09:34:11.897 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.TagMapper.listTag        : ==> Parameters: 
2022-04-06 09:34:11.897 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.TagMapper.listTag        : <==      Total: 14
2022-04-06 09:34:11.898 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.TagMapper.tagCount       : ==>  Preparing: select count(1) as count from blog_tag where tag_id=?
2022-04-06 09:34:11.898 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.TagMapper.tagCount       : ==> Parameters: 14(Integer)
2022-04-06 09:34:11.899 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.TagMapper.tagCount       : <==      Total: 1
2022-04-06 09:34:11.900 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.TagMapper.tagCount       : ==>  Preparing: select count(1) as count from blog_tag where tag_id=?
2022-04-06 09:34:11.900 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.TagMapper.tagCount       : ==> Parameters: 13(Integer)
2022-04-06 09:34:11.901 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.TagMapper.tagCount       : <==      Total: 1
2022-04-06 09:34:11.901 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.TagMapper.tagCount       : ==>  Preparing: select count(1) as count from blog_tag where tag_id=?
2022-04-06 09:34:11.901 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.TagMapper.tagCount       : ==> Parameters: 12(Integer)
2022-04-06 09:34:11.902 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.TagMapper.tagCount       : <==      Total: 1
2022-04-06 09:34:11.902 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.TagMapper.tagCount       : ==>  Preparing: select count(1) as count from blog_tag where tag_id=?
2022-04-06 09:34:11.902 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.TagMapper.tagCount       : ==> Parameters: 11(Integer)
2022-04-06 09:34:11.902 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.TagMapper.tagCount       : <==      Total: 1
2022-04-06 09:34:11.902 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.TagMapper.tagCount       : ==>  Preparing: select count(1) as count from blog_tag where tag_id=?
2022-04-06 09:34:11.902 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.TagMapper.tagCount       : ==> Parameters: 10(Integer)
2022-04-06 09:34:11.903 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.TagMapper.tagCount       : <==      Total: 1
2022-04-06 09:34:11.903 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.TagMapper.tagCount       : ==>  Preparing: select count(1) as count from blog_tag where tag_id=?
2022-04-06 09:34:11.903 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.TagMapper.tagCount       : ==> Parameters: 9(Integer)
2022-04-06 09:34:11.904 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.TagMapper.tagCount       : <==      Total: 1
2022-04-06 09:34:11.904 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.TagMapper.tagCount       : ==>  Preparing: select count(1) as count from blog_tag where tag_id=?
2022-04-06 09:34:11.904 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.TagMapper.tagCount       : ==> Parameters: 8(Integer)
2022-04-06 09:34:11.904 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.TagMapper.tagCount       : <==      Total: 1
2022-04-06 09:34:11.904 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.TagMapper.tagCount       : ==>  Preparing: select count(1) as count from blog_tag where tag_id=?
2022-04-06 09:34:11.904 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.TagMapper.tagCount       : ==> Parameters: 7(Integer)
2022-04-06 09:34:11.905 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.TagMapper.tagCount       : <==      Total: 1
2022-04-06 09:34:11.905 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.TagMapper.tagCount       : ==>  Preparing: select count(1) as count from blog_tag where tag_id=?
2022-04-06 09:34:11.905 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.TagMapper.tagCount       : ==> Parameters: 6(Integer)
2022-04-06 09:34:11.906 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.TagMapper.tagCount       : <==      Total: 1
2022-04-06 09:34:11.906 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.TagMapper.tagCount       : ==>  Preparing: select count(1) as count from blog_tag where tag_id=?
2022-04-06 09:34:11.906 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.TagMapper.tagCount       : ==> Parameters: 5(Integer)
2022-04-06 09:34:11.907 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.TagMapper.tagCount       : <==      Total: 1
2022-04-06 09:34:11.907 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.TagMapper.tagCount       : ==>  Preparing: select count(1) as count from blog_tag where tag_id=?
2022-04-06 09:34:11.907 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.TagMapper.tagCount       : ==> Parameters: 4(Integer)
2022-04-06 09:34:11.907 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.TagMapper.tagCount       : <==      Total: 1
2022-04-06 09:34:11.908 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.TagMapper.tagCount       : ==>  Preparing: select count(1) as count from blog_tag where tag_id=?
2022-04-06 09:34:11.908 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.TagMapper.tagCount       : ==> Parameters: 3(Integer)
2022-04-06 09:34:11.908 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.TagMapper.tagCount       : <==      Total: 1
2022-04-06 09:34:11.909 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.TagMapper.tagCount       : ==>  Preparing: select count(1) as count from blog_tag where tag_id=?
2022-04-06 09:34:11.909 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.TagMapper.tagCount       : ==> Parameters: 2(Integer)
2022-04-06 09:34:11.910 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.TagMapper.tagCount       : <==      Total: 1
2022-04-06 09:34:11.910 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.TagMapper.tagCount       : ==>  Preparing: select count(1) as count from blog_tag where tag_id=?
2022-04-06 09:34:11.910 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.TagMapper.tagCount       : ==> Parameters: 1(Integer)
2022-04-06 09:34:11.910 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.TagMapper.tagCount       : <==      Total: 1
2022-04-06 09:34:11.911 DEBUG 12684 --- [http-nio-8086-exec-6] c.k.m.BlogMapper.getBlogCountByTagId     : ==>  Preparing: select count(1) as count from blog_tag where tag_id = ?
2022-04-06 09:34:11.911 DEBUG 12684 --- [http-nio-8086-exec-6] c.k.m.BlogMapper.getBlogCountByTagId     : ==> Parameters: 14(Integer)
2022-04-06 09:34:11.911 DEBUG 12684 --- [http-nio-8086-exec-6] c.k.m.BlogMapper.getBlogCountByTagId     : <==      Total: 1
2022-04-06 09:34:11.911 DEBUG 12684 --- [http-nio-8086-exec-6] c.k.m.BlogMapper.getBlogListByTagId      : ==>  Preparing: select b.*,bt.tag_id,t.name from blog b,blog_tag bt,tag t where bt.blog_id=b.id and bt.tag_id=t.id and bt.tag_id=? order by b.id desc limit ?,?
2022-04-06 09:34:11.911 DEBUG 12684 --- [http-nio-8086-exec-6] c.k.m.BlogMapper.getBlogListByTagId      : ==> Parameters: 14(Integer), 0(Integer), 5(Integer)
2022-04-06 09:34:11.914 DEBUG 12684 --- [http-nio-8086-exec-6] c.k.m.BlogMapper.getBlogListByTagId      : <==      Total: 5
2022-04-06 09:34:11.914 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.TypeMapper.getTypeById   : ==>  Preparing: select * from type where id = ?
2022-04-06 09:34:11.914 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.TypeMapper.getTypeById   : ==> Parameters: 6(Integer)
2022-04-06 09:34:11.915 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.TypeMapper.getTypeById   : <==      Total: 1
2022-04-06 09:34:11.915 DEBUG 12684 --- [http-nio-8086-exec-6] c.kwok.mapper.TagMapper.getTagsByBlogId  : ==>  Preparing: select t.* from tag t,blog_tag bt where t.id=bt.tag_id and bt.blog_id=?
2022-04-06 09:34:11.915 DEBUG 12684 --- [http-nio-8086-exec-6] c.kwok.mapper.TagMapper.getTagsByBlogId  : ==> Parameters: 66(Integer)
2022-04-06 09:34:11.916 DEBUG 12684 --- [http-nio-8086-exec-6] c.kwok.mapper.TagMapper.getTagsByBlogId  : <==      Total: 3
2022-04-06 09:34:11.916 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.TypeMapper.getTypeById   : ==>  Preparing: select * from type where id = ?
2022-04-06 09:34:11.916 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.TypeMapper.getTypeById   : ==> Parameters: 6(Integer)
2022-04-06 09:34:11.917 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.TypeMapper.getTypeById   : <==      Total: 1
2022-04-06 09:34:11.917 DEBUG 12684 --- [http-nio-8086-exec-6] c.kwok.mapper.TagMapper.getTagsByBlogId  : ==>  Preparing: select t.* from tag t,blog_tag bt where t.id=bt.tag_id and bt.blog_id=?
2022-04-06 09:34:11.917 DEBUG 12684 --- [http-nio-8086-exec-6] c.kwok.mapper.TagMapper.getTagsByBlogId  : ==> Parameters: 65(Integer)
2022-04-06 09:34:11.917 DEBUG 12684 --- [http-nio-8086-exec-6] c.kwok.mapper.TagMapper.getTagsByBlogId  : <==      Total: 3
2022-04-06 09:34:11.917 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.TypeMapper.getTypeById   : ==>  Preparing: select * from type where id = ?
2022-04-06 09:34:11.917 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.TypeMapper.getTypeById   : ==> Parameters: 6(Integer)
2022-04-06 09:34:11.918 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.TypeMapper.getTypeById   : <==      Total: 1
2022-04-06 09:34:11.918 DEBUG 12684 --- [http-nio-8086-exec-6] c.kwok.mapper.TagMapper.getTagsByBlogId  : ==>  Preparing: select t.* from tag t,blog_tag bt where t.id=bt.tag_id and bt.blog_id=?
2022-04-06 09:34:11.918 DEBUG 12684 --- [http-nio-8086-exec-6] c.kwok.mapper.TagMapper.getTagsByBlogId  : ==> Parameters: 64(Integer)
2022-04-06 09:34:11.918 DEBUG 12684 --- [http-nio-8086-exec-6] c.kwok.mapper.TagMapper.getTagsByBlogId  : <==      Total: 3
2022-04-06 09:34:11.918 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.TypeMapper.getTypeById   : ==>  Preparing: select * from type where id = ?
2022-04-06 09:34:11.918 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.TypeMapper.getTypeById   : ==> Parameters: 6(Integer)
2022-04-06 09:34:11.919 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.TypeMapper.getTypeById   : <==      Total: 1
2022-04-06 09:34:11.919 DEBUG 12684 --- [http-nio-8086-exec-6] c.kwok.mapper.TagMapper.getTagsByBlogId  : ==>  Preparing: select t.* from tag t,blog_tag bt where t.id=bt.tag_id and bt.blog_id=?
2022-04-06 09:34:11.919 DEBUG 12684 --- [http-nio-8086-exec-6] c.kwok.mapper.TagMapper.getTagsByBlogId  : ==> Parameters: 63(Integer)
2022-04-06 09:34:11.919 DEBUG 12684 --- [http-nio-8086-exec-6] c.kwok.mapper.TagMapper.getTagsByBlogId  : <==      Total: 3
2022-04-06 09:34:11.919 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.TypeMapper.getTypeById   : ==>  Preparing: select * from type where id = ?
2022-04-06 09:34:11.919 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.TypeMapper.getTypeById   : ==> Parameters: 6(Integer)
2022-04-06 09:34:11.920 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.TypeMapper.getTypeById   : <==      Total: 1
2022-04-06 09:34:11.920 DEBUG 12684 --- [http-nio-8086-exec-6] c.kwok.mapper.TagMapper.getTagsByBlogId  : ==>  Preparing: select t.* from tag t,blog_tag bt where t.id=bt.tag_id and bt.blog_id=?
2022-04-06 09:34:11.920 DEBUG 12684 --- [http-nio-8086-exec-6] c.kwok.mapper.TagMapper.getTagsByBlogId  : ==> Parameters: 62(Integer)
2022-04-06 09:34:11.920 DEBUG 12684 --- [http-nio-8086-exec-6] c.kwok.mapper.TagMapper.getTagsByBlogId  : <==      Total: 3
2022-04-06 09:34:11.920 DEBUG 12684 --- [http-nio-8086-exec-6] c.k.m.BlogMapper.getPreBlogsByTagId      : ==>  Preparing: select b.* from blog b,blog_tag bt where b.id = bt.blog_id and bt.tag_id=? and b.id > ?
2022-04-06 09:34:11.920 DEBUG 12684 --- [http-nio-8086-exec-6] c.k.m.BlogMapper.getPreBlogsByTagId      : ==> Parameters: 14(Integer), 66(Integer)
2022-04-06 09:34:11.921 DEBUG 12684 --- [http-nio-8086-exec-6] c.k.m.BlogMapper.getPreBlogsByTagId      : <==      Total: 0
2022-04-06 09:34:11.921 DEBUG 12684 --- [http-nio-8086-exec-6] c.k.m.BlogMapper.getNextBlogsByTagId     : ==>  Preparing: select b.* from blog b,blog_tag bt where b.id = bt.blog_id and bt.tag_id=? and ? > b.id
2022-04-06 09:34:11.921 DEBUG 12684 --- [http-nio-8086-exec-6] c.k.m.BlogMapper.getNextBlogsByTagId     : ==> Parameters: 14(Integer), 62(Integer)
2022-04-06 09:34:11.922 DEBUG 12684 --- [http-nio-8086-exec-6] c.k.m.BlogMapper.getNextBlogsByTagId     : <==      Total: 4
2022-04-06 09:34:11.922  INFO 12684 --- [http-nio-8086-exec-6] com.kwok.aspect.LogAspect                : Result : tags
2022-04-06 09:34:18.273  INFO 12684 --- [http-nio-8086-exec-1] com.kwok.aspect.LogAspect                : Request : {url='http://localhost:8086/index', ip='0:0:0:0:0:0:0:1', classMethod='com.kwok.controller.IndexController.index', args=[org.apache.catalina.connector.RequestFacade@7b4c3c2a, org.apache.catalina.connector.ResponseFacade@4167aeee, {}]}
2022-04-06 09:34:18.273 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.BlogMapper.getBlogCount  : ==>  Preparing: select count(1) as count from blog
2022-04-06 09:34:18.274 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.BlogMapper.getBlogCount  : ==> Parameters: 
2022-04-06 09:34:18.275 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.BlogMapper.getBlogCount  : <==      Total: 1
2022-04-06 09:34:18.275 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.BlogMapper.getBlogList   : ==>  Preparing: select b.*,t.name as typeName from blog b,type t where b.type_id=t.id order by b.id desc limit ?,?
2022-04-06 09:34:18.276 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.BlogMapper.getBlogList   : ==> Parameters: 0(Integer), 5(Integer)
2022-04-06 09:34:18.279 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.BlogMapper.getBlogList   : <==      Total: 5
2022-04-06 09:34:18.279 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.BlogMapper.getBlogById   : ==>  Preparing: select * from blog where id = ?
2022-04-06 09:34:18.279 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.BlogMapper.getBlogById   : ==> Parameters: 84(Integer)
2022-04-06 09:34:18.280 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.BlogMapper.getBlogById   : <==      Total: 0
2022-04-06 09:34:18.280 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.BlogMapper.getBlogById   : ==>  Preparing: select * from blog where id = ?
2022-04-06 09:34:18.280 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.BlogMapper.getBlogById   : ==> Parameters: 78(Integer)
2022-04-06 09:34:18.282 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.BlogMapper.getBlogById   : <==      Total: 1
2022-04-06 09:34:18.282 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.TagMapper.listTopTag     : ==>  Preparing: select tag.id,tag.name,tn.num from tag,(select tag_id,count(*) as num from blog_tag group by tag_id order by num desc) as tn where tag.id = tn.tag_id
2022-04-06 09:34:18.282 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.TagMapper.listTopTag     : ==> Parameters: 
2022-04-06 09:34:18.283 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.TagMapper.listTopTag     : <==      Total: 11
2022-04-06 09:34:18.283 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.TypeMapper.listTopType   : ==>  Preparing: select type.id,type.name,tn.num from type,(select type_id,count(*) as num from blog group by type_id order by num desc) as tn where type.id = tn.type_id
2022-04-06 09:34:18.283 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.TypeMapper.listTopType   : ==> Parameters: 
2022-04-06 09:34:18.284 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.TypeMapper.listTopType   : <==      Total: 5
2022-04-06 09:34:18.284 DEBUG 12684 --- [http-nio-8086-exec-1] c.k.m.BlogMapper.listTopRecommendBlog    : ==>  Preparing: select * from blog where recommend = 1 order by update_time desc
2022-04-06 09:34:18.285 DEBUG 12684 --- [http-nio-8086-exec-1] c.k.m.BlogMapper.listTopRecommendBlog    : ==> Parameters: 
2022-04-06 09:34:18.287 DEBUG 12684 --- [http-nio-8086-exec-1] c.k.m.BlogMapper.listTopRecommendBlog    : <==      Total: 2
2022-04-06 09:34:18.287  INFO 12684 --- [http-nio-8086-exec-1] com.kwok.aspect.LogAspect                : Result : index
2022-04-06 09:34:37.341 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.BlogMapper.getBlogCount  : ==>  Preparing: select count(1) as count from blog
2022-04-06 09:34:37.341 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.BlogMapper.getBlogCount  : ==> Parameters: 
2022-04-06 09:34:37.342 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.BlogMapper.getBlogCount  : <==      Total: 1
2022-04-06 09:34:37.342 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.BlogMapper.getBlogList   : ==>  Preparing: select b.*,t.name as typeName from blog b,type t where b.type_id=t.id order by b.id desc limit ?,?
2022-04-06 09:34:37.343 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.BlogMapper.getBlogList   : ==> Parameters: 0(Integer), 5(Integer)
2022-04-06 09:34:37.346 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.BlogMapper.getBlogList   : <==      Total: 5
2022-04-06 09:34:37.346 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.BlogMapper.getBlogById   : ==>  Preparing: select * from blog where id = ?
2022-04-06 09:34:37.346 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.BlogMapper.getBlogById   : ==> Parameters: 84(Integer)
2022-04-06 09:34:37.347 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.BlogMapper.getBlogById   : <==      Total: 0
2022-04-06 09:34:37.347 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.BlogMapper.getBlogById   : ==>  Preparing: select * from blog where id = ?
2022-04-06 09:34:37.347 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.BlogMapper.getBlogById   : ==> Parameters: 78(Integer)
2022-04-06 09:34:37.349 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.BlogMapper.getBlogById   : <==      Total: 1
2022-04-06 09:34:37.349 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.TypeMapper.listType      : ==>  Preparing: select * from type order by id desc
2022-04-06 09:34:37.349 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.TypeMapper.listType      : ==> Parameters: 
2022-04-06 09:34:37.350 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.TypeMapper.listType      : <==      Total: 7
2022-04-06 09:35:42.708 DEBUG 12684 --- [http-nio-8086-exec-8] com.kwok.mapper.BlogMapper.getBlogCount  : ==>  Preparing: select count(1) as count from blog
2022-04-06 09:35:42.708 DEBUG 12684 --- [http-nio-8086-exec-8] com.kwok.mapper.BlogMapper.getBlogCount  : ==> Parameters: 
2022-04-06 09:35:42.709 DEBUG 12684 --- [http-nio-8086-exec-8] com.kwok.mapper.BlogMapper.getBlogCount  : <==      Total: 1
2022-04-06 09:35:42.710 DEBUG 12684 --- [http-nio-8086-exec-8] com.kwok.mapper.BlogMapper.getBlogList   : ==>  Preparing: select b.*,t.name as typeName from blog b,type t where b.type_id=t.id order by b.id desc limit ?,?
2022-04-06 09:35:42.710 DEBUG 12684 --- [http-nio-8086-exec-8] com.kwok.mapper.BlogMapper.getBlogList   : ==> Parameters: 0(Integer), 5(Integer)
2022-04-06 09:35:42.713 DEBUG 12684 --- [http-nio-8086-exec-8] com.kwok.mapper.BlogMapper.getBlogList   : <==      Total: 5
2022-04-06 09:35:42.714 DEBUG 12684 --- [http-nio-8086-exec-8] com.kwok.mapper.BlogMapper.getBlogById   : ==>  Preparing: select * from blog where id = ?
2022-04-06 09:35:42.714 DEBUG 12684 --- [http-nio-8086-exec-8] com.kwok.mapper.BlogMapper.getBlogById   : ==> Parameters: 84(Integer)
2022-04-06 09:35:42.714 DEBUG 12684 --- [http-nio-8086-exec-8] com.kwok.mapper.BlogMapper.getBlogById   : <==      Total: 0
2022-04-06 09:35:42.715 DEBUG 12684 --- [http-nio-8086-exec-8] com.kwok.mapper.BlogMapper.getBlogById   : ==>  Preparing: select * from blog where id = ?
2022-04-06 09:35:42.715 DEBUG 12684 --- [http-nio-8086-exec-8] com.kwok.mapper.BlogMapper.getBlogById   : ==> Parameters: 78(Integer)
2022-04-06 09:35:42.716 DEBUG 12684 --- [http-nio-8086-exec-8] com.kwok.mapper.BlogMapper.getBlogById   : <==      Total: 1
2022-04-06 09:35:42.717 DEBUG 12684 --- [http-nio-8086-exec-8] com.kwok.mapper.TypeMapper.listType      : ==>  Preparing: select * from type order by id desc
2022-04-06 09:35:42.717 DEBUG 12684 --- [http-nio-8086-exec-8] com.kwok.mapper.TypeMapper.listType      : ==> Parameters: 
2022-04-06 09:35:42.717 DEBUG 12684 --- [http-nio-8086-exec-8] com.kwok.mapper.TypeMapper.listType      : <==      Total: 7
2022-04-06 09:38:23.167 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.BlogMapper.getBlogCount  : ==>  Preparing: select count(1) as count from blog
2022-04-06 09:38:23.167 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.BlogMapper.getBlogCount  : ==> Parameters: 
2022-04-06 09:38:23.169 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.BlogMapper.getBlogCount  : <==      Total: 1
2022-04-06 09:38:23.169 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.BlogMapper.getBlogList   : ==>  Preparing: select b.*,t.name as typeName from blog b,type t where b.type_id=t.id order by b.id desc limit ?,?
2022-04-06 09:38:23.169 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.BlogMapper.getBlogList   : ==> Parameters: 0(Integer), 5(Integer)
2022-04-06 09:38:23.173 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.BlogMapper.getBlogList   : <==      Total: 5
2022-04-06 09:38:23.173 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.BlogMapper.getBlogById   : ==>  Preparing: select * from blog where id = ?
2022-04-06 09:38:23.173 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.BlogMapper.getBlogById   : ==> Parameters: 84(Integer)
2022-04-06 09:38:23.174 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.BlogMapper.getBlogById   : <==      Total: 0
2022-04-06 09:38:23.174 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.BlogMapper.getBlogById   : ==>  Preparing: select * from blog where id = ?
2022-04-06 09:38:23.174 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.BlogMapper.getBlogById   : ==> Parameters: 78(Integer)
2022-04-06 09:38:23.176 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.BlogMapper.getBlogById   : <==      Total: 1
2022-04-06 09:38:23.176 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.TypeMapper.listType      : ==>  Preparing: select * from type order by id desc
2022-04-06 09:38:23.176 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.TypeMapper.listType      : ==> Parameters: 
2022-04-06 09:38:23.176 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.TypeMapper.listType      : <==      Total: 7
2022-04-06 09:38:25.207 DEBUG 12684 --- [http-nio-8086-exec-3] com.kwok.mapper.TypeMapper.listType      : ==>  Preparing: select * from type order by id desc
2022-04-06 09:38:25.207 DEBUG 12684 --- [http-nio-8086-exec-3] com.kwok.mapper.TypeMapper.listType      : ==> Parameters: 
2022-04-06 09:38:25.208 DEBUG 12684 --- [http-nio-8086-exec-3] com.kwok.mapper.TypeMapper.listType      : <==      Total: 7
2022-04-06 09:38:25.208 DEBUG 12684 --- [http-nio-8086-exec-3] com.kwok.mapper.TagMapper.listTag        : ==>  Preparing: select * from tag order by id desc
2022-04-06 09:38:25.208 DEBUG 12684 --- [http-nio-8086-exec-3] com.kwok.mapper.TagMapper.listTag        : ==> Parameters: 
2022-04-06 09:38:25.209 DEBUG 12684 --- [http-nio-8086-exec-3] com.kwok.mapper.TagMapper.listTag        : <==      Total: 14
2022-04-06 09:39:22.114  INFO 12684 --- [http-nio-8086-exec-10] com.kwok.aspect.LogAspect                : Request : {url='http://localhost:8086/index', ip='0:0:0:0:0:0:0:1', classMethod='com.kwok.controller.IndexController.index', args=[org.apache.catalina.connector.RequestFacade@2bd08bff, org.apache.catalina.connector.ResponseFacade@569c43ae, {}]}
2022-04-06 09:39:22.115 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.BlogMapper.getBlogCount  : ==>  Preparing: select count(1) as count from blog
2022-04-06 09:39:22.115 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.BlogMapper.getBlogCount  : ==> Parameters: 
2022-04-06 09:39:22.117 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.BlogMapper.getBlogCount  : <==      Total: 1
2022-04-06 09:39:22.117 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.BlogMapper.getBlogList   : ==>  Preparing: select b.*,t.name as typeName from blog b,type t where b.type_id=t.id order by b.id desc limit ?,?
2022-04-06 09:39:22.117 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.BlogMapper.getBlogList   : ==> Parameters: 0(Integer), 5(Integer)
2022-04-06 09:39:22.120 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.BlogMapper.getBlogList   : <==      Total: 5
2022-04-06 09:39:22.121 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.BlogMapper.getBlogById   : ==>  Preparing: select * from blog where id = ?
2022-04-06 09:39:22.121 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.BlogMapper.getBlogById   : ==> Parameters: 84(Integer)
2022-04-06 09:39:22.121 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.BlogMapper.getBlogById   : <==      Total: 0
2022-04-06 09:39:22.122 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.BlogMapper.getBlogById   : ==>  Preparing: select * from blog where id = ?
2022-04-06 09:39:22.122 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.BlogMapper.getBlogById   : ==> Parameters: 78(Integer)
2022-04-06 09:39:22.124 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.BlogMapper.getBlogById   : <==      Total: 1
2022-04-06 09:39:22.124 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.TagMapper.listTopTag     : ==>  Preparing: select tag.id,tag.name,tn.num from tag,(select tag_id,count(*) as num from blog_tag group by tag_id order by num desc) as tn where tag.id = tn.tag_id
2022-04-06 09:39:22.124 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.TagMapper.listTopTag     : ==> Parameters: 
2022-04-06 09:39:22.125 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.TagMapper.listTopTag     : <==      Total: 11
2022-04-06 09:39:22.125 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.TypeMapper.listTopType   : ==>  Preparing: select type.id,type.name,tn.num from type,(select type_id,count(*) as num from blog group by type_id order by num desc) as tn where type.id = tn.type_id
2022-04-06 09:39:22.125 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.TypeMapper.listTopType   : ==> Parameters: 
2022-04-06 09:39:22.126 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.TypeMapper.listTopType   : <==      Total: 5
2022-04-06 09:39:22.126 DEBUG 12684 --- [http-nio-8086-exec-10] c.k.m.BlogMapper.listTopRecommendBlog    : ==>  Preparing: select * from blog where recommend = 1 order by update_time desc
2022-04-06 09:39:22.126 DEBUG 12684 --- [http-nio-8086-exec-10] c.k.m.BlogMapper.listTopRecommendBlog    : ==> Parameters: 
2022-04-06 09:39:22.128 DEBUG 12684 --- [http-nio-8086-exec-10] c.k.m.BlogMapper.listTopRecommendBlog    : <==      Total: 2
2022-04-06 09:39:22.128  INFO 12684 --- [http-nio-8086-exec-10] com.kwok.aspect.LogAspect                : Result : index
2022-04-06 09:40:03.260 DEBUG 12684 --- [http-nio-8086-exec-4] com.kwok.mapper.BlogMapper.getLastBlog   : ==>  Preparing: select * from blog order by id desc limit 1
2022-04-06 09:40:03.260 DEBUG 12684 --- [http-nio-8086-exec-4] com.kwok.mapper.BlogMapper.getLastBlog   : ==> Parameters: 
2022-04-06 09:40:03.262 DEBUG 12684 --- [http-nio-8086-exec-4] com.kwok.mapper.BlogMapper.getLastBlog   : <==      Total: 1
2022-04-06 09:40:03.262 DEBUG 12684 --- [http-nio-8086-exec-4] c.k.mapper.BlogtagMapper.getLastBlogtag  : ==>  Preparing: select * from blog_tag order by id desc limit 1
2022-04-06 09:40:03.262 DEBUG 12684 --- [http-nio-8086-exec-4] c.k.mapper.BlogtagMapper.getLastBlogtag  : ==> Parameters: 
2022-04-06 09:40:03.263 DEBUG 12684 --- [http-nio-8086-exec-4] c.k.mapper.BlogtagMapper.getLastBlogtag  : <==      Total: 1
2022-04-06 09:40:03.263 DEBUG 12684 --- [http-nio-8086-exec-4] c.kwok.mapper.BlogtagMapper.saveBlogtag  : ==>  Preparing: insert into blog_tag (id, blog_id, tag_id) values (?, ?,?)
2022-04-06 09:40:03.263 DEBUG 12684 --- [http-nio-8086-exec-4] c.kwok.mapper.BlogtagMapper.saveBlogtag  : ==> Parameters: 201(Integer), 84(Integer), 11(Integer)
2022-04-06 09:40:03.264 DEBUG 12684 --- [http-nio-8086-exec-4] c.kwok.mapper.BlogtagMapper.saveBlogtag  : <==    Updates: 1
2022-04-06 09:40:03.264 DEBUG 12684 --- [http-nio-8086-exec-4] c.k.mapper.BlogtagMapper.getLastBlogtag  : ==>  Preparing: select * from blog_tag order by id desc limit 1
2022-04-06 09:40:03.264 DEBUG 12684 --- [http-nio-8086-exec-4] c.k.mapper.BlogtagMapper.getLastBlogtag  : ==> Parameters: 
2022-04-06 09:40:03.264 DEBUG 12684 --- [http-nio-8086-exec-4] c.k.mapper.BlogtagMapper.getLastBlogtag  : <==      Total: 1
2022-04-06 09:40:03.264 DEBUG 12684 --- [http-nio-8086-exec-4] c.kwok.mapper.BlogtagMapper.saveBlogtag  : ==>  Preparing: insert into blog_tag (id, blog_id, tag_id) values (?, ?,?)
2022-04-06 09:40:03.265 DEBUG 12684 --- [http-nio-8086-exec-4] c.kwok.mapper.BlogtagMapper.saveBlogtag  : ==> Parameters: 202(Integer), 84(Integer), 3(Integer)
2022-04-06 09:40:03.265 DEBUG 12684 --- [http-nio-8086-exec-4] c.kwok.mapper.BlogtagMapper.saveBlogtag  : <==    Updates: 1
2022-04-06 09:40:03.265 DEBUG 12684 --- [http-nio-8086-exec-4] c.k.mapper.BlogtagMapper.getLastBlogtag  : ==>  Preparing: select * from blog_tag order by id desc limit 1
2022-04-06 09:40:03.265 DEBUG 12684 --- [http-nio-8086-exec-4] c.k.mapper.BlogtagMapper.getLastBlogtag  : ==> Parameters: 
2022-04-06 09:40:03.265 DEBUG 12684 --- [http-nio-8086-exec-4] c.k.mapper.BlogtagMapper.getLastBlogtag  : <==      Total: 1
2022-04-06 09:40:03.266 DEBUG 12684 --- [http-nio-8086-exec-4] c.kwok.mapper.BlogtagMapper.saveBlogtag  : ==>  Preparing: insert into blog_tag (id, blog_id, tag_id) values (?, ?,?)
2022-04-06 09:40:03.266 DEBUG 12684 --- [http-nio-8086-exec-4] c.kwok.mapper.BlogtagMapper.saveBlogtag  : ==> Parameters: 203(Integer), 84(Integer), 4(Integer)
2022-04-06 09:40:03.267 DEBUG 12684 --- [http-nio-8086-exec-4] c.kwok.mapper.BlogtagMapper.saveBlogtag  : <==    Updates: 1
2022-04-06 09:40:03.267 DEBUG 12684 --- [http-nio-8086-exec-4] com.kwok.mapper.BlogMapper.saveBlog      : ==>  Preparing: insert into blog (id, title,description, content, first_picture, flag, views, appreciation, share_statement, commentabled, published, recommend, create_time, update_time, type_id, user_id) values (?,?,?,?,?,?, ?,?,?,?, ?,?,?,?,?,?)
2022-04-06 09:40:03.268 DEBUG 12684 --- [http-nio-8086-exec-4] com.kwok.mapper.BlogMapper.saveBlog      : ==> Parameters: 84(Integer), SpringCloud-Rest学习环境搭建：服务提供者(String), 介绍 我们会使用一个Dept部门模块做一个微服务通用案例Consumer消费者(Client)通过REST调用Provider提供者(Server)提供的服务。 回顾Spring，SpringMVC，Mybatis等以往学习的知识。 Maven的分包分模块架构复习(String), ## 1 介绍

- 我们会使用一个Dept部门模块做一个微服务通用案例**Consumer**消费者(**Client**)通过REST调用**Provider**提供者(**Server**)提供的服务。

- 回顾Spring，SpringMVC，Mybatis等以往学习的知识。

- Maven的分包分模块架构复习。

```python
一个简单的Maven模块结构是这样的：
-- app-parent: 一个父项目(app-parent)聚合了很多子项目(app-util\app-dao\app-web...)
  |-- pom.xml
  |
  |-- app-core
  ||---- pom.xml
  |
  |-- app-web
  ||---- pom.xml
  ......
```

一个父工程带着多个Moudule子模块

MicroServiceCloud父工程(Project)下初次带着3个子模块(Module)

- microservicecloud-api 【封装的整体entity/接口/公共配置等】

- microservicecloud-consumer-dept-80 【服务提供者】

- microservicecloud-provider-dept-8001 【服务消费者】

## 2 SpringCloud版本选择

#### 大版本说明

| **SpringBoot** | **SpringCloud**         | **关系**                                 |
| -------------- | ----------------------- | ---------------------------------------- |
| 1.2.x          | Angel版本(天使)         | 兼容SpringBoot1.2x                       |
| 1.3.x          | Brixton版本(布里克斯顿) | 兼容SpringBoot1.3x，也兼容SpringBoot1.4x |
| 1.4.x          | Camden版本(卡姆登)      | 兼容SpringBoot1.4x，也兼容SpringBoot1.5x |
| 1.5.x          | Dalston版本(多尔斯顿)   | 兼容SpringBoot1.5x，不兼容SpringBoot2.0x |
| 1.5.x          | Edgware版本(埃奇韦尔)   | 兼容SpringBoot1.5x，不兼容SpringBoot2.0x |
| 2.0.x          | Finchley版本(芬奇利)    | 兼容SpringBoot2.0x，不兼容SpringBoot1.5x |
| 2.1.x          | Greenwich版本(格林威治) |                                          |

#### 实际开发版本关系

| **spring-boot-starter-parent** | **spring-cloud-dependencles** |                        |              |
| ------------------------------ | ----------------------------- | ---------------------- | ------------ |
| **版本号**                     | **发布日期**                  | **版本号**             | **发布日期** |
| 1.5.2.RELEASE                  | 2017-03                       | Dalston.RC1            | 2017-x       |
| 1.5.9.RELEASE                  | 2017-11                       | Edgware.RELEASE        | 2017-11      |
| 1.5.16.RELEASE                 | 2018-04                       | Edgware.SR5            | 2018-10      |
| 1.5.20.RELEASE                 | 2018-09                       | Edgware.SR5            | 2018-10      |
| 2.0.2.RELEASE                  | 2018-05                       | Fomchiey.BULD-SNAPSHOT | 2018-x       |
| 2.0.6.RELEASE                  | 2018-10                       | Fomchiey-SR2           | 2018-10      |
| 2.1.4.RELEASE                  | 2019-04                       | Greenwich.SR1          | 2019-03      |

**使用最后的这两个**

## 3 创建父工程

- 新建父工程项目springcloud，切记**Packageing是pom模式**

- 主要是定义POM文件，将后续各个子模块公用的jar包等统一提取出来，类似一个抽象父类
  ![img](https://img-blog.csdnimg.cn/img_convert/1dd6f1ec07924abe50487e57ba2896b0.png)

**pom.xml**

```xml
<?xml version="1.0" encoding="UTF-8"?>
<project xmlns="http://maven.apache.org/POM/4.0.0"
         xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
         xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd">
    <modelVersion>4.0.0</modelVersion>
    <groupId>com.haust</groupId>
    <artifactId>springcloud</artifactId>
    <version>1.0-SNAPSHOT</version>
    <modules>
        <module>springcloud-api</module>
        <module>springcloud-provider-dept-8001</module>
        <module>springcloud-consumer-dept-80</module>
        <module>springcloud-eureka-7001</module>
        <module>springcloud-eureka-7002</module>
        <module>springcloud-eureka-7003</module>
        <module>springcloud-provider-dept-8002</module>
        <module>springcloud-provider-dept-8003</module>
        <module>springcloud-consumer-dept-feign</module>
        <module>springcloud-provider-dept-hystrix-8001</module>
        <module>springcloud-consumer-hystrix-dashboard</module>
        <module>springcloud-zuul-9527</module>
        <module>springcloud-config-server-3344</module>
        <module>springcloud-config-client-3355</module>
        <module>springcloud-config-eureka-7001</module>
        <module>springcloud-config-dept-8001</module>
    </modules>
    <!--打包方式  pom-->
    <packaging>pom</packaging>
    <properties>
        <project.build.sourceEncoding>UTF-8</project.build.sourceEncoding>
        <maven.compiler.source>1.8</maven.compiler.source>
        <maven.compiler.target>1.8</maven.compiler.target>
        <junit.version>4.12</junit.version>
        <log4j.version>1.2.17</log4j.version>
        <lombok.version>1.16.18</lombok.version>
    </properties>
    <dependencyManagement>
        <dependencies>
            <dependency>
                <groupId>org.springframework.cloud</groupId>
                <artifactId>spring-cloud-alibaba-dependencies</artifactId>
                <version>0.2.0.RELEASE</version>
                <type>pom</type>
                <scope>import</scope>
            </dependency>
            <!--springCloud的依赖-->
            <dependency>
                <groupId>org.springframework.cloud</groupId>
                <artifactId>spring-cloud-dependencies</artifactId>
                <version>Greenwich.SR1</version>
                <type>pom</type>
                <scope>import</scope>
            </dependency>
            <!--SpringBoot-->
            <dependency>
                <groupId>org.springframework.boot</groupId>
                <artifactId>spring-boot-dependencies</artifactId>
                <version>2.1.4.RELEASE</version>
                <type>pom</type>
                <scope>import</scope>
            </dependency>
            <!--数据库-->
            <dependency>
                <groupId>mysql</groupId>
                <artifactId>mysql-connector-java</artifactId>
                <version>5.1.47</version>
            </dependency>
            <dependency>
                <groupId>com.alibaba</groupId>
                <artifactId>druid</artifactId>
                <version>1.1.10</version>
            </dependency>
            <!--SpringBoot 启动器-->
            <dependency>
                <groupId>org.mybatis.spring.boot</groupId>
                <artifactId>mybatis-spring-boot-starter</artifactId>
                <version>1.3.2</version>
            </dependency>
            <!--日志测试~-->
            <dependency>
                <groupId>ch.qos.logback</groupId>
                <artifactId>logback-core</artifactId>
                <version>1.2.3</version>
            </dependency>
            <dependency>
                <groupId>junit</groupId>
                <artifactId>junit</artifactId>
                <version>${junit.version}</version>
            </dependency>
            <dependency>
                <groupId>log4j</groupId>
                <artifactId>log4j</artifactId>
                <version>${log4j.version}</version>
            </dependency>
            <dependency>
                <groupId>org.projectlombok</groupId>
                <artifactId>lombok</artifactId>
                <version>${lombok.version}</version>
            </dependency>
        </dependencies>
    </dependencyManagement>
</project>
```

父工程为springcloud，其下有多个子mudule，**详情参考完整代码了解**

![img](https://img-blog.csdnimg.cn/img_convert/7fa9fbf2d960f9fe081a1a2d39266d31.png)



springcloud-consumer-dept-80访问springcloud-provider-dept-8001下的controller使用REST方式



如**DeptConsumerController.java**

```java
/**
 * @Auther: csp1999
 * @Date: 2020/05/17/22:44
 * @Description:
 */
@RestController
public class DeptConsumerController {
    /**
     * 理解：消费者，不应该有service层~
     * RestTemplate .... 供我们直接调用就可以了！ 注册到Spring中
     * (地址：url, 实体：Map ,Class<T> responseType)
     * <p>
     * 提供多种便捷访问远程http服务的方法，简单的Restful服务模板~
     */
    @Autowired
    private RestTemplate restTemplate;
    /**
     * 服务提供方地址前缀
     * <p>
     * Ribbon:我们这里的地址，应该是一个变量，通过服务名来访问
     */
    private static final String REST_URL_PREFIX = "http://localhost:8001";
    //private static final String REST_URL_PREFIX = "http://SPRINGCLOUD-PROVIDER-DEPT";
    /**
     * 消费方添加部门信息
     * @param dept
     * @return
     */
    @RequestMapping("/consumer/dept/add")
    public boolean add(Dept dept) {
        // postForObject(服务提供方地址(接口),参数实体,返回类型.class)
        return restTemplate.postForObject(REST_URL_PREFIX + "/dept/add", dept, Boolean.class);
    }
    /**
     * 消费方根据id查询部门信息
     * @param id
     * @return
     */
    @RequestMapping("/consumer/dept/get/{id}")
    public Dept get(@PathVariable("id") Long id) {
        // getForObject(服务提供方地址(接口),返回类型.class)
        return restTemplate.getForObject(REST_URL_PREFIX + "/dept/get/" + id, Dept.class);
    }
    /**
     * 消费方查询部门信息列表
     * @return
     */
    @RequestMapping("/consumer/dept/list")
    public List<Dept> list() {
        return restTemplate.getForObject(REST_URL_PREFIX + "/dept/list", List.class);
    }
}
```

使用RestTemplete先需要放入Spring容器中

**ConfigBean.java**

```java
@Configuration
public class ConfigBean {
    //@Configuration -- spring  applicationContext.xml
    //配置负载均衡实现RestTemplate
    // IRule
    // RoundRobinRule 轮询
    // RandomRule 随机
    // AvailabilityFilteringRule ： 会先过滤掉，跳闸，访问故障的服务~，对剩下的进行轮询~
    // RetryRule ： 会先按照轮询获取服务~，如果服务获取失败，则会在指定的时间内进行，重试
    @Bean
    public RestTemplate getRestTemplate(){
        return new RestTemplate();
    }
}
```

springcloud-provider-dept-8001的mapper接口调用springcloud-api模块下的pojo，可使用在springcloud-provider-dept-8001的pom文件导入springcloud-api模块依赖的方式：

```xml
<!--我们需要拿到实体类，所以需要配置api module-->
        <dependency>
            <groupId>com.kwok</groupId>
            <artifactId>springcloud-api</artifactId>
            <version>1.0-SNAPSHOT</version>
        </dependency>
```

springcloud-consumer-dept-80和springcloud-provider-dept-8001的pom.xml和父工程下的依赖基本一样，直接看完整代码即可，不再添加重复笔记。(String), http://110.42.213.171:8080/blogimgs/84.png(String), 原创(String), 0(Integer), true(Boolean), true(Boolean), true(Boolean), true(Boolean), false(Boolean), 2022-04-06 09:40:03.262(Timestamp), 2022-04-06 09:40:03.262(Timestamp), 7(Integer), 1(Integer)
2022-04-06 09:40:03.270 DEBUG 12684 --- [http-nio-8086-exec-4] com.kwok.mapper.BlogMapper.saveBlog      : <==    Updates: 1
2022-04-06 09:40:03.275 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.BlogMapper.getBlogCount  : ==>  Preparing: select count(1) as count from blog
2022-04-06 09:40:03.275 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.BlogMapper.getBlogCount  : ==> Parameters: 
2022-04-06 09:40:03.276 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.BlogMapper.getBlogCount  : <==      Total: 1
2022-04-06 09:40:03.277 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.BlogMapper.getBlogList   : ==>  Preparing: select b.*,t.name as typeName from blog b,type t where b.type_id=t.id order by b.id desc limit ?,?
2022-04-06 09:40:03.277 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.BlogMapper.getBlogList   : ==> Parameters: 0(Integer), 5(Integer)
2022-04-06 09:40:03.279 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.BlogMapper.getBlogList   : <==      Total: 5
2022-04-06 09:40:03.280 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.BlogMapper.getBlogById   : ==>  Preparing: select * from blog where id = ?
2022-04-06 09:40:03.280 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.BlogMapper.getBlogById   : ==> Parameters: 85(Integer)
2022-04-06 09:40:03.280 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.BlogMapper.getBlogById   : <==      Total: 0
2022-04-06 09:40:03.280 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.BlogMapper.getBlogById   : ==>  Preparing: select * from blog where id = ?
2022-04-06 09:40:03.281 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.BlogMapper.getBlogById   : ==> Parameters: 79(Integer)
2022-04-06 09:40:03.282 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.BlogMapper.getBlogById   : <==      Total: 1
2022-04-06 09:40:03.282 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.TypeMapper.listType      : ==>  Preparing: select * from type order by id desc
2022-04-06 09:40:03.282 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.TypeMapper.listType      : ==> Parameters: 
2022-04-06 09:40:03.282 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.TypeMapper.listType      : <==      Total: 7
2022-04-06 09:40:04.603 DEBUG 12684 --- [http-nio-8086-exec-5] com.kwok.mapper.BlogMapper.getBlogCount  : ==>  Preparing: select count(1) as count from blog
2022-04-06 09:40:04.603 DEBUG 12684 --- [http-nio-8086-exec-5] com.kwok.mapper.BlogMapper.getBlogCount  : ==> Parameters: 
2022-04-06 09:40:04.605 DEBUG 12684 --- [http-nio-8086-exec-5] com.kwok.mapper.BlogMapper.getBlogCount  : <==      Total: 1
2022-04-06 09:40:04.605 DEBUG 12684 --- [http-nio-8086-exec-5] com.kwok.mapper.BlogMapper.getBlogList   : ==>  Preparing: select b.*,t.name as typeName from blog b,type t where b.type_id=t.id order by b.id desc limit ?,?
2022-04-06 09:40:04.605 DEBUG 12684 --- [http-nio-8086-exec-5] com.kwok.mapper.BlogMapper.getBlogList   : ==> Parameters: 0(Integer), 5(Integer)
2022-04-06 09:40:04.608 DEBUG 12684 --- [http-nio-8086-exec-5] com.kwok.mapper.BlogMapper.getBlogList   : <==      Total: 5
2022-04-06 09:40:04.608 DEBUG 12684 --- [http-nio-8086-exec-5] com.kwok.mapper.BlogMapper.getBlogById   : ==>  Preparing: select * from blog where id = ?
2022-04-06 09:40:04.608 DEBUG 12684 --- [http-nio-8086-exec-5] com.kwok.mapper.BlogMapper.getBlogById   : ==> Parameters: 85(Integer)
2022-04-06 09:40:04.609 DEBUG 12684 --- [http-nio-8086-exec-5] com.kwok.mapper.BlogMapper.getBlogById   : <==      Total: 0
2022-04-06 09:40:04.609 DEBUG 12684 --- [http-nio-8086-exec-5] com.kwok.mapper.BlogMapper.getBlogById   : ==>  Preparing: select * from blog where id = ?
2022-04-06 09:40:04.609 DEBUG 12684 --- [http-nio-8086-exec-5] com.kwok.mapper.BlogMapper.getBlogById   : ==> Parameters: 79(Integer)
2022-04-06 09:40:04.610 DEBUG 12684 --- [http-nio-8086-exec-5] com.kwok.mapper.BlogMapper.getBlogById   : <==      Total: 1
2022-04-06 09:40:04.611 DEBUG 12684 --- [http-nio-8086-exec-5] com.kwok.mapper.TypeMapper.listType      : ==>  Preparing: select * from type order by id desc
2022-04-06 09:40:04.611 DEBUG 12684 --- [http-nio-8086-exec-5] com.kwok.mapper.TypeMapper.listType      : ==> Parameters: 
2022-04-06 09:40:04.611 DEBUG 12684 --- [http-nio-8086-exec-5] com.kwok.mapper.TypeMapper.listType      : <==      Total: 7
2022-04-06 09:40:06.500  INFO 12684 --- [http-nio-8086-exec-1] com.kwok.aspect.LogAspect                : Request : {url='http://localhost:8086/index', ip='0:0:0:0:0:0:0:1', classMethod='com.kwok.controller.IndexController.index', args=[org.apache.catalina.connector.RequestFacade@2bd08bff, org.apache.catalina.connector.ResponseFacade@569c43ae, {}]}
2022-04-06 09:40:06.500 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.BlogMapper.getBlogCount  : ==>  Preparing: select count(1) as count from blog
2022-04-06 09:40:06.500 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.BlogMapper.getBlogCount  : ==> Parameters: 
2022-04-06 09:40:06.501 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.BlogMapper.getBlogCount  : <==      Total: 1
2022-04-06 09:40:06.502 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.BlogMapper.getBlogList   : ==>  Preparing: select b.*,t.name as typeName from blog b,type t where b.type_id=t.id order by b.id desc limit ?,?
2022-04-06 09:40:06.502 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.BlogMapper.getBlogList   : ==> Parameters: 0(Integer), 5(Integer)
2022-04-06 09:40:06.505 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.BlogMapper.getBlogList   : <==      Total: 5
2022-04-06 09:40:06.505 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.BlogMapper.getBlogById   : ==>  Preparing: select * from blog where id = ?
2022-04-06 09:40:06.505 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.BlogMapper.getBlogById   : ==> Parameters: 85(Integer)
2022-04-06 09:40:06.505 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.BlogMapper.getBlogById   : <==      Total: 0
2022-04-06 09:40:06.505 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.BlogMapper.getBlogById   : ==>  Preparing: select * from blog where id = ?
2022-04-06 09:40:06.505 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.BlogMapper.getBlogById   : ==> Parameters: 79(Integer)
2022-04-06 09:40:06.506 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.BlogMapper.getBlogById   : <==      Total: 1
2022-04-06 09:40:06.507 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.TagMapper.listTopTag     : ==>  Preparing: select tag.id,tag.name,tn.num from tag,(select tag_id,count(*) as num from blog_tag group by tag_id order by num desc) as tn where tag.id = tn.tag_id
2022-04-06 09:40:06.507 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.TagMapper.listTopTag     : ==> Parameters: 
2022-04-06 09:40:06.508 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.TagMapper.listTopTag     : <==      Total: 11
2022-04-06 09:40:06.508 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.TypeMapper.listTopType   : ==>  Preparing: select type.id,type.name,tn.num from type,(select type_id,count(*) as num from blog group by type_id order by num desc) as tn where type.id = tn.type_id
2022-04-06 09:40:06.509 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.TypeMapper.listTopType   : ==> Parameters: 
2022-04-06 09:40:06.509 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.TypeMapper.listTopType   : <==      Total: 5
2022-04-06 09:40:06.509 DEBUG 12684 --- [http-nio-8086-exec-1] c.k.m.BlogMapper.listTopRecommendBlog    : ==>  Preparing: select * from blog where recommend = 1 order by update_time desc
2022-04-06 09:40:06.509 DEBUG 12684 --- [http-nio-8086-exec-1] c.k.m.BlogMapper.listTopRecommendBlog    : ==> Parameters: 
2022-04-06 09:40:06.512 DEBUG 12684 --- [http-nio-8086-exec-1] c.k.m.BlogMapper.listTopRecommendBlog    : <==      Total: 2
2022-04-06 09:40:06.512  INFO 12684 --- [http-nio-8086-exec-1] com.kwok.aspect.LogAspect                : Result : index
2022-04-06 09:40:12.735  INFO 12684 --- [http-nio-8086-exec-4] com.kwok.aspect.LogAspect                : Request : {url='http://localhost:8086/blog/84', ip='0:0:0:0:0:0:0:1', classMethod='com.kwok.controller.IndexController.blog', args=[84, {}]}
2022-04-06 09:40:12.736 DEBUG 12684 --- [http-nio-8086-exec-4] com.kwok.mapper.BlogMapper.getBlogById   : ==>  Preparing: select * from blog where id = ?
2022-04-06 09:40:12.736 DEBUG 12684 --- [http-nio-8086-exec-4] com.kwok.mapper.BlogMapper.getBlogById   : ==> Parameters: 84(Integer)
2022-04-06 09:40:12.737 DEBUG 12684 --- [http-nio-8086-exec-4] com.kwok.mapper.BlogMapper.getBlogById   : <==      Total: 1
2022-04-06 09:40:12.738 DEBUG 12684 --- [http-nio-8086-exec-4] c.k.mapper.BlogMapper.updateBlogViews    : ==>  Preparing: update blog set views=? where id = ?
2022-04-06 09:40:12.738 DEBUG 12684 --- [http-nio-8086-exec-4] c.k.mapper.BlogMapper.updateBlogViews    : ==> Parameters: 1(Integer), 84(Integer)
2022-04-06 09:40:12.738 DEBUG 12684 --- [http-nio-8086-exec-4] c.k.mapper.BlogMapper.updateBlogViews    : <==    Updates: 1
2022-04-06 09:40:12.746 DEBUG 12684 --- [http-nio-8086-exec-4] com.kwok.mapper.BlogMapper.getBlogById   : ==>  Preparing: select * from blog where id = ?
2022-04-06 09:40:12.746 DEBUG 12684 --- [http-nio-8086-exec-4] com.kwok.mapper.BlogMapper.getBlogById   : ==> Parameters: 84(Integer)
2022-04-06 09:40:12.747 DEBUG 12684 --- [http-nio-8086-exec-4] com.kwok.mapper.BlogMapper.getBlogById   : <==      Total: 1
2022-04-06 09:40:12.749 DEBUG 12684 --- [http-nio-8086-exec-4] c.k.m.BlogtagMapper.getTagIdByBlogId     : ==>  Preparing: select * from blog_tag where blog_id = ?
2022-04-06 09:40:12.749 DEBUG 12684 --- [http-nio-8086-exec-4] c.k.m.BlogtagMapper.getTagIdByBlogId     : ==> Parameters: 84(Integer)
2022-04-06 09:40:12.750 DEBUG 12684 --- [http-nio-8086-exec-4] c.k.m.BlogtagMapper.getTagIdByBlogId     : <==      Total: 3
2022-04-06 09:40:12.751 DEBUG 12684 --- [http-nio-8086-exec-4] com.kwok.mapper.TagMapper.getShowTags    : ==>  Preparing: select * from tag where id in ( ? , ? , ? )
2022-04-06 09:40:12.751 DEBUG 12684 --- [http-nio-8086-exec-4] com.kwok.mapper.TagMapper.getShowTags    : ==> Parameters: 11(Integer), 3(Integer), 4(Integer)
2022-04-06 09:40:12.752 DEBUG 12684 --- [http-nio-8086-exec-4] com.kwok.mapper.TagMapper.getShowTags    : <==      Total: 3
2022-04-06 09:40:12.752  INFO 12684 --- [http-nio-8086-exec-4] com.kwok.aspect.LogAspect                : Result : blog
2022-04-06 09:40:13.282  INFO 12684 --- [http-nio-8086-exec-8] com.kwok.aspect.LogAspect                : Request : {url='http://localhost:8086/comments/84', ip='0:0:0:0:0:0:0:1', classMethod='com.kwok.controller.CommentController.comments', args=[84, {}]}
2022-04-06 09:40:13.282 DEBUG 12684 --- [http-nio-8086-exec-8] c.k.m.CommentMapper.listCommentByBlogId  : ==>  Preparing: select * from comment where blog_id = ? and parent_id = 0 order by creat_time asc
2022-04-06 09:40:13.283 DEBUG 12684 --- [http-nio-8086-exec-8] c.k.m.CommentMapper.listCommentByBlogId  : ==> Parameters: 84(Integer)
2022-04-06 09:40:13.283 DEBUG 12684 --- [http-nio-8086-exec-8] c.k.m.CommentMapper.listCommentByBlogId  : <==      Total: 0
2022-04-06 09:40:13.284  INFO 12684 --- [http-nio-8086-exec-8] com.kwok.aspect.LogAspect                : Result : blog :: commentList
2022-04-06 09:40:28.101  INFO 12684 --- [http-nio-8086-exec-1] com.kwok.aspect.LogAspect                : Request : {url='http://localhost:8086/index', ip='0:0:0:0:0:0:0:1', classMethod='com.kwok.controller.IndexController.index', args=[org.apache.catalina.connector.RequestFacade@6d43fb79, org.apache.catalina.connector.ResponseFacade@638418a1, {}]}
2022-04-06 09:40:28.101 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.BlogMapper.getBlogCount  : ==>  Preparing: select count(1) as count from blog
2022-04-06 09:40:28.101 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.BlogMapper.getBlogCount  : ==> Parameters: 
2022-04-06 09:40:28.102 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.BlogMapper.getBlogCount  : <==      Total: 1
2022-04-06 09:40:28.103 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.BlogMapper.getBlogList   : ==>  Preparing: select b.*,t.name as typeName from blog b,type t where b.type_id=t.id order by b.id desc limit ?,?
2022-04-06 09:40:28.103 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.BlogMapper.getBlogList   : ==> Parameters: 0(Integer), 5(Integer)
2022-04-06 09:40:28.106 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.BlogMapper.getBlogList   : <==      Total: 5
2022-04-06 09:40:28.106 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.BlogMapper.getBlogById   : ==>  Preparing: select * from blog where id = ?
2022-04-06 09:40:28.106 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.BlogMapper.getBlogById   : ==> Parameters: 85(Integer)
2022-04-06 09:40:28.106 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.BlogMapper.getBlogById   : <==      Total: 0
2022-04-06 09:40:28.107 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.BlogMapper.getBlogById   : ==>  Preparing: select * from blog where id = ?
2022-04-06 09:40:28.107 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.BlogMapper.getBlogById   : ==> Parameters: 79(Integer)
2022-04-06 09:40:28.108 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.BlogMapper.getBlogById   : <==      Total: 1
2022-04-06 09:40:28.108 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.TagMapper.listTopTag     : ==>  Preparing: select tag.id,tag.name,tn.num from tag,(select tag_id,count(*) as num from blog_tag group by tag_id order by num desc) as tn where tag.id = tn.tag_id
2022-04-06 09:40:28.108 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.TagMapper.listTopTag     : ==> Parameters: 
2022-04-06 09:40:28.109 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.TagMapper.listTopTag     : <==      Total: 11
2022-04-06 09:40:28.109 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.TypeMapper.listTopType   : ==>  Preparing: select type.id,type.name,tn.num from type,(select type_id,count(*) as num from blog group by type_id order by num desc) as tn where type.id = tn.type_id
2022-04-06 09:40:28.110 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.TypeMapper.listTopType   : ==> Parameters: 
2022-04-06 09:40:28.110 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.TypeMapper.listTopType   : <==      Total: 5
2022-04-06 09:40:28.110 DEBUG 12684 --- [http-nio-8086-exec-1] c.k.m.BlogMapper.listTopRecommendBlog    : ==>  Preparing: select * from blog where recommend = 1 order by update_time desc
2022-04-06 09:40:28.110 DEBUG 12684 --- [http-nio-8086-exec-1] c.k.m.BlogMapper.listTopRecommendBlog    : ==> Parameters: 
2022-04-06 09:40:28.113 DEBUG 12684 --- [http-nio-8086-exec-1] c.k.m.BlogMapper.listTopRecommendBlog    : <==      Total: 2
2022-04-06 09:40:28.113  INFO 12684 --- [http-nio-8086-exec-1] com.kwok.aspect.LogAspect                : Result : index
2022-04-06 09:40:29.823  INFO 12684 --- [http-nio-8086-exec-3] com.kwok.aspect.LogAspect                : Request : {url='http://localhost:8086/blog/84', ip='0:0:0:0:0:0:0:1', classMethod='com.kwok.controller.IndexController.blog', args=[84, {}]}
2022-04-06 09:40:29.824 DEBUG 12684 --- [http-nio-8086-exec-3] com.kwok.mapper.BlogMapper.getBlogById   : ==>  Preparing: select * from blog where id = ?
2022-04-06 09:40:29.824 DEBUG 12684 --- [http-nio-8086-exec-3] com.kwok.mapper.BlogMapper.getBlogById   : ==> Parameters: 84(Integer)
2022-04-06 09:40:29.825 DEBUG 12684 --- [http-nio-8086-exec-3] com.kwok.mapper.BlogMapper.getBlogById   : <==      Total: 1
2022-04-06 09:40:29.826 DEBUG 12684 --- [http-nio-8086-exec-3] c.k.mapper.BlogMapper.updateBlogViews    : ==>  Preparing: update blog set views=? where id = ?
2022-04-06 09:40:29.826 DEBUG 12684 --- [http-nio-8086-exec-3] c.k.mapper.BlogMapper.updateBlogViews    : ==> Parameters: 2(Integer), 84(Integer)
2022-04-06 09:40:29.826 DEBUG 12684 --- [http-nio-8086-exec-3] c.k.mapper.BlogMapper.updateBlogViews    : <==    Updates: 1
2022-04-06 09:40:29.833 DEBUG 12684 --- [http-nio-8086-exec-3] com.kwok.mapper.BlogMapper.getBlogById   : ==>  Preparing: select * from blog where id = ?
2022-04-06 09:40:29.833 DEBUG 12684 --- [http-nio-8086-exec-3] com.kwok.mapper.BlogMapper.getBlogById   : ==> Parameters: 84(Integer)
2022-04-06 09:40:29.834 DEBUG 12684 --- [http-nio-8086-exec-3] com.kwok.mapper.BlogMapper.getBlogById   : <==      Total: 1
2022-04-06 09:40:29.836 DEBUG 12684 --- [http-nio-8086-exec-3] c.k.m.BlogtagMapper.getTagIdByBlogId     : ==>  Preparing: select * from blog_tag where blog_id = ?
2022-04-06 09:40:29.837 DEBUG 12684 --- [http-nio-8086-exec-3] c.k.m.BlogtagMapper.getTagIdByBlogId     : ==> Parameters: 84(Integer)
2022-04-06 09:40:29.837 DEBUG 12684 --- [http-nio-8086-exec-3] c.k.m.BlogtagMapper.getTagIdByBlogId     : <==      Total: 3
2022-04-06 09:40:29.838 DEBUG 12684 --- [http-nio-8086-exec-3] com.kwok.mapper.TagMapper.getShowTags    : ==>  Preparing: select * from tag where id in ( ? , ? , ? )
2022-04-06 09:40:29.838 DEBUG 12684 --- [http-nio-8086-exec-3] com.kwok.mapper.TagMapper.getShowTags    : ==> Parameters: 11(Integer), 3(Integer), 4(Integer)
2022-04-06 09:40:29.838 DEBUG 12684 --- [http-nio-8086-exec-3] com.kwok.mapper.TagMapper.getShowTags    : <==      Total: 3
2022-04-06 09:40:29.839  INFO 12684 --- [http-nio-8086-exec-3] com.kwok.aspect.LogAspect                : Result : blog
2022-04-06 09:40:30.353  INFO 12684 --- [http-nio-8086-exec-9] com.kwok.aspect.LogAspect                : Request : {url='http://localhost:8086/comments/84', ip='0:0:0:0:0:0:0:1', classMethod='com.kwok.controller.CommentController.comments', args=[84, {}]}
2022-04-06 09:40:30.354 DEBUG 12684 --- [http-nio-8086-exec-9] c.k.m.CommentMapper.listCommentByBlogId  : ==>  Preparing: select * from comment where blog_id = ? and parent_id = 0 order by creat_time asc
2022-04-06 09:40:30.354 DEBUG 12684 --- [http-nio-8086-exec-9] c.k.m.CommentMapper.listCommentByBlogId  : ==> Parameters: 84(Integer)
2022-04-06 09:40:30.355 DEBUG 12684 --- [http-nio-8086-exec-9] c.k.m.CommentMapper.listCommentByBlogId  : <==      Total: 0
2022-04-06 09:40:30.355  INFO 12684 --- [http-nio-8086-exec-9] com.kwok.aspect.LogAspect                : Result : blog :: commentList
2022-04-06 09:40:43.547  INFO 12684 --- [http-nio-8086-exec-1] com.kwok.aspect.LogAspect                : Request : {url='http://localhost:8086/index', ip='0:0:0:0:0:0:0:1', classMethod='com.kwok.controller.IndexController.index', args=[org.apache.catalina.connector.RequestFacade@6d43fb79, org.apache.catalina.connector.ResponseFacade@638418a1, {}]}
2022-04-06 09:40:43.547 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.BlogMapper.getBlogCount  : ==>  Preparing: select count(1) as count from blog
2022-04-06 09:40:43.547 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.BlogMapper.getBlogCount  : ==> Parameters: 
2022-04-06 09:40:43.548 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.BlogMapper.getBlogCount  : <==      Total: 1
2022-04-06 09:40:43.549 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.BlogMapper.getBlogList   : ==>  Preparing: select b.*,t.name as typeName from blog b,type t where b.type_id=t.id order by b.id desc limit ?,?
2022-04-06 09:40:43.549 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.BlogMapper.getBlogList   : ==> Parameters: 0(Integer), 5(Integer)
2022-04-06 09:40:43.552 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.BlogMapper.getBlogList   : <==      Total: 5
2022-04-06 09:40:43.552 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.BlogMapper.getBlogById   : ==>  Preparing: select * from blog where id = ?
2022-04-06 09:40:43.552 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.BlogMapper.getBlogById   : ==> Parameters: 85(Integer)
2022-04-06 09:40:43.552 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.BlogMapper.getBlogById   : <==      Total: 0
2022-04-06 09:40:43.552 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.BlogMapper.getBlogById   : ==>  Preparing: select * from blog where id = ?
2022-04-06 09:40:43.552 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.BlogMapper.getBlogById   : ==> Parameters: 79(Integer)
2022-04-06 09:40:43.553 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.BlogMapper.getBlogById   : <==      Total: 1
2022-04-06 09:40:43.553 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.TagMapper.listTopTag     : ==>  Preparing: select tag.id,tag.name,tn.num from tag,(select tag_id,count(*) as num from blog_tag group by tag_id order by num desc) as tn where tag.id = tn.tag_id
2022-04-06 09:40:43.553 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.TagMapper.listTopTag     : ==> Parameters: 
2022-04-06 09:40:43.554 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.TagMapper.listTopTag     : <==      Total: 11
2022-04-06 09:40:43.554 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.TypeMapper.listTopType   : ==>  Preparing: select type.id,type.name,tn.num from type,(select type_id,count(*) as num from blog group by type_id order by num desc) as tn where type.id = tn.type_id
2022-04-06 09:40:43.554 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.TypeMapper.listTopType   : ==> Parameters: 
2022-04-06 09:40:43.555 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.TypeMapper.listTopType   : <==      Total: 5
2022-04-06 09:40:43.555 DEBUG 12684 --- [http-nio-8086-exec-1] c.k.m.BlogMapper.listTopRecommendBlog    : ==>  Preparing: select * from blog where recommend = 1 order by update_time desc
2022-04-06 09:40:43.555 DEBUG 12684 --- [http-nio-8086-exec-1] c.k.m.BlogMapper.listTopRecommendBlog    : ==> Parameters: 
2022-04-06 09:40:43.557 DEBUG 12684 --- [http-nio-8086-exec-1] c.k.m.BlogMapper.listTopRecommendBlog    : <==      Total: 2
2022-04-06 09:40:43.557  INFO 12684 --- [http-nio-8086-exec-1] com.kwok.aspect.LogAspect                : Result : index
2022-04-06 09:40:47.972 DEBUG 12684 --- [http-nio-8086-exec-5] com.kwok.mapper.BlogMapper.getBlogCount  : ==>  Preparing: select count(1) as count from blog
2022-04-06 09:40:47.972 DEBUG 12684 --- [http-nio-8086-exec-5] com.kwok.mapper.BlogMapper.getBlogCount  : ==> Parameters: 
2022-04-06 09:40:47.974 DEBUG 12684 --- [http-nio-8086-exec-5] com.kwok.mapper.BlogMapper.getBlogCount  : <==      Total: 1
2022-04-06 09:40:47.974 DEBUG 12684 --- [http-nio-8086-exec-5] com.kwok.mapper.BlogMapper.getBlogList   : ==>  Preparing: select b.*,t.name as typeName from blog b,type t where b.type_id=t.id order by b.id desc limit ?,?
2022-04-06 09:40:47.974 DEBUG 12684 --- [http-nio-8086-exec-5] com.kwok.mapper.BlogMapper.getBlogList   : ==> Parameters: 0(Integer), 5(Integer)
2022-04-06 09:40:47.977 DEBUG 12684 --- [http-nio-8086-exec-5] com.kwok.mapper.BlogMapper.getBlogList   : <==      Total: 5
2022-04-06 09:40:47.977 DEBUG 12684 --- [http-nio-8086-exec-5] com.kwok.mapper.BlogMapper.getBlogById   : ==>  Preparing: select * from blog where id = ?
2022-04-06 09:40:47.978 DEBUG 12684 --- [http-nio-8086-exec-5] com.kwok.mapper.BlogMapper.getBlogById   : ==> Parameters: 85(Integer)
2022-04-06 09:40:47.979 DEBUG 12684 --- [http-nio-8086-exec-5] com.kwok.mapper.BlogMapper.getBlogById   : <==      Total: 0
2022-04-06 09:40:47.979 DEBUG 12684 --- [http-nio-8086-exec-5] com.kwok.mapper.BlogMapper.getBlogById   : ==>  Preparing: select * from blog where id = ?
2022-04-06 09:40:47.979 DEBUG 12684 --- [http-nio-8086-exec-5] com.kwok.mapper.BlogMapper.getBlogById   : ==> Parameters: 79(Integer)
2022-04-06 09:40:47.981 DEBUG 12684 --- [http-nio-8086-exec-5] com.kwok.mapper.BlogMapper.getBlogById   : <==      Total: 1
2022-04-06 09:40:47.981 DEBUG 12684 --- [http-nio-8086-exec-5] com.kwok.mapper.TypeMapper.listType      : ==>  Preparing: select * from type order by id desc
2022-04-06 09:40:47.981 DEBUG 12684 --- [http-nio-8086-exec-5] com.kwok.mapper.TypeMapper.listType      : ==> Parameters: 
2022-04-06 09:40:47.982 DEBUG 12684 --- [http-nio-8086-exec-5] com.kwok.mapper.TypeMapper.listType      : <==      Total: 7
2022-04-06 09:48:47.627 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.BlogMapper.getBlogCount  : ==>  Preparing: select count(1) as count from blog
2022-04-06 09:48:47.627 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.BlogMapper.getBlogCount  : ==> Parameters: 
2022-04-06 09:48:47.628 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.BlogMapper.getBlogCount  : <==      Total: 1
2022-04-06 09:48:47.629 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.BlogMapper.getBlogList   : ==>  Preparing: select b.*,t.name as typeName from blog b,type t where b.type_id=t.id order by b.id desc limit ?,?
2022-04-06 09:48:47.629 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.BlogMapper.getBlogList   : ==> Parameters: 0(Integer), 5(Integer)
2022-04-06 09:48:47.632 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.BlogMapper.getBlogList   : <==      Total: 5
2022-04-06 09:48:47.632 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.BlogMapper.getBlogById   : ==>  Preparing: select * from blog where id = ?
2022-04-06 09:48:47.632 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.BlogMapper.getBlogById   : ==> Parameters: 85(Integer)
2022-04-06 09:48:47.632 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.BlogMapper.getBlogById   : <==      Total: 0
2022-04-06 09:48:47.633 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.BlogMapper.getBlogById   : ==>  Preparing: select * from blog where id = ?
2022-04-06 09:48:47.633 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.BlogMapper.getBlogById   : ==> Parameters: 79(Integer)
2022-04-06 09:48:47.634 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.BlogMapper.getBlogById   : <==      Total: 1
2022-04-06 09:48:47.634 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.TypeMapper.listType      : ==>  Preparing: select * from type order by id desc
2022-04-06 09:48:47.634 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.TypeMapper.listType      : ==> Parameters: 
2022-04-06 09:48:47.634 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.TypeMapper.listType      : <==      Total: 7
2022-04-06 09:48:52.608 DEBUG 12684 --- [http-nio-8086-exec-2] c.k.m.U.findByUsernameAndPassword        : ==>  Preparing: select * from user where username = ? and password = ?
2022-04-06 09:48:52.608 DEBUG 12684 --- [http-nio-8086-exec-2] c.k.m.U.findByUsernameAndPassword        : ==> Parameters: kwok(String), 202cb962ac59075b964b07152d234b70(String)
2022-04-06 09:48:52.609 DEBUG 12684 --- [http-nio-8086-exec-2] c.k.m.U.findByUsernameAndPassword        : <==      Total: 1
2022-04-06 09:48:53.557 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.BlogMapper.getBlogCount  : ==>  Preparing: select count(1) as count from blog
2022-04-06 09:48:53.557 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.BlogMapper.getBlogCount  : ==> Parameters: 
2022-04-06 09:48:53.558 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.BlogMapper.getBlogCount  : <==      Total: 1
2022-04-06 09:48:53.558 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.BlogMapper.getBlogList   : ==>  Preparing: select b.*,t.name as typeName from blog b,type t where b.type_id=t.id order by b.id desc limit ?,?
2022-04-06 09:48:53.558 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.BlogMapper.getBlogList   : ==> Parameters: 0(Integer), 5(Integer)
2022-04-06 09:48:53.561 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.BlogMapper.getBlogList   : <==      Total: 5
2022-04-06 09:48:53.561 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.BlogMapper.getBlogById   : ==>  Preparing: select * from blog where id = ?
2022-04-06 09:48:53.561 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.BlogMapper.getBlogById   : ==> Parameters: 85(Integer)
2022-04-06 09:48:53.562 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.BlogMapper.getBlogById   : <==      Total: 0
2022-04-06 09:48:53.562 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.BlogMapper.getBlogById   : ==>  Preparing: select * from blog where id = ?
2022-04-06 09:48:53.562 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.BlogMapper.getBlogById   : ==> Parameters: 79(Integer)
2022-04-06 09:48:53.563 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.BlogMapper.getBlogById   : <==      Total: 1
2022-04-06 09:48:53.563 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.TypeMapper.listType      : ==>  Preparing: select * from type order by id desc
2022-04-06 09:48:53.563 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.TypeMapper.listType      : ==> Parameters: 
2022-04-06 09:48:53.563 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.TypeMapper.listType      : <==      Total: 7
2022-04-06 09:48:55.014 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.TypeMapper.listType      : ==>  Preparing: select * from type order by id desc
2022-04-06 09:48:55.015 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.TypeMapper.listType      : ==> Parameters: 
2022-04-06 09:48:55.015 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.TypeMapper.listType      : <==      Total: 7
2022-04-06 09:48:55.015 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.TagMapper.listTag        : ==>  Preparing: select * from tag order by id desc
2022-04-06 09:48:55.015 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.TagMapper.listTag        : ==> Parameters: 
2022-04-06 09:48:55.016 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.TagMapper.listTag        : <==      Total: 14
2022-04-06 09:50:12.738  INFO 12684 --- [http-nio-8086-exec-9] com.kwok.aspect.LogAspect                : Request : {url='http://localhost:8086/index', ip='0:0:0:0:0:0:0:1', classMethod='com.kwok.controller.IndexController.index', args=[org.apache.catalina.connector.RequestFacade@2bd08bff, org.apache.catalina.connector.ResponseFacade@569c43ae, {}]}
2022-04-06 09:50:12.738 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.BlogMapper.getBlogCount  : ==>  Preparing: select count(1) as count from blog
2022-04-06 09:50:12.738 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.BlogMapper.getBlogCount  : ==> Parameters: 
2022-04-06 09:50:12.740 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.BlogMapper.getBlogCount  : <==      Total: 1
2022-04-06 09:50:12.740 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.BlogMapper.getBlogList   : ==>  Preparing: select b.*,t.name as typeName from blog b,type t where b.type_id=t.id order by b.id desc limit ?,?
2022-04-06 09:50:12.740 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.BlogMapper.getBlogList   : ==> Parameters: 0(Integer), 5(Integer)
2022-04-06 09:50:12.743 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.BlogMapper.getBlogList   : <==      Total: 5
2022-04-06 09:50:12.743 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.BlogMapper.getBlogById   : ==>  Preparing: select * from blog where id = ?
2022-04-06 09:50:12.743 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.BlogMapper.getBlogById   : ==> Parameters: 85(Integer)
2022-04-06 09:50:12.744 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.BlogMapper.getBlogById   : <==      Total: 0
2022-04-06 09:50:12.744 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.BlogMapper.getBlogById   : ==>  Preparing: select * from blog where id = ?
2022-04-06 09:50:12.744 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.BlogMapper.getBlogById   : ==> Parameters: 79(Integer)
2022-04-06 09:50:12.745 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.BlogMapper.getBlogById   : <==      Total: 1
2022-04-06 09:50:12.745 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.TagMapper.listTopTag     : ==>  Preparing: select tag.id,tag.name,tn.num from tag,(select tag_id,count(*) as num from blog_tag group by tag_id order by num desc) as tn where tag.id = tn.tag_id
2022-04-06 09:50:12.745 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.TagMapper.listTopTag     : ==> Parameters: 
2022-04-06 09:50:12.746 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.TagMapper.listTopTag     : <==      Total: 11
2022-04-06 09:50:12.746 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.TypeMapper.listTopType   : ==>  Preparing: select type.id,type.name,tn.num from type,(select type_id,count(*) as num from blog group by type_id order by num desc) as tn where type.id = tn.type_id
2022-04-06 09:50:12.746 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.TypeMapper.listTopType   : ==> Parameters: 
2022-04-06 09:50:12.747 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.TypeMapper.listTopType   : <==      Total: 5
2022-04-06 09:50:12.747 DEBUG 12684 --- [http-nio-8086-exec-9] c.k.m.BlogMapper.listTopRecommendBlog    : ==>  Preparing: select * from blog where recommend = 1 order by update_time desc
2022-04-06 09:50:12.747 DEBUG 12684 --- [http-nio-8086-exec-9] c.k.m.BlogMapper.listTopRecommendBlog    : ==> Parameters: 
2022-04-06 09:50:12.750 DEBUG 12684 --- [http-nio-8086-exec-9] c.k.m.BlogMapper.listTopRecommendBlog    : <==      Total: 2
2022-04-06 09:50:12.750  INFO 12684 --- [http-nio-8086-exec-9] com.kwok.aspect.LogAspect                : Result : index
2022-04-06 09:50:44.859 DEBUG 12684 --- [http-nio-8086-exec-4] com.kwok.mapper.BlogMapper.getLastBlog   : ==>  Preparing: select * from blog order by id desc limit 1
2022-04-06 09:50:44.860 DEBUG 12684 --- [http-nio-8086-exec-4] com.kwok.mapper.BlogMapper.getLastBlog   : ==> Parameters: 
2022-04-06 09:50:44.861 DEBUG 12684 --- [http-nio-8086-exec-4] com.kwok.mapper.BlogMapper.getLastBlog   : <==      Total: 1
2022-04-06 09:50:44.861 DEBUG 12684 --- [http-nio-8086-exec-4] c.k.mapper.BlogtagMapper.getLastBlogtag  : ==>  Preparing: select * from blog_tag order by id desc limit 1
2022-04-06 09:50:44.861 DEBUG 12684 --- [http-nio-8086-exec-4] c.k.mapper.BlogtagMapper.getLastBlogtag  : ==> Parameters: 
2022-04-06 09:50:44.862 DEBUG 12684 --- [http-nio-8086-exec-4] c.k.mapper.BlogtagMapper.getLastBlogtag  : <==      Total: 1
2022-04-06 09:50:44.862 DEBUG 12684 --- [http-nio-8086-exec-4] c.kwok.mapper.BlogtagMapper.saveBlogtag  : ==>  Preparing: insert into blog_tag (id, blog_id, tag_id) values (?, ?,?)
2022-04-06 09:50:44.862 DEBUG 12684 --- [http-nio-8086-exec-4] c.kwok.mapper.BlogtagMapper.saveBlogtag  : ==> Parameters: 204(Integer), 85(Integer), 3(Integer)
2022-04-06 09:50:44.863 DEBUG 12684 --- [http-nio-8086-exec-4] c.kwok.mapper.BlogtagMapper.saveBlogtag  : <==    Updates: 1
2022-04-06 09:50:44.863 DEBUG 12684 --- [http-nio-8086-exec-4] c.k.mapper.BlogtagMapper.getLastBlogtag  : ==>  Preparing: select * from blog_tag order by id desc limit 1
2022-04-06 09:50:44.863 DEBUG 12684 --- [http-nio-8086-exec-4] c.k.mapper.BlogtagMapper.getLastBlogtag  : ==> Parameters: 
2022-04-06 09:50:44.864 DEBUG 12684 --- [http-nio-8086-exec-4] c.k.mapper.BlogtagMapper.getLastBlogtag  : <==      Total: 1
2022-04-06 09:50:44.864 DEBUG 12684 --- [http-nio-8086-exec-4] c.kwok.mapper.BlogtagMapper.saveBlogtag  : ==>  Preparing: insert into blog_tag (id, blog_id, tag_id) values (?, ?,?)
2022-04-06 09:50:44.864 DEBUG 12684 --- [http-nio-8086-exec-4] c.kwok.mapper.BlogtagMapper.saveBlogtag  : ==> Parameters: 205(Integer), 85(Integer), 11(Integer)
2022-04-06 09:50:44.864 DEBUG 12684 --- [http-nio-8086-exec-4] c.kwok.mapper.BlogtagMapper.saveBlogtag  : <==    Updates: 1
2022-04-06 09:50:44.864 DEBUG 12684 --- [http-nio-8086-exec-4] c.k.mapper.BlogtagMapper.getLastBlogtag  : ==>  Preparing: select * from blog_tag order by id desc limit 1
2022-04-06 09:50:44.864 DEBUG 12684 --- [http-nio-8086-exec-4] c.k.mapper.BlogtagMapper.getLastBlogtag  : ==> Parameters: 
2022-04-06 09:50:44.865 DEBUG 12684 --- [http-nio-8086-exec-4] c.k.mapper.BlogtagMapper.getLastBlogtag  : <==      Total: 1
2022-04-06 09:50:44.865 DEBUG 12684 --- [http-nio-8086-exec-4] c.kwok.mapper.BlogtagMapper.saveBlogtag  : ==>  Preparing: insert into blog_tag (id, blog_id, tag_id) values (?, ?,?)
2022-04-06 09:50:44.865 DEBUG 12684 --- [http-nio-8086-exec-4] c.kwok.mapper.BlogtagMapper.saveBlogtag  : ==> Parameters: 206(Integer), 85(Integer), 4(Integer)
2022-04-06 09:50:44.865 DEBUG 12684 --- [http-nio-8086-exec-4] c.kwok.mapper.BlogtagMapper.saveBlogtag  : <==    Updates: 1
2022-04-06 09:50:44.865 DEBUG 12684 --- [http-nio-8086-exec-4] com.kwok.mapper.BlogMapper.saveBlog      : ==>  Preparing: insert into blog (id, title,description, content, first_picture, flag, views, appreciation, share_statement, commentabled, published, recommend, create_time, update_time, type_id, user_id) values (?,?,?,?,?,?, ?,?,?,?, ?,?,?,?,?,?)
2022-04-06 09:50:44.867 DEBUG 12684 --- [http-nio-8086-exec-4] com.kwok.mapper.BlogMapper.saveBlog      : ==> Parameters: 85(Integer), SpringCloud-Eureka服务注册中心(String), 1 什么是Eureka Netflix在涉及Eureka时，遵循的就是API原则. Eureka是Netflix的有个子模块，也是核心模块之一。Eureka是基于REST的服务，用于定位服务，以实现云端中间件层服务发现和故障转移，服务注册与发现对于微服务来说是非常重要的(String), ## 1 什么是Eureka

- Netflix在涉及Eureka时，遵循的就是API原则.
- Eureka是Netflix的有个子模块，也是核心模块之一。Eureka是基于REST的服务，用于定位服务，以实现云端中间件层服务发现和故障转移，服务注册与发现对于微服务来说是非常重要的，有了服务注册与发现，只需要使用服务的标识符，就可以访问到服务，而不需要修改服务调用的配置文件了，功能类似于Dubbo的注册中心，比如Zookeeper.

## 2 原理理解

- Eureka基本的架构

  - Springcloud 封装了Netflix公司开发的Eureka模块来实现服务注册与发现 (对比Zookeeper).
  - Eureka采用了C-S的架构设计，EurekaServer作为服务注册功能的服务器，他是服务注册中心.

  - 而系统中的其他微服务，使用Eureka的客户端连接到EurekaServer并维持心跳连接。这样系统的维护人员就可以通过EurekaServer来监控系统中各个微服务是否正常运行，Springcloud 的一些其他模块 (比如Zuul) 就可以通过EurekaServer来发现系统中的其他微服务，并执行相关的逻辑.

![img](https://img-blog.csdnimg.cn/img_convert/7e6a33918b8641c2193be379c625193f.png)

- 和Dubbo架构对比.

  - Eureka 包含两个组件：**Eureka Server** 和 **Eureka Client**.

  - Eureka Server 提供服务注册，各个节点启动后，回在EurekaServer中进行注册，这样Eureka Server中的服务注册表中将会储存所有课用服务节点的信息，服务节点的信息可以在界面中直观的看到.

  - Eureka Client 是一个Java客户端，用于简化EurekaServer的交互，客户端同时也具备一个内置的，使用轮询负载算法的负载均衡器。在应用启动后，将会向EurekaServer发送心跳 (默认周期为30秒) 。如果Eureka Server在多个心跳周期内没有接收到某个节点的心跳，EurekaServer将会从服务注册表中把这个服务节点移除掉 (默认周期为90s).
    ![img](https://img-blog.csdnimg.cn/img_convert/81b58776a517f7ddfee9f5fb28dc62d1.png)

  

- 三大角色

  - Eureka Server：提供服务的注册与发现
  - Service Provider：服务生产方，将自身服务注册到Eureka中，从而使服务消费方能狗找到

  - Service Consumer：服务消费方，从Eureka中获取注册服务列表，从而找到消费服务



- 目前工程状况

![img](https://img-blog.csdnimg.cn/img_convert/29901b896954c1d0ccd5ba2f104e286d.png)

## 3 构建步骤

### 3.1 eureka-server

1.springcloud-eureka-7001 模块建立

2.pom.xml 配置

```xml
<!--导包~-->
<dependencies>
    <!-- https://mvnrepository.com/artifact/org.springframework.cloud/spring-cloud-starter-eureka-server -->
    <!--导入Eureka Server依赖-->
    <dependency>
        <groupId>org.springframework.cloud</groupId>
        <artifactId>spring-cloud-starter-eureka-server</artifactId>
        <version>1.4.6.RELEASE</version>
    </dependency>
    <!--热部署工具-->
    <dependency>
        <groupId>org.springframework.boot</groupId>
        <artifactId>spring-boot-devtools</artifactId>
    </dependency>
</dependencies>
```

3.application.yml

```yaml
server:
  port: 7001
# Eureka配置
eureka:
  instance:
    # Eureka服务端的实例名字
    hostname: 127.0.0.1
  client:
    # 表示是否向 Eureka 注册中心注册自己(这个模块本身是服务器,所以不需要)
    register-with-eureka: false
    # fetch-registry如果为false,则表示自己为注册中心,客户端的化为 ture
    fetch-registry: false
    # Eureka监控页面~
    service-url:
      defaultZone: http://${
      eureka.instance.hostname}:${
      server.port}/eureka/
```

源码中Eureka的默认端口以及访问路径:

![img](https://img-blog.csdnimg.cn/img_convert/c7faf36a79b1d012eae13be0a48291f7.png)

主启动类

```java
/**
 * @Auther: csp1999
 * @Date: 2020/05/18/10:26
 * @Description: 启动之后，访问 http://127.0.0.1:7001/
 */
@SpringBootApplication
// @EnableEurekaServer 服务端的启动类，可以接受别人注册进来~
@EnableEurekaServer
public class EurekaServer_7001 {
    public static void main(String[] args) {
        SpringApplication.run(EurekaServer_7001.class,args);
    }
}
```

启动成功后访问 http://localhost:7001/ 得到以下页面

![img](https://img-blog.csdnimg.cn/img_convert/112b9c4ac144da1c591065b2ad52fa55.png)

### 3.2 eureka-client

**调整之前创建的springcloud-provider-dept-8001**

导入Eureca依赖

```xml
<!--Eureka依赖-->
<!-- https://mvnrepository.com/artifact/org.springframework.cloud/spring-cloud-starter-eureka -->
<dependency>
    <groupId>org.springframework.cloud</groupId>
    <artifactId>spring-cloud-starter-eureka</artifactId>
    <version>1.4.6.RELEASE</version>
</dependency>
```

application中新增Eureca配置

```yaml
# Eureka配置：配置服务注册中心地址
eureka:
  client:
    service-url:
      defaultZone: http://localhost:7001/eureka/
```

为主启动类添加[@EnableEurekaClient](https://github.com/EnableEurekaClient)注解

```java
/**
 * @Auther: csp1999
 * @Date: 2020/05/17/22:09
 * @Description: 启动类
 */
@SpringBootApplication
// @EnableEurekaClient 开启Eureka客户端注解，在服务启动后自动向注册中心注册服务
@EnableEurekaClient
public class DeptProvider_8001 {
    public static void main(String[] args) {
        SpringApplication.run(DeptProvider_8001.class,args);
    }
}
```

先启动7001服务端后启动8001客户端进行测试，然后访问监控页http://localhost:7001/ 产看结果如图，成功

![img](https://img-blog.csdnimg.cn/img_convert/96558a239e5180ed68273f00a043827a.png)

修改Eureka上的默认描述信息

```yaml
#Eureka的配置，服务注册到哪里
eureka:
  client:
    service-url:
      defaultZone: http://localhost:7001/eureka/
  instance:
    instance-id: springcloud-provider-dept8001 # 修改eureka上的默认描述信息！
```

结果如图：

![img](https://img-blog.csdnimg.cn/img_convert/1c238d49584a15be45dd4506fd5d3bb3.png)

如果此时停掉springcloud-provider-dept-8001 等**30s**后 监控会开启保护机制：

![img](https://img-blog.csdnimg.cn/img_convert/e7a23853348db3eea8ce41b9a913434c.png)

配置关于服务加载的监控信息

![img](https://img-blog.csdnimg.cn/img_convert/983698939714424042cac3a6327d6bfa.png)

pom.xml中添加依赖

```xml
<!--actuator完善监控信息-->
<dependency>
 <groupId>org.springframework.boot</groupId>
 <artifactId>spring-boot-starter-actuator</artifactId>
</dependency>
```

application.yml中添加配置

```yaml
#info配置info:	# 项目的名称  app.name: kwok-springcloud  # 公司的名称  company.name: blog.kwokstudy.com
```

此时刷新监控页，点击进入![img](https://img-blog.csdnimg.cn/img_convert/18967d3e84ccb4a06ec89432637e79e0.png)跳转新页面显示如下内容：

![img](https://img-blog.csdnimg.cn/img_convert/cbcfb1b0e25b8557c8f6bca1eccc9d60.png)

注：跳转无法显示，解决方案 [https://blog.csdn.net/weixin_45852687/article/details/121151309](https://blog.csdn.net/weixin_45852687/article/details/121151309)

在application.yml文件中也写了info信息：就解决了

```yaml
management:  endpoints:    web:      exposure:        include: "*"
```

### 3.3 EureKa自我保护机制：好死不如赖活着

&emsp;&emsp;一句话总结就是：**某时刻某一个微服务不可用，eureka不会立即清理，依旧会对该微服务的信息进行保存！**

- 默认情况下，当eureka server在一定时间内没有收到实例的心跳，便会把该实例从注册表中删除（**默认是90秒**），但是，如果短时间内丢失大量的实例心跳，便会触发eureka server的自我保护机制，比如在开发测试时，需要频繁地重启微服务实例，但是我们很少会把eureka server一起重启（因为在开发过程中不会修改eureka注册中心），**当一分钟内收到的心跳数大量减少时，会触发该保护机制**。可以在eureka管理界面看到Renews threshold和Renews(last min)，当后者（最后一分钟收到的心跳数）小于前者（心跳阈值）的时候，触发保护机制，会出现红色的警告：EMERGENCY!EUREKA MAY BE INCORRECTLY CLAIMING INSTANCES ARE UP WHEN THEY'RE NOT.RENEWALS ARE LESSER THAN THRESHOLD AND HENCE THE INSTANCES ARE NOT BEGING EXPIRED JUST TO BE SAFE.从警告中可以看到，eureka认为虽然收不到实例的心跳，但它认为实例还是健康的，eureka会保护这些实例，不会把它们从注册表中删掉。
- 该保护机制的目的是避免网络连接故障，在发生网络故障时，微服务和注册中心之间无法正常通信，但服务本身是健康的，不应该注销该服务，如果eureka因网络故障而把微服务误删了，那即使网络恢复了，该微服务也不会重新注册到eureka server了，因为只有在微服务启动的时候才会发起注册请求，后面只会发送心跳和服务列表请求，这样的话，该实例虽然是运行着，但永远不会被其它服务所感知。所以，eureka server在短时间内丢失过多的客户端心跳时，会进入自我保护模式，该模式下，eureka会保护注册表中的信息，不在注销任何微服务，当网络故障恢复后，eureka会自动退出保护模式。自我保护模式可以让集群更加健壮。

- 但是我们在开发测试阶段，需要频繁地重启发布，如果触发了保护机制，则旧的服务实例没有被删除，这时请求有可能跑到旧的实例中，而该实例已经关闭了，这就导致请求错误，影响开发测试。所以，在开发测试阶段，我们可以把自我保护模式关闭，只需在eureka server配置文件中加上如下配置即可：eureka.server.enable-self-preservation=false【不推荐关闭自我保护机制】

详细内容可以参考下这篇博客内容：[https://blog.csdn.net/wudiyong22/article/details/80827594](https://blog.csdn.net/wudiyong22/article/details/80827594)

### 3.4 注册进来的微服务，获取一些消息（团队开发会用到）

**DeptController**新增方法

```java
/** * DiscoveryClient 可以用来获取一些配置的信息，得到具体的微服务！ */@Autowiredprivate DiscoveryClient client;/** * 获取一些注册进来的微服务的信息~， * * @return */// 注册进来的微服务~，获取一些消息~@GetMapping("/dept/discovery")public Object discovery(){    //获取微服务列表的清单    List<String> services = client.getServices();    System.out.println("discovery=>service"+services);    //得到一个具体的微服务信息，通过具体的微服务id，applicationName    List<ServiceInstance> instances = client.getInstances("SPRINGCLOUD-PROVIDER-DEPT");    for (ServiceInstance instance : instances) {        System.out.println(            instance.getHost()+"\t"+instance.getPort()+"\t"+instance.getUri()+"\t"+instance.getServiceId()        );    }    return this.client;}
```

主启动类中加入[@EnableDiscoveryClient](https://github.com/EnableDiscoveryClient) 注解

```java
@SpringBootApplication// @EnableEurekaClient 开启Eureka客户端注解，在服务启动后自动向注册中心注册服务@EnableEurekaClient// @EnableEurekaClient 开启服务发现客户端的注解，可以用来获取一些配置的信息，得到具体的微服务@EnableDiscoveryClientpublic class DeptProvider_8001 {    ...}
```

结果如图：

![img](https://img-blog.csdnimg.cn/img_convert/1ce27513e2fe323ae960cfd7c8bc7b21.png)

![img](https://img-blog.csdnimg.cn/img_convert/ca50cb4cb7bd76ba8d292b9d77100556.png)

## 4 Eureka：集群环境配置

![img](https://img-blog.csdnimg.cn/img_convert/833f6fb1c42925d3b98ba8e0946fbd16.png)

### 4.1 初始化

新建springcloud-eureka-7002、springcloud-eureka-7003 模块

1.为pom.xml添加依赖 (与springcloud-eureka-7001相同)

```xml
<!--导包~--><dependencies>    <!-- https://mvnrepository.com/artifact/org.springframework.cloud/spring-cloud-starter-eureka-server -->    <!--导入Eureka Server依赖-->    <dependency>        <groupId>org.springframework.cloud</groupId>        <artifactId>spring-cloud-starter-eureka-server</artifactId>        <version>1.4.6.RELEASE</version>    </dependency>    <!--热部署工具-->    <dependency>        <groupId>org.springframework.boot</groupId>        <artifactId>spring-boot-devtools</artifactId>    </dependency></dependencies>
```

2.application.yml配置(与springcloud-eureka-7001相同)

```yaml
server:
  port: 7003
# Eureka配置
eureka:
  instance:
    hostname: localhost # Eureka服务端的实例名字
  client:
    register-with-eureka: false # 表示是否向 Eureka 注册中心注册自己(这个模块本身是服务器,所以不需要)
    fetch-registry: false # fetch-registry如果为false,则表示自己为注册中心
    service-url: # 监控页面~
      # 重写Eureka的默认端口以及访问路径 --->http://localhost:7001/eureka/
      defaultZone: http://${
    eureka.instance.hostname}:${
    server.port}/eureka/
```

3.主启动类(与springcloud-eureka-7001相同)

```java
/**
 * @Auther: csp1999
 * @Date: 2020/05/18/10:26
 * @Description: 启动之后，访问 http://127.0.0.1:7003/
 */
@SpringBootApplication
// @EnableEurekaServer 服务端的启动类，可以接受别人注册进来~
public class EurekaServer_7003 {
    public static void main(String[] args) {
        SpringApplication.run(EurekaServer_7003.class,args);
    }
}
```

### 4.2 集群成员相互关联

配置一些自定义本机名字，找到本机hosts文件并打开

![img](https://img-blog.csdnimg.cn/img_convert/8830259cde7f661e2bdf589ed4120bd4.png)

在hosts文件最后加上，要访问的本机名称，默认是localhost

![img](https://img-blog.csdnimg.cn/img_convert/41172d6145eadae0cf9d46f005eee20c.png)

修改application.yml的配置，如图为springcloud-eureka-7001配置，springcloud-eureka-7002/springcloud-eureka-7003同样分别修改为其对应的名称即可

![img](https://img-blog.csdnimg.cn/img_convert/4b03b864f1cfc2a4639329f10ddb53c1.png)

在集群中使springcloud-eureka-7001关联springcloud-eureka-7002、springcloud-eureka-7003

完整的springcloud-eureka-7001下的application.yml如下

```yaml
server:
  port: 7001
#Eureka配置
eureka:
  instance:
    hostname: eureka7001.com #Eureka服务端的实例名字
  client:
    register-with-eureka: false #表示是否向 Eureka 注册中心注册自己(这个模块本身是服务器,所以不需要)
    fetch-registry: false #fetch-registry如果为false,则表示自己为注册中心
    service-url: #监控页面~
      #重写Eureka的默认端口以及访问路径 --->http://localhost:7001/eureka/
      # 单机： defaultZone: http://${eureka.instance.hostname}:${server.port}/eureka/
      # 集群（关联）：7001关联7002、7003
      defaultZone: http://eureka7002.com:7002/eureka/,http://eureka7003.com:7003/eureka/
```

同时在集群中使springcloud-eureka-7002关联springcloud-eureka-7001、springcloud-eureka-7003

完整的springcloud-eureka-7002下的application.yml如下

```yaml
server:
  port: 7002
#Eureka配置
eureka:
  instance:
    hostname: eureka7002.com #Eureka服务端的实例名字
  client:
    register-with-eureka: false #表示是否向 Eureka 注册中心注册自己(这个模块本身是服务器,所以不需要)
    fetch-registry: false #fetch-registry如果为false,则表示自己为注册中心
    service-url: #监控页面~
      #重写Eureka的默认端口以及访问路径 --->http://localhost:7001/eureka/
      # 单机： defaultZone: http://${eureka.instance.hostname}:${server.port}/eureka/
      # 集群（关联）：7002关联7001、7003
      defaultZone: http://eureka7001.com:7001/eureka/,http://eureka7003.com:7003/eureka/
```

springcloud-eureka-7003配置方式同理可得.

通过springcloud-provider-dept-8001下的yml配置文件，修改**Eureka配置：配置服务注册中心地址**

```yaml
# Eureka配置：配置服务注册中心地址
eureka:
  client:
    service-url:
      # 注册中心地址7001-7003
      defaultZone: http://eureka7001.com:7001/eureka/,http://eureka7002.com:7002/eureka/,http://eureka7003.com:7003/eureka/
  instance:
    instance-id: springcloud-provider-dept-8001 #修改Eureka上的默认描述信息
```

这样模拟集群就搭建号了，就可以把一个项目挂载到三个服务器上了

![img](https://img-blog.csdnimg.cn/img_convert/6132ba939d61b1b30b86e41794467c2b.png)

## 5 对比和Zookeeper区别

#### 5.1 回顾CAP原则

RDBMS (MySQL\Oracle\sqlServer) ===> ACID

NoSQL (Redis\MongoDB) ===> CAP

#### 5.2 ACID是什么？

- A (Atomicity) 原子性
- C (Consistency) 一致性

- I (Isolation) 隔离性
- D (Durability) 持久性

#### 5.3 CAP是什么?

- C (Consistency) 强一致性
- A (Availability) 可用性

- P (Partition tolerance) 分区容错性

CAP的三进二：CA、AP、CP

#### 5.4 CAP理论的核心

- 一个分布式系统不可能同时很好的满足一致性，可用性和分区容错性这三个需求
- 根据CAP原理，将NoSQL数据库分成了满足CA原则，满足CP原则和满足AP原则三大类

  - CA：单点集群，满足一致性，可用性的系统，通常可扩展性较差

  - CP：满足一致性，分区容错的系统，通常性能不是特别高

  - AP：满足可用性，分区容错的系统，通常可能对一致性要求低一些

#### 5.5 作为分布式服务注册中心，Eureka比Zookeeper好在哪里？

&emsp;&emsp;著名的CAP理论指出，一个分布式系统不可能同时满足C (一致性) 、A (可用性) 、P (容错性)，由于分区容错性P再分布式系统中是必须要保证的，因此我们只能再A和C之间进行权衡。

- Zookeeper 保证的是 CP —> 满足一致性，分区容错的系统，通常性能不是特别高

- Eureka 保证的是 AP —> 满足可用性，分区容错的系统，通常可能对一致性要求低一些



**Zookeeper保证的是CP**



&emsp;&emsp;当向注册中心查询服务列表时，我们可以容忍注册中心返回的是几分钟以前的注册信息，但不能接收服务直接down掉不可用。也就是说，**服务注册功能对可用性的要求要高于一致性**。但zookeeper会出现这样一种情况，当master节点因为网络故障与其他节点失去联系时，剩余节点会重新进行leader选举。问题在于，选举leader的时间太长，30-120s，且选举期间整个zookeeper集群是不可用的，这就导致在选举期间注册服务瘫痪。在云部署的环境下，因为网络问题使得zookeeper集群失去master节点是较大概率发生的事件，虽然服务最终能够恢复，但是，漫长的选举时间导致注册长期不可用，是不可容忍的。



**Eureka保证的是AP**


 &emsp;&emsp;Eureka看明白了这一点，因此在设计时就优先保证可用性。**Eureka各个节点都是平等的**，几个节点挂掉不会影响正常节点的工作，剩余的节点依然可以提供注册和查询服务。而Eureka的客户端在向某个Eureka注册时，如果发现连接失败，则会自动切换至其他节点，只要有一台Eureka还在，就能保住注册服务的可用性，只不过查到的信息可能不是最新的，除此之外，Eureka还有之中自我保护机制，如果在15分钟内超过85%的节点都没有正常的心跳，那么Eureka就认为客户端与注册中心出现了网络故障，此时会出现以下几种情况：

- Eureka不在从注册列表中移除因为长时间没收到心跳而应该过期的服务

- Eureka仍然能够接受新服务的注册和查询请求，但是不会被同步到其他节点上 (即保证当前节点依然可用)

- 当网络稳定时，当前实例新的注册信息会被同步到其他节点中

&emsp;&emsp;因此，Eureka可以很好的应对因网络故障导致部分节点失去联系的情况，而不会像zookeeper那样使整个注册服务瘫痪(String), http://110.42.213.171:8080/blogimgs/85.png(String), 原创(String), 0(Integer), true(Boolean), true(Boolean), true(Boolean), true(Boolean), false(Boolean), 2022-04-06 09:50:44.861(Timestamp), 2022-04-06 09:50:44.861(Timestamp), 7(Integer), 1(Integer)
2022-04-06 09:50:44.869 DEBUG 12684 --- [http-nio-8086-exec-4] com.kwok.mapper.BlogMapper.saveBlog      : <==    Updates: 1
2022-04-06 09:50:44.874 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.BlogMapper.getBlogCount  : ==>  Preparing: select count(1) as count from blog
2022-04-06 09:50:44.874 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.BlogMapper.getBlogCount  : ==> Parameters: 
2022-04-06 09:50:44.875 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.BlogMapper.getBlogCount  : <==      Total: 1
2022-04-06 09:50:44.875 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.BlogMapper.getBlogList   : ==>  Preparing: select b.*,t.name as typeName from blog b,type t where b.type_id=t.id order by b.id desc limit ?,?
2022-04-06 09:50:44.876 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.BlogMapper.getBlogList   : ==> Parameters: 0(Integer), 5(Integer)
2022-04-06 09:50:44.879 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.BlogMapper.getBlogList   : <==      Total: 5
2022-04-06 09:50:44.879 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.BlogMapper.getBlogById   : ==>  Preparing: select * from blog where id = ?
2022-04-06 09:50:44.879 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.BlogMapper.getBlogById   : ==> Parameters: 86(Integer)
2022-04-06 09:50:44.879 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.BlogMapper.getBlogById   : <==      Total: 0
2022-04-06 09:50:44.879 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.BlogMapper.getBlogById   : ==>  Preparing: select * from blog where id = ?
2022-04-06 09:50:44.880 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.BlogMapper.getBlogById   : ==> Parameters: 80(Integer)
2022-04-06 09:50:44.880 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.BlogMapper.getBlogById   : <==      Total: 1
2022-04-06 09:50:44.881 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.TypeMapper.listType      : ==>  Preparing: select * from type order by id desc
2022-04-06 09:50:44.881 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.TypeMapper.listType      : ==> Parameters: 
2022-04-06 09:50:44.881 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.TypeMapper.listType      : <==      Total: 7
2022-04-06 09:50:46.211 DEBUG 12684 --- [http-nio-8086-exec-5] com.kwok.mapper.BlogMapper.getBlogCount  : ==>  Preparing: select count(1) as count from blog
2022-04-06 09:50:46.211 DEBUG 12684 --- [http-nio-8086-exec-5] com.kwok.mapper.BlogMapper.getBlogCount  : ==> Parameters: 
2022-04-06 09:50:46.213 DEBUG 12684 --- [http-nio-8086-exec-5] com.kwok.mapper.BlogMapper.getBlogCount  : <==      Total: 1
2022-04-06 09:50:46.213 DEBUG 12684 --- [http-nio-8086-exec-5] com.kwok.mapper.BlogMapper.getBlogList   : ==>  Preparing: select b.*,t.name as typeName from blog b,type t where b.type_id=t.id order by b.id desc limit ?,?
2022-04-06 09:50:46.213 DEBUG 12684 --- [http-nio-8086-exec-5] com.kwok.mapper.BlogMapper.getBlogList   : ==> Parameters: 0(Integer), 5(Integer)
2022-04-06 09:50:46.216 DEBUG 12684 --- [http-nio-8086-exec-5] com.kwok.mapper.BlogMapper.getBlogList   : <==      Total: 5
2022-04-06 09:50:46.216 DEBUG 12684 --- [http-nio-8086-exec-5] com.kwok.mapper.BlogMapper.getBlogById   : ==>  Preparing: select * from blog where id = ?
2022-04-06 09:50:46.217 DEBUG 12684 --- [http-nio-8086-exec-5] com.kwok.mapper.BlogMapper.getBlogById   : ==> Parameters: 86(Integer)
2022-04-06 09:50:46.217 DEBUG 12684 --- [http-nio-8086-exec-5] com.kwok.mapper.BlogMapper.getBlogById   : <==      Total: 0
2022-04-06 09:50:46.217 DEBUG 12684 --- [http-nio-8086-exec-5] com.kwok.mapper.BlogMapper.getBlogById   : ==>  Preparing: select * from blog where id = ?
2022-04-06 09:50:46.217 DEBUG 12684 --- [http-nio-8086-exec-5] com.kwok.mapper.BlogMapper.getBlogById   : ==> Parameters: 80(Integer)
2022-04-06 09:50:46.218 DEBUG 12684 --- [http-nio-8086-exec-5] com.kwok.mapper.BlogMapper.getBlogById   : <==      Total: 1
2022-04-06 09:50:46.218 DEBUG 12684 --- [http-nio-8086-exec-5] com.kwok.mapper.TypeMapper.listType      : ==>  Preparing: select * from type order by id desc
2022-04-06 09:50:46.218 DEBUG 12684 --- [http-nio-8086-exec-5] com.kwok.mapper.TypeMapper.listType      : ==> Parameters: 
2022-04-06 09:50:46.219 DEBUG 12684 --- [http-nio-8086-exec-5] com.kwok.mapper.TypeMapper.listType      : <==      Total: 7
2022-04-06 09:50:47.547  INFO 12684 --- [http-nio-8086-exec-10] com.kwok.aspect.LogAspect                : Request : {url='http://localhost:8086/index', ip='0:0:0:0:0:0:0:1', classMethod='com.kwok.controller.IndexController.index', args=[org.apache.catalina.connector.RequestFacade@253c6fd2, org.apache.catalina.connector.ResponseFacade@23fdcdb, {}]}
2022-04-06 09:50:47.548 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.BlogMapper.getBlogCount  : ==>  Preparing: select count(1) as count from blog
2022-04-06 09:50:47.548 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.BlogMapper.getBlogCount  : ==> Parameters: 
2022-04-06 09:50:47.549 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.BlogMapper.getBlogCount  : <==      Total: 1
2022-04-06 09:50:47.549 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.BlogMapper.getBlogList   : ==>  Preparing: select b.*,t.name as typeName from blog b,type t where b.type_id=t.id order by b.id desc limit ?,?
2022-04-06 09:50:47.549 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.BlogMapper.getBlogList   : ==> Parameters: 0(Integer), 5(Integer)
2022-04-06 09:50:47.552 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.BlogMapper.getBlogList   : <==      Total: 5
2022-04-06 09:50:47.552 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.BlogMapper.getBlogById   : ==>  Preparing: select * from blog where id = ?
2022-04-06 09:50:47.552 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.BlogMapper.getBlogById   : ==> Parameters: 86(Integer)
2022-04-06 09:50:47.553 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.BlogMapper.getBlogById   : <==      Total: 0
2022-04-06 09:50:47.553 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.BlogMapper.getBlogById   : ==>  Preparing: select * from blog where id = ?
2022-04-06 09:50:47.553 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.BlogMapper.getBlogById   : ==> Parameters: 80(Integer)
2022-04-06 09:50:47.554 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.BlogMapper.getBlogById   : <==      Total: 1
2022-04-06 09:50:47.554 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.TagMapper.listTopTag     : ==>  Preparing: select tag.id,tag.name,tn.num from tag,(select tag_id,count(*) as num from blog_tag group by tag_id order by num desc) as tn where tag.id = tn.tag_id
2022-04-06 09:50:47.554 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.TagMapper.listTopTag     : ==> Parameters: 
2022-04-06 09:50:47.555 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.TagMapper.listTopTag     : <==      Total: 11
2022-04-06 09:50:47.555 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.TypeMapper.listTopType   : ==>  Preparing: select type.id,type.name,tn.num from type,(select type_id,count(*) as num from blog group by type_id order by num desc) as tn where type.id = tn.type_id
2022-04-06 09:50:47.555 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.TypeMapper.listTopType   : ==> Parameters: 
2022-04-06 09:50:47.556 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.TypeMapper.listTopType   : <==      Total: 5
2022-04-06 09:50:47.556 DEBUG 12684 --- [http-nio-8086-exec-10] c.k.m.BlogMapper.listTopRecommendBlog    : ==>  Preparing: select * from blog where recommend = 1 order by update_time desc
2022-04-06 09:50:47.556 DEBUG 12684 --- [http-nio-8086-exec-10] c.k.m.BlogMapper.listTopRecommendBlog    : ==> Parameters: 
2022-04-06 09:50:47.558 DEBUG 12684 --- [http-nio-8086-exec-10] c.k.m.BlogMapper.listTopRecommendBlog    : <==      Total: 2
2022-04-06 09:50:47.558  INFO 12684 --- [http-nio-8086-exec-10] com.kwok.aspect.LogAspect                : Result : index
2022-04-06 09:50:54.715  INFO 12684 --- [http-nio-8086-exec-6] com.kwok.aspect.LogAspect                : Request : {url='http://localhost:8086/blog/85', ip='0:0:0:0:0:0:0:1', classMethod='com.kwok.controller.IndexController.blog', args=[85, {}]}
2022-04-06 09:50:54.716 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.BlogMapper.getBlogById   : ==>  Preparing: select * from blog where id = ?
2022-04-06 09:50:54.716 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.BlogMapper.getBlogById   : ==> Parameters: 85(Integer)
2022-04-06 09:50:54.718 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.BlogMapper.getBlogById   : <==      Total: 1
2022-04-06 09:50:54.718 DEBUG 12684 --- [http-nio-8086-exec-6] c.k.mapper.BlogMapper.updateBlogViews    : ==>  Preparing: update blog set views=? where id = ?
2022-04-06 09:50:54.718 DEBUG 12684 --- [http-nio-8086-exec-6] c.k.mapper.BlogMapper.updateBlogViews    : ==> Parameters: 1(Integer), 85(Integer)
2022-04-06 09:50:54.720 DEBUG 12684 --- [http-nio-8086-exec-6] c.k.mapper.BlogMapper.updateBlogViews    : <==    Updates: 1
2022-04-06 09:50:54.723 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.BlogMapper.getBlogById   : ==>  Preparing: select * from blog where id = ?
2022-04-06 09:50:54.723 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.BlogMapper.getBlogById   : ==> Parameters: 85(Integer)
2022-04-06 09:50:54.725 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.BlogMapper.getBlogById   : <==      Total: 1
2022-04-06 09:50:54.728 DEBUG 12684 --- [http-nio-8086-exec-6] c.k.m.BlogtagMapper.getTagIdByBlogId     : ==>  Preparing: select * from blog_tag where blog_id = ?
2022-04-06 09:50:54.728 DEBUG 12684 --- [http-nio-8086-exec-6] c.k.m.BlogtagMapper.getTagIdByBlogId     : ==> Parameters: 85(Integer)
2022-04-06 09:50:54.729 DEBUG 12684 --- [http-nio-8086-exec-6] c.k.m.BlogtagMapper.getTagIdByBlogId     : <==      Total: 3
2022-04-06 09:50:54.730 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.TagMapper.getShowTags    : ==>  Preparing: select * from tag where id in ( ? , ? , ? )
2022-04-06 09:50:54.730 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.TagMapper.getShowTags    : ==> Parameters: 3(Integer), 11(Integer), 4(Integer)
2022-04-06 09:50:54.731 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.TagMapper.getShowTags    : <==      Total: 3
2022-04-06 09:50:54.731  INFO 12684 --- [http-nio-8086-exec-6] com.kwok.aspect.LogAspect                : Result : blog
2022-04-06 09:50:55.305  INFO 12684 --- [http-nio-8086-exec-1] com.kwok.aspect.LogAspect                : Request : {url='http://localhost:8086/comments/85', ip='0:0:0:0:0:0:0:1', classMethod='com.kwok.controller.CommentController.comments', args=[85, {}]}
2022-04-06 09:50:55.306 DEBUG 12684 --- [http-nio-8086-exec-1] c.k.m.CommentMapper.listCommentByBlogId  : ==>  Preparing: select * from comment where blog_id = ? and parent_id = 0 order by creat_time asc
2022-04-06 09:50:55.306 DEBUG 12684 --- [http-nio-8086-exec-1] c.k.m.CommentMapper.listCommentByBlogId  : ==> Parameters: 85(Integer)
2022-04-06 09:50:55.307 DEBUG 12684 --- [http-nio-8086-exec-1] c.k.m.CommentMapper.listCommentByBlogId  : <==      Total: 0
2022-04-06 09:50:55.307  INFO 12684 --- [http-nio-8086-exec-1] com.kwok.aspect.LogAspect                : Result : blog :: commentList
2022-04-06 09:51:15.132 DEBUG 12684 --- [http-nio-8086-exec-8] com.kwok.mapper.BlogMapper.getBlogCount  : ==>  Preparing: select count(1) as count from blog
2022-04-06 09:51:15.132 DEBUG 12684 --- [http-nio-8086-exec-8] com.kwok.mapper.BlogMapper.getBlogCount  : ==> Parameters: 
2022-04-06 09:51:15.133 DEBUG 12684 --- [http-nio-8086-exec-8] com.kwok.mapper.BlogMapper.getBlogCount  : <==      Total: 1
2022-04-06 09:51:15.133 DEBUG 12684 --- [http-nio-8086-exec-8] com.kwok.mapper.BlogMapper.getBlogList   : ==>  Preparing: select b.*,t.name as typeName from blog b,type t where b.type_id=t.id order by b.id desc limit ?,?
2022-04-06 09:51:15.133 DEBUG 12684 --- [http-nio-8086-exec-8] com.kwok.mapper.BlogMapper.getBlogList   : ==> Parameters: 0(Integer), 5(Integer)
2022-04-06 09:51:15.136 DEBUG 12684 --- [http-nio-8086-exec-8] com.kwok.mapper.BlogMapper.getBlogList   : <==      Total: 5
2022-04-06 09:51:15.136 DEBUG 12684 --- [http-nio-8086-exec-8] com.kwok.mapper.BlogMapper.getBlogById   : ==>  Preparing: select * from blog where id = ?
2022-04-06 09:51:15.137 DEBUG 12684 --- [http-nio-8086-exec-8] com.kwok.mapper.BlogMapper.getBlogById   : ==> Parameters: 86(Integer)
2022-04-06 09:51:15.137 DEBUG 12684 --- [http-nio-8086-exec-8] com.kwok.mapper.BlogMapper.getBlogById   : <==      Total: 0
2022-04-06 09:51:15.137 DEBUG 12684 --- [http-nio-8086-exec-8] com.kwok.mapper.BlogMapper.getBlogById   : ==>  Preparing: select * from blog where id = ?
2022-04-06 09:51:15.137 DEBUG 12684 --- [http-nio-8086-exec-8] com.kwok.mapper.BlogMapper.getBlogById   : ==> Parameters: 80(Integer)
2022-04-06 09:51:15.138 DEBUG 12684 --- [http-nio-8086-exec-8] com.kwok.mapper.BlogMapper.getBlogById   : <==      Total: 1
2022-04-06 09:51:15.138 DEBUG 12684 --- [http-nio-8086-exec-8] com.kwok.mapper.TypeMapper.listType      : ==>  Preparing: select * from type order by id desc
2022-04-06 09:51:15.138 DEBUG 12684 --- [http-nio-8086-exec-8] com.kwok.mapper.TypeMapper.listType      : ==> Parameters: 
2022-04-06 09:51:15.138 DEBUG 12684 --- [http-nio-8086-exec-8] com.kwok.mapper.TypeMapper.listType      : <==      Total: 7
2022-04-06 09:51:17.123  INFO 12684 --- [http-nio-8086-exec-5] com.kwok.aspect.LogAspect                : Request : {url='http://localhost:8086/index', ip='0:0:0:0:0:0:0:1', classMethod='com.kwok.controller.IndexController.index', args=[org.apache.catalina.connector.RequestFacade@7b4c3c2a, org.apache.catalina.connector.ResponseFacade@4167aeee, {}]}
2022-04-06 09:51:17.124 DEBUG 12684 --- [http-nio-8086-exec-5] com.kwok.mapper.BlogMapper.getBlogCount  : ==>  Preparing: select count(1) as count from blog
2022-04-06 09:51:17.124 DEBUG 12684 --- [http-nio-8086-exec-5] com.kwok.mapper.BlogMapper.getBlogCount  : ==> Parameters: 
2022-04-06 09:51:17.125 DEBUG 12684 --- [http-nio-8086-exec-5] com.kwok.mapper.BlogMapper.getBlogCount  : <==      Total: 1
2022-04-06 09:51:17.125 DEBUG 12684 --- [http-nio-8086-exec-5] com.kwok.mapper.BlogMapper.getBlogList   : ==>  Preparing: select b.*,t.name as typeName from blog b,type t where b.type_id=t.id order by b.id desc limit ?,?
2022-04-06 09:51:17.126 DEBUG 12684 --- [http-nio-8086-exec-5] com.kwok.mapper.BlogMapper.getBlogList   : ==> Parameters: 0(Integer), 5(Integer)
2022-04-06 09:51:17.129 DEBUG 12684 --- [http-nio-8086-exec-5] com.kwok.mapper.BlogMapper.getBlogList   : <==      Total: 5
2022-04-06 09:51:17.129 DEBUG 12684 --- [http-nio-8086-exec-5] com.kwok.mapper.BlogMapper.getBlogById   : ==>  Preparing: select * from blog where id = ?
2022-04-06 09:51:17.129 DEBUG 12684 --- [http-nio-8086-exec-5] com.kwok.mapper.BlogMapper.getBlogById   : ==> Parameters: 86(Integer)
2022-04-06 09:51:17.130 DEBUG 12684 --- [http-nio-8086-exec-5] com.kwok.mapper.BlogMapper.getBlogById   : <==      Total: 0
2022-04-06 09:51:17.130 DEBUG 12684 --- [http-nio-8086-exec-5] com.kwok.mapper.BlogMapper.getBlogById   : ==>  Preparing: select * from blog where id = ?
2022-04-06 09:51:17.130 DEBUG 12684 --- [http-nio-8086-exec-5] com.kwok.mapper.BlogMapper.getBlogById   : ==> Parameters: 80(Integer)
2022-04-06 09:51:17.131 DEBUG 12684 --- [http-nio-8086-exec-5] com.kwok.mapper.BlogMapper.getBlogById   : <==      Total: 1
2022-04-06 09:51:17.131 DEBUG 12684 --- [http-nio-8086-exec-5] com.kwok.mapper.TagMapper.listTopTag     : ==>  Preparing: select tag.id,tag.name,tn.num from tag,(select tag_id,count(*) as num from blog_tag group by tag_id order by num desc) as tn where tag.id = tn.tag_id
2022-04-06 09:51:17.131 DEBUG 12684 --- [http-nio-8086-exec-5] com.kwok.mapper.TagMapper.listTopTag     : ==> Parameters: 
2022-04-06 09:51:17.132 DEBUG 12684 --- [http-nio-8086-exec-5] com.kwok.mapper.TagMapper.listTopTag     : <==      Total: 11
2022-04-06 09:51:17.132 DEBUG 12684 --- [http-nio-8086-exec-5] com.kwok.mapper.TypeMapper.listTopType   : ==>  Preparing: select type.id,type.name,tn.num from type,(select type_id,count(*) as num from blog group by type_id order by num desc) as tn where type.id = tn.type_id
2022-04-06 09:51:17.132 DEBUG 12684 --- [http-nio-8086-exec-5] com.kwok.mapper.TypeMapper.listTopType   : ==> Parameters: 
2022-04-06 09:51:17.133 DEBUG 12684 --- [http-nio-8086-exec-5] com.kwok.mapper.TypeMapper.listTopType   : <==      Total: 5
2022-04-06 09:51:17.133 DEBUG 12684 --- [http-nio-8086-exec-5] c.k.m.BlogMapper.listTopRecommendBlog    : ==>  Preparing: select * from blog where recommend = 1 order by update_time desc
2022-04-06 09:51:17.133 DEBUG 12684 --- [http-nio-8086-exec-5] c.k.m.BlogMapper.listTopRecommendBlog    : ==> Parameters: 
2022-04-06 09:51:17.135 DEBUG 12684 --- [http-nio-8086-exec-5] c.k.m.BlogMapper.listTopRecommendBlog    : <==      Total: 2
2022-04-06 09:51:17.135  INFO 12684 --- [http-nio-8086-exec-5] com.kwok.aspect.LogAspect                : Result : index
2022-04-06 09:51:37.502  INFO 12684 --- [http-nio-8086-exec-1] com.kwok.aspect.LogAspect                : Request : {url='http://localhost:8086/blog/85', ip='0:0:0:0:0:0:0:1', classMethod='com.kwok.controller.IndexController.blog', args=[85, {}]}
2022-04-06 09:51:37.502 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.BlogMapper.getBlogById   : ==>  Preparing: select * from blog where id = ?
2022-04-06 09:51:37.502 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.BlogMapper.getBlogById   : ==> Parameters: 85(Integer)
2022-04-06 09:51:37.504 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.BlogMapper.getBlogById   : <==      Total: 1
2022-04-06 09:51:37.504 DEBUG 12684 --- [http-nio-8086-exec-1] c.k.mapper.BlogMapper.updateBlogViews    : ==>  Preparing: update blog set views=? where id = ?
2022-04-06 09:51:37.504 DEBUG 12684 --- [http-nio-8086-exec-1] c.k.mapper.BlogMapper.updateBlogViews    : ==> Parameters: 2(Integer), 85(Integer)
2022-04-06 09:51:37.506 DEBUG 12684 --- [http-nio-8086-exec-1] c.k.mapper.BlogMapper.updateBlogViews    : <==    Updates: 1
2022-04-06 09:51:37.513 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.BlogMapper.getBlogById   : ==>  Preparing: select * from blog where id = ?
2022-04-06 09:51:37.513 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.BlogMapper.getBlogById   : ==> Parameters: 85(Integer)
2022-04-06 09:51:37.514 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.BlogMapper.getBlogById   : <==      Total: 1
2022-04-06 09:51:37.520 DEBUG 12684 --- [http-nio-8086-exec-1] c.k.m.BlogtagMapper.getTagIdByBlogId     : ==>  Preparing: select * from blog_tag where blog_id = ?
2022-04-06 09:51:37.520 DEBUG 12684 --- [http-nio-8086-exec-1] c.k.m.BlogtagMapper.getTagIdByBlogId     : ==> Parameters: 85(Integer)
2022-04-06 09:51:37.521 DEBUG 12684 --- [http-nio-8086-exec-1] c.k.m.BlogtagMapper.getTagIdByBlogId     : <==      Total: 3
2022-04-06 09:51:37.521 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.TagMapper.getShowTags    : ==>  Preparing: select * from tag where id in ( ? , ? , ? )
2022-04-06 09:51:37.521 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.TagMapper.getShowTags    : ==> Parameters: 3(Integer), 11(Integer), 4(Integer)
2022-04-06 09:51:37.522 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.TagMapper.getShowTags    : <==      Total: 3
2022-04-06 09:51:37.522  INFO 12684 --- [http-nio-8086-exec-1] com.kwok.aspect.LogAspect                : Result : blog
2022-04-06 09:51:38.113  INFO 12684 --- [http-nio-8086-exec-4] com.kwok.aspect.LogAspect                : Request : {url='http://localhost:8086/comments/85', ip='0:0:0:0:0:0:0:1', classMethod='com.kwok.controller.CommentController.comments', args=[85, {}]}
2022-04-06 09:51:38.114 DEBUG 12684 --- [http-nio-8086-exec-4] c.k.m.CommentMapper.listCommentByBlogId  : ==>  Preparing: select * from comment where blog_id = ? and parent_id = 0 order by creat_time asc
2022-04-06 09:51:38.114 DEBUG 12684 --- [http-nio-8086-exec-4] c.k.m.CommentMapper.listCommentByBlogId  : ==> Parameters: 85(Integer)
2022-04-06 09:51:38.115 DEBUG 12684 --- [http-nio-8086-exec-4] c.k.m.CommentMapper.listCommentByBlogId  : <==      Total: 0
2022-04-06 09:51:38.115  INFO 12684 --- [http-nio-8086-exec-4] com.kwok.aspect.LogAspect                : Result : blog :: commentList
2022-04-06 09:51:44.872 DEBUG 12684 --- [http-nio-8086-exec-7] com.kwok.mapper.TypeMapper.listType      : ==>  Preparing: select * from type order by id desc
2022-04-06 09:51:44.872 DEBUG 12684 --- [http-nio-8086-exec-7] com.kwok.mapper.TypeMapper.listType      : ==> Parameters: 
2022-04-06 09:51:44.873 DEBUG 12684 --- [http-nio-8086-exec-7] com.kwok.mapper.TypeMapper.listType      : <==      Total: 7
2022-04-06 09:51:44.873 DEBUG 12684 --- [http-nio-8086-exec-7] com.kwok.mapper.TagMapper.listTag        : ==>  Preparing: select * from tag order by id desc
2022-04-06 09:51:44.874 DEBUG 12684 --- [http-nio-8086-exec-7] com.kwok.mapper.TagMapper.listTag        : ==> Parameters: 
2022-04-06 09:51:44.874 DEBUG 12684 --- [http-nio-8086-exec-7] com.kwok.mapper.TagMapper.listTag        : <==      Total: 14
2022-04-06 09:51:44.874 DEBUG 12684 --- [http-nio-8086-exec-7] com.kwok.mapper.BlogMapper.getBlogById   : ==>  Preparing: select * from blog where id = ?
2022-04-06 09:51:44.874 DEBUG 12684 --- [http-nio-8086-exec-7] com.kwok.mapper.BlogMapper.getBlogById   : ==> Parameters: 85(Integer)
2022-04-06 09:51:44.876 DEBUG 12684 --- [http-nio-8086-exec-7] com.kwok.mapper.BlogMapper.getBlogById   : <==      Total: 1
2022-04-06 09:51:44.877 DEBUG 12684 --- [http-nio-8086-exec-7] c.k.m.BlogtagMapper.getTagIdByBlogId     : ==>  Preparing: select * from blog_tag where blog_id = ?
2022-04-06 09:51:44.877 DEBUG 12684 --- [http-nio-8086-exec-7] c.k.m.BlogtagMapper.getTagIdByBlogId     : ==> Parameters: 85(Integer)
2022-04-06 09:51:44.877 DEBUG 12684 --- [http-nio-8086-exec-7] c.k.m.BlogtagMapper.getTagIdByBlogId     : <==      Total: 3
2022-04-06 09:51:56.486 DEBUG 12684 --- [http-nio-8086-exec-2] c.k.m.BlogtagMapper.deletePreBlogtag     : ==>  Preparing: delete from blog_tag where blog_id = ?
2022-04-06 09:51:56.486 DEBUG 12684 --- [http-nio-8086-exec-2] c.k.m.BlogtagMapper.deletePreBlogtag     : ==> Parameters: 85(Integer)
2022-04-06 09:51:56.488 DEBUG 12684 --- [http-nio-8086-exec-2] c.k.m.BlogtagMapper.deletePreBlogtag     : <==    Updates: 3
2022-04-06 09:51:56.488 DEBUG 12684 --- [http-nio-8086-exec-2] c.k.mapper.BlogtagMapper.getLastBlogtag  : ==>  Preparing: select * from blog_tag order by id desc limit 1
2022-04-06 09:51:56.488 DEBUG 12684 --- [http-nio-8086-exec-2] c.k.mapper.BlogtagMapper.getLastBlogtag  : ==> Parameters: 
2022-04-06 09:51:56.489 DEBUG 12684 --- [http-nio-8086-exec-2] c.k.mapper.BlogtagMapper.getLastBlogtag  : <==      Total: 1
2022-04-06 09:51:56.490 DEBUG 12684 --- [http-nio-8086-exec-2] c.kwok.mapper.BlogtagMapper.saveBlogtag  : ==>  Preparing: insert into blog_tag (id, blog_id, tag_id) values (?, ?,?)
2022-04-06 09:51:56.490 DEBUG 12684 --- [http-nio-8086-exec-2] c.kwok.mapper.BlogtagMapper.saveBlogtag  : ==> Parameters: 204(Integer), 85(Integer), 3(Integer)
2022-04-06 09:51:56.493 DEBUG 12684 --- [http-nio-8086-exec-2] c.kwok.mapper.BlogtagMapper.saveBlogtag  : <==    Updates: 1
2022-04-06 09:51:56.493 DEBUG 12684 --- [http-nio-8086-exec-2] c.k.mapper.BlogtagMapper.getLastBlogtag  : ==>  Preparing: select * from blog_tag order by id desc limit 1
2022-04-06 09:51:56.494 DEBUG 12684 --- [http-nio-8086-exec-2] c.k.mapper.BlogtagMapper.getLastBlogtag  : ==> Parameters: 
2022-04-06 09:51:56.494 DEBUG 12684 --- [http-nio-8086-exec-2] c.k.mapper.BlogtagMapper.getLastBlogtag  : <==      Total: 1
2022-04-06 09:51:56.494 DEBUG 12684 --- [http-nio-8086-exec-2] c.kwok.mapper.BlogtagMapper.saveBlogtag  : ==>  Preparing: insert into blog_tag (id, blog_id, tag_id) values (?, ?,?)
2022-04-06 09:51:56.494 DEBUG 12684 --- [http-nio-8086-exec-2] c.kwok.mapper.BlogtagMapper.saveBlogtag  : ==> Parameters: 205(Integer), 85(Integer), 11(Integer)
2022-04-06 09:51:56.495 DEBUG 12684 --- [http-nio-8086-exec-2] c.kwok.mapper.BlogtagMapper.saveBlogtag  : <==    Updates: 1
2022-04-06 09:51:56.495 DEBUG 12684 --- [http-nio-8086-exec-2] c.k.mapper.BlogtagMapper.getLastBlogtag  : ==>  Preparing: select * from blog_tag order by id desc limit 1
2022-04-06 09:51:56.495 DEBUG 12684 --- [http-nio-8086-exec-2] c.k.mapper.BlogtagMapper.getLastBlogtag  : ==> Parameters: 
2022-04-06 09:51:56.496 DEBUG 12684 --- [http-nio-8086-exec-2] c.k.mapper.BlogtagMapper.getLastBlogtag  : <==      Total: 1
2022-04-06 09:51:56.496 DEBUG 12684 --- [http-nio-8086-exec-2] c.kwok.mapper.BlogtagMapper.saveBlogtag  : ==>  Preparing: insert into blog_tag (id, blog_id, tag_id) values (?, ?,?)
2022-04-06 09:51:56.496 DEBUG 12684 --- [http-nio-8086-exec-2] c.kwok.mapper.BlogtagMapper.saveBlogtag  : ==> Parameters: 206(Integer), 85(Integer), 4(Integer)
2022-04-06 09:51:56.496 DEBUG 12684 --- [http-nio-8086-exec-2] c.kwok.mapper.BlogtagMapper.saveBlogtag  : <==    Updates: 1
2022-04-06 09:51:56.496 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.BlogMapper.updateBlog    : ==>  Preparing: update blog set title=?,content=?,description=?, first_picture=?, flag=?,appreciation=?, share_statement=?,commentabled=?, published=?,recommend=?, update_time=?,type_id=? where id = ?
2022-04-06 09:51:56.498 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.BlogMapper.updateBlog    : ==> Parameters: SpringCloud-Eureka服务注册中心(String), ## 1 什么是Eureka

- Netflix在涉及Eureka时，遵循的就是API原则.
- Eureka是Netflix的有个子模块，也是核心模块之一。Eureka是基于REST的服务，用于定位服务，以实现云端中间件层服务发现和故障转移，服务注册与发现对于微服务来说是非常重要的，有了服务注册与发现，只需要使用服务的标识符，就可以访问到服务，而不需要修改服务调用的配置文件了，功能类似于Dubbo的注册中心，比如Zookeeper.

## 2 原理理解

- Eureka基本的架构

  - Springcloud 封装了Netflix公司开发的Eureka模块来实现服务注册与发现 (对比Zookeeper).
  - Eureka采用了C-S的架构设计，EurekaServer作为服务注册功能的服务器，他是服务注册中心.

  - 而系统中的其他微服务，使用Eureka的客户端连接到EurekaServer并维持心跳连接。这样系统的维护人员就可以通过EurekaServer来监控系统中各个微服务是否正常运行，Springcloud 的一些其他模块 (比如Zuul) 就可以通过EurekaServer来发现系统中的其他微服务，并执行相关的逻辑.

![img](https://img-blog.csdnimg.cn/img_convert/7e6a33918b8641c2193be379c625193f.png)

- 和Dubbo架构对比.

  - Eureka 包含两个组件：**Eureka Server** 和 **Eureka Client**.

  - Eureka Server 提供服务注册，各个节点启动后，回在EurekaServer中进行注册，这样Eureka Server中的服务注册表中将会储存所有课用服务节点的信息，服务节点的信息可以在界面中直观的看到.

  - Eureka Client 是一个Java客户端，用于简化EurekaServer的交互，客户端同时也具备一个内置的，使用轮询负载算法的负载均衡器。在应用启动后，将会向EurekaServer发送心跳 (默认周期为30秒) 。如果Eureka Server在多个心跳周期内没有接收到某个节点的心跳，EurekaServer将会从服务注册表中把这个服务节点移除掉 (默认周期为90s).
    ![img](https://img-blog.csdnimg.cn/img_convert/81b58776a517f7ddfee9f5fb28dc62d1.png)

  

- 三大角色

  - Eureka Server：提供服务的注册与发现
  - Service Provider：服务生产方，将自身服务注册到Eureka中，从而使服务消费方能狗找到

  - Service Consumer：服务消费方，从Eureka中获取注册服务列表，从而找到消费服务



- 目前工程状况

![img](https://img-blog.csdnimg.cn/img_convert/29901b896954c1d0ccd5ba2f104e286d.png)

## 3 构建步骤

### 3.1 eureka-server

1.springcloud-eureka-7001 模块建立

2.pom.xml 配置

```xml
<!--导包~-->
<dependencies>
    <!-- https://mvnrepository.com/artifact/org.springframework.cloud/spring-cloud-starter-eureka-server -->
    <!--导入Eureka Server依赖-->
    <dependency>
        <groupId>org.springframework.cloud</groupId>
        <artifactId>spring-cloud-starter-eureka-server</artifactId>
        <version>1.4.6.RELEASE</version>
    </dependency>
    <!--热部署工具-->
    <dependency>
        <groupId>org.springframework.boot</groupId>
        <artifactId>spring-boot-devtools</artifactId>
    </dependency>
</dependencies>
```

3.application.yml

```yaml
server:
  port: 7001
# Eureka配置
eureka:
  instance:
    # Eureka服务端的实例名字
    hostname: 127.0.0.1
  client:
    # 表示是否向 Eureka 注册中心注册自己(这个模块本身是服务器,所以不需要)
    register-with-eureka: false
    # fetch-registry如果为false,则表示自己为注册中心,客户端的化为 ture
    fetch-registry: false
    # Eureka监控页面~
    service-url:
      defaultZone: http://${
      eureka.instance.hostname}:${
      server.port}/eureka/
```

源码中Eureka的默认端口以及访问路径:

![img](https://img-blog.csdnimg.cn/img_convert/c7faf36a79b1d012eae13be0a48291f7.png)

主启动类

```java
/**
 * @Auther: csp1999
 * @Date: 2020/05/18/10:26
 * @Description: 启动之后，访问 http://127.0.0.1:7001/
 */
@SpringBootApplication
// @EnableEurekaServer 服务端的启动类，可以接受别人注册进来~
@EnableEurekaServer
public class EurekaServer_7001 {
    public static void main(String[] args) {
        SpringApplication.run(EurekaServer_7001.class,args);
    }
}
```

启动成功后访问 http://localhost:7001/ 得到以下页面

![img](https://img-blog.csdnimg.cn/img_convert/112b9c4ac144da1c591065b2ad52fa55.png)

### 3.2 eureka-client

**调整之前创建的springcloud-provider-dept-8001**

导入Eureca依赖

```xml
<!--Eureka依赖-->
<!-- https://mvnrepository.com/artifact/org.springframework.cloud/spring-cloud-starter-eureka -->
<dependency>
    <groupId>org.springframework.cloud</groupId>
    <artifactId>spring-cloud-starter-eureka</artifactId>
    <version>1.4.6.RELEASE</version>
</dependency>
```

application中新增Eureca配置

```yaml
# Eureka配置：配置服务注册中心地址
eureka:
  client:
    service-url:
      defaultZone: http://localhost:7001/eureka/
```

为主启动类添加[@EnableEurekaClient](https://github.com/EnableEurekaClient)注解

```java
/**
 * @Auther: csp1999
 * @Date: 2020/05/17/22:09
 * @Description: 启动类
 */
@SpringBootApplication
// @EnableEurekaClient 开启Eureka客户端注解，在服务启动后自动向注册中心注册服务
@EnableEurekaClient
public class DeptProvider_8001 {
    public static void main(String[] args) {
        SpringApplication.run(DeptProvider_8001.class,args);
    }
}
```

先启动7001服务端后启动8001客户端进行测试，然后访问监控页http://localhost:7001/ 产看结果如图，成功

![img](https://img-blog.csdnimg.cn/img_convert/96558a239e5180ed68273f00a043827a.png)

修改Eureka上的默认描述信息

```yaml
#Eureka的配置，服务注册到哪里
eureka:
  client:
    service-url:
      defaultZone: http://localhost:7001/eureka/
  instance:
    instance-id: springcloud-provider-dept8001 # 修改eureka上的默认描述信息！
```

结果如图：

![img](https://img-blog.csdnimg.cn/img_convert/1c238d49584a15be45dd4506fd5d3bb3.png)

如果此时停掉springcloud-provider-dept-8001 等**30s**后 监控会开启保护机制：

![img](https://img-blog.csdnimg.cn/img_convert/e7a23853348db3eea8ce41b9a913434c.png)

配置关于服务加载的监控信息

![img](https://img-blog.csdnimg.cn/img_convert/983698939714424042cac3a6327d6bfa.png)

pom.xml中添加依赖

```xml
<!--actuator完善监控信息-->
<dependency>
 <groupId>org.springframework.boot</groupId>
 <artifactId>spring-boot-starter-actuator</artifactId>
</dependency>
```

application.yml中添加配置

```yaml
#info配置info:	# 项目的名称  app.name: kwok-springcloud  # 公司的名称  company.name: blog.kwokstudy.com
```

此时刷新监控页，点击进入![img](https://img-blog.csdnimg.cn/img_convert/18967d3e84ccb4a06ec89432637e79e0.png)跳转新页面显示如下内容：

![img](https://img-blog.csdnimg.cn/img_convert/cbcfb1b0e25b8557c8f6bca1eccc9d60.png)

注：跳转无法显示，解决方案 [https://blog.csdn.net/weixin_45852687/article/details/121151309](https://blog.csdn.net/weixin_45852687/article/details/121151309)

在application.yml文件中也写了info信息：就解决了

```yaml
management:  endpoints:    web:      exposure:        include: "*"
```

### 3.3 EureKa自我保护机制：好死不如赖活着

&emsp;&emsp;一句话总结就是：**某时刻某一个微服务不可用，eureka不会立即清理，依旧会对该微服务的信息进行保存！**

- 默认情况下，当eureka server在一定时间内没有收到实例的心跳，便会把该实例从注册表中删除（**默认是90秒**），但是，如果短时间内丢失大量的实例心跳，便会触发eureka server的自我保护机制，比如在开发测试时，需要频繁地重启微服务实例，但是我们很少会把eureka server一起重启（因为在开发过程中不会修改eureka注册中心），**当一分钟内收到的心跳数大量减少时，会触发该保护机制**。可以在eureka管理界面看到Renews threshold和Renews(last min)，当后者（最后一分钟收到的心跳数）小于前者（心跳阈值）的时候，触发保护机制，会出现红色的警告：EMERGENCY!EUREKA MAY BE INCORRECTLY CLAIMING INSTANCES ARE UP WHEN THEY'RE NOT.RENEWALS ARE LESSER THAN THRESHOLD AND HENCE THE INSTANCES ARE NOT BEGING EXPIRED JUST TO BE SAFE.从警告中可以看到，eureka认为虽然收不到实例的心跳，但它认为实例还是健康的，eureka会保护这些实例，不会把它们从注册表中删掉。
- 该保护机制的目的是避免网络连接故障，在发生网络故障时，微服务和注册中心之间无法正常通信，但服务本身是健康的，不应该注销该服务，如果eureka因网络故障而把微服务误删了，那即使网络恢复了，该微服务也不会重新注册到eureka server了，因为只有在微服务启动的时候才会发起注册请求，后面只会发送心跳和服务列表请求，这样的话，该实例虽然是运行着，但永远不会被其它服务所感知。所以，eureka server在短时间内丢失过多的客户端心跳时，会进入自我保护模式，该模式下，eureka会保护注册表中的信息，不在注销任何微服务，当网络故障恢复后，eureka会自动退出保护模式。自我保护模式可以让集群更加健壮。

- 但是我们在开发测试阶段，需要频繁地重启发布，如果触发了保护机制，则旧的服务实例没有被删除，这时请求有可能跑到旧的实例中，而该实例已经关闭了，这就导致请求错误，影响开发测试。所以，在开发测试阶段，我们可以把自我保护模式关闭，只需在eureka server配置文件中加上如下配置即可：eureka.server.enable-self-preservation=false【不推荐关闭自我保护机制】

详细内容可以参考下这篇博客内容：[https://blog.csdn.net/wudiyong22/article/details/80827594](https://blog.csdn.net/wudiyong22/article/details/80827594)

### 3.4 注册进来的微服务，获取一些消息（团队开发会用到）

**DeptController**新增方法

```java
/** * DiscoveryClient 可以用来获取一些配置的信息，得到具体的微服务！ */@Autowiredprivate DiscoveryClient client;/** * 获取一些注册进来的微服务的信息~， * * @return */// 注册进来的微服务~，获取一些消息~@GetMapping("/dept/discovery")public Object discovery(){    //获取微服务列表的清单    List<String> services = client.getServices();    System.out.println("discovery=>service"+services);    //得到一个具体的微服务信息，通过具体的微服务id，applicationName    List<ServiceInstance> instances = client.getInstances("SPRINGCLOUD-PROVIDER-DEPT");    for (ServiceInstance instance : instances) {        System.out.println(            instance.getHost()+"\t"+instance.getPort()+"\t"+instance.getUri()+"\t"+instance.getServiceId()        );    }    return this.client;}
```

主启动类中加入[@EnableDiscoveryClient](https://github.com/EnableDiscoveryClient) 注解

```java
@SpringBootApplication// @EnableEurekaClient 开启Eureka客户端注解，在服务启动后自动向注册中心注册服务@EnableEurekaClient// @EnableEurekaClient 开启服务发现客户端的注解，可以用来获取一些配置的信息，得到具体的微服务@EnableDiscoveryClientpublic class DeptProvider_8001 {    ...}
```

结果如图：

![img](https://img-blog.csdnimg.cn/img_convert/1ce27513e2fe323ae960cfd7c8bc7b21.png)

![img](https://img-blog.csdnimg.cn/img_convert/ca50cb4cb7bd76ba8d292b9d77100556.png)

## 4 Eureka：集群环境配置

![img](https://img-blog.csdnimg.cn/img_convert/833f6fb1c42925d3b98ba8e0946fbd16.png)

### 4.1 初始化

新建springcloud-eureka-7002、springcloud-eureka-7003 模块

1.为pom.xml添加依赖 (与springcloud-eureka-7001相同)

```xml
<!--导包~--><dependencies>    <!-- https://mvnrepository.com/artifact/org.springframework.cloud/spring-cloud-starter-eureka-server -->    <!--导入Eureka Server依赖-->    <dependency>        <groupId>org.springframework.cloud</groupId>        <artifactId>spring-cloud-starter-eureka-server</artifactId>        <version>1.4.6.RELEASE</version>    </dependency>    <!--热部署工具-->    <dependency>        <groupId>org.springframework.boot</groupId>        <artifactId>spring-boot-devtools</artifactId>    </dependency></dependencies>
```

2.application.yml配置(与springcloud-eureka-7001相同)

```yaml
server:
  port: 7003
# Eureka配置
eureka:
  instance:
    hostname: localhost # Eureka服务端的实例名字
  client:
    register-with-eureka: false # 表示是否向 Eureka 注册中心注册自己(这个模块本身是服务器,所以不需要)
    fetch-registry: false # fetch-registry如果为false,则表示自己为注册中心
    service-url: # 监控页面~
      # 重写Eureka的默认端口以及访问路径 --->http://localhost:7001/eureka/
      defaultZone: http://${
    eureka.instance.hostname}:${
    server.port}/eureka/
```

3.主启动类(与springcloud-eureka-7001相同)

```java
/**
 * @Auther: csp1999
 * @Date: 2020/05/18/10:26
 * @Description: 启动之后，访问 http://127.0.0.1:7003/
 */
@SpringBootApplication
// @EnableEurekaServer 服务端的启动类，可以接受别人注册进来~
public class EurekaServer_7003 {
    public static void main(String[] args) {
        SpringApplication.run(EurekaServer_7003.class,args);
    }
}
```

### 4.2 集群成员相互关联

配置一些自定义本机名字，找到本机hosts文件并打开

![img](https://img-blog.csdnimg.cn/img_convert/8830259cde7f661e2bdf589ed4120bd4.png)

在hosts文件最后加上，要访问的本机名称，默认是localhost

![img](https://img-blog.csdnimg.cn/img_convert/41172d6145eadae0cf9d46f005eee20c.png)

修改application.yml的配置，如图为springcloud-eureka-7001配置，springcloud-eureka-7002/springcloud-eureka-7003同样分别修改为其对应的名称即可

![img](https://img-blog.csdnimg.cn/img_convert/4b03b864f1cfc2a4639329f10ddb53c1.png)

在集群中使springcloud-eureka-7001关联springcloud-eureka-7002、springcloud-eureka-7003

完整的springcloud-eureka-7001下的application.yml如下

```yaml
server:
  port: 7001
#Eureka配置
eureka:
  instance:
    hostname: eureka7001.com #Eureka服务端的实例名字
  client:
    register-with-eureka: false #表示是否向 Eureka 注册中心注册自己(这个模块本身是服务器,所以不需要)
    fetch-registry: false #fetch-registry如果为false,则表示自己为注册中心
    service-url: #监控页面~
      #重写Eureka的默认端口以及访问路径 --->http://localhost:7001/eureka/
      # 单机： defaultZone: http://${eureka.instance.hostname}:${server.port}/eureka/
      # 集群（关联）：7001关联7002、7003
      defaultZone: http://eureka7002.com:7002/eureka/,http://eureka7003.com:7003/eureka/
```

同时在集群中使springcloud-eureka-7002关联springcloud-eureka-7001、springcloud-eureka-7003

完整的springcloud-eureka-7002下的application.yml如下

```yaml
server:
  port: 7002
#Eureka配置
eureka:
  instance:
    hostname: eureka7002.com #Eureka服务端的实例名字
  client:
    register-with-eureka: false #表示是否向 Eureka 注册中心注册自己(这个模块本身是服务器,所以不需要)
    fetch-registry: false #fetch-registry如果为false,则表示自己为注册中心
    service-url: #监控页面~
      #重写Eureka的默认端口以及访问路径 --->http://localhost:7001/eureka/
      # 单机： defaultZone: http://${eureka.instance.hostname}:${server.port}/eureka/
      # 集群（关联）：7002关联7001、7003
      defaultZone: http://eureka7001.com:7001/eureka/,http://eureka7003.com:7003/eureka/
```

springcloud-eureka-7003配置方式同理可得.

通过springcloud-provider-dept-8001下的yml配置文件，修改**Eureka配置：配置服务注册中心地址**

```yaml
# Eureka配置：配置服务注册中心地址
eureka:
  client:
    service-url:
      # 注册中心地址7001-7003
      defaultZone: http://eureka7001.com:7001/eureka/,http://eureka7002.com:7002/eureka/,http://eureka7003.com:7003/eureka/
  instance:
    instance-id: springcloud-provider-dept-8001 #修改Eureka上的默认描述信息
```

这样模拟集群就搭建号了，就可以把一个项目挂载到三个服务器上了

![img](https://img-blog.csdnimg.cn/img_convert/6132ba939d61b1b30b86e41794467c2b.png)

## 5 对比和Zookeeper区别

#### 5.1 回顾CAP原则

RDBMS (MySQL\Oracle\sqlServer) ===> ACID

NoSQL (Redis\MongoDB) ===> CAP

#### 5.2 ACID是什么？

- A (Atomicity) 原子性
- C (Consistency) 一致性

- I (Isolation) 隔离性
- D (Durability) 持久性

#### 5.3 CAP是什么?

- C (Consistency) 强一致性
- A (Availability) 可用性

- P (Partition tolerance) 分区容错性

CAP的三进二：CA、AP、CP

#### 5.4 CAP理论的核心

- 一个分布式系统不可能同时很好的满足一致性，可用性和分区容错性这三个需求
- 根据CAP原理，将NoSQL数据库分成了满足CA原则，满足CP原则和满足AP原则三大类

  - CA：单点集群，满足一致性，可用性的系统，通常可扩展性较差

  - CP：满足一致性，分区容错的系统，通常性能不是特别高

  - AP：满足可用性，分区容错的系统，通常可能对一致性要求低一些

#### 5.5 作为分布式服务注册中心，Eureka比Zookeeper好在哪里？

&emsp;&emsp;著名的CAP理论指出，一个分布式系统不可能同时满足C (一致性) 、A (可用性) 、P (容错性)，由于分区容错性P再分布式系统中是必须要保证的，因此我们只能再A和C之间进行权衡。

- Zookeeper 保证的是 CP —> 满足一致性，分区容错的系统，通常性能不是特别高

- Eureka 保证的是 AP —> 满足可用性，分区容错的系统，通常可能对一致性要求低一些



**Zookeeper保证的是CP**



&emsp;&emsp;当向注册中心查询服务列表时，我们可以容忍注册中心返回的是几分钟以前的注册信息，但不能接收服务直接down掉不可用。也就是说，**服务注册功能对可用性的要求要高于一致性**。但zookeeper会出现这样一种情况，当master节点因为网络故障与其他节点失去联系时，剩余节点会重新进行leader选举。问题在于，选举leader的时间太长，30-120s，且选举期间整个zookeeper集群是不可用的，这就导致在选举期间注册服务瘫痪。在云部署的环境下，因为网络问题使得zookeeper集群失去master节点是较大概率发生的事件，虽然服务最终能够恢复，但是，漫长的选举时间导致注册长期不可用，是不可容忍的。



**Eureka保证的是AP**


 &emsp;&emsp;Eureka看明白了这一点，因此在设计时就优先保证可用性。**Eureka各个节点都是平等的**，几个节点挂掉不会影响正常节点的工作，剩余的节点依然可以提供注册和查询服务。而Eureka的客户端在向某个Eureka注册时，如果发现连接失败，则会自动切换至其他节点，只要有一台Eureka还在，就能保住注册服务的可用性，只不过查到的信息可能不是最新的，除此之外，Eureka还有之中自我保护机制，如果在15分钟内超过85%的节点都没有正常的心跳，那么Eureka就认为客户端与注册中心出现了网络故障，此时会出现以下几种情况：

- Eureka不在从注册列表中移除因为长时间没收到心跳而应该过期的服务

- Eureka仍然能够接受新服务的注册和查询请求，但是不会被同步到其他节点上 (即保证当前节点依然可用)

- 当网络稳定时，当前实例新的注册信息会被同步到其他节点中

&emsp;&emsp;因此，Eureka可以很好的应对因网络故障导致部分节点失去联系的情况，而不会像zookeeper那样使整个注册服务瘫痪(String), 1 什么是Eureka Netflix在涉及Eureka时，遵循的就是API原则. Eureka是Netflix的有个子模块，也是核心模块之一。Eureka是基于REST的服务，用于定位服务，以实现云端中间件层服务发现和故障转移，服务注册与发现对于微服务来说是非常重要的(String), http://110.42.213.171:8080/blogimgs/85.png(String), 转载(String), true(Boolean), true(Boolean), true(Boolean), true(Boolean), false(Boolean), 2022-04-06 09:51:56.486(Timestamp), 7(Integer), 85(Integer)
2022-04-06 09:51:56.500 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.BlogMapper.updateBlog    : <==    Updates: 1
2022-04-06 09:51:56.505 DEBUG 12684 --- [http-nio-8086-exec-5] com.kwok.mapper.BlogMapper.getBlogCount  : ==>  Preparing: select count(1) as count from blog
2022-04-06 09:51:56.505 DEBUG 12684 --- [http-nio-8086-exec-5] com.kwok.mapper.BlogMapper.getBlogCount  : ==> Parameters: 
2022-04-06 09:51:56.507 DEBUG 12684 --- [http-nio-8086-exec-5] com.kwok.mapper.BlogMapper.getBlogCount  : <==      Total: 1
2022-04-06 09:51:56.507 DEBUG 12684 --- [http-nio-8086-exec-5] com.kwok.mapper.BlogMapper.getBlogList   : ==>  Preparing: select b.*,t.name as typeName from blog b,type t where b.type_id=t.id order by b.id desc limit ?,?
2022-04-06 09:51:56.507 DEBUG 12684 --- [http-nio-8086-exec-5] com.kwok.mapper.BlogMapper.getBlogList   : ==> Parameters: 0(Integer), 5(Integer)
2022-04-06 09:51:56.510 DEBUG 12684 --- [http-nio-8086-exec-5] com.kwok.mapper.BlogMapper.getBlogList   : <==      Total: 5
2022-04-06 09:51:56.510 DEBUG 12684 --- [http-nio-8086-exec-5] com.kwok.mapper.BlogMapper.getBlogById   : ==>  Preparing: select * from blog where id = ?
2022-04-06 09:51:56.510 DEBUG 12684 --- [http-nio-8086-exec-5] com.kwok.mapper.BlogMapper.getBlogById   : ==> Parameters: 86(Integer)
2022-04-06 09:51:56.511 DEBUG 12684 --- [http-nio-8086-exec-5] com.kwok.mapper.BlogMapper.getBlogById   : <==      Total: 0
2022-04-06 09:51:56.511 DEBUG 12684 --- [http-nio-8086-exec-5] com.kwok.mapper.BlogMapper.getBlogById   : ==>  Preparing: select * from blog where id = ?
2022-04-06 09:51:56.511 DEBUG 12684 --- [http-nio-8086-exec-5] com.kwok.mapper.BlogMapper.getBlogById   : ==> Parameters: 80(Integer)
2022-04-06 09:51:56.512 DEBUG 12684 --- [http-nio-8086-exec-5] com.kwok.mapper.BlogMapper.getBlogById   : <==      Total: 1
2022-04-06 09:51:56.512 DEBUG 12684 --- [http-nio-8086-exec-5] com.kwok.mapper.TypeMapper.listType      : ==>  Preparing: select * from type order by id desc
2022-04-06 09:51:56.512 DEBUG 12684 --- [http-nio-8086-exec-5] com.kwok.mapper.TypeMapper.listType      : ==> Parameters: 
2022-04-06 09:51:56.512 DEBUG 12684 --- [http-nio-8086-exec-5] com.kwok.mapper.TypeMapper.listType      : <==      Total: 7
2022-04-06 09:51:57.844 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.BlogMapper.getBlogCount  : ==>  Preparing: select count(1) as count from blog
2022-04-06 09:51:57.844 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.BlogMapper.getBlogCount  : ==> Parameters: 
2022-04-06 09:51:57.846 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.BlogMapper.getBlogCount  : <==      Total: 1
2022-04-06 09:51:57.846 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.BlogMapper.getBlogList   : ==>  Preparing: select b.*,t.name as typeName from blog b,type t where b.type_id=t.id order by b.id desc limit ?,?
2022-04-06 09:51:57.846 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.BlogMapper.getBlogList   : ==> Parameters: 0(Integer), 5(Integer)
2022-04-06 09:51:57.849 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.BlogMapper.getBlogList   : <==      Total: 5
2022-04-06 09:51:57.849 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.BlogMapper.getBlogById   : ==>  Preparing: select * from blog where id = ?
2022-04-06 09:51:57.849 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.BlogMapper.getBlogById   : ==> Parameters: 86(Integer)
2022-04-06 09:51:57.850 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.BlogMapper.getBlogById   : <==      Total: 0
2022-04-06 09:51:57.850 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.BlogMapper.getBlogById   : ==>  Preparing: select * from blog where id = ?
2022-04-06 09:51:57.850 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.BlogMapper.getBlogById   : ==> Parameters: 80(Integer)
2022-04-06 09:51:57.851 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.BlogMapper.getBlogById   : <==      Total: 1
2022-04-06 09:51:57.851 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.TypeMapper.listType      : ==>  Preparing: select * from type order by id desc
2022-04-06 09:51:57.851 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.TypeMapper.listType      : ==> Parameters: 
2022-04-06 09:51:57.851 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.TypeMapper.listType      : <==      Total: 7
2022-04-06 09:51:59.722  INFO 12684 --- [http-nio-8086-exec-2] com.kwok.aspect.LogAspect                : Request : {url='http://localhost:8086/index', ip='0:0:0:0:0:0:0:1', classMethod='com.kwok.controller.IndexController.index', args=[org.apache.catalina.connector.RequestFacade@253c6fd2, org.apache.catalina.connector.ResponseFacade@23fdcdb, {}]}
2022-04-06 09:51:59.723 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.BlogMapper.getBlogCount  : ==>  Preparing: select count(1) as count from blog
2022-04-06 09:51:59.723 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.BlogMapper.getBlogCount  : ==> Parameters: 
2022-04-06 09:51:59.725 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.BlogMapper.getBlogCount  : <==      Total: 1
2022-04-06 09:51:59.725 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.BlogMapper.getBlogList   : ==>  Preparing: select b.*,t.name as typeName from blog b,type t where b.type_id=t.id order by b.id desc limit ?,?
2022-04-06 09:51:59.725 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.BlogMapper.getBlogList   : ==> Parameters: 0(Integer), 5(Integer)
2022-04-06 09:51:59.729 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.BlogMapper.getBlogList   : <==      Total: 5
2022-04-06 09:51:59.729 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.BlogMapper.getBlogById   : ==>  Preparing: select * from blog where id = ?
2022-04-06 09:51:59.729 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.BlogMapper.getBlogById   : ==> Parameters: 86(Integer)
2022-04-06 09:51:59.729 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.BlogMapper.getBlogById   : <==      Total: 0
2022-04-06 09:51:59.730 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.BlogMapper.getBlogById   : ==>  Preparing: select * from blog where id = ?
2022-04-06 09:51:59.730 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.BlogMapper.getBlogById   : ==> Parameters: 80(Integer)
2022-04-06 09:51:59.731 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.BlogMapper.getBlogById   : <==      Total: 1
2022-04-06 09:51:59.731 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.TagMapper.listTopTag     : ==>  Preparing: select tag.id,tag.name,tn.num from tag,(select tag_id,count(*) as num from blog_tag group by tag_id order by num desc) as tn where tag.id = tn.tag_id
2022-04-06 09:51:59.731 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.TagMapper.listTopTag     : ==> Parameters: 
2022-04-06 09:51:59.732 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.TagMapper.listTopTag     : <==      Total: 11
2022-04-06 09:51:59.732 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.TypeMapper.listTopType   : ==>  Preparing: select type.id,type.name,tn.num from type,(select type_id,count(*) as num from blog group by type_id order by num desc) as tn where type.id = tn.type_id
2022-04-06 09:51:59.732 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.TypeMapper.listTopType   : ==> Parameters: 
2022-04-06 09:51:59.732 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.TypeMapper.listTopType   : <==      Total: 5
2022-04-06 09:51:59.732 DEBUG 12684 --- [http-nio-8086-exec-2] c.k.m.BlogMapper.listTopRecommendBlog    : ==>  Preparing: select * from blog where recommend = 1 order by update_time desc
2022-04-06 09:51:59.732 DEBUG 12684 --- [http-nio-8086-exec-2] c.k.m.BlogMapper.listTopRecommendBlog    : ==> Parameters: 
2022-04-06 09:51:59.735 DEBUG 12684 --- [http-nio-8086-exec-2] c.k.m.BlogMapper.listTopRecommendBlog    : <==      Total: 2
2022-04-06 09:51:59.735  INFO 12684 --- [http-nio-8086-exec-2] com.kwok.aspect.LogAspect                : Result : index
2022-04-06 09:52:02.046  INFO 12684 --- [http-nio-8086-exec-10] com.kwok.aspect.LogAspect                : Request : {url='http://localhost:8086/blog/85', ip='0:0:0:0:0:0:0:1', classMethod='com.kwok.controller.IndexController.blog', args=[85, {}]}
2022-04-06 09:52:02.047 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.BlogMapper.getBlogById   : ==>  Preparing: select * from blog where id = ?
2022-04-06 09:52:02.047 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.BlogMapper.getBlogById   : ==> Parameters: 85(Integer)
2022-04-06 09:52:02.049 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.BlogMapper.getBlogById   : <==      Total: 1
2022-04-06 09:52:02.049 DEBUG 12684 --- [http-nio-8086-exec-10] c.k.mapper.BlogMapper.updateBlogViews    : ==>  Preparing: update blog set views=? where id = ?
2022-04-06 09:52:02.049 DEBUG 12684 --- [http-nio-8086-exec-10] c.k.mapper.BlogMapper.updateBlogViews    : ==> Parameters: 3(Integer), 85(Integer)
2022-04-06 09:52:02.050 DEBUG 12684 --- [http-nio-8086-exec-10] c.k.mapper.BlogMapper.updateBlogViews    : <==    Updates: 1
2022-04-06 09:52:02.057 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.BlogMapper.getBlogById   : ==>  Preparing: select * from blog where id = ?
2022-04-06 09:52:02.057 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.BlogMapper.getBlogById   : ==> Parameters: 85(Integer)
2022-04-06 09:52:02.058 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.BlogMapper.getBlogById   : <==      Total: 1
2022-04-06 09:52:02.061 DEBUG 12684 --- [http-nio-8086-exec-10] c.k.m.BlogtagMapper.getTagIdByBlogId     : ==>  Preparing: select * from blog_tag where blog_id = ?
2022-04-06 09:52:02.061 DEBUG 12684 --- [http-nio-8086-exec-10] c.k.m.BlogtagMapper.getTagIdByBlogId     : ==> Parameters: 85(Integer)
2022-04-06 09:52:02.061 DEBUG 12684 --- [http-nio-8086-exec-10] c.k.m.BlogtagMapper.getTagIdByBlogId     : <==      Total: 3
2022-04-06 09:52:02.062 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.TagMapper.getShowTags    : ==>  Preparing: select * from tag where id in ( ? , ? , ? )
2022-04-06 09:52:02.062 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.TagMapper.getShowTags    : ==> Parameters: 3(Integer), 11(Integer), 4(Integer)
2022-04-06 09:52:02.062 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.TagMapper.getShowTags    : <==      Total: 3
2022-04-06 09:52:02.062  INFO 12684 --- [http-nio-8086-exec-10] com.kwok.aspect.LogAspect                : Result : blog
2022-04-06 09:52:02.625  INFO 12684 --- [http-nio-8086-exec-2] com.kwok.aspect.LogAspect                : Request : {url='http://localhost:8086/comments/85', ip='0:0:0:0:0:0:0:1', classMethod='com.kwok.controller.CommentController.comments', args=[85, {}]}
2022-04-06 09:52:02.625 DEBUG 12684 --- [http-nio-8086-exec-2] c.k.m.CommentMapper.listCommentByBlogId  : ==>  Preparing: select * from comment where blog_id = ? and parent_id = 0 order by creat_time asc
2022-04-06 09:52:02.626 DEBUG 12684 --- [http-nio-8086-exec-2] c.k.m.CommentMapper.listCommentByBlogId  : ==> Parameters: 85(Integer)
2022-04-06 09:52:02.626 DEBUG 12684 --- [http-nio-8086-exec-2] c.k.m.CommentMapper.listCommentByBlogId  : <==      Total: 0
2022-04-06 09:52:02.626  INFO 12684 --- [http-nio-8086-exec-2] com.kwok.aspect.LogAspect                : Result : blog :: commentList
2022-04-06 09:52:10.723  INFO 12684 --- [http-nio-8086-exec-4] com.kwok.aspect.LogAspect                : Request : {url='http://localhost:8086/index', ip='0:0:0:0:0:0:0:1', classMethod='com.kwok.controller.IndexController.index', args=[org.apache.catalina.connector.RequestFacade@2bd08bff, org.apache.catalina.connector.ResponseFacade@569c43ae, {}]}
2022-04-06 09:52:10.724 DEBUG 12684 --- [http-nio-8086-exec-4] com.kwok.mapper.BlogMapper.getBlogCount  : ==>  Preparing: select count(1) as count from blog
2022-04-06 09:52:10.724 DEBUG 12684 --- [http-nio-8086-exec-4] com.kwok.mapper.BlogMapper.getBlogCount  : ==> Parameters: 
2022-04-06 09:52:10.726 DEBUG 12684 --- [http-nio-8086-exec-4] com.kwok.mapper.BlogMapper.getBlogCount  : <==      Total: 1
2022-04-06 09:52:10.727 DEBUG 12684 --- [http-nio-8086-exec-4] com.kwok.mapper.BlogMapper.getBlogList   : ==>  Preparing: select b.*,t.name as typeName from blog b,type t where b.type_id=t.id order by b.id desc limit ?,?
2022-04-06 09:52:10.727 DEBUG 12684 --- [http-nio-8086-exec-4] com.kwok.mapper.BlogMapper.getBlogList   : ==> Parameters: 0(Integer), 5(Integer)
2022-04-06 09:52:10.730 DEBUG 12684 --- [http-nio-8086-exec-4] com.kwok.mapper.BlogMapper.getBlogList   : <==      Total: 5
2022-04-06 09:52:10.730 DEBUG 12684 --- [http-nio-8086-exec-4] com.kwok.mapper.BlogMapper.getBlogById   : ==>  Preparing: select * from blog where id = ?
2022-04-06 09:52:10.730 DEBUG 12684 --- [http-nio-8086-exec-4] com.kwok.mapper.BlogMapper.getBlogById   : ==> Parameters: 86(Integer)
2022-04-06 09:52:10.731 DEBUG 12684 --- [http-nio-8086-exec-4] com.kwok.mapper.BlogMapper.getBlogById   : <==      Total: 0
2022-04-06 09:52:10.731 DEBUG 12684 --- [http-nio-8086-exec-4] com.kwok.mapper.BlogMapper.getBlogById   : ==>  Preparing: select * from blog where id = ?
2022-04-06 09:52:10.731 DEBUG 12684 --- [http-nio-8086-exec-4] com.kwok.mapper.BlogMapper.getBlogById   : ==> Parameters: 80(Integer)
2022-04-06 09:52:10.733 DEBUG 12684 --- [http-nio-8086-exec-4] com.kwok.mapper.BlogMapper.getBlogById   : <==      Total: 1
2022-04-06 09:52:10.733 DEBUG 12684 --- [http-nio-8086-exec-4] com.kwok.mapper.TagMapper.listTopTag     : ==>  Preparing: select tag.id,tag.name,tn.num from tag,(select tag_id,count(*) as num from blog_tag group by tag_id order by num desc) as tn where tag.id = tn.tag_id
2022-04-06 09:52:10.733 DEBUG 12684 --- [http-nio-8086-exec-4] com.kwok.mapper.TagMapper.listTopTag     : ==> Parameters: 
2022-04-06 09:52:10.733 DEBUG 12684 --- [http-nio-8086-exec-4] com.kwok.mapper.TagMapper.listTopTag     : <==      Total: 11
2022-04-06 09:52:10.733 DEBUG 12684 --- [http-nio-8086-exec-4] com.kwok.mapper.TypeMapper.listTopType   : ==>  Preparing: select type.id,type.name,tn.num from type,(select type_id,count(*) as num from blog group by type_id order by num desc) as tn where type.id = tn.type_id
2022-04-06 09:52:10.734 DEBUG 12684 --- [http-nio-8086-exec-4] com.kwok.mapper.TypeMapper.listTopType   : ==> Parameters: 
2022-04-06 09:52:10.734 DEBUG 12684 --- [http-nio-8086-exec-4] com.kwok.mapper.TypeMapper.listTopType   : <==      Total: 5
2022-04-06 09:52:10.734 DEBUG 12684 --- [http-nio-8086-exec-4] c.k.m.BlogMapper.listTopRecommendBlog    : ==>  Preparing: select * from blog where recommend = 1 order by update_time desc
2022-04-06 09:52:10.734 DEBUG 12684 --- [http-nio-8086-exec-4] c.k.m.BlogMapper.listTopRecommendBlog    : ==> Parameters: 
2022-04-06 09:52:10.736 DEBUG 12684 --- [http-nio-8086-exec-4] c.k.m.BlogMapper.listTopRecommendBlog    : <==      Total: 2
2022-04-06 09:52:10.736  INFO 12684 --- [http-nio-8086-exec-4] com.kwok.aspect.LogAspect                : Result : index
2022-04-06 09:55:14.868 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.BlogMapper.getBlogCount  : ==>  Preparing: select count(1) as count from blog
2022-04-06 09:55:14.868 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.BlogMapper.getBlogCount  : ==> Parameters: 
2022-04-06 09:55:14.869 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.BlogMapper.getBlogCount  : <==      Total: 1
2022-04-06 09:55:14.869 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.BlogMapper.getBlogList   : ==>  Preparing: select b.*,t.name as typeName from blog b,type t where b.type_id=t.id order by b.id desc limit ?,?
2022-04-06 09:55:14.869 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.BlogMapper.getBlogList   : ==> Parameters: 0(Integer), 5(Integer)
2022-04-06 09:55:14.873 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.BlogMapper.getBlogList   : <==      Total: 5
2022-04-06 09:55:14.873 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.BlogMapper.getBlogById   : ==>  Preparing: select * from blog where id = ?
2022-04-06 09:55:14.873 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.BlogMapper.getBlogById   : ==> Parameters: 86(Integer)
2022-04-06 09:55:14.873 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.BlogMapper.getBlogById   : <==      Total: 0
2022-04-06 09:55:14.873 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.BlogMapper.getBlogById   : ==>  Preparing: select * from blog where id = ?
2022-04-06 09:55:14.874 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.BlogMapper.getBlogById   : ==> Parameters: 80(Integer)
2022-04-06 09:55:14.875 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.BlogMapper.getBlogById   : <==      Total: 1
2022-04-06 09:55:14.875 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.TypeMapper.listType      : ==>  Preparing: select * from type order by id desc
2022-04-06 09:55:14.875 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.TypeMapper.listType      : ==> Parameters: 
2022-04-06 09:55:14.875 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.TypeMapper.listType      : <==      Total: 7
2022-04-06 09:55:16.183 DEBUG 12684 --- [http-nio-8086-exec-4] com.kwok.mapper.TypeMapper.listType      : ==>  Preparing: select * from type order by id desc
2022-04-06 09:55:16.184 DEBUG 12684 --- [http-nio-8086-exec-4] com.kwok.mapper.TypeMapper.listType      : ==> Parameters: 
2022-04-06 09:55:16.184 DEBUG 12684 --- [http-nio-8086-exec-4] com.kwok.mapper.TypeMapper.listType      : <==      Total: 7
2022-04-06 09:55:16.184 DEBUG 12684 --- [http-nio-8086-exec-4] com.kwok.mapper.TagMapper.listTag        : ==>  Preparing: select * from tag order by id desc
2022-04-06 09:55:16.184 DEBUG 12684 --- [http-nio-8086-exec-4] com.kwok.mapper.TagMapper.listTag        : ==> Parameters: 
2022-04-06 09:55:16.185 DEBUG 12684 --- [http-nio-8086-exec-4] com.kwok.mapper.TagMapper.listTag        : <==      Total: 14
2022-04-06 09:58:43.983  INFO 12684 --- [http-nio-8086-exec-8] com.kwok.aspect.LogAspect                : Request : {url='http://localhost:8086/index', ip='0:0:0:0:0:0:0:1', classMethod='com.kwok.controller.IndexController.index', args=[org.apache.catalina.connector.RequestFacade@6d43fb79, org.apache.catalina.connector.ResponseFacade@638418a1, {}]}
2022-04-06 09:58:43.983 DEBUG 12684 --- [http-nio-8086-exec-8] com.kwok.mapper.BlogMapper.getBlogCount  : ==>  Preparing: select count(1) as count from blog
2022-04-06 09:58:43.983 DEBUG 12684 --- [http-nio-8086-exec-8] com.kwok.mapper.BlogMapper.getBlogCount  : ==> Parameters: 
2022-04-06 09:58:43.985 DEBUG 12684 --- [http-nio-8086-exec-8] com.kwok.mapper.BlogMapper.getBlogCount  : <==      Total: 1
2022-04-06 09:58:43.985 DEBUG 12684 --- [http-nio-8086-exec-8] com.kwok.mapper.BlogMapper.getBlogList   : ==>  Preparing: select b.*,t.name as typeName from blog b,type t where b.type_id=t.id order by b.id desc limit ?,?
2022-04-06 09:58:43.985 DEBUG 12684 --- [http-nio-8086-exec-8] com.kwok.mapper.BlogMapper.getBlogList   : ==> Parameters: 0(Integer), 5(Integer)
2022-04-06 09:58:43.989 DEBUG 12684 --- [http-nio-8086-exec-8] com.kwok.mapper.BlogMapper.getBlogList   : <==      Total: 5
2022-04-06 09:58:43.989 DEBUG 12684 --- [http-nio-8086-exec-8] com.kwok.mapper.BlogMapper.getBlogById   : ==>  Preparing: select * from blog where id = ?
2022-04-06 09:58:43.989 DEBUG 12684 --- [http-nio-8086-exec-8] com.kwok.mapper.BlogMapper.getBlogById   : ==> Parameters: 86(Integer)
2022-04-06 09:58:43.990 DEBUG 12684 --- [http-nio-8086-exec-8] com.kwok.mapper.BlogMapper.getBlogById   : <==      Total: 0
2022-04-06 09:58:43.990 DEBUG 12684 --- [http-nio-8086-exec-8] com.kwok.mapper.BlogMapper.getBlogById   : ==>  Preparing: select * from blog where id = ?
2022-04-06 09:58:43.990 DEBUG 12684 --- [http-nio-8086-exec-8] com.kwok.mapper.BlogMapper.getBlogById   : ==> Parameters: 80(Integer)
2022-04-06 09:58:43.991 DEBUG 12684 --- [http-nio-8086-exec-8] com.kwok.mapper.BlogMapper.getBlogById   : <==      Total: 1
2022-04-06 09:58:43.991 DEBUG 12684 --- [http-nio-8086-exec-8] com.kwok.mapper.TagMapper.listTopTag     : ==>  Preparing: select tag.id,tag.name,tn.num from tag,(select tag_id,count(*) as num from blog_tag group by tag_id order by num desc) as tn where tag.id = tn.tag_id
2022-04-06 09:58:43.991 DEBUG 12684 --- [http-nio-8086-exec-8] com.kwok.mapper.TagMapper.listTopTag     : ==> Parameters: 
2022-04-06 09:58:43.992 DEBUG 12684 --- [http-nio-8086-exec-8] com.kwok.mapper.TagMapper.listTopTag     : <==      Total: 11
2022-04-06 09:58:43.992 DEBUG 12684 --- [http-nio-8086-exec-8] com.kwok.mapper.TypeMapper.listTopType   : ==>  Preparing: select type.id,type.name,tn.num from type,(select type_id,count(*) as num from blog group by type_id order by num desc) as tn where type.id = tn.type_id
2022-04-06 09:58:43.992 DEBUG 12684 --- [http-nio-8086-exec-8] com.kwok.mapper.TypeMapper.listTopType   : ==> Parameters: 
2022-04-06 09:58:43.992 DEBUG 12684 --- [http-nio-8086-exec-8] com.kwok.mapper.TypeMapper.listTopType   : <==      Total: 5
2022-04-06 09:58:43.992 DEBUG 12684 --- [http-nio-8086-exec-8] c.k.m.BlogMapper.listTopRecommendBlog    : ==>  Preparing: select * from blog where recommend = 1 order by update_time desc
2022-04-06 09:58:43.992 DEBUG 12684 --- [http-nio-8086-exec-8] c.k.m.BlogMapper.listTopRecommendBlog    : ==> Parameters: 
2022-04-06 09:58:43.995 DEBUG 12684 --- [http-nio-8086-exec-8] c.k.m.BlogMapper.listTopRecommendBlog    : <==      Total: 2
2022-04-06 09:58:43.996  INFO 12684 --- [http-nio-8086-exec-8] com.kwok.aspect.LogAspect                : Result : index
2022-04-06 09:59:10.691 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.BlogMapper.getLastBlog   : ==>  Preparing: select * from blog order by id desc limit 1
2022-04-06 09:59:10.691 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.BlogMapper.getLastBlog   : ==> Parameters: 
2022-04-06 09:59:10.693 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.BlogMapper.getLastBlog   : <==      Total: 1
2022-04-06 09:59:10.693 DEBUG 12684 --- [http-nio-8086-exec-9] c.k.mapper.BlogtagMapper.getLastBlogtag  : ==>  Preparing: select * from blog_tag order by id desc limit 1
2022-04-06 09:59:10.693 DEBUG 12684 --- [http-nio-8086-exec-9] c.k.mapper.BlogtagMapper.getLastBlogtag  : ==> Parameters: 
2022-04-06 09:59:10.693 DEBUG 12684 --- [http-nio-8086-exec-9] c.k.mapper.BlogtagMapper.getLastBlogtag  : <==      Total: 1
2022-04-06 09:59:10.693 DEBUG 12684 --- [http-nio-8086-exec-9] c.kwok.mapper.BlogtagMapper.saveBlogtag  : ==>  Preparing: insert into blog_tag (id, blog_id, tag_id) values (?, ?,?)
2022-04-06 09:59:10.693 DEBUG 12684 --- [http-nio-8086-exec-9] c.kwok.mapper.BlogtagMapper.saveBlogtag  : ==> Parameters: 207(Integer), 86(Integer), 4(Integer)
2022-04-06 09:59:10.694 DEBUG 12684 --- [http-nio-8086-exec-9] c.kwok.mapper.BlogtagMapper.saveBlogtag  : <==    Updates: 1
2022-04-06 09:59:10.694 DEBUG 12684 --- [http-nio-8086-exec-9] c.k.mapper.BlogtagMapper.getLastBlogtag  : ==>  Preparing: select * from blog_tag order by id desc limit 1
2022-04-06 09:59:10.694 DEBUG 12684 --- [http-nio-8086-exec-9] c.k.mapper.BlogtagMapper.getLastBlogtag  : ==> Parameters: 
2022-04-06 09:59:10.695 DEBUG 12684 --- [http-nio-8086-exec-9] c.k.mapper.BlogtagMapper.getLastBlogtag  : <==      Total: 1
2022-04-06 09:59:10.695 DEBUG 12684 --- [http-nio-8086-exec-9] c.kwok.mapper.BlogtagMapper.saveBlogtag  : ==>  Preparing: insert into blog_tag (id, blog_id, tag_id) values (?, ?,?)
2022-04-06 09:59:10.695 DEBUG 12684 --- [http-nio-8086-exec-9] c.kwok.mapper.BlogtagMapper.saveBlogtag  : ==> Parameters: 208(Integer), 86(Integer), 11(Integer)
2022-04-06 09:59:10.695 DEBUG 12684 --- [http-nio-8086-exec-9] c.kwok.mapper.BlogtagMapper.saveBlogtag  : <==    Updates: 1
2022-04-06 09:59:10.695 DEBUG 12684 --- [http-nio-8086-exec-9] c.k.mapper.BlogtagMapper.getLastBlogtag  : ==>  Preparing: select * from blog_tag order by id desc limit 1
2022-04-06 09:59:10.695 DEBUG 12684 --- [http-nio-8086-exec-9] c.k.mapper.BlogtagMapper.getLastBlogtag  : ==> Parameters: 
2022-04-06 09:59:10.695 DEBUG 12684 --- [http-nio-8086-exec-9] c.k.mapper.BlogtagMapper.getLastBlogtag  : <==      Total: 1
2022-04-06 09:59:10.696 DEBUG 12684 --- [http-nio-8086-exec-9] c.kwok.mapper.BlogtagMapper.saveBlogtag  : ==>  Preparing: insert into blog_tag (id, blog_id, tag_id) values (?, ?,?)
2022-04-06 09:59:10.696 DEBUG 12684 --- [http-nio-8086-exec-9] c.kwok.mapper.BlogtagMapper.saveBlogtag  : ==> Parameters: 209(Integer), 86(Integer), 3(Integer)
2022-04-06 09:59:10.696 DEBUG 12684 --- [http-nio-8086-exec-9] c.kwok.mapper.BlogtagMapper.saveBlogtag  : <==    Updates: 1
2022-04-06 09:59:10.696 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.BlogMapper.saveBlog      : ==>  Preparing: insert into blog (id, title,description, content, first_picture, flag, views, appreciation, share_statement, commentabled, published, recommend, create_time, update_time, type_id, user_id) values (?,?,?,?,?,?, ?,?,?,?, ?,?,?,?,?,?)
2022-04-06 09:59:10.697 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.BlogMapper.saveBlog      : ==> Parameters: 86(Integer), SpringCloud-Ribbon：负载均衡(基于客户端)(String), 1 负载均衡以及Ribbon Ribbon是什么？ Spring Cloud Ribbon 是基于Netflix Ribbon 实现的一套客户端负载均衡的工具。 简单的说，Ribbon 是 Netflix 发布的开源项目，主要功能是提供客户端的软件负载均衡算法，将 Netflix 的中间层服务连接在一起(String), ## 1 负载均衡以及Ribbon

#### Ribbon是什么？

- Spring Cloud Ribbon 是基于Netflix Ribbon 实现的一套**客户端负载均衡的工具**。

- 简单的说，Ribbon 是 Netflix 发布的开源项目，主要功能是提供客户端的软件负载均衡算法，将 Netflix 的中间层服务连接在一起。Ribbon 的客户端组件提供一系列完整的配置项，如：连接超时、重试等。简单的说，就是在配置文件中列出 LoadBalancer (简称LB：负载均衡) 后面所有的及其，Ribbon 会自动的帮助你基于某种规则 (如简单轮询，随机连接等等) 去连接这些机器。我们也容易使用 Ribbon 实现自定义的负载均衡算法！

#### Ribbon能干嘛？

![img](https://img-blog.csdnimg.cn/img_convert/8342eee32f72a0b1d1a86ef4049cd083.png)

- LB，即负载均衡 (LoadBalancer) ，在微服务或分布式集群中经常用的一种应用。
- 负载均衡简单的说就是将用户的请求平摊的分配到多个服务上，从而达到系统的HA (高用)。

- 常见的负载均衡软件有 Nginx、Lvs 等等。
- Dubbo、SpringCloud 中均给我们提供了负载均衡，**SpringCloud 的负载均衡算法可以自定义**。

- 负载均衡简单分类：

  - 集中式LB

    - 即在服务的提供方和消费方之间使用独立的LB设施，如**Nginx(反向代理服务器)**，由该设施负责把访问请求通过某种策略转发至服务的提供方！

  - 进程式 LB

    - 将LB逻辑集成到消费方，消费方从服务注册中心获知有哪些地址可用，然后自己再从这些地址中选出一个合适的服务器。
    - **Ribbon 就属于进程内LB**，它只是一个类库，集成于消费方进程，消费方通过它来获取到服务提供方的地址！

## 2 集成Ribbon

**springcloud-consumer-dept-80**向pom.xml中添加Ribbon和Eureka依赖

```xml
<!--Ribbon-->
<dependency>
    <groupId>org.springframework.cloud</groupId>
    <artifactId>spring-cloud-starter-ribbon</artifactId>
    <version>1.4.6.RELEASE</version>
</dependency>
<!--Eureka: Ribbon需要从Eureka服务中心获取要拿什么-->
<dependency>
    <groupId>org.springframework.cloud</groupId>
    <artifactId>spring-cloud-starter-eureka</artifactId>
    <version>1.4.6.RELEASE</version>
</dependency>
```

在application.yml文件中配置Eureka

```yaml
# Eureka配置
eureka:
  client:
    register-with-eureka: false # 不向 Eureka注册自己
    service-url: # 从三个注册中心中随机取一个去访问
      defaultZone: http://eureka7001.com:7001/eureka/,http://eureka7002.com:7002/eureka/,http://eureka7003.com:7003/eureka/
```

主启动类加上[@EnableEurekaClient](https://github.com/EnableEurekaClient)注解，开启Eureka

```java
//Ribbon 和 Eureka 整合以后，客户端可以直接调用，不用关心IP地址和端口号
@SpringBootApplication
@EnableEurekaClient //开启Eureka 客户端
public class DeptConsumer_80 {
    public static void main(String[] args) {
        SpringApplication.run(DeptConsumer_80.class, args);
    }
}
```

自定义Spring配置类：ConfigBean.java 配置负载均衡实现RestTemplate

```java
@Configuration
public class ConfigBean {
    //@Configuration -- spring  applicationContext.xml
    @LoadBalanced //配置负载均衡实现RestTemplate
    @Bean
    public RestTemplate getRestTemplate() {
        return new RestTemplate();
    }
}
```

修改conroller：DeptConsumerController.java

```java
//Ribbon:我们这里的地址，应该是一个变量，通过服务名来访问
//private static final String REST_URL_PREFIX = "http://localhost:8001";
private static final String REST_URL_PREFIX = "http://SPRINGCLOUD-PROVIDER-DEPT";
```

如果起不来，删除ribbon依赖（可以不需要）

## 3 使用Ribbon实现负载均衡

流程图：

![img](https://img-blog.csdnimg.cn/img_convert/31d30040b5bb54fe92d204da3482a9a4.png)

1.新建两个服务提供者Moudle：springcloud-provider-dept-8003、springcloud-provider-dept-8002

2.参照springcloud-provider-dept-8001 依次为另外两个Moudle添加pom.xml依赖 、resourece下的mybatis和application.yml配置，Java代码

3.启动所有服务测试(根据自身电脑配置决定启动服务的个数)，访问http://eureka7001.com:7002/  查看结果

![img](https://img-blog.csdnimg.cn/img_convert/5497b9f7f3946f689c3726f91d435788.png)

测试访问 http://localhost/consumer/dept/list 这时候随机访问的是服务提供者8003

![img](https://img-blog.csdnimg.cn/img_convert/01c5ec3d91c7e88acaa38b335af43fbf.png)

再次访问 http://localhost/consumer/dept/list 这时候随机的是服务提供者8001

![img](https://img-blog.csdnimg.cn/img_convert/4661186414b648b4fe3f550eb5caede9.png)

以上这种**每次访问** http://localhost/consumer/dept/list 随机访问集群中某个服务提供者，这种情况叫做轮询，轮询算法在SpringCloud中可以自定义。

**如何切换或者自定义规则呢？**

&emsp;&emsp;在springcloud-provider-dept-80模块下的ConfigBean中进行配置，切换使用不同的规则

```java
@Configuration
public class ConfigBean {
    //@Configuration -- spring  applicationContext.xml
    /**
     * IRule:
     * RoundRobinRule 轮询策略
     * RandomRule 随机策略
     * AvailabilityFilteringRule ： 会先过滤掉，跳闸，访问故障的服务~，对剩下的进行轮询~
     * RetryRule ： 会先按照轮询获取服务~，如果服务获取失败，则会在指定的时间内进行，重试
     */
    @Bean
    public IRule myRule() {
        return new RandomRule();//使用随机策略
        //return new RoundRobinRule();//使用轮询策略
        //return new AvailabilityFilteringRule();//使用轮询策略
        //return new RetryRule();//使用轮询策略
    }
}
```

&emsp;&emsp;也可以自定义规则，在myRule包下自定义一个配置类MyRule.java，注意：**该包不要和主启动类所在的包同级，要跟启动类所在包同级**：

![img](https://img-blog.csdnimg.cn/img_convert/af589cc163babdcae31391c8635cb701.png)

MyRule.java

```java
/**
 * @Auther: csp1999
 * @Date: 2020/05/19/11:58
 * @Description: 自定义规则
 */
@Configuration
public class MyRule {
    @Bean
    public IRule myRule(){
        return new MyRandomRule();//默认是轮询RandomRule,现在自定义为自己的
    }
}
```

主启动类开启负载均衡并指定自定义的MyRule配置类

```java
//Ribbon 和 Eureka 整合以后，客户端可以直接调用，不用关心IP地址和端口号
@SpringBootApplication
@EnableEurekaClient
//在微服务启动的时候就能加载自定义的Ribbon类(自定义的规则会覆盖原有默认的规则)
@RibbonClient(name = "SPRINGCLOUD-PROVIDER-DEPT",configuration = MyRule.class)//开启负载均衡,并指定自定义的规则
public class DeptConsumer_80 {
    public static void main(String[] args) {
        SpringApplication.run(DeptConsumer_80.class, args);
    }
}
```

自定义的规则(这里我们参考Ribbon中默认的规则代码自己稍微改动)：MyRandomRule.java

```java
public class MyRandomRule extends AbstractLoadBalancerRule {
    /**
     * 每个服务访问5次则换下一个服务(总共3个服务)
     * <p>
     * total=0,默认=0,如果=5,指向下一个服务节点
     * index=0,默认=0,如果total=5,index+1
     */
    private int total = 0;//被调用的次数
    private int currentIndex = 0;//当前是谁在提供服务
    //@edu.umd.cs.findbugs.annotations.SuppressWarnings(value = "RCN_REDUNDANT_NULLCHECK_OF_NULL_VALUE")
    public Server choose(ILoadBalancer lb, Object key) {
        if (lb == null) {
            return null;
        }
        Server server = null;
        while (server == null) {
            if (Thread.interrupted()) {
                return null;
            }
            List<Server> upList = lb.getReachableServers();//获得当前活着的服务
            List<Server> allList = lb.getAllServers();//获取所有的服务
            int serverCount = allList.size();
            if (serverCount == 0) {
                /*
                 * No servers. End regardless of pass, because subsequent passes
                 * only get more restrictive.
                 */
                return null;
            }
            //int index = chooseRandomInt(serverCount);//生成区间随机数
            //server = upList.get(index);//从或活着的服务中,随机获取一个
            //=====================自定义代码=========================
            if (total < 5) {
                server = upList.get(currentIndex);
                total++;
            } else {
                total = 0;
                currentIndex++;
                if (currentIndex > upList.size()) {
                    currentIndex = 0;
                }
                server = upList.get(currentIndex);//从活着的服务中,获取指定的服务来进行操作
            }
            //======================================================
            if (server == null) {
                /*
                 * The only time this should happen is if the server list were
                 * somehow trimmed. This is a transient condition. Retry after
                 * yielding.
                 */
                Thread.yield();
                continue;
            }
            if (server.isAlive()) {
                return (server);
            }
            // Shouldn't actually happen.. but must be transient or a bug.
            server = null;
            Thread.yield();
        }
        return server;
    }
    protected int chooseRandomInt(int serverCount) {
        return ThreadLocalRandom.current().nextInt(serverCount);
    }
    @Override
    public Server choose(Object key) {
        return choose(getLoadBalancer(), key);
    }
    @Override
    public void initWithNiwsConfig(IClientConfig clientConfig) {
        // TODO Auto-generated method stub
    }
}
```(String), http://110.42.213.171:8080/blogimgs/86.png(String), 原创(String), 0(Integer), true(Boolean), true(Boolean), true(Boolean), true(Boolean), false(Boolean), 2022-04-06 09:59:10.693(Timestamp), 2022-04-06 09:59:10.693(Timestamp), 7(Integer), 1(Integer)
2022-04-06 09:59:10.699 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.BlogMapper.saveBlog      : <==    Updates: 1
2022-04-06 09:59:10.704 DEBUG 12684 --- [http-nio-8086-exec-7] com.kwok.mapper.BlogMapper.getBlogCount  : ==>  Preparing: select count(1) as count from blog
2022-04-06 09:59:10.704 DEBUG 12684 --- [http-nio-8086-exec-7] com.kwok.mapper.BlogMapper.getBlogCount  : ==> Parameters: 
2022-04-06 09:59:10.706 DEBUG 12684 --- [http-nio-8086-exec-7] com.kwok.mapper.BlogMapper.getBlogCount  : <==      Total: 1
2022-04-06 09:59:10.706 DEBUG 12684 --- [http-nio-8086-exec-7] com.kwok.mapper.BlogMapper.getBlogList   : ==>  Preparing: select b.*,t.name as typeName from blog b,type t where b.type_id=t.id order by b.id desc limit ?,?
2022-04-06 09:59:10.706 DEBUG 12684 --- [http-nio-8086-exec-7] com.kwok.mapper.BlogMapper.getBlogList   : ==> Parameters: 0(Integer), 5(Integer)
2022-04-06 09:59:10.708 DEBUG 12684 --- [http-nio-8086-exec-7] com.kwok.mapper.BlogMapper.getBlogList   : <==      Total: 5
2022-04-06 09:59:10.709 DEBUG 12684 --- [http-nio-8086-exec-7] com.kwok.mapper.BlogMapper.getBlogById   : ==>  Preparing: select * from blog where id = ?
2022-04-06 09:59:10.709 DEBUG 12684 --- [http-nio-8086-exec-7] com.kwok.mapper.BlogMapper.getBlogById   : ==> Parameters: 87(Integer)
2022-04-06 09:59:10.709 DEBUG 12684 --- [http-nio-8086-exec-7] com.kwok.mapper.BlogMapper.getBlogById   : <==      Total: 0
2022-04-06 09:59:10.709 DEBUG 12684 --- [http-nio-8086-exec-7] com.kwok.mapper.BlogMapper.getBlogById   : ==>  Preparing: select * from blog where id = ?
2022-04-06 09:59:10.709 DEBUG 12684 --- [http-nio-8086-exec-7] com.kwok.mapper.BlogMapper.getBlogById   : ==> Parameters: 81(Integer)
2022-04-06 09:59:10.711 DEBUG 12684 --- [http-nio-8086-exec-7] com.kwok.mapper.BlogMapper.getBlogById   : <==      Total: 1
2022-04-06 09:59:10.711 DEBUG 12684 --- [http-nio-8086-exec-7] com.kwok.mapper.TypeMapper.listType      : ==>  Preparing: select * from type order by id desc
2022-04-06 09:59:10.711 DEBUG 12684 --- [http-nio-8086-exec-7] com.kwok.mapper.TypeMapper.listType      : ==> Parameters: 
2022-04-06 09:59:10.711 DEBUG 12684 --- [http-nio-8086-exec-7] com.kwok.mapper.TypeMapper.listType      : <==      Total: 7
2022-04-06 09:59:12.275 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.BlogMapper.getBlogCount  : ==>  Preparing: select count(1) as count from blog
2022-04-06 09:59:12.275 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.BlogMapper.getBlogCount  : ==> Parameters: 
2022-04-06 09:59:12.276 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.BlogMapper.getBlogCount  : <==      Total: 1
2022-04-06 09:59:12.276 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.BlogMapper.getBlogList   : ==>  Preparing: select b.*,t.name as typeName from blog b,type t where b.type_id=t.id order by b.id desc limit ?,?
2022-04-06 09:59:12.277 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.BlogMapper.getBlogList   : ==> Parameters: 0(Integer), 5(Integer)
2022-04-06 09:59:12.279 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.BlogMapper.getBlogList   : <==      Total: 5
2022-04-06 09:59:12.279 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.BlogMapper.getBlogById   : ==>  Preparing: select * from blog where id = ?
2022-04-06 09:59:12.279 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.BlogMapper.getBlogById   : ==> Parameters: 87(Integer)
2022-04-06 09:59:12.280 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.BlogMapper.getBlogById   : <==      Total: 0
2022-04-06 09:59:12.280 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.BlogMapper.getBlogById   : ==>  Preparing: select * from blog where id = ?
2022-04-06 09:59:12.280 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.BlogMapper.getBlogById   : ==> Parameters: 81(Integer)
2022-04-06 09:59:12.281 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.BlogMapper.getBlogById   : <==      Total: 1
2022-04-06 09:59:12.281 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.TypeMapper.listType      : ==>  Preparing: select * from type order by id desc
2022-04-06 09:59:12.281 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.TypeMapper.listType      : ==> Parameters: 
2022-04-06 09:59:12.282 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.TypeMapper.listType      : <==      Total: 7
2022-04-06 09:59:13.499  INFO 12684 --- [http-nio-8086-exec-6] com.kwok.aspect.LogAspect                : Request : {url='http://localhost:8086/index', ip='0:0:0:0:0:0:0:1', classMethod='com.kwok.controller.IndexController.index', args=[org.apache.catalina.connector.RequestFacade@6602faf2, org.apache.catalina.connector.ResponseFacade@1dd92202, {}]}
2022-04-06 09:59:13.499 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.BlogMapper.getBlogCount  : ==>  Preparing: select count(1) as count from blog
2022-04-06 09:59:13.499 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.BlogMapper.getBlogCount  : ==> Parameters: 
2022-04-06 09:59:13.500 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.BlogMapper.getBlogCount  : <==      Total: 1
2022-04-06 09:59:13.500 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.BlogMapper.getBlogList   : ==>  Preparing: select b.*,t.name as typeName from blog b,type t where b.type_id=t.id order by b.id desc limit ?,?
2022-04-06 09:59:13.500 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.BlogMapper.getBlogList   : ==> Parameters: 0(Integer), 5(Integer)
2022-04-06 09:59:13.504 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.BlogMapper.getBlogList   : <==      Total: 5
2022-04-06 09:59:13.504 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.BlogMapper.getBlogById   : ==>  Preparing: select * from blog where id = ?
2022-04-06 09:59:13.504 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.BlogMapper.getBlogById   : ==> Parameters: 87(Integer)
2022-04-06 09:59:13.505 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.BlogMapper.getBlogById   : <==      Total: 0
2022-04-06 09:59:13.505 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.BlogMapper.getBlogById   : ==>  Preparing: select * from blog where id = ?
2022-04-06 09:59:13.505 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.BlogMapper.getBlogById   : ==> Parameters: 81(Integer)
2022-04-06 09:59:13.506 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.BlogMapper.getBlogById   : <==      Total: 1
2022-04-06 09:59:13.507 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.TagMapper.listTopTag     : ==>  Preparing: select tag.id,tag.name,tn.num from tag,(select tag_id,count(*) as num from blog_tag group by tag_id order by num desc) as tn where tag.id = tn.tag_id
2022-04-06 09:59:13.507 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.TagMapper.listTopTag     : ==> Parameters: 
2022-04-06 09:59:13.507 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.TagMapper.listTopTag     : <==      Total: 11
2022-04-06 09:59:13.508 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.TypeMapper.listTopType   : ==>  Preparing: select type.id,type.name,tn.num from type,(select type_id,count(*) as num from blog group by type_id order by num desc) as tn where type.id = tn.type_id
2022-04-06 09:59:13.508 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.TypeMapper.listTopType   : ==> Parameters: 
2022-04-06 09:59:13.508 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.TypeMapper.listTopType   : <==      Total: 5
2022-04-06 09:59:13.508 DEBUG 12684 --- [http-nio-8086-exec-6] c.k.m.BlogMapper.listTopRecommendBlog    : ==>  Preparing: select * from blog where recommend = 1 order by update_time desc
2022-04-06 09:59:13.508 DEBUG 12684 --- [http-nio-8086-exec-6] c.k.m.BlogMapper.listTopRecommendBlog    : ==> Parameters: 
2022-04-06 09:59:13.511 DEBUG 12684 --- [http-nio-8086-exec-6] c.k.m.BlogMapper.listTopRecommendBlog    : <==      Total: 2
2022-04-06 09:59:13.511  INFO 12684 --- [http-nio-8086-exec-6] com.kwok.aspect.LogAspect                : Result : index
2022-04-06 09:59:18.256  INFO 12684 --- [http-nio-8086-exec-6] com.kwok.aspect.LogAspect                : Request : {url='http://localhost:8086/blog/86', ip='0:0:0:0:0:0:0:1', classMethod='com.kwok.controller.IndexController.blog', args=[86, {}]}
2022-04-06 09:59:18.257 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.BlogMapper.getBlogById   : ==>  Preparing: select * from blog where id = ?
2022-04-06 09:59:18.257 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.BlogMapper.getBlogById   : ==> Parameters: 86(Integer)
2022-04-06 09:59:18.258 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.BlogMapper.getBlogById   : <==      Total: 1
2022-04-06 09:59:18.258 DEBUG 12684 --- [http-nio-8086-exec-6] c.k.mapper.BlogMapper.updateBlogViews    : ==>  Preparing: update blog set views=? where id = ?
2022-04-06 09:59:18.258 DEBUG 12684 --- [http-nio-8086-exec-6] c.k.mapper.BlogMapper.updateBlogViews    : ==> Parameters: 1(Integer), 86(Integer)
2022-04-06 09:59:18.259 DEBUG 12684 --- [http-nio-8086-exec-6] c.k.mapper.BlogMapper.updateBlogViews    : <==    Updates: 1
2022-04-06 09:59:18.266 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.BlogMapper.getBlogById   : ==>  Preparing: select * from blog where id = ?
2022-04-06 09:59:18.266 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.BlogMapper.getBlogById   : ==> Parameters: 86(Integer)
2022-04-06 09:59:18.267 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.BlogMapper.getBlogById   : <==      Total: 1
2022-04-06 09:59:18.269 DEBUG 12684 --- [http-nio-8086-exec-6] c.k.m.BlogtagMapper.getTagIdByBlogId     : ==>  Preparing: select * from blog_tag where blog_id = ?
2022-04-06 09:59:18.269 DEBUG 12684 --- [http-nio-8086-exec-6] c.k.m.BlogtagMapper.getTagIdByBlogId     : ==> Parameters: 86(Integer)
2022-04-06 09:59:18.270 DEBUG 12684 --- [http-nio-8086-exec-6] c.k.m.BlogtagMapper.getTagIdByBlogId     : <==      Total: 3
2022-04-06 09:59:18.270 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.TagMapper.getShowTags    : ==>  Preparing: select * from tag where id in ( ? , ? , ? )
2022-04-06 09:59:18.270 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.TagMapper.getShowTags    : ==> Parameters: 4(Integer), 11(Integer), 3(Integer)
2022-04-06 09:59:18.271 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.TagMapper.getShowTags    : <==      Total: 3
2022-04-06 09:59:18.271  INFO 12684 --- [http-nio-8086-exec-6] com.kwok.aspect.LogAspect                : Result : blog
2022-04-06 09:59:18.798  INFO 12684 --- [http-nio-8086-exec-7] com.kwok.aspect.LogAspect                : Request : {url='http://localhost:8086/comments/86', ip='0:0:0:0:0:0:0:1', classMethod='com.kwok.controller.CommentController.comments', args=[86, {}]}
2022-04-06 09:59:18.799 DEBUG 12684 --- [http-nio-8086-exec-7] c.k.m.CommentMapper.listCommentByBlogId  : ==>  Preparing: select * from comment where blog_id = ? and parent_id = 0 order by creat_time asc
2022-04-06 09:59:18.799 DEBUG 12684 --- [http-nio-8086-exec-7] c.k.m.CommentMapper.listCommentByBlogId  : ==> Parameters: 86(Integer)
2022-04-06 09:59:18.800 DEBUG 12684 --- [http-nio-8086-exec-7] c.k.m.CommentMapper.listCommentByBlogId  : <==      Total: 0
2022-04-06 09:59:18.800  INFO 12684 --- [http-nio-8086-exec-7] com.kwok.aspect.LogAspect                : Result : blog :: commentList
2022-04-06 09:59:44.131 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.BlogMapper.getBlogCount  : ==>  Preparing: select count(1) as count from blog
2022-04-06 09:59:44.131 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.BlogMapper.getBlogCount  : ==> Parameters: 
2022-04-06 09:59:44.132 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.BlogMapper.getBlogCount  : <==      Total: 1
2022-04-06 09:59:44.132 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.BlogMapper.getBlogList   : ==>  Preparing: select b.*,t.name as typeName from blog b,type t where b.type_id=t.id order by b.id desc limit ?,?
2022-04-06 09:59:44.133 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.BlogMapper.getBlogList   : ==> Parameters: 0(Integer), 5(Integer)
2022-04-06 09:59:44.136 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.BlogMapper.getBlogList   : <==      Total: 5
2022-04-06 09:59:44.136 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.BlogMapper.getBlogById   : ==>  Preparing: select * from blog where id = ?
2022-04-06 09:59:44.136 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.BlogMapper.getBlogById   : ==> Parameters: 87(Integer)
2022-04-06 09:59:44.136 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.BlogMapper.getBlogById   : <==      Total: 0
2022-04-06 09:59:44.136 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.BlogMapper.getBlogById   : ==>  Preparing: select * from blog where id = ?
2022-04-06 09:59:44.136 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.BlogMapper.getBlogById   : ==> Parameters: 81(Integer)
2022-04-06 09:59:44.138 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.BlogMapper.getBlogById   : <==      Total: 1
2022-04-06 09:59:44.138 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.TypeMapper.listType      : ==>  Preparing: select * from type order by id desc
2022-04-06 09:59:44.138 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.TypeMapper.listType      : ==> Parameters: 
2022-04-06 09:59:44.139 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.TypeMapper.listType      : <==      Total: 7
2022-04-06 10:02:27.682 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.BlogMapper.getBlogCount  : ==>  Preparing: select count(1) as count from blog
2022-04-06 10:02:27.682 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.BlogMapper.getBlogCount  : ==> Parameters: 
2022-04-06 10:02:27.683 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.BlogMapper.getBlogCount  : <==      Total: 1
2022-04-06 10:02:27.683 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.BlogMapper.getBlogList   : ==>  Preparing: select b.*,t.name as typeName from blog b,type t where b.type_id=t.id order by b.id desc limit ?,?
2022-04-06 10:02:27.684 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.BlogMapper.getBlogList   : ==> Parameters: 0(Integer), 5(Integer)
2022-04-06 10:02:27.686 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.BlogMapper.getBlogList   : <==      Total: 5
2022-04-06 10:02:27.686 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.BlogMapper.getBlogById   : ==>  Preparing: select * from blog where id = ?
2022-04-06 10:02:27.686 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.BlogMapper.getBlogById   : ==> Parameters: 87(Integer)
2022-04-06 10:02:27.687 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.BlogMapper.getBlogById   : <==      Total: 0
2022-04-06 10:02:27.687 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.BlogMapper.getBlogById   : ==>  Preparing: select * from blog where id = ?
2022-04-06 10:02:27.687 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.BlogMapper.getBlogById   : ==> Parameters: 81(Integer)
2022-04-06 10:02:27.688 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.BlogMapper.getBlogById   : <==      Total: 1
2022-04-06 10:02:27.689 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.TypeMapper.listType      : ==>  Preparing: select * from type order by id desc
2022-04-06 10:02:27.689 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.TypeMapper.listType      : ==> Parameters: 
2022-04-06 10:02:27.689 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.TypeMapper.listType      : <==      Total: 7
2022-04-06 10:02:29.359 DEBUG 12684 --- [http-nio-8086-exec-7] com.kwok.mapper.TypeMapper.listType      : ==>  Preparing: select * from type order by id desc
2022-04-06 10:02:29.359 DEBUG 12684 --- [http-nio-8086-exec-7] com.kwok.mapper.TypeMapper.listType      : ==> Parameters: 
2022-04-06 10:02:29.359 DEBUG 12684 --- [http-nio-8086-exec-7] com.kwok.mapper.TypeMapper.listType      : <==      Total: 7
2022-04-06 10:02:29.360 DEBUG 12684 --- [http-nio-8086-exec-7] com.kwok.mapper.TagMapper.listTag        : ==>  Preparing: select * from tag order by id desc
2022-04-06 10:02:29.360 DEBUG 12684 --- [http-nio-8086-exec-7] com.kwok.mapper.TagMapper.listTag        : ==> Parameters: 
2022-04-06 10:02:29.360 DEBUG 12684 --- [http-nio-8086-exec-7] com.kwok.mapper.TagMapper.listTag        : <==      Total: 14
2022-04-06 10:03:19.691  INFO 12684 --- [http-nio-8086-exec-4] com.kwok.aspect.LogAspect                : Request : {url='http://localhost:8086/index', ip='0:0:0:0:0:0:0:1', classMethod='com.kwok.controller.IndexController.index', args=[org.apache.catalina.connector.RequestFacade@6602faf2, org.apache.catalina.connector.ResponseFacade@1dd92202, {}]}
2022-04-06 10:03:19.692 DEBUG 12684 --- [http-nio-8086-exec-4] com.kwok.mapper.BlogMapper.getBlogCount  : ==>  Preparing: select count(1) as count from blog
2022-04-06 10:03:19.692 DEBUG 12684 --- [http-nio-8086-exec-4] com.kwok.mapper.BlogMapper.getBlogCount  : ==> Parameters: 
2022-04-06 10:03:19.693 DEBUG 12684 --- [http-nio-8086-exec-4] com.kwok.mapper.BlogMapper.getBlogCount  : <==      Total: 1
2022-04-06 10:03:19.693 DEBUG 12684 --- [http-nio-8086-exec-4] com.kwok.mapper.BlogMapper.getBlogList   : ==>  Preparing: select b.*,t.name as typeName from blog b,type t where b.type_id=t.id order by b.id desc limit ?,?
2022-04-06 10:03:19.693 DEBUG 12684 --- [http-nio-8086-exec-4] com.kwok.mapper.BlogMapper.getBlogList   : ==> Parameters: 0(Integer), 5(Integer)
2022-04-06 10:03:19.696 DEBUG 12684 --- [http-nio-8086-exec-4] com.kwok.mapper.BlogMapper.getBlogList   : <==      Total: 5
2022-04-06 10:03:19.696 DEBUG 12684 --- [http-nio-8086-exec-4] com.kwok.mapper.BlogMapper.getBlogById   : ==>  Preparing: select * from blog where id = ?
2022-04-06 10:03:19.696 DEBUG 12684 --- [http-nio-8086-exec-4] com.kwok.mapper.BlogMapper.getBlogById   : ==> Parameters: 87(Integer)
2022-04-06 10:03:19.697 DEBUG 12684 --- [http-nio-8086-exec-4] com.kwok.mapper.BlogMapper.getBlogById   : <==      Total: 0
2022-04-06 10:03:19.697 DEBUG 12684 --- [http-nio-8086-exec-4] com.kwok.mapper.BlogMapper.getBlogById   : ==>  Preparing: select * from blog where id = ?
2022-04-06 10:03:19.697 DEBUG 12684 --- [http-nio-8086-exec-4] com.kwok.mapper.BlogMapper.getBlogById   : ==> Parameters: 81(Integer)
2022-04-06 10:03:19.698 DEBUG 12684 --- [http-nio-8086-exec-4] com.kwok.mapper.BlogMapper.getBlogById   : <==      Total: 1
2022-04-06 10:03:19.698 DEBUG 12684 --- [http-nio-8086-exec-4] com.kwok.mapper.TagMapper.listTopTag     : ==>  Preparing: select tag.id,tag.name,tn.num from tag,(select tag_id,count(*) as num from blog_tag group by tag_id order by num desc) as tn where tag.id = tn.tag_id
2022-04-06 10:03:19.698 DEBUG 12684 --- [http-nio-8086-exec-4] com.kwok.mapper.TagMapper.listTopTag     : ==> Parameters: 
2022-04-06 10:03:19.699 DEBUG 12684 --- [http-nio-8086-exec-4] com.kwok.mapper.TagMapper.listTopTag     : <==      Total: 11
2022-04-06 10:03:19.699 DEBUG 12684 --- [http-nio-8086-exec-4] com.kwok.mapper.TypeMapper.listTopType   : ==>  Preparing: select type.id,type.name,tn.num from type,(select type_id,count(*) as num from blog group by type_id order by num desc) as tn where type.id = tn.type_id
2022-04-06 10:03:19.699 DEBUG 12684 --- [http-nio-8086-exec-4] com.kwok.mapper.TypeMapper.listTopType   : ==> Parameters: 
2022-04-06 10:03:19.699 DEBUG 12684 --- [http-nio-8086-exec-4] com.kwok.mapper.TypeMapper.listTopType   : <==      Total: 5
2022-04-06 10:03:19.700 DEBUG 12684 --- [http-nio-8086-exec-4] c.k.m.BlogMapper.listTopRecommendBlog    : ==>  Preparing: select * from blog where recommend = 1 order by update_time desc
2022-04-06 10:03:19.700 DEBUG 12684 --- [http-nio-8086-exec-4] c.k.m.BlogMapper.listTopRecommendBlog    : ==> Parameters: 
2022-04-06 10:03:19.702 DEBUG 12684 --- [http-nio-8086-exec-4] c.k.m.BlogMapper.listTopRecommendBlog    : <==      Total: 2
2022-04-06 10:03:19.702  INFO 12684 --- [http-nio-8086-exec-4] com.kwok.aspect.LogAspect                : Result : index
2022-04-06 10:03:34.219 DEBUG 12684 --- [http-nio-8086-exec-7] com.kwok.mapper.BlogMapper.getLastBlog   : ==>  Preparing: select * from blog order by id desc limit 1
2022-04-06 10:03:34.219 DEBUG 12684 --- [http-nio-8086-exec-7] com.kwok.mapper.BlogMapper.getLastBlog   : ==> Parameters: 
2022-04-06 10:03:34.220 DEBUG 12684 --- [http-nio-8086-exec-7] com.kwok.mapper.BlogMapper.getLastBlog   : <==      Total: 1
2022-04-06 10:03:34.220 DEBUG 12684 --- [http-nio-8086-exec-7] c.k.mapper.BlogtagMapper.getLastBlogtag  : ==>  Preparing: select * from blog_tag order by id desc limit 1
2022-04-06 10:03:34.220 DEBUG 12684 --- [http-nio-8086-exec-7] c.k.mapper.BlogtagMapper.getLastBlogtag  : ==> Parameters: 
2022-04-06 10:03:34.221 DEBUG 12684 --- [http-nio-8086-exec-7] c.k.mapper.BlogtagMapper.getLastBlogtag  : <==      Total: 1
2022-04-06 10:03:34.222 DEBUG 12684 --- [http-nio-8086-exec-7] c.kwok.mapper.BlogtagMapper.saveBlogtag  : ==>  Preparing: insert into blog_tag (id, blog_id, tag_id) values (?, ?,?)
2022-04-06 10:03:34.222 DEBUG 12684 --- [http-nio-8086-exec-7] c.kwok.mapper.BlogtagMapper.saveBlogtag  : ==> Parameters: 210(Integer), 87(Integer), 4(Integer)
2022-04-06 10:03:34.223 DEBUG 12684 --- [http-nio-8086-exec-7] c.kwok.mapper.BlogtagMapper.saveBlogtag  : <==    Updates: 1
2022-04-06 10:03:34.223 DEBUG 12684 --- [http-nio-8086-exec-7] c.k.mapper.BlogtagMapper.getLastBlogtag  : ==>  Preparing: select * from blog_tag order by id desc limit 1
2022-04-06 10:03:34.223 DEBUG 12684 --- [http-nio-8086-exec-7] c.k.mapper.BlogtagMapper.getLastBlogtag  : ==> Parameters: 
2022-04-06 10:03:34.223 DEBUG 12684 --- [http-nio-8086-exec-7] c.k.mapper.BlogtagMapper.getLastBlogtag  : <==      Total: 1
2022-04-06 10:03:34.223 DEBUG 12684 --- [http-nio-8086-exec-7] c.kwok.mapper.BlogtagMapper.saveBlogtag  : ==>  Preparing: insert into blog_tag (id, blog_id, tag_id) values (?, ?,?)
2022-04-06 10:03:34.223 DEBUG 12684 --- [http-nio-8086-exec-7] c.kwok.mapper.BlogtagMapper.saveBlogtag  : ==> Parameters: 211(Integer), 87(Integer), 3(Integer)
2022-04-06 10:03:34.224 DEBUG 12684 --- [http-nio-8086-exec-7] c.kwok.mapper.BlogtagMapper.saveBlogtag  : <==    Updates: 1
2022-04-06 10:03:34.224 DEBUG 12684 --- [http-nio-8086-exec-7] c.k.mapper.BlogtagMapper.getLastBlogtag  : ==>  Preparing: select * from blog_tag order by id desc limit 1
2022-04-06 10:03:34.224 DEBUG 12684 --- [http-nio-8086-exec-7] c.k.mapper.BlogtagMapper.getLastBlogtag  : ==> Parameters: 
2022-04-06 10:03:34.225 DEBUG 12684 --- [http-nio-8086-exec-7] c.k.mapper.BlogtagMapper.getLastBlogtag  : <==      Total: 1
2022-04-06 10:03:34.225 DEBUG 12684 --- [http-nio-8086-exec-7] c.kwok.mapper.BlogtagMapper.saveBlogtag  : ==>  Preparing: insert into blog_tag (id, blog_id, tag_id) values (?, ?,?)
2022-04-06 10:03:34.225 DEBUG 12684 --- [http-nio-8086-exec-7] c.kwok.mapper.BlogtagMapper.saveBlogtag  : ==> Parameters: 212(Integer), 87(Integer), 11(Integer)
2022-04-06 10:03:34.225 DEBUG 12684 --- [http-nio-8086-exec-7] c.kwok.mapper.BlogtagMapper.saveBlogtag  : <==    Updates: 1
2022-04-06 10:03:34.226 DEBUG 12684 --- [http-nio-8086-exec-7] com.kwok.mapper.BlogMapper.saveBlog      : ==>  Preparing: insert into blog (id, title,description, content, first_picture, flag, views, appreciation, share_statement, commentabled, published, recommend, create_time, update_time, type_id, user_id) values (?,?,?,?,?,?, ?,?,?,?, ?,?,?,?,?,?)
2022-04-06 10:03:34.227 DEBUG 12684 --- [http-nio-8086-exec-7] com.kwok.mapper.BlogMapper.saveBlog      : ==> Parameters: 87(Integer), SpringCloud-Feign：负载均衡(基于服务端)(String), 1 Feign简介  Feign是声明式Web Service客户端，它让微服务之间的调用变得更简单，类似controller调用service。SpringCloud集成了Ribbon和Eureka，可以使用Feigin提供负载均衡的http客户端 只需要创建一个接口，然后添加注解即可(String), ## 1 Feign简介

&emsp;&emsp;Feign是声明式Web Service客户端，它让微服务之间的调用变得更简单，类似controller调用service。SpringCloud集成了Ribbon和Eureka，可以使用Feigin提供负载均衡的http客户端



**只需要创建一个接口，然后添加注解即可~**


&emsp;&emsp;Feign，主要是社区版，大家都习惯面向接口编程。这个是很多开发人员的规范。调用微服务访问两种方法

1. 微服务名字 【ribbon】
2. 接口和注解 【feign】



#### Feign能干什么？

- Feign旨在使编写Java Http客户端变得更容易
- 前面在使用**Ribbon** + **RestTemplate**时，利用**RestTemplate**对Http请求的封装处理，形成了一套模板化的调用方法。但是在实际开发中，由于对服务依赖的调用可能不止一处，往往一个接口会被多处调用，所以通常都会针对每个微服务自行封装一个客户端类来包装这些依赖服务的调用。所以，**Feign**在此基础上做了进一步的封装，由他来帮助我们定义和实现依赖服务接口的定义，在Feign的实现下，我们只需要创建一个接口并使用注解的方式来配置它 (类似以前Dao接口上标注Mapper注解，现在是一个微服务接口上面标注一个Feign注解)，即可完成对服务提供方的接口绑定，简化了使用Spring Cloud Ribbon 时，自动封装服务调用客户端的开发量。

#### Feign默认集成了Ribbon

- 利用**Ribbon**维护了MicroServiceCloud-Dept的服务列表信息，并且通过轮询实现了客户端的负载均衡，而与**Ribbon**不同的是，通过**Feign**只需要定义服务绑定接口且以声明式的方法，优雅而简单的实现了服务调用。

## 2 Feign的使用步骤

创建springcloud-consumer-fdept-feign模块

![img](https://img-blog.csdnimg.cn/img_convert/d1472d5a502fc1280fdadf39ff1bbf7d.png)

拷贝springcloud-consumer-dept-80模块下的pom.xml，resource，以及java代码到springcloud-consumer-feign模块，并添加feign依赖。

```xml
<!--Feign的依赖-->
<dependency>
    <groupId>org.springframework.cloud</groupId>
    <artifactId>spring-cloud-starter-feign</artifactId>
    <version>1.4.6.RELEASE</version>
</dependency>
```

通过**Ribbon**实现：—原来的controller：**DeptConsumerController.java**

```java
@RestController
public class DeptConsumerController {
        /**
     * 理解：消费者，不应该有service层~
     * RestTemplate .... 供我们直接调用就可以了！ 注册到Spring中
     * (地址：url, 实体：Map ,Class<T> responseType)
     * <p>
     * 提供多种便捷访问远程http服务的方法，简单的Restful服务模板~
     */
    @Autowired
    private RestTemplate restTemplate;
    /**
     * 服务提供方地址前缀
     * <p>
     * Ribbon:我们这里的地址，应该是一个变量，通过服务名来访问
     */
//    private static final String REST_URL_PREFIX = "http://localhost:8001";
    private static final String REST_URL_PREFIX = "http://SPRINGCLOUD-PROVIDER-DEPT";
    /**
     * 消费方添加部门信息
     * @param dept
     * @return
     */
    @RequestMapping("/consumer/dept/add")
    public boolean add(Dept dept) {
        // postForObject(服务提供方地址(接口),参数实体,返回类型.class)
        return restTemplate.postForObject(REST_URL_PREFIX + "/dept/add", dept, Boolean.class);
    }
    /**
     * 消费方根据id查询部门信息
     * @param id
     * @return
     */
    @RequestMapping("/consumer/dept/get/{id}")
    public Dept get(@PathVariable("id") Long id) {
        // getForObject(服务提供方地址(接口),返回类型.class)
        return restTemplate.getForObject(REST_URL_PREFIX + "/dept/get/" + id, Dept.class);
    }
    /**
     * 消费方查询部门信息列表
     * @return
     */
    @RequestMapping("/consumer/dept/list")
    public List<Dept> list() {
        return restTemplate.getForObject(REST_URL_PREFIX + "/dept/list", List.class);
    }
}
```

通过Feign实现：—改造后controller：**DeptConsumerController.java**

```java
@RestController
public class DeptConsumerController {
    @Autowired
    private DeptClientService deptClientService;
    /**
     * 消费方添加部门信息
     * @param dept
     * @return
     */
    @RequestMapping("/consumer/dept/add")
    public boolean add(Dept dept) {
        return deptClientService.addDept(dept);
    }
    /**
     * 消费方根据id查询部门信息
     * @param id
     * @return
     */
    @RequestMapping("/consumer/dept/get/{id}")
    public Dept get(@PathVariable("id") Long id) {
       return deptClientService.queryById(id);
    }
    /**
     * 消费方查询部门信息列表
     * @return
     */
    @RequestMapping("/consumer/dept/list")
    public List<Dept> list() {
        return deptClientService.queryAll();
    }
}
```

&emsp;&emsp;Feign和Ribbon二者对比，前者显现出面向接口编程特点，代码看起来更清爽，而且Feign调用方式更符合我们之前在做SSM或者SprngBoot项目时，Controller层调用Service层的编程习惯！

**主配置类**：

```java
@SpringBootApplication
@EnableEurekaClient
// feign客户端注解,并指定要扫描的包以及配置接口DeptClientService
@EnableFeignClients(basePackages = {
      "com.haust.springcloud"})
// 切记不要加这个注解，不然会出现404访问不到
//@ComponentScan("com.haust.springcloud")
public class FeignDeptConsumer_80 {
    public static void main(String[] args) {
        SpringApplication.run(FeignDeptConsumer_80.class, args);
    }
}
```

1. 改造springcloud-api模块

pom.xml添加feign依赖

```xml
<!--Feign的依赖-->
<dependency>
    <groupId>org.springframework.cloud</groupId>
    <artifactId>spring-cloud-starter-feign</artifactId>
    <version>1.4.6.RELEASE</version>
</dependency>
```

新建service包，并新建DeptClientService.java接口，

```java
// @FeignClient:微服务客户端注解,value:指定微服务的名字,这样就可以使Feign客户端直接找到对应的微服务
@FeignClient(value = “SPRINGCLOUD-PROVIDER-DEPT”)
public interface DeptClientService {
        @GetMapping("/dept/get/{id}")
    public Dept queryById(@PathVariable("id") Long id);
    @GetMapping("/dept/list")
    public Dept queryAll();
    @GetMapping("/dept/add")
    public Dept addDept(Dept dept);
}
```

## 3 Feign和Ribbon如何选择？

&emsp;&emsp;**根据个人习惯而定，如果喜欢REST风格使用Ribbon；如果喜欢社区版的面向接口风格使用Feign.**

&emsp;&emsp;Feign 本质上也是实现了 Ribbon，只不过后者是在调用方式上，为了满足一些开发者习惯的接口调用习惯！

&emsp;&emsp;下面我们关闭springcloud-consumer-dept-80 这个服务消费方，换用springcloud-consumer-dept-feign(端口还是80) 来代替：(依然可以正常访问，就是调用方式相比于Ribbon变化了)

![img](https://img-blog.csdnimg.cn/img_convert/42589e9fa4ae66b28d4e323daf8b689a.png)(String), http://110.42.213.171:8080/blogimgs/87.png(String), 原创(String), 0(Integer), true(Boolean), true(Boolean), true(Boolean), true(Boolean), false(Boolean), 2022-04-06 10:03:34.22(Timestamp), 2022-04-06 10:03:34.22(Timestamp), 7(Integer), 1(Integer)
2022-04-06 10:03:34.228 DEBUG 12684 --- [http-nio-8086-exec-7] com.kwok.mapper.BlogMapper.saveBlog      : <==    Updates: 1
2022-04-06 10:03:34.233 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.BlogMapper.getBlogCount  : ==>  Preparing: select count(1) as count from blog
2022-04-06 10:03:34.233 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.BlogMapper.getBlogCount  : ==> Parameters: 
2022-04-06 10:03:34.234 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.BlogMapper.getBlogCount  : <==      Total: 1
2022-04-06 10:03:34.234 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.BlogMapper.getBlogList   : ==>  Preparing: select b.*,t.name as typeName from blog b,type t where b.type_id=t.id order by b.id desc limit ?,?
2022-04-06 10:03:34.234 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.BlogMapper.getBlogList   : ==> Parameters: 0(Integer), 5(Integer)
2022-04-06 10:03:34.237 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.BlogMapper.getBlogList   : <==      Total: 5
2022-04-06 10:03:34.237 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.BlogMapper.getBlogById   : ==>  Preparing: select * from blog where id = ?
2022-04-06 10:03:34.237 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.BlogMapper.getBlogById   : ==> Parameters: 88(Integer)
2022-04-06 10:03:34.238 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.BlogMapper.getBlogById   : <==      Total: 0
2022-04-06 10:03:34.238 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.BlogMapper.getBlogById   : ==>  Preparing: select * from blog where id = ?
2022-04-06 10:03:34.238 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.BlogMapper.getBlogById   : ==> Parameters: 82(Integer)
2022-04-06 10:03:34.240 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.BlogMapper.getBlogById   : <==      Total: 1
2022-04-06 10:03:34.240 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.TypeMapper.listType      : ==>  Preparing: select * from type order by id desc
2022-04-06 10:03:34.240 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.TypeMapper.listType      : ==> Parameters: 
2022-04-06 10:03:34.240 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.TypeMapper.listType      : <==      Total: 7
2022-04-06 10:03:35.747 DEBUG 12684 --- [http-nio-8086-exec-8] com.kwok.mapper.BlogMapper.getBlogCount  : ==>  Preparing: select count(1) as count from blog
2022-04-06 10:03:35.747 DEBUG 12684 --- [http-nio-8086-exec-8] com.kwok.mapper.BlogMapper.getBlogCount  : ==> Parameters: 
2022-04-06 10:03:35.749 DEBUG 12684 --- [http-nio-8086-exec-8] com.kwok.mapper.BlogMapper.getBlogCount  : <==      Total: 1
2022-04-06 10:03:35.749 DEBUG 12684 --- [http-nio-8086-exec-8] com.kwok.mapper.BlogMapper.getBlogList   : ==>  Preparing: select b.*,t.name as typeName from blog b,type t where b.type_id=t.id order by b.id desc limit ?,?
2022-04-06 10:03:35.749 DEBUG 12684 --- [http-nio-8086-exec-8] com.kwok.mapper.BlogMapper.getBlogList   : ==> Parameters: 0(Integer), 5(Integer)
2022-04-06 10:03:35.751 DEBUG 12684 --- [http-nio-8086-exec-8] com.kwok.mapper.BlogMapper.getBlogList   : <==      Total: 5
2022-04-06 10:03:35.752 DEBUG 12684 --- [http-nio-8086-exec-8] com.kwok.mapper.BlogMapper.getBlogById   : ==>  Preparing: select * from blog where id = ?
2022-04-06 10:03:35.752 DEBUG 12684 --- [http-nio-8086-exec-8] com.kwok.mapper.BlogMapper.getBlogById   : ==> Parameters: 88(Integer)
2022-04-06 10:03:35.752 DEBUG 12684 --- [http-nio-8086-exec-8] com.kwok.mapper.BlogMapper.getBlogById   : <==      Total: 0
2022-04-06 10:03:35.752 DEBUG 12684 --- [http-nio-8086-exec-8] com.kwok.mapper.BlogMapper.getBlogById   : ==>  Preparing: select * from blog where id = ?
2022-04-06 10:03:35.752 DEBUG 12684 --- [http-nio-8086-exec-8] com.kwok.mapper.BlogMapper.getBlogById   : ==> Parameters: 82(Integer)
2022-04-06 10:03:35.754 DEBUG 12684 --- [http-nio-8086-exec-8] com.kwok.mapper.BlogMapper.getBlogById   : <==      Total: 1
2022-04-06 10:03:35.754 DEBUG 12684 --- [http-nio-8086-exec-8] com.kwok.mapper.TypeMapper.listType      : ==>  Preparing: select * from type order by id desc
2022-04-06 10:03:35.754 DEBUG 12684 --- [http-nio-8086-exec-8] com.kwok.mapper.TypeMapper.listType      : ==> Parameters: 
2022-04-06 10:03:35.755 DEBUG 12684 --- [http-nio-8086-exec-8] com.kwok.mapper.TypeMapper.listType      : <==      Total: 7
2022-04-06 10:03:37.505  INFO 12684 --- [http-nio-8086-exec-4] com.kwok.aspect.LogAspect                : Request : {url='http://localhost:8086/index', ip='0:0:0:0:0:0:0:1', classMethod='com.kwok.controller.IndexController.index', args=[org.apache.catalina.connector.RequestFacade@7b4c3c2a, org.apache.catalina.connector.ResponseFacade@4167aeee, {}]}
2022-04-06 10:03:37.506 DEBUG 12684 --- [http-nio-8086-exec-4] com.kwok.mapper.BlogMapper.getBlogCount  : ==>  Preparing: select count(1) as count from blog
2022-04-06 10:03:37.506 DEBUG 12684 --- [http-nio-8086-exec-4] com.kwok.mapper.BlogMapper.getBlogCount  : ==> Parameters: 
2022-04-06 10:03:37.507 DEBUG 12684 --- [http-nio-8086-exec-4] com.kwok.mapper.BlogMapper.getBlogCount  : <==      Total: 1
2022-04-06 10:03:37.507 DEBUG 12684 --- [http-nio-8086-exec-4] com.kwok.mapper.BlogMapper.getBlogList   : ==>  Preparing: select b.*,t.name as typeName from blog b,type t where b.type_id=t.id order by b.id desc limit ?,?
2022-04-06 10:03:37.507 DEBUG 12684 --- [http-nio-8086-exec-4] com.kwok.mapper.BlogMapper.getBlogList   : ==> Parameters: 0(Integer), 5(Integer)
2022-04-06 10:03:37.510 DEBUG 12684 --- [http-nio-8086-exec-4] com.kwok.mapper.BlogMapper.getBlogList   : <==      Total: 5
2022-04-06 10:03:37.510 DEBUG 12684 --- [http-nio-8086-exec-4] com.kwok.mapper.BlogMapper.getBlogById   : ==>  Preparing: select * from blog where id = ?
2022-04-06 10:03:37.510 DEBUG 12684 --- [http-nio-8086-exec-4] com.kwok.mapper.BlogMapper.getBlogById   : ==> Parameters: 88(Integer)
2022-04-06 10:03:37.511 DEBUG 12684 --- [http-nio-8086-exec-4] com.kwok.mapper.BlogMapper.getBlogById   : <==      Total: 0
2022-04-06 10:03:37.511 DEBUG 12684 --- [http-nio-8086-exec-4] com.kwok.mapper.BlogMapper.getBlogById   : ==>  Preparing: select * from blog where id = ?
2022-04-06 10:03:37.511 DEBUG 12684 --- [http-nio-8086-exec-4] com.kwok.mapper.BlogMapper.getBlogById   : ==> Parameters: 82(Integer)
2022-04-06 10:03:37.512 DEBUG 12684 --- [http-nio-8086-exec-4] com.kwok.mapper.BlogMapper.getBlogById   : <==      Total: 1
2022-04-06 10:03:37.512 DEBUG 12684 --- [http-nio-8086-exec-4] com.kwok.mapper.TagMapper.listTopTag     : ==>  Preparing: select tag.id,tag.name,tn.num from tag,(select tag_id,count(*) as num from blog_tag group by tag_id order by num desc) as tn where tag.id = tn.tag_id
2022-04-06 10:03:37.512 DEBUG 12684 --- [http-nio-8086-exec-4] com.kwok.mapper.TagMapper.listTopTag     : ==> Parameters: 
2022-04-06 10:03:37.513 DEBUG 12684 --- [http-nio-8086-exec-4] com.kwok.mapper.TagMapper.listTopTag     : <==      Total: 11
2022-04-06 10:03:37.513 DEBUG 12684 --- [http-nio-8086-exec-4] com.kwok.mapper.TypeMapper.listTopType   : ==>  Preparing: select type.id,type.name,tn.num from type,(select type_id,count(*) as num from blog group by type_id order by num desc) as tn where type.id = tn.type_id
2022-04-06 10:03:37.513 DEBUG 12684 --- [http-nio-8086-exec-4] com.kwok.mapper.TypeMapper.listTopType   : ==> Parameters: 
2022-04-06 10:03:37.514 DEBUG 12684 --- [http-nio-8086-exec-4] com.kwok.mapper.TypeMapper.listTopType   : <==      Total: 5
2022-04-06 10:03:37.514 DEBUG 12684 --- [http-nio-8086-exec-4] c.k.m.BlogMapper.listTopRecommendBlog    : ==>  Preparing: select * from blog where recommend = 1 order by update_time desc
2022-04-06 10:03:37.514 DEBUG 12684 --- [http-nio-8086-exec-4] c.k.m.BlogMapper.listTopRecommendBlog    : ==> Parameters: 
2022-04-06 10:03:37.516 DEBUG 12684 --- [http-nio-8086-exec-4] c.k.m.BlogMapper.listTopRecommendBlog    : <==      Total: 2
2022-04-06 10:03:37.516  INFO 12684 --- [http-nio-8086-exec-4] com.kwok.aspect.LogAspect                : Result : index
2022-04-06 10:03:43.015  INFO 12684 --- [http-nio-8086-exec-2] com.kwok.aspect.LogAspect                : Request : {url='http://localhost:8086/blog/87', ip='0:0:0:0:0:0:0:1', classMethod='com.kwok.controller.IndexController.blog', args=[87, {}]}
2022-04-06 10:03:43.016 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.BlogMapper.getBlogById   : ==>  Preparing: select * from blog where id = ?
2022-04-06 10:03:43.016 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.BlogMapper.getBlogById   : ==> Parameters: 87(Integer)
2022-04-06 10:03:43.017 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.BlogMapper.getBlogById   : <==      Total: 1
2022-04-06 10:03:43.018 DEBUG 12684 --- [http-nio-8086-exec-2] c.k.mapper.BlogMapper.updateBlogViews    : ==>  Preparing: update blog set views=? where id = ?
2022-04-06 10:03:43.018 DEBUG 12684 --- [http-nio-8086-exec-2] c.k.mapper.BlogMapper.updateBlogViews    : ==> Parameters: 1(Integer), 87(Integer)
2022-04-06 10:03:43.019 DEBUG 12684 --- [http-nio-8086-exec-2] c.k.mapper.BlogMapper.updateBlogViews    : <==    Updates: 1
2022-04-06 10:03:43.023 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.BlogMapper.getBlogById   : ==>  Preparing: select * from blog where id = ?
2022-04-06 10:03:43.023 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.BlogMapper.getBlogById   : ==> Parameters: 87(Integer)
2022-04-06 10:03:43.024 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.BlogMapper.getBlogById   : <==      Total: 1
2022-04-06 10:03:43.025 DEBUG 12684 --- [http-nio-8086-exec-2] c.k.m.BlogtagMapper.getTagIdByBlogId     : ==>  Preparing: select * from blog_tag where blog_id = ?
2022-04-06 10:03:43.025 DEBUG 12684 --- [http-nio-8086-exec-2] c.k.m.BlogtagMapper.getTagIdByBlogId     : ==> Parameters: 87(Integer)
2022-04-06 10:03:43.026 DEBUG 12684 --- [http-nio-8086-exec-2] c.k.m.BlogtagMapper.getTagIdByBlogId     : <==      Total: 3
2022-04-06 10:03:43.026 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.TagMapper.getShowTags    : ==>  Preparing: select * from tag where id in ( ? , ? , ? )
2022-04-06 10:03:43.026 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.TagMapper.getShowTags    : ==> Parameters: 4(Integer), 3(Integer), 11(Integer)
2022-04-06 10:03:43.026 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.TagMapper.getShowTags    : <==      Total: 3
2022-04-06 10:03:43.027  INFO 12684 --- [http-nio-8086-exec-2] com.kwok.aspect.LogAspect                : Result : blog
2022-04-06 10:03:43.538  INFO 12684 --- [http-nio-8086-exec-7] com.kwok.aspect.LogAspect                : Request : {url='http://localhost:8086/comments/87', ip='0:0:0:0:0:0:0:1', classMethod='com.kwok.controller.CommentController.comments', args=[87, {}]}
2022-04-06 10:03:43.539 DEBUG 12684 --- [http-nio-8086-exec-7] c.k.m.CommentMapper.listCommentByBlogId  : ==>  Preparing: select * from comment where blog_id = ? and parent_id = 0 order by creat_time asc
2022-04-06 10:03:43.539 DEBUG 12684 --- [http-nio-8086-exec-7] c.k.m.CommentMapper.listCommentByBlogId  : ==> Parameters: 87(Integer)
2022-04-06 10:03:43.539 DEBUG 12684 --- [http-nio-8086-exec-7] c.k.m.CommentMapper.listCommentByBlogId  : <==      Total: 0
2022-04-06 10:03:43.539  INFO 12684 --- [http-nio-8086-exec-7] com.kwok.aspect.LogAspect                : Result : blog :: commentList
2022-04-06 10:03:56.280  INFO 12684 --- [http-nio-8086-exec-4] com.kwok.aspect.LogAspect                : Request : {url='http://localhost:8086/types/-1', ip='0:0:0:0:0:0:0:1', classMethod='com.kwok.controller.TypeShowController.types', args=[-1, org.apache.catalina.connector.RequestFacade@f05c437, {}]}
2022-04-06 10:03:56.281 DEBUG 12684 --- [http-nio-8086-exec-4] com.kwok.mapper.TypeMapper.listType      : ==>  Preparing: select * from type order by id desc
2022-04-06 10:03:56.281 DEBUG 12684 --- [http-nio-8086-exec-4] com.kwok.mapper.TypeMapper.listType      : ==> Parameters: 
2022-04-06 10:03:56.281 DEBUG 12684 --- [http-nio-8086-exec-4] com.kwok.mapper.TypeMapper.listType      : <==      Total: 7
2022-04-06 10:03:56.281 DEBUG 12684 --- [http-nio-8086-exec-4] c.k.m.BlogMapper.getBlogCountByTypeId    : ==>  Preparing: select count(1) as count from blog where type_id = ?
2022-04-06 10:03:56.281 DEBUG 12684 --- [http-nio-8086-exec-4] c.k.m.BlogMapper.getBlogCountByTypeId    : ==> Parameters: 7(Integer)
2022-04-06 10:03:56.282 DEBUG 12684 --- [http-nio-8086-exec-4] c.k.m.BlogMapper.getBlogCountByTypeId    : <==      Total: 1
2022-04-06 10:03:56.282 DEBUG 12684 --- [http-nio-8086-exec-4] c.k.m.BlogMapper.getBlogCountByTypeId    : ==>  Preparing: select count(1) as count from blog where type_id = ?
2022-04-06 10:03:56.282 DEBUG 12684 --- [http-nio-8086-exec-4] c.k.m.BlogMapper.getBlogCountByTypeId    : ==> Parameters: 6(Integer)
2022-04-06 10:03:56.282 DEBUG 12684 --- [http-nio-8086-exec-4] c.k.m.BlogMapper.getBlogCountByTypeId    : <==      Total: 1
2022-04-06 10:03:56.282 DEBUG 12684 --- [http-nio-8086-exec-4] c.k.m.BlogMapper.getBlogCountByTypeId    : ==>  Preparing: select count(1) as count from blog where type_id = ?
2022-04-06 10:03:56.282 DEBUG 12684 --- [http-nio-8086-exec-4] c.k.m.BlogMapper.getBlogCountByTypeId    : ==> Parameters: 5(Integer)
2022-04-06 10:03:56.283 DEBUG 12684 --- [http-nio-8086-exec-4] c.k.m.BlogMapper.getBlogCountByTypeId    : <==      Total: 1
2022-04-06 10:03:56.283 DEBUG 12684 --- [http-nio-8086-exec-4] c.k.m.BlogMapper.getBlogCountByTypeId    : ==>  Preparing: select count(1) as count from blog where type_id = ?
2022-04-06 10:03:56.283 DEBUG 12684 --- [http-nio-8086-exec-4] c.k.m.BlogMapper.getBlogCountByTypeId    : ==> Parameters: 4(Integer)
2022-04-06 10:03:56.283 DEBUG 12684 --- [http-nio-8086-exec-4] c.k.m.BlogMapper.getBlogCountByTypeId    : <==      Total: 1
2022-04-06 10:03:56.283 DEBUG 12684 --- [http-nio-8086-exec-4] c.k.m.BlogMapper.getBlogCountByTypeId    : ==>  Preparing: select count(1) as count from blog where type_id = ?
2022-04-06 10:03:56.283 DEBUG 12684 --- [http-nio-8086-exec-4] c.k.m.BlogMapper.getBlogCountByTypeId    : ==> Parameters: 3(Integer)
2022-04-06 10:03:56.283 DEBUG 12684 --- [http-nio-8086-exec-4] c.k.m.BlogMapper.getBlogCountByTypeId    : <==      Total: 1
2022-04-06 10:03:56.284 DEBUG 12684 --- [http-nio-8086-exec-4] c.k.m.BlogMapper.getBlogCountByTypeId    : ==>  Preparing: select count(1) as count from blog where type_id = ?
2022-04-06 10:03:56.284 DEBUG 12684 --- [http-nio-8086-exec-4] c.k.m.BlogMapper.getBlogCountByTypeId    : ==> Parameters: 2(Integer)
2022-04-06 10:03:56.284 DEBUG 12684 --- [http-nio-8086-exec-4] c.k.m.BlogMapper.getBlogCountByTypeId    : <==      Total: 1
2022-04-06 10:03:56.284 DEBUG 12684 --- [http-nio-8086-exec-4] c.k.m.BlogMapper.getBlogCountByTypeId    : ==>  Preparing: select count(1) as count from blog where type_id = ?
2022-04-06 10:03:56.284 DEBUG 12684 --- [http-nio-8086-exec-4] c.k.m.BlogMapper.getBlogCountByTypeId    : ==> Parameters: 1(Integer)
2022-04-06 10:03:56.284 DEBUG 12684 --- [http-nio-8086-exec-4] c.k.m.BlogMapper.getBlogCountByTypeId    : <==      Total: 1
2022-04-06 10:03:56.284 DEBUG 12684 --- [http-nio-8086-exec-4] c.k.m.BlogMapper.getBlogCountByTypeId    : ==>  Preparing: select count(1) as count from blog where type_id = ?
2022-04-06 10:03:56.284 DEBUG 12684 --- [http-nio-8086-exec-4] c.k.m.BlogMapper.getBlogCountByTypeId    : ==> Parameters: 7(Integer)
2022-04-06 10:03:56.285 DEBUG 12684 --- [http-nio-8086-exec-4] c.k.m.BlogMapper.getBlogCountByTypeId    : <==      Total: 1
2022-04-06 10:03:56.285 DEBUG 12684 --- [http-nio-8086-exec-4] c.k.m.BlogMapper.getBlogListByTypeId     : ==>  Preparing: select b.*,t.name as typeName from blog b,type t where b.type_id=t.id and b.type_id=? order by b.id desc limit ?,?
2022-04-06 10:03:56.285 DEBUG 12684 --- [http-nio-8086-exec-4] c.k.m.BlogMapper.getBlogListByTypeId     : ==> Parameters: 7(Integer), 0(Integer), 5(Integer)
2022-04-06 10:03:56.287 DEBUG 12684 --- [http-nio-8086-exec-4] c.k.m.BlogMapper.getBlogListByTypeId     : <==      Total: 5
2022-04-06 10:03:56.287 DEBUG 12684 --- [http-nio-8086-exec-4] c.k.mapper.BlogMapper.getPreBlogsById    : ==>  Preparing: select * from blog where type_id=? and id > ?
2022-04-06 10:03:56.287 DEBUG 12684 --- [http-nio-8086-exec-4] c.k.mapper.BlogMapper.getPreBlogsById    : ==> Parameters: 7(Integer), 87(Integer)
2022-04-06 10:03:56.288 DEBUG 12684 --- [http-nio-8086-exec-4] c.k.mapper.BlogMapper.getPreBlogsById    : <==      Total: 0
2022-04-06 10:03:56.288 DEBUG 12684 --- [http-nio-8086-exec-4] c.k.mapper.BlogMapper.getNextBlogsById   : ==>  Preparing: select * from blog where type_id=? and ? > id
2022-04-06 10:03:56.289 DEBUG 12684 --- [http-nio-8086-exec-4] c.k.mapper.BlogMapper.getNextBlogsById   : ==> Parameters: 7(Integer), 83(Integer)
2022-04-06 10:03:56.290 DEBUG 12684 --- [http-nio-8086-exec-4] c.k.mapper.BlogMapper.getNextBlogsById   : <==      Total: 0
2022-04-06 10:03:56.290  INFO 12684 --- [http-nio-8086-exec-4] com.kwok.aspect.LogAspect                : Result : types
2022-04-06 10:04:01.815  INFO 12684 --- [http-nio-8086-exec-3] com.kwok.aspect.LogAspect                : Request : {url='http://localhost:8086/index', ip='0:0:0:0:0:0:0:1', classMethod='com.kwok.controller.IndexController.index', args=[org.apache.catalina.connector.RequestFacade@6d43fb79, org.apache.catalina.connector.ResponseFacade@638418a1, {}]}
2022-04-06 10:04:01.816 DEBUG 12684 --- [http-nio-8086-exec-3] com.kwok.mapper.BlogMapper.getBlogCount  : ==>  Preparing: select count(1) as count from blog
2022-04-06 10:04:01.816 DEBUG 12684 --- [http-nio-8086-exec-3] com.kwok.mapper.BlogMapper.getBlogCount  : ==> Parameters: 
2022-04-06 10:04:01.818 DEBUG 12684 --- [http-nio-8086-exec-3] com.kwok.mapper.BlogMapper.getBlogCount  : <==      Total: 1
2022-04-06 10:04:01.818 DEBUG 12684 --- [http-nio-8086-exec-3] com.kwok.mapper.BlogMapper.getBlogList   : ==>  Preparing: select b.*,t.name as typeName from blog b,type t where b.type_id=t.id order by b.id desc limit ?,?
2022-04-06 10:04:01.818 DEBUG 12684 --- [http-nio-8086-exec-3] com.kwok.mapper.BlogMapper.getBlogList   : ==> Parameters: 0(Integer), 5(Integer)
2022-04-06 10:04:01.820 DEBUG 12684 --- [http-nio-8086-exec-3] com.kwok.mapper.BlogMapper.getBlogList   : <==      Total: 5
2022-04-06 10:04:01.821 DEBUG 12684 --- [http-nio-8086-exec-3] com.kwok.mapper.BlogMapper.getBlogById   : ==>  Preparing: select * from blog where id = ?
2022-04-06 10:04:01.821 DEBUG 12684 --- [http-nio-8086-exec-3] com.kwok.mapper.BlogMapper.getBlogById   : ==> Parameters: 88(Integer)
2022-04-06 10:04:01.821 DEBUG 12684 --- [http-nio-8086-exec-3] com.kwok.mapper.BlogMapper.getBlogById   : <==      Total: 0
2022-04-06 10:04:01.821 DEBUG 12684 --- [http-nio-8086-exec-3] com.kwok.mapper.BlogMapper.getBlogById   : ==>  Preparing: select * from blog where id = ?
2022-04-06 10:04:01.821 DEBUG 12684 --- [http-nio-8086-exec-3] com.kwok.mapper.BlogMapper.getBlogById   : ==> Parameters: 82(Integer)
2022-04-06 10:04:01.822 DEBUG 12684 --- [http-nio-8086-exec-3] com.kwok.mapper.BlogMapper.getBlogById   : <==      Total: 1
2022-04-06 10:04:01.822 DEBUG 12684 --- [http-nio-8086-exec-3] com.kwok.mapper.TagMapper.listTopTag     : ==>  Preparing: select tag.id,tag.name,tn.num from tag,(select tag_id,count(*) as num from blog_tag group by tag_id order by num desc) as tn where tag.id = tn.tag_id
2022-04-06 10:04:01.823 DEBUG 12684 --- [http-nio-8086-exec-3] com.kwok.mapper.TagMapper.listTopTag     : ==> Parameters: 
2022-04-06 10:04:01.824 DEBUG 12684 --- [http-nio-8086-exec-3] com.kwok.mapper.TagMapper.listTopTag     : <==      Total: 11
2022-04-06 10:04:01.824 DEBUG 12684 --- [http-nio-8086-exec-3] com.kwok.mapper.TypeMapper.listTopType   : ==>  Preparing: select type.id,type.name,tn.num from type,(select type_id,count(*) as num from blog group by type_id order by num desc) as tn where type.id = tn.type_id
2022-04-06 10:04:01.824 DEBUG 12684 --- [http-nio-8086-exec-3] com.kwok.mapper.TypeMapper.listTopType   : ==> Parameters: 
2022-04-06 10:04:01.824 DEBUG 12684 --- [http-nio-8086-exec-3] com.kwok.mapper.TypeMapper.listTopType   : <==      Total: 5
2022-04-06 10:04:01.824 DEBUG 12684 --- [http-nio-8086-exec-3] c.k.m.BlogMapper.listTopRecommendBlog    : ==>  Preparing: select * from blog where recommend = 1 order by update_time desc
2022-04-06 10:04:01.824 DEBUG 12684 --- [http-nio-8086-exec-3] c.k.m.BlogMapper.listTopRecommendBlog    : ==> Parameters: 
2022-04-06 10:04:01.827 DEBUG 12684 --- [http-nio-8086-exec-3] c.k.m.BlogMapper.listTopRecommendBlog    : <==      Total: 2
2022-04-06 10:04:01.828  INFO 12684 --- [http-nio-8086-exec-3] com.kwok.aspect.LogAspect                : Result : index
2022-04-06 10:04:02.983  INFO 12684 --- [http-nio-8086-exec-2] com.kwok.aspect.LogAspect                : Request : {url='http://localhost:8086/tags/-1', ip='0:0:0:0:0:0:0:1', classMethod='com.kwok.controller.TagShowController.tags', args=[-1, org.apache.catalina.connector.RequestFacade@f05c437, {}]}
2022-04-06 10:04:02.983 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.TagMapper.listTag        : ==>  Preparing: select * from tag order by id desc
2022-04-06 10:04:02.983 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.TagMapper.listTag        : ==> Parameters: 
2022-04-06 10:04:02.984 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.TagMapper.listTag        : <==      Total: 14
2022-04-06 10:04:02.984 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.TagMapper.tagCount       : ==>  Preparing: select count(1) as count from blog_tag where tag_id=?
2022-04-06 10:04:02.984 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.TagMapper.tagCount       : ==> Parameters: 14(Integer)
2022-04-06 10:04:02.985 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.TagMapper.tagCount       : <==      Total: 1
2022-04-06 10:04:02.985 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.TagMapper.tagCount       : ==>  Preparing: select count(1) as count from blog_tag where tag_id=?
2022-04-06 10:04:02.985 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.TagMapper.tagCount       : ==> Parameters: 13(Integer)
2022-04-06 10:04:02.986 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.TagMapper.tagCount       : <==      Total: 1
2022-04-06 10:04:02.986 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.TagMapper.tagCount       : ==>  Preparing: select count(1) as count from blog_tag where tag_id=?
2022-04-06 10:04:02.986 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.TagMapper.tagCount       : ==> Parameters: 12(Integer)
2022-04-06 10:04:02.987 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.TagMapper.tagCount       : <==      Total: 1
2022-04-06 10:04:02.987 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.TagMapper.tagCount       : ==>  Preparing: select count(1) as count from blog_tag where tag_id=?
2022-04-06 10:04:02.987 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.TagMapper.tagCount       : ==> Parameters: 11(Integer)
2022-04-06 10:04:02.988 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.TagMapper.tagCount       : <==      Total: 1
2022-04-06 10:04:02.988 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.TagMapper.tagCount       : ==>  Preparing: select count(1) as count from blog_tag where tag_id=?
2022-04-06 10:04:02.988 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.TagMapper.tagCount       : ==> Parameters: 10(Integer)
2022-04-06 10:04:02.988 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.TagMapper.tagCount       : <==      Total: 1
2022-04-06 10:04:02.988 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.TagMapper.tagCount       : ==>  Preparing: select count(1) as count from blog_tag where tag_id=?
2022-04-06 10:04:02.988 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.TagMapper.tagCount       : ==> Parameters: 9(Integer)
2022-04-06 10:04:02.989 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.TagMapper.tagCount       : <==      Total: 1
2022-04-06 10:04:02.989 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.TagMapper.tagCount       : ==>  Preparing: select count(1) as count from blog_tag where tag_id=?
2022-04-06 10:04:02.989 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.TagMapper.tagCount       : ==> Parameters: 8(Integer)
2022-04-06 10:04:02.989 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.TagMapper.tagCount       : <==      Total: 1
2022-04-06 10:04:02.989 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.TagMapper.tagCount       : ==>  Preparing: select count(1) as count from blog_tag where tag_id=?
2022-04-06 10:04:02.989 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.TagMapper.tagCount       : ==> Parameters: 7(Integer)
2022-04-06 10:04:02.990 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.TagMapper.tagCount       : <==      Total: 1
2022-04-06 10:04:02.990 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.TagMapper.tagCount       : ==>  Preparing: select count(1) as count from blog_tag where tag_id=?
2022-04-06 10:04:02.990 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.TagMapper.tagCount       : ==> Parameters: 6(Integer)
2022-04-06 10:04:02.990 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.TagMapper.tagCount       : <==      Total: 1
2022-04-06 10:04:02.990 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.TagMapper.tagCount       : ==>  Preparing: select count(1) as count from blog_tag where tag_id=?
2022-04-06 10:04:02.991 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.TagMapper.tagCount       : ==> Parameters: 5(Integer)
2022-04-06 10:04:02.991 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.TagMapper.tagCount       : <==      Total: 1
2022-04-06 10:04:02.991 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.TagMapper.tagCount       : ==>  Preparing: select count(1) as count from blog_tag where tag_id=?
2022-04-06 10:04:02.991 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.TagMapper.tagCount       : ==> Parameters: 4(Integer)
2022-04-06 10:04:02.992 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.TagMapper.tagCount       : <==      Total: 1
2022-04-06 10:04:02.992 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.TagMapper.tagCount       : ==>  Preparing: select count(1) as count from blog_tag where tag_id=?
2022-04-06 10:04:02.992 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.TagMapper.tagCount       : ==> Parameters: 3(Integer)
2022-04-06 10:04:02.992 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.TagMapper.tagCount       : <==      Total: 1
2022-04-06 10:04:02.992 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.TagMapper.tagCount       : ==>  Preparing: select count(1) as count from blog_tag where tag_id=?
2022-04-06 10:04:02.992 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.TagMapper.tagCount       : ==> Parameters: 2(Integer)
2022-04-06 10:04:02.993 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.TagMapper.tagCount       : <==      Total: 1
2022-04-06 10:04:02.993 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.TagMapper.tagCount       : ==>  Preparing: select count(1) as count from blog_tag where tag_id=?
2022-04-06 10:04:02.993 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.TagMapper.tagCount       : ==> Parameters: 1(Integer)
2022-04-06 10:04:02.993 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.TagMapper.tagCount       : <==      Total: 1
2022-04-06 10:04:02.994 DEBUG 12684 --- [http-nio-8086-exec-2] c.k.m.BlogMapper.getBlogCountByTagId     : ==>  Preparing: select count(1) as count from blog_tag where tag_id = ?
2022-04-06 10:04:02.994 DEBUG 12684 --- [http-nio-8086-exec-2] c.k.m.BlogMapper.getBlogCountByTagId     : ==> Parameters: 14(Integer)
2022-04-06 10:04:02.994 DEBUG 12684 --- [http-nio-8086-exec-2] c.k.m.BlogMapper.getBlogCountByTagId     : <==      Total: 1
2022-04-06 10:04:02.994 DEBUG 12684 --- [http-nio-8086-exec-2] c.k.m.BlogMapper.getBlogListByTagId      : ==>  Preparing: select b.*,bt.tag_id,t.name from blog b,blog_tag bt,tag t where bt.blog_id=b.id and bt.tag_id=t.id and bt.tag_id=? order by b.id desc limit ?,?
2022-04-06 10:04:02.994 DEBUG 12684 --- [http-nio-8086-exec-2] c.k.m.BlogMapper.getBlogListByTagId      : ==> Parameters: 14(Integer), 0(Integer), 5(Integer)
2022-04-06 10:04:02.997 DEBUG 12684 --- [http-nio-8086-exec-2] c.k.m.BlogMapper.getBlogListByTagId      : <==      Total: 5
2022-04-06 10:04:02.997 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.TypeMapper.getTypeById   : ==>  Preparing: select * from type where id = ?
2022-04-06 10:04:02.997 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.TypeMapper.getTypeById   : ==> Parameters: 6(Integer)
2022-04-06 10:04:02.998 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.TypeMapper.getTypeById   : <==      Total: 1
2022-04-06 10:04:02.998 DEBUG 12684 --- [http-nio-8086-exec-2] c.kwok.mapper.TagMapper.getTagsByBlogId  : ==>  Preparing: select t.* from tag t,blog_tag bt where t.id=bt.tag_id and bt.blog_id=?
2022-04-06 10:04:02.998 DEBUG 12684 --- [http-nio-8086-exec-2] c.kwok.mapper.TagMapper.getTagsByBlogId  : ==> Parameters: 66(Integer)
2022-04-06 10:04:02.999 DEBUG 12684 --- [http-nio-8086-exec-2] c.kwok.mapper.TagMapper.getTagsByBlogId  : <==      Total: 3
2022-04-06 10:04:02.999 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.TypeMapper.getTypeById   : ==>  Preparing: select * from type where id = ?
2022-04-06 10:04:02.999 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.TypeMapper.getTypeById   : ==> Parameters: 6(Integer)
2022-04-06 10:04:02.999 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.TypeMapper.getTypeById   : <==      Total: 1
2022-04-06 10:04:03.000 DEBUG 12684 --- [http-nio-8086-exec-2] c.kwok.mapper.TagMapper.getTagsByBlogId  : ==>  Preparing: select t.* from tag t,blog_tag bt where t.id=bt.tag_id and bt.blog_id=?
2022-04-06 10:04:03.000 DEBUG 12684 --- [http-nio-8086-exec-2] c.kwok.mapper.TagMapper.getTagsByBlogId  : ==> Parameters: 65(Integer)
2022-04-06 10:04:03.000 DEBUG 12684 --- [http-nio-8086-exec-2] c.kwok.mapper.TagMapper.getTagsByBlogId  : <==      Total: 3
2022-04-06 10:04:03.000 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.TypeMapper.getTypeById   : ==>  Preparing: select * from type where id = ?
2022-04-06 10:04:03.000 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.TypeMapper.getTypeById   : ==> Parameters: 6(Integer)
2022-04-06 10:04:03.001 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.TypeMapper.getTypeById   : <==      Total: 1
2022-04-06 10:04:03.001 DEBUG 12684 --- [http-nio-8086-exec-2] c.kwok.mapper.TagMapper.getTagsByBlogId  : ==>  Preparing: select t.* from tag t,blog_tag bt where t.id=bt.tag_id and bt.blog_id=?
2022-04-06 10:04:03.001 DEBUG 12684 --- [http-nio-8086-exec-2] c.kwok.mapper.TagMapper.getTagsByBlogId  : ==> Parameters: 64(Integer)
2022-04-06 10:04:03.001 DEBUG 12684 --- [http-nio-8086-exec-2] c.kwok.mapper.TagMapper.getTagsByBlogId  : <==      Total: 3
2022-04-06 10:04:03.002 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.TypeMapper.getTypeById   : ==>  Preparing: select * from type where id = ?
2022-04-06 10:04:03.002 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.TypeMapper.getTypeById   : ==> Parameters: 6(Integer)
2022-04-06 10:04:03.002 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.TypeMapper.getTypeById   : <==      Total: 1
2022-04-06 10:04:03.003 DEBUG 12684 --- [http-nio-8086-exec-2] c.kwok.mapper.TagMapper.getTagsByBlogId  : ==>  Preparing: select t.* from tag t,blog_tag bt where t.id=bt.tag_id and bt.blog_id=?
2022-04-06 10:04:03.003 DEBUG 12684 --- [http-nio-8086-exec-2] c.kwok.mapper.TagMapper.getTagsByBlogId  : ==> Parameters: 63(Integer)
2022-04-06 10:04:03.004 DEBUG 12684 --- [http-nio-8086-exec-2] c.kwok.mapper.TagMapper.getTagsByBlogId  : <==      Total: 3
2022-04-06 10:04:03.004 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.TypeMapper.getTypeById   : ==>  Preparing: select * from type where id = ?
2022-04-06 10:04:03.004 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.TypeMapper.getTypeById   : ==> Parameters: 6(Integer)
2022-04-06 10:04:03.005 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.TypeMapper.getTypeById   : <==      Total: 1
2022-04-06 10:04:03.005 DEBUG 12684 --- [http-nio-8086-exec-2] c.kwok.mapper.TagMapper.getTagsByBlogId  : ==>  Preparing: select t.* from tag t,blog_tag bt where t.id=bt.tag_id and bt.blog_id=?
2022-04-06 10:04:03.005 DEBUG 12684 --- [http-nio-8086-exec-2] c.kwok.mapper.TagMapper.getTagsByBlogId  : ==> Parameters: 62(Integer)
2022-04-06 10:04:03.006 DEBUG 12684 --- [http-nio-8086-exec-2] c.kwok.mapper.TagMapper.getTagsByBlogId  : <==      Total: 3
2022-04-06 10:04:03.006 DEBUG 12684 --- [http-nio-8086-exec-2] c.k.m.BlogMapper.getPreBlogsByTagId      : ==>  Preparing: select b.* from blog b,blog_tag bt where b.id = bt.blog_id and bt.tag_id=? and b.id > ?
2022-04-06 10:04:03.006 DEBUG 12684 --- [http-nio-8086-exec-2] c.k.m.BlogMapper.getPreBlogsByTagId      : ==> Parameters: 14(Integer), 66(Integer)
2022-04-06 10:04:03.006 DEBUG 12684 --- [http-nio-8086-exec-2] c.k.m.BlogMapper.getPreBlogsByTagId      : <==      Total: 0
2022-04-06 10:04:03.007 DEBUG 12684 --- [http-nio-8086-exec-2] c.k.m.BlogMapper.getNextBlogsByTagId     : ==>  Preparing: select b.* from blog b,blog_tag bt where b.id = bt.blog_id and bt.tag_id=? and ? > b.id
2022-04-06 10:04:03.007 DEBUG 12684 --- [http-nio-8086-exec-2] c.k.m.BlogMapper.getNextBlogsByTagId     : ==> Parameters: 14(Integer), 62(Integer)
2022-04-06 10:04:03.008 DEBUG 12684 --- [http-nio-8086-exec-2] c.k.m.BlogMapper.getNextBlogsByTagId     : <==      Total: 4
2022-04-06 10:04:03.008  INFO 12684 --- [http-nio-8086-exec-2] com.kwok.aspect.LogAspect                : Result : tags
2022-04-06 10:04:05.328  INFO 12684 --- [http-nio-8086-exec-10] com.kwok.aspect.LogAspect                : Request : {url='http://localhost:8086/index', ip='0:0:0:0:0:0:0:1', classMethod='com.kwok.controller.IndexController.index', args=[org.apache.catalina.connector.RequestFacade@7b4c3c2a, org.apache.catalina.connector.ResponseFacade@4167aeee, {}]}
2022-04-06 10:04:05.329 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.BlogMapper.getBlogCount  : ==>  Preparing: select count(1) as count from blog
2022-04-06 10:04:05.329 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.BlogMapper.getBlogCount  : ==> Parameters: 
2022-04-06 10:04:05.330 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.BlogMapper.getBlogCount  : <==      Total: 1
2022-04-06 10:04:05.330 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.BlogMapper.getBlogList   : ==>  Preparing: select b.*,t.name as typeName from blog b,type t where b.type_id=t.id order by b.id desc limit ?,?
2022-04-06 10:04:05.330 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.BlogMapper.getBlogList   : ==> Parameters: 0(Integer), 5(Integer)
2022-04-06 10:04:05.333 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.BlogMapper.getBlogList   : <==      Total: 5
2022-04-06 10:04:05.333 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.BlogMapper.getBlogById   : ==>  Preparing: select * from blog where id = ?
2022-04-06 10:04:05.333 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.BlogMapper.getBlogById   : ==> Parameters: 88(Integer)
2022-04-06 10:04:05.334 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.BlogMapper.getBlogById   : <==      Total: 0
2022-04-06 10:04:05.334 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.BlogMapper.getBlogById   : ==>  Preparing: select * from blog where id = ?
2022-04-06 10:04:05.334 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.BlogMapper.getBlogById   : ==> Parameters: 82(Integer)
2022-04-06 10:04:05.335 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.BlogMapper.getBlogById   : <==      Total: 1
2022-04-06 10:04:05.335 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.TagMapper.listTopTag     : ==>  Preparing: select tag.id,tag.name,tn.num from tag,(select tag_id,count(*) as num from blog_tag group by tag_id order by num desc) as tn where tag.id = tn.tag_id
2022-04-06 10:04:05.335 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.TagMapper.listTopTag     : ==> Parameters: 
2022-04-06 10:04:05.336 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.TagMapper.listTopTag     : <==      Total: 11
2022-04-06 10:04:05.336 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.TypeMapper.listTopType   : ==>  Preparing: select type.id,type.name,tn.num from type,(select type_id,count(*) as num from blog group by type_id order by num desc) as tn where type.id = tn.type_id
2022-04-06 10:04:05.337 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.TypeMapper.listTopType   : ==> Parameters: 
2022-04-06 10:04:05.337 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.TypeMapper.listTopType   : <==      Total: 5
2022-04-06 10:04:05.337 DEBUG 12684 --- [http-nio-8086-exec-10] c.k.m.BlogMapper.listTopRecommendBlog    : ==>  Preparing: select * from blog where recommend = 1 order by update_time desc
2022-04-06 10:04:05.337 DEBUG 12684 --- [http-nio-8086-exec-10] c.k.m.BlogMapper.listTopRecommendBlog    : ==> Parameters: 
2022-04-06 10:04:05.340 DEBUG 12684 --- [http-nio-8086-exec-10] c.k.m.BlogMapper.listTopRecommendBlog    : <==      Total: 2
2022-04-06 10:04:05.340  INFO 12684 --- [http-nio-8086-exec-10] com.kwok.aspect.LogAspect                : Result : index
2022-04-06 10:04:06.725  INFO 12684 --- [http-nio-8086-exec-6] com.kwok.aspect.LogAspect                : Request : {url='http://localhost:8086/index', ip='0:0:0:0:0:0:0:1', classMethod='com.kwok.controller.IndexController.index', args=[org.apache.catalina.connector.RequestFacade@2bd08bff, org.apache.catalina.connector.ResponseFacade@569c43ae, {}]}
2022-04-06 10:04:06.725 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.BlogMapper.getBlogCount  : ==>  Preparing: select count(1) as count from blog
2022-04-06 10:04:06.726 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.BlogMapper.getBlogCount  : ==> Parameters: 
2022-04-06 10:04:06.727 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.BlogMapper.getBlogCount  : <==      Total: 1
2022-04-06 10:04:06.727 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.BlogMapper.getBlogList   : ==>  Preparing: select b.*,t.name as typeName from blog b,type t where b.type_id=t.id order by b.id desc limit ?,?
2022-04-06 10:04:06.727 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.BlogMapper.getBlogList   : ==> Parameters: 0(Integer), 5(Integer)
2022-04-06 10:04:06.730 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.BlogMapper.getBlogList   : <==      Total: 5
2022-04-06 10:04:06.730 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.BlogMapper.getBlogById   : ==>  Preparing: select * from blog where id = ?
2022-04-06 10:04:06.730 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.BlogMapper.getBlogById   : ==> Parameters: 88(Integer)
2022-04-06 10:04:06.730 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.BlogMapper.getBlogById   : <==      Total: 0
2022-04-06 10:04:06.731 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.BlogMapper.getBlogById   : ==>  Preparing: select * from blog where id = ?
2022-04-06 10:04:06.731 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.BlogMapper.getBlogById   : ==> Parameters: 82(Integer)
2022-04-06 10:04:06.732 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.BlogMapper.getBlogById   : <==      Total: 1
2022-04-06 10:04:06.732 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.TagMapper.listTopTag     : ==>  Preparing: select tag.id,tag.name,tn.num from tag,(select tag_id,count(*) as num from blog_tag group by tag_id order by num desc) as tn where tag.id = tn.tag_id
2022-04-06 10:04:06.732 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.TagMapper.listTopTag     : ==> Parameters: 
2022-04-06 10:04:06.733 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.TagMapper.listTopTag     : <==      Total: 11
2022-04-06 10:04:06.733 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.TypeMapper.listTopType   : ==>  Preparing: select type.id,type.name,tn.num from type,(select type_id,count(*) as num from blog group by type_id order by num desc) as tn where type.id = tn.type_id
2022-04-06 10:04:06.733 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.TypeMapper.listTopType   : ==> Parameters: 
2022-04-06 10:04:06.733 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.TypeMapper.listTopType   : <==      Total: 5
2022-04-06 10:04:06.733 DEBUG 12684 --- [http-nio-8086-exec-6] c.k.m.BlogMapper.listTopRecommendBlog    : ==>  Preparing: select * from blog where recommend = 1 order by update_time desc
2022-04-06 10:04:06.733 DEBUG 12684 --- [http-nio-8086-exec-6] c.k.m.BlogMapper.listTopRecommendBlog    : ==> Parameters: 
2022-04-06 10:04:06.736 DEBUG 12684 --- [http-nio-8086-exec-6] c.k.m.BlogMapper.listTopRecommendBlog    : <==      Total: 2
2022-04-06 10:04:06.736  INFO 12684 --- [http-nio-8086-exec-6] com.kwok.aspect.LogAspect                : Result : index
2022-04-06 10:09:33.093 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.BlogMapper.getBlogCount  : ==>  Preparing: select count(1) as count from blog
2022-04-06 10:09:33.093 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.BlogMapper.getBlogCount  : ==> Parameters: 
2022-04-06 10:09:33.094 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.BlogMapper.getBlogCount  : <==      Total: 1
2022-04-06 10:09:33.094 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.BlogMapper.getBlogList   : ==>  Preparing: select b.*,t.name as typeName from blog b,type t where b.type_id=t.id order by b.id desc limit ?,?
2022-04-06 10:09:33.094 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.BlogMapper.getBlogList   : ==> Parameters: 0(Integer), 5(Integer)
2022-04-06 10:09:33.097 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.BlogMapper.getBlogList   : <==      Total: 5
2022-04-06 10:09:33.097 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.BlogMapper.getBlogById   : ==>  Preparing: select * from blog where id = ?
2022-04-06 10:09:33.097 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.BlogMapper.getBlogById   : ==> Parameters: 88(Integer)
2022-04-06 10:09:33.098 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.BlogMapper.getBlogById   : <==      Total: 0
2022-04-06 10:09:33.098 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.BlogMapper.getBlogById   : ==>  Preparing: select * from blog where id = ?
2022-04-06 10:09:33.098 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.BlogMapper.getBlogById   : ==> Parameters: 82(Integer)
2022-04-06 10:09:33.099 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.BlogMapper.getBlogById   : <==      Total: 1
2022-04-06 10:09:33.099 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.TypeMapper.listType      : ==>  Preparing: select * from type order by id desc
2022-04-06 10:09:33.099 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.TypeMapper.listType      : ==> Parameters: 
2022-04-06 10:09:33.100 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.TypeMapper.listType      : <==      Total: 7
2022-04-06 10:09:34.550 DEBUG 12684 --- [http-nio-8086-exec-4] com.kwok.mapper.TypeMapper.listType      : ==>  Preparing: select * from type order by id desc
2022-04-06 10:09:34.551 DEBUG 12684 --- [http-nio-8086-exec-4] com.kwok.mapper.TypeMapper.listType      : ==> Parameters: 
2022-04-06 10:09:34.551 DEBUG 12684 --- [http-nio-8086-exec-4] com.kwok.mapper.TypeMapper.listType      : <==      Total: 7
2022-04-06 10:09:34.552 DEBUG 12684 --- [http-nio-8086-exec-4] com.kwok.mapper.TagMapper.listTag        : ==>  Preparing: select * from tag order by id desc
2022-04-06 10:09:34.552 DEBUG 12684 --- [http-nio-8086-exec-4] com.kwok.mapper.TagMapper.listTag        : ==> Parameters: 
2022-04-06 10:09:34.553 DEBUG 12684 --- [http-nio-8086-exec-4] com.kwok.mapper.TagMapper.listTag        : <==      Total: 14
2022-04-06 10:10:43.179  INFO 12684 --- [http-nio-8086-exec-2] com.kwok.aspect.LogAspect                : Request : {url='http://localhost:8086/index', ip='0:0:0:0:0:0:0:1', classMethod='com.kwok.controller.IndexController.index', args=[org.apache.catalina.connector.RequestFacade@6602faf2, org.apache.catalina.connector.ResponseFacade@1dd92202, {}]}
2022-04-06 10:10:43.180 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.BlogMapper.getBlogCount  : ==>  Preparing: select count(1) as count from blog
2022-04-06 10:10:43.180 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.BlogMapper.getBlogCount  : ==> Parameters: 
2022-04-06 10:10:43.182 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.BlogMapper.getBlogCount  : <==      Total: 1
2022-04-06 10:10:43.182 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.BlogMapper.getBlogList   : ==>  Preparing: select b.*,t.name as typeName from blog b,type t where b.type_id=t.id order by b.id desc limit ?,?
2022-04-06 10:10:43.182 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.BlogMapper.getBlogList   : ==> Parameters: 0(Integer), 5(Integer)
2022-04-06 10:10:43.185 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.BlogMapper.getBlogList   : <==      Total: 5
2022-04-06 10:10:43.185 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.BlogMapper.getBlogById   : ==>  Preparing: select * from blog where id = ?
2022-04-06 10:10:43.185 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.BlogMapper.getBlogById   : ==> Parameters: 88(Integer)
2022-04-06 10:10:43.186 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.BlogMapper.getBlogById   : <==      Total: 0
2022-04-06 10:10:43.186 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.BlogMapper.getBlogById   : ==>  Preparing: select * from blog where id = ?
2022-04-06 10:10:43.186 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.BlogMapper.getBlogById   : ==> Parameters: 82(Integer)
2022-04-06 10:10:43.187 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.BlogMapper.getBlogById   : <==      Total: 1
2022-04-06 10:10:43.187 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.TagMapper.listTopTag     : ==>  Preparing: select tag.id,tag.name,tn.num from tag,(select tag_id,count(*) as num from blog_tag group by tag_id order by num desc) as tn where tag.id = tn.tag_id
2022-04-06 10:10:43.187 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.TagMapper.listTopTag     : ==> Parameters: 
2022-04-06 10:10:43.188 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.TagMapper.listTopTag     : <==      Total: 11
2022-04-06 10:10:43.188 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.TypeMapper.listTopType   : ==>  Preparing: select type.id,type.name,tn.num from type,(select type_id,count(*) as num from blog group by type_id order by num desc) as tn where type.id = tn.type_id
2022-04-06 10:10:43.188 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.TypeMapper.listTopType   : ==> Parameters: 
2022-04-06 10:10:43.188 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.TypeMapper.listTopType   : <==      Total: 5
2022-04-06 10:10:43.188 DEBUG 12684 --- [http-nio-8086-exec-2] c.k.m.BlogMapper.listTopRecommendBlog    : ==>  Preparing: select * from blog where recommend = 1 order by update_time desc
2022-04-06 10:10:43.188 DEBUG 12684 --- [http-nio-8086-exec-2] c.k.m.BlogMapper.listTopRecommendBlog    : ==> Parameters: 
2022-04-06 10:10:43.191 DEBUG 12684 --- [http-nio-8086-exec-2] c.k.m.BlogMapper.listTopRecommendBlog    : <==      Total: 2
2022-04-06 10:10:43.191  INFO 12684 --- [http-nio-8086-exec-2] com.kwok.aspect.LogAspect                : Result : index
2022-04-06 10:11:13.445 DEBUG 12684 --- [http-nio-8086-exec-4] com.kwok.mapper.BlogMapper.getLastBlog   : ==>  Preparing: select * from blog order by id desc limit 1
2022-04-06 10:11:13.445 DEBUG 12684 --- [http-nio-8086-exec-4] com.kwok.mapper.BlogMapper.getLastBlog   : ==> Parameters: 
2022-04-06 10:11:13.446 DEBUG 12684 --- [http-nio-8086-exec-4] com.kwok.mapper.BlogMapper.getLastBlog   : <==      Total: 1
2022-04-06 10:11:13.446 DEBUG 12684 --- [http-nio-8086-exec-4] c.k.mapper.BlogtagMapper.getLastBlogtag  : ==>  Preparing: select * from blog_tag order by id desc limit 1
2022-04-06 10:11:13.446 DEBUG 12684 --- [http-nio-8086-exec-4] c.k.mapper.BlogtagMapper.getLastBlogtag  : ==> Parameters: 
2022-04-06 10:11:13.447 DEBUG 12684 --- [http-nio-8086-exec-4] c.k.mapper.BlogtagMapper.getLastBlogtag  : <==      Total: 1
2022-04-06 10:11:13.447 DEBUG 12684 --- [http-nio-8086-exec-4] c.kwok.mapper.BlogtagMapper.saveBlogtag  : ==>  Preparing: insert into blog_tag (id, blog_id, tag_id) values (?, ?,?)
2022-04-06 10:11:13.447 DEBUG 12684 --- [http-nio-8086-exec-4] c.kwok.mapper.BlogtagMapper.saveBlogtag  : ==> Parameters: 213(Integer), 88(Integer), 11(Integer)
2022-04-06 10:11:13.448 DEBUG 12684 --- [http-nio-8086-exec-4] c.kwok.mapper.BlogtagMapper.saveBlogtag  : <==    Updates: 1
2022-04-06 10:11:13.448 DEBUG 12684 --- [http-nio-8086-exec-4] c.k.mapper.BlogtagMapper.getLastBlogtag  : ==>  Preparing: select * from blog_tag order by id desc limit 1
2022-04-06 10:11:13.448 DEBUG 12684 --- [http-nio-8086-exec-4] c.k.mapper.BlogtagMapper.getLastBlogtag  : ==> Parameters: 
2022-04-06 10:11:13.448 DEBUG 12684 --- [http-nio-8086-exec-4] c.k.mapper.BlogtagMapper.getLastBlogtag  : <==      Total: 1
2022-04-06 10:11:13.448 DEBUG 12684 --- [http-nio-8086-exec-4] c.kwok.mapper.BlogtagMapper.saveBlogtag  : ==>  Preparing: insert into blog_tag (id, blog_id, tag_id) values (?, ?,?)
2022-04-06 10:11:13.448 DEBUG 12684 --- [http-nio-8086-exec-4] c.kwok.mapper.BlogtagMapper.saveBlogtag  : ==> Parameters: 214(Integer), 88(Integer), 4(Integer)
2022-04-06 10:11:13.449 DEBUG 12684 --- [http-nio-8086-exec-4] c.kwok.mapper.BlogtagMapper.saveBlogtag  : <==    Updates: 1
2022-04-06 10:11:13.449 DEBUG 12684 --- [http-nio-8086-exec-4] c.k.mapper.BlogtagMapper.getLastBlogtag  : ==>  Preparing: select * from blog_tag order by id desc limit 1
2022-04-06 10:11:13.449 DEBUG 12684 --- [http-nio-8086-exec-4] c.k.mapper.BlogtagMapper.getLastBlogtag  : ==> Parameters: 
2022-04-06 10:11:13.449 DEBUG 12684 --- [http-nio-8086-exec-4] c.k.mapper.BlogtagMapper.getLastBlogtag  : <==      Total: 1
2022-04-06 10:11:13.449 DEBUG 12684 --- [http-nio-8086-exec-4] c.kwok.mapper.BlogtagMapper.saveBlogtag  : ==>  Preparing: insert into blog_tag (id, blog_id, tag_id) values (?, ?,?)
2022-04-06 10:11:13.449 DEBUG 12684 --- [http-nio-8086-exec-4] c.kwok.mapper.BlogtagMapper.saveBlogtag  : ==> Parameters: 215(Integer), 88(Integer), 3(Integer)
2022-04-06 10:11:13.450 DEBUG 12684 --- [http-nio-8086-exec-4] c.kwok.mapper.BlogtagMapper.saveBlogtag  : <==    Updates: 1
2022-04-06 10:11:13.450 DEBUG 12684 --- [http-nio-8086-exec-4] com.kwok.mapper.BlogMapper.saveBlog      : ==>  Preparing: insert into blog (id, title,description, content, first_picture, flag, views, appreciation, share_statement, commentabled, published, recommend, create_time, update_time, type_id, user_id) values (?,?,?,?,?,?, ?,?,?,?, ?,?,?,?,?,?)
2022-04-06 10:11:13.451 DEBUG 12684 --- [http-nio-8086-exec-4] com.kwok.mapper.BlogMapper.saveBlog      : ==> Parameters: 88(Integer), SpringCloud-Hystrix：服务熔断(String), 分布式系统面临的问题  复杂分布式体系结构中的应用程序有数十个依赖关系，每个依赖关系在某些时候将不可避免失败！ 1 服务雪崩   多个微服务之间调用的时候，假设微服务A调用微服务B和微服务C，微服务B和微服务C又调用其他的微服务(String), #### 分布式系统面临的问题

&emsp;&emsp;复杂分布式体系结构中的应用程序有数十个依赖关系，每个依赖关系在某些时候将不可避免失败！

## 1 服务雪崩

&emsp;&emsp;多个微服务之间调用的时候，假设微服务A调用微服务B和微服务C，微服务B和微服务C又调用其他的微服务，这就是所谓的“扇出”，如果扇出的链路上**某个微服务的调用响应时间过长，或者不可用**，对微服务A的调用就会占用越来越多的系统资源，进而引起系统崩溃，所谓的“雪崩效应”。

![img](https://img-blog.csdnimg.cn/img_convert/f132646971c407c41e931348b1958518.png)

&emsp;&emsp;对于高流量的应用来说，单一的后端依赖可能会导致所有服务器上的所有资源都在几十秒内饱和。比失败更糟糕的是，这些应用程序还可能导致服务之间的延迟增加，备份队列，线程和其他系统资源紧张，导致整个系统发生更多的级联故障，**这些都表示需要对故障和延迟进行隔离和管理，以达到单个依赖关系的失败而不影响整个应用程序或系统运行**。



&emsp;&emsp;我们需要，**弃车保帅**！




## 2 什么是Hystrix？

&emsp;&emsp;**Hystrix**是一个应用于处理分布式系统的延迟和容错的开源库，在分布式系统里，许多依赖不可避免的会调用失败，比如超时，异常等，**Hystrix** 能够保证在一个依赖出问题的情况下，不会导致整个体系服务失败，避免级联故障，以提高分布式系统的弹性。



&emsp;&emsp;“**断路器**”本身是一种开关装置，当某个服务单元发生故障之后，通过断路器的故障监控 (类似熔断保险丝) ，**向调用方返回一个服务预期的，可处理的备选响应 (FallBack) ，而不是长时间的等待或者抛出调用方法无法处理的异常，这样就可以保证了服务调用方的线程不会被长时间，不必要的占用**，从而避免了故障在分布式系统中的蔓延，乃至雪崩。

![img](https://img-blog.csdnimg.cn/img_convert/197386b8989febafcfa7ef9c35bc182c.png)

## 3 Hystrix能干嘛？

- 服务降级
- 服务熔断

- 服务限流
- 接近实时的监控

- …

当一切正常时，请求流可以如下所示：

![img](https://img-blog.csdnimg.cn/img_convert/bd561a1cd8e731b1e0ce311383ef2d0c.png)

当许多后端系统中有一个潜在阻塞服务时，它可以阻止整个用户请求：

![img](https://img-blog.csdnimg.cn/img_convert/191a7b6f8743675ba0a7575423300d93.png)

&emsp;&emsp;随着大容量通信量的增加，单个后端依赖项的潜在性会导致所有服务器上的所有资源在几秒钟内饱和。



&emsp;&emsp;应用程序中通过网络或客户端库可能导致网络请求的每个点都是潜在故障的来源。比失败更糟糕的是，这些应用程序还可能导致服务之间的延迟增加，从而备份队列、线程和其他系统资源，从而导致更多跨系统的级联故障。

![img](https://img-blog.csdnimg.cn/img_convert/56915f426303f6b93f29ffd215649a0e.png)



&emsp;&emsp;当使用**Hystrix**包装每个基础依赖项时，上面的图表中所示的体系结构会发生类似于以下关系图的变化。**每个依赖项是相互隔离的**，限制在延迟发生时它可以填充的资源中，并包含在回退逻辑中，该逻辑决定在依赖项中发生任何类型的故障时要做出什么样的响应：

![img](https://img-blog.csdnimg.cn/img_convert/6d850fc3b848a69c8a36d777bff6ac10.png)

**官网资料**：[https://github.com/Netflix/Hystrix/wiki](https://github.com/Netflix/Hystrix/wiki)

## 4 服务熔断

### 什么是服务熔断?

**熔断机制是赌赢雪崩效应的一种微服务链路保护机制**。



&emsp;&emsp;当扇出链路的某个微服务不可用或者响应时间太长时，会进行服务的降级，**进而熔断该节点微服务的调用，快速返回错误的响应信息**。检测到该节点微服务调用响应正常后恢复调用链路。在SpringCloud框架里熔断机制通过Hystrix实现。Hystrix会监控微服务间调用的状况，当失败的调用到一定阀值缺省是**5秒内20次调用失败，就会启动熔断机制**。熔断机制的注解是：[@HystrixCommand](https://github.com/HystrixCommand)。



服务熔断解决如下问题：

- 当所依赖的对象不稳定时，能够起到快速失败的目的；
- 快速失败后，能够根据一定的算法动态试探所依赖对象是否恢复。

### 入门案例

&emsp;&emsp;新建springcloud-provider-dept-hystrix-8001模块并拷贝springcloud-provider-dept–8001内的**pom.xml、resource**和Java代码进行初始化并调整。

#### 导入hystrix依赖

```xml
<!--导入Hystrix依赖-->
<!-- https://mvnrepository.com/artifact/org.springframework.cloud/spring-cloud-starter-netflix-hystrix -->
<dependency>
  <groupId>org.springframework.cloud</groupId>
  <artifactId>spring-cloud-starter-netflix-hystrix</artifactId>
  <version>2.2.9.RELEASE</version>
</dependency>
```

**调整yml配置文件**

```yaml
server:
  port: 8001

#mybatis配置
mybatis:
  type-aliases-package: com.kwok.springcloud.pojo
  mapper-locations: classpath:mybatis/mapper/*.xml
  config-location: classpath:mybatis/mybatis-config.xml

#spring的配置
spring:
  application:
    name: springcloud-provider-dept
  datasource:
    type: com.alibaba.druid.pool.DruidDataSource
    driver-class-name: com.mysql.cj.jdbc.Driver
    url: jdbc:mysql://localhost:3306/springcloudstudy-db01?useUnicode=true&characterEncoding=utf-8
    username: root
    password: 123

#Eureka的配置，服务注册到哪里
eureka:
  client:
    service-url:
      defaultZone: http://eureka7001.com:7001/eureka/,http://eureka7002.com:7002/eureka/,http://eureka7003.com:7003/eureka/
  instance:
    instance-id: springcloud-provider-dept-hystrix-8001 # 修改eureka上的默认描述信息！
    prefer-ip-address: true # 显示ip地址

#info配置
info:
  app.name: com.kwok.springcloud
  company.name: blog.kwokstudy.com
management:
  endpoints:
    web:
      exposure:
        include: "*"
```

**prefer-ip-address: false**:

![img](https://img-blog.csdnimg.cn/img_convert/61a13c8df6a753b2c561644f97f6c0ca.png)

**prefer-ip-address: true**：

![img](https://img-blog.csdnimg.cn/img_convert/f47d82bb288ba28e2c3458c9775eae63.png)

**修改controller**

```java
// 提供Restful服务
@RestController
public class DeptController {

    @Autowired
    private DeptService deptService;

    @GetMapping("/dept/get/{id}")
    @HystrixCommand(fallbackMethod = "hystrixGet")
    public Dept get(@PathVariable("id") Long id){
        Dept dept = deptService.queryById(id);

        if (dept==null){
            throw new RuntimeException("id=>"+id+",不存在该用户，或者信息无法找到~");
        }

        return dept;
    }

    // 备选方法
    public Dept hystrixGet(@PathVariable("id") Long id){
        return new Dept()
                .setDeptno(id)
                .setDname("id=>"+id+"没有对应的信息，null---@Hystrix")
                .setDb_source("no this database in mysql");
    }

}
```

**为主启动类添加对熔断的支持注解**[@EnableCircuitBreaker](https://github.com/EnableCircuitBreaker)

```java
// 启动类
@SpringBootApplication
@EnableEurekaClient // 在服务启动后自动注册到Eureka中
@EnableDiscoveryClient // 服务发现
@EnableHystrix// 添加对熔断的支持
public class DeptProviderHystrix_8001 {
    public static void main(String[] args) {
        SpringApplication.run(DeptProviderHystrix_8001.class,args);
    }
}
```

**测试**：

使用熔断后，当访问一个不存在的id时，前台页展示数据如下:

![img](https://img-blog.csdnimg.cn/img_convert/65681acc91afff56be7e6c77dd5525e8.png)

&emsp;&emsp;而不适用熔断的springcloud-provider-dept–8001模块访问相同地址会出现下面状况:

![img](https://img-blog.csdnimg.cn/img_convert/5694ca8beb2e2f32d82d77be8d34ee73.png)

&emsp;&emsp;因此，**为了避免因某个微服务后台出现异常或错误而导致整个应用或网页报错，使用熔断是必要的**

## 5 服务降级

### 什么是服务降级?

&emsp;&emsp;服务降级是指 当服务器压力剧增的情况下，根据实际业务情况及流量，对一些服务和页面有策略的不处理，或换种简单的方式处理，从而释放服务器资源以保证核心业务正常运作或高效运作。说白了，**就是尽可能的把系统资源让给优先级高的服务**。



&emsp;&emsp;资源有限，而请求是无限的。如果在并发高峰期，不做服务降级处理，一方面肯定会影响整体服务的性能，严重的话可能会导致宕机某些重要的服务不可用。所以，一般在高峰期，为了保证核心功能服务的可用性，都要对某些服务降级处理。比如当双11活动时，把交易无关的服务统统降级，如查看蚂蚁深林，查看历史订单等等。



&emsp;&emsp;服务降级主要用于什么场景呢？当整个微服务架构整体的负载超出了预设的上限阈值或即将到来的流量预计将会超过预设的阈值时，为了保证重要或基本的服务能正常运行，可以将一些 不重要 或 不紧急 的服务或任务进行服务的 延迟使用 或 暂停使用。



&emsp;&emsp;降级的方式可以根据业务来，可以延迟服务，比如延迟给用户增加积分，只是放到一个缓存中，等服务平稳之后再执行 ；或者在粒度范围内关闭服务，比如关闭相关文章的推荐。

![img](https://img-blog.csdnimg.cn/img_convert/dd9924246034106f674cca7194f71dad.png)

&emsp;&emsp;由上图可得，**当某一时间内服务A的访问量暴增，而B和C的访问量较少，为了缓解A服务的压力，这时候需要B和C暂时关闭一些服务功能，去承担A的部分服务，从而为A分担压力，叫做服务降级**。



##### 服务降级需要考虑的问题

1）那些服务是核心服务，哪些服务是非核心服务

2）那些服务可以支持降级，那些服务不能支持降级，降级策略是什么

3）除服务降级之外是否存在更复杂的业务放通场景，策略是什么？

##### 自动降级分类

1）超时降级：主要配置好超时时间和超时重试次数和机制，并使用异步机制探测回复情况

2）失败次数降级：主要是一些不稳定的api，当失败调用次数达到一定阀值自动降级，同样要使用异步机制探测回复情况

3）故障降级：比如要调用的远程服务挂掉了（网络故障、DNS故障、http服务返回错误的状态码、rpc服务抛出异常），则可以直接降级。降级后的处理方案有：默认值（比如库存服务挂了，返回默认现货）、兜底数据（比如广告挂了，返回提前准备好的一些静态页面）、缓存（之前暂存的一些缓存数据）

4）限流降级：秒杀或者抢购一些限购商品时，此时可能会因为访问量太大而导致系统崩溃，此时会使用限流来进行限制访问量，当达到限流阀值，后续请求会被降级；降级后的处理方案可以是：排队页面（将用户导流到排队页面等一会重试）、无货（直接告知用户没货了）、错误页（如活动太火爆了，稍后重试）。

### 入门案例

在springcloud-api模块中导入hystrix依赖

```xml
<!--hystrix-->
        <!-- https://mvnrepository.com/artifact/org.springframework.cloud/spring-cloud-starter-netflix-hystrix -->
        <dependency>
            <groupId>org.springframework.cloud</groupId>
            <artifactId>spring-cloud-starter-netflix-hystrix</artifactId>
            <version>2.2.9.RELEASE</version>
        </dependency>
```

在springcloud-api模块下的service包中新建降级配置类DeptClientServiceFallbackFactory.java

```java
package com.kwok.springcloud.service;

import com.kwok.springcloud.pojo.Dept;
import org.springframework.cloud.openfeign.FallbackFactory;
import org.springframework.stereotype.Component;

import java.util.List;

// 降级~
@Component
public class DeptClientServiceFallbackFactory implements FallbackFactory {
    @Override
    public DeptClientService create(Throwable cause) {
        return new DeptClientService() {
            @Override
            public Dept queryById(Long id) {
                return new Dept()
                        .setDeptno(id)
                        .setDname("id=>"+id+"没有对应的信息，客户端提供了降级的信息，这个服务现在已经被关闭！")
                        .setDb_source("没有数据~");
            }

            @Override
            public List<Dept> queryAll() {
                return null;
            }

            @Override
            public boolean addDept(Dept dept) {
                return false;
            }
        };
    }
}
```

在DeptClientService中指定降级配置类DeptClientServiceFallBackFactory

```java
package com.kwok.springcloud.service;

import com.kwok.springcloud.pojo.Dept;
import org.springframework.cloud.openfeign.FeignClient;
import org.springframework.stereotype.Component;
import org.springframework.web.bind.annotation.GetMapping;
import org.springframework.web.bind.annotation.PathVariable;
import org.springframework.web.bind.annotation.PostMapping;

import java.util.List;

@Component
@FeignClient(value = "SPRINGCLOUD-PROVIDER-DEPT",fallbackFactory = DeptClientServiceFallbackFactory.class)
public interface DeptClientService {

    @GetMapping("/dept/get/{id}")
    public Dept queryById(@PathVariable("id") Long id);

    @GetMapping("/dept/list")
    public List<Dept> queryAll();

    @PostMapping("/dept/add")
    public boolean addDept(Dept dept);

}
```

在**springcloud-consumer-dept-feign**模块中开启降级：

```yaml
server:
  port: 80

# 开启降级feign.hystrix
feign:
  circuitbreaker:
    enabled: true


#Eureka
eureka:
  client:
    register-with-eureka: false # 不向Eureka注册自己
    service-url:
      defaultZone: http://eureka7001.com:7001/eureka/,http://eureka7002.com:7002/eureka/,http://eureka7003.com:7003/eureka/
```

开启7001,7002,7003，springcloud-provider-dept-8001，springcloud-consumer-dept-feign

访问80端口：

![img](https://img-blog.csdnimg.cn/img_convert/1a6426859196d384ca9bf974f70af51b.png)

此时直接关闭springcloud-provider-dept-8001端口，刷新访问，结果如下！（而不会直接报错）

![img](https://img-blog.csdnimg.cn/img_convert/dc42b28c75c01a7d0c6b6e5c9353690e.png)

## 6 服务熔断和降级的区别

- **服务熔断—>服务端**：某个服务超时或异常，引起熔断~，类似于保险丝(自我熔断)
- **服务降级—>客户端**：从整体网站请求负载考虑，当某个服务熔断或者关闭之后，服务将不再被调用，此时在客户端，我们可以准备一个 FallBackFactory ，返回一个默认的值(缺省值)。会导致整体的服务下降，但是好歹能用，比直接挂掉强。

- 触发原因不太一样，服务熔断一般是某个服务（下游服务）故障引起，而服务降级一般是从整体负荷考虑；管理目标的层次不太一样，熔断其实是一个框架级的处理，每个微服务都需要（无层级之分），而降级一般需要对业务有层级之分（比如降级一般是从最外围服务开始）
- 实现方式不太一样，服务降级具有代码侵入性(由控制器完成/或自动降级)，熔断一般称为**自我熔断**。

**熔断，降级，限流**：

限流：限制并发的请求访问量，超过阈值则拒绝；

降级：服务分优先级，牺牲非核心服务（不可用），保证核心服务稳定；从整体负荷考虑；

熔断：依赖的下游服务故障触发熔断，避免引发本系统崩溃；系统自动执行和恢复

## 7 Dashboard 流监控

新建springcloud-consumer-hystrix-dashboard模块

**添加依赖**

```xml
<dependencies>        <!--Hystrix-->        <dependency>            <groupId>org.springframework.cloud</groupId>            <artifactId>spring-cloud-starter-netflix-hystrix</artifactId>            <version>2.2.9.RELEASE</version>        </dependency>        <!--hystrix-dashboard -->        <dependency>            <groupId>org.springframework.cloud</groupId>            <artifactId>spring-cloud-starter-netflix-hystrix-dashboard</artifactId>            <version>2.2.9.RELEASE</version>        </dependency>        <dependency>            <groupId>com.kwok</groupId>            <artifactId>springcloud-api</artifactId>            <version>1.0-SNAPSHOT</version>        </dependency>        <dependency>            <groupId>org.springframework.cloud</groupId>            <artifactId>spring-cloud-starter-eureka</artifactId>            <version>1.4.7.RELEASE</version>        </dependency>        <dependency>            <groupId>org.springframework.boot</groupId>            <artifactId>spring-boot-starter-web</artifactId>        </dependency>        <dependency>            <groupId>org.springframework.boot</groupId>            <artifactId>spring-boot-devtools</artifactId>        </dependency>    </dependencies>
```

**配置yml**

```yaml
server:  port: 9001#无法连接监控的问题hystrix:  dashboard:    proxy-stream-allow-list: "localhost"
```

**主启动类**

```java
package com.kwok.springcloud;import org.springframework.boot.SpringApplication;import org.springframework.boot.autoconfigure.SpringBootApplication;import org.springframework.cloud.netflix.hystrix.dashboard.EnableHystrixDashboard;@SpringBootApplication@EnableHystrixDashboard // 开启监控页面public class DeptConsumerDashboard_9001 {    public static void main(String[] args) {        SpringApplication.run(DeptConsumerDashboard_9001.class,args);    }}
```

确保springcloud-provider-dept-hystrix-8001模块有监控的依赖

```xml
<!--actuator完善监控信息-->        <dependency>            <groupId>org.springframework.boot</groupId>            <artifactId>spring-boot-starter-actuator</artifactId>        </dependency>
```

主启动类添加如下代码,添加监控

```java
package com.kwok.springcloud;

import com.netflix.hystrix.contrib.metrics.eventstream.HystrixMetricsStreamServlet;
import org.springframework.boot.SpringApplication;
import org.springframework.boot.autoconfigure.SpringBootApplication;
import org.springframework.boot.web.servlet.ServletRegistrationBean;
import org.springframework.cloud.client.discovery.EnableDiscoveryClient;
import org.springframework.cloud.netflix.eureka.EnableEurekaClient;
import org.springframework.cloud.netflix.hystrix.EnableHystrix;
import org.springframework.context.annotation.Bean;

// 启动类
@SpringBootApplication
@EnableEurekaClient // 在服务启动后自动注册到Eureka中
@EnableDiscoveryClient // 服务发现
@EnableHystrix// 添加对熔断的支持
public class DeptProviderHystrix_8001 {
    public static void main(String[] args) {
        SpringApplication.run(DeptProviderHystrix_8001.class,args);
    }

    // 增加一个Servlet
    @Bean
    public ServletRegistrationBean hystrixMetricsStreamServlet(){
        ServletRegistrationBean registrationBean = new ServletRegistrationBean(new HystrixMetricsStreamServlet());
        registrationBean.addUrlMappings("/actuator/hystrix.stream");
        return registrationBean;
    }
}
```

访问：http://localhost:9001/hystrix

![img](https://img-blog.csdnimg.cn/img_convert/4c24edb31310f6e5e7b02ffc3c3f6370.png)

进入监控页面：

![img](https://img-blog.csdnimg.cn/img_convert/a64f2e5deb4f6afd57e1bad8c7f2b9f6.png)

效果如下图：

![img](https://img-blog.csdnimg.cn/img_convert/b524b049cdf1e8d2d639112296f6a598.png)

![img](https://img-blog.csdnimg.cn/img_convert/ce28ed35237a25a27336bd76549a8157.png)

(String), http://110.42.213.171:8080/blogimgs/88.png(String), 转载(String), 0(Integer), true(Boolean), true(Boolean), true(Boolean), true(Boolean), false(Boolean), 2022-04-06 10:11:13.446(Timestamp), 2022-04-06 10:11:13.446(Timestamp), 7(Integer), 1(Integer)
2022-04-06 10:11:13.453 DEBUG 12684 --- [http-nio-8086-exec-4] com.kwok.mapper.BlogMapper.saveBlog      : <==    Updates: 1
2022-04-06 10:11:13.458 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.BlogMapper.getBlogCount  : ==>  Preparing: select count(1) as count from blog
2022-04-06 10:11:13.459 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.BlogMapper.getBlogCount  : ==> Parameters: 
2022-04-06 10:11:13.460 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.BlogMapper.getBlogCount  : <==      Total: 1
2022-04-06 10:11:13.460 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.BlogMapper.getBlogList   : ==>  Preparing: select b.*,t.name as typeName from blog b,type t where b.type_id=t.id order by b.id desc limit ?,?
2022-04-06 10:11:13.460 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.BlogMapper.getBlogList   : ==> Parameters: 0(Integer), 5(Integer)
2022-04-06 10:11:13.464 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.BlogMapper.getBlogList   : <==      Total: 5
2022-04-06 10:11:13.464 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.BlogMapper.getBlogById   : ==>  Preparing: select * from blog where id = ?
2022-04-06 10:11:13.464 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.BlogMapper.getBlogById   : ==> Parameters: 89(Integer)
2022-04-06 10:11:13.465 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.BlogMapper.getBlogById   : <==      Total: 0
2022-04-06 10:11:13.465 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.BlogMapper.getBlogById   : ==>  Preparing: select * from blog where id = ?
2022-04-06 10:11:13.465 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.BlogMapper.getBlogById   : ==> Parameters: 83(Integer)
2022-04-06 10:11:13.466 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.BlogMapper.getBlogById   : <==      Total: 1
2022-04-06 10:11:13.466 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.TypeMapper.listType      : ==>  Preparing: select * from type order by id desc
2022-04-06 10:11:13.466 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.TypeMapper.listType      : ==> Parameters: 
2022-04-06 10:11:13.466 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.TypeMapper.listType      : <==      Total: 7
2022-04-06 10:11:14.644 DEBUG 12684 --- [http-nio-8086-exec-3] com.kwok.mapper.BlogMapper.getBlogCount  : ==>  Preparing: select count(1) as count from blog
2022-04-06 10:11:14.645 DEBUG 12684 --- [http-nio-8086-exec-3] com.kwok.mapper.BlogMapper.getBlogCount  : ==> Parameters: 
2022-04-06 10:11:14.646 DEBUG 12684 --- [http-nio-8086-exec-3] com.kwok.mapper.BlogMapper.getBlogCount  : <==      Total: 1
2022-04-06 10:11:14.646 DEBUG 12684 --- [http-nio-8086-exec-3] com.kwok.mapper.BlogMapper.getBlogList   : ==>  Preparing: select b.*,t.name as typeName from blog b,type t where b.type_id=t.id order by b.id desc limit ?,?
2022-04-06 10:11:14.646 DEBUG 12684 --- [http-nio-8086-exec-3] com.kwok.mapper.BlogMapper.getBlogList   : ==> Parameters: 0(Integer), 5(Integer)
2022-04-06 10:11:14.650 DEBUG 12684 --- [http-nio-8086-exec-3] com.kwok.mapper.BlogMapper.getBlogList   : <==      Total: 5
2022-04-06 10:11:14.650 DEBUG 12684 --- [http-nio-8086-exec-3] com.kwok.mapper.BlogMapper.getBlogById   : ==>  Preparing: select * from blog where id = ?
2022-04-06 10:11:14.650 DEBUG 12684 --- [http-nio-8086-exec-3] com.kwok.mapper.BlogMapper.getBlogById   : ==> Parameters: 89(Integer)
2022-04-06 10:11:14.651 DEBUG 12684 --- [http-nio-8086-exec-3] com.kwok.mapper.BlogMapper.getBlogById   : <==      Total: 0
2022-04-06 10:11:14.651 DEBUG 12684 --- [http-nio-8086-exec-3] com.kwok.mapper.BlogMapper.getBlogById   : ==>  Preparing: select * from blog where id = ?
2022-04-06 10:11:14.651 DEBUG 12684 --- [http-nio-8086-exec-3] com.kwok.mapper.BlogMapper.getBlogById   : ==> Parameters: 83(Integer)
2022-04-06 10:11:14.652 DEBUG 12684 --- [http-nio-8086-exec-3] com.kwok.mapper.BlogMapper.getBlogById   : <==      Total: 1
2022-04-06 10:11:14.652 DEBUG 12684 --- [http-nio-8086-exec-3] com.kwok.mapper.TypeMapper.listType      : ==>  Preparing: select * from type order by id desc
2022-04-06 10:11:14.652 DEBUG 12684 --- [http-nio-8086-exec-3] com.kwok.mapper.TypeMapper.listType      : ==> Parameters: 
2022-04-06 10:11:14.653 DEBUG 12684 --- [http-nio-8086-exec-3] com.kwok.mapper.TypeMapper.listType      : <==      Total: 7
2022-04-06 10:11:16.043  INFO 12684 --- [http-nio-8086-exec-2] com.kwok.aspect.LogAspect                : Request : {url='http://localhost:8086/index', ip='0:0:0:0:0:0:0:1', classMethod='com.kwok.controller.IndexController.index', args=[org.apache.catalina.connector.RequestFacade@f05c437, org.apache.catalina.connector.ResponseFacade@1263b795, {}]}
2022-04-06 10:11:16.045 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.BlogMapper.getBlogCount  : ==>  Preparing: select count(1) as count from blog
2022-04-06 10:11:16.045 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.BlogMapper.getBlogCount  : ==> Parameters: 
2022-04-06 10:11:16.046 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.BlogMapper.getBlogCount  : <==      Total: 1
2022-04-06 10:11:16.047 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.BlogMapper.getBlogList   : ==>  Preparing: select b.*,t.name as typeName from blog b,type t where b.type_id=t.id order by b.id desc limit ?,?
2022-04-06 10:11:16.047 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.BlogMapper.getBlogList   : ==> Parameters: 0(Integer), 5(Integer)
2022-04-06 10:11:16.050 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.BlogMapper.getBlogList   : <==      Total: 5
2022-04-06 10:11:16.050 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.BlogMapper.getBlogById   : ==>  Preparing: select * from blog where id = ?
2022-04-06 10:11:16.050 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.BlogMapper.getBlogById   : ==> Parameters: 89(Integer)
2022-04-06 10:11:16.051 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.BlogMapper.getBlogById   : <==      Total: 0
2022-04-06 10:11:16.051 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.BlogMapper.getBlogById   : ==>  Preparing: select * from blog where id = ?
2022-04-06 10:11:16.051 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.BlogMapper.getBlogById   : ==> Parameters: 83(Integer)
2022-04-06 10:11:16.052 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.BlogMapper.getBlogById   : <==      Total: 1
2022-04-06 10:11:16.052 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.TagMapper.listTopTag     : ==>  Preparing: select tag.id,tag.name,tn.num from tag,(select tag_id,count(*) as num from blog_tag group by tag_id order by num desc) as tn where tag.id = tn.tag_id
2022-04-06 10:11:16.052 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.TagMapper.listTopTag     : ==> Parameters: 
2022-04-06 10:11:16.053 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.TagMapper.listTopTag     : <==      Total: 11
2022-04-06 10:11:16.053 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.TypeMapper.listTopType   : ==>  Preparing: select type.id,type.name,tn.num from type,(select type_id,count(*) as num from blog group by type_id order by num desc) as tn where type.id = tn.type_id
2022-04-06 10:11:16.053 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.TypeMapper.listTopType   : ==> Parameters: 
2022-04-06 10:11:16.054 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.TypeMapper.listTopType   : <==      Total: 5
2022-04-06 10:11:16.054 DEBUG 12684 --- [http-nio-8086-exec-2] c.k.m.BlogMapper.listTopRecommendBlog    : ==>  Preparing: select * from blog where recommend = 1 order by update_time desc
2022-04-06 10:11:16.054 DEBUG 12684 --- [http-nio-8086-exec-2] c.k.m.BlogMapper.listTopRecommendBlog    : ==> Parameters: 
2022-04-06 10:11:16.056 DEBUG 12684 --- [http-nio-8086-exec-2] c.k.m.BlogMapper.listTopRecommendBlog    : <==      Total: 2
2022-04-06 10:11:16.056  INFO 12684 --- [http-nio-8086-exec-2] com.kwok.aspect.LogAspect                : Result : index
2022-04-06 10:14:31.588 DEBUG 12684 --- [http-nio-8086-exec-5] com.kwok.mapper.BlogMapper.getBlogCount  : ==>  Preparing: select count(1) as count from blog
2022-04-06 10:14:31.588 DEBUG 12684 --- [http-nio-8086-exec-5] com.kwok.mapper.BlogMapper.getBlogCount  : ==> Parameters: 
2022-04-06 10:14:31.589 DEBUG 12684 --- [http-nio-8086-exec-5] com.kwok.mapper.BlogMapper.getBlogCount  : <==      Total: 1
2022-04-06 10:14:31.589 DEBUG 12684 --- [http-nio-8086-exec-5] com.kwok.mapper.BlogMapper.getBlogList   : ==>  Preparing: select b.*,t.name as typeName from blog b,type t where b.type_id=t.id order by b.id desc limit ?,?
2022-04-06 10:14:31.589 DEBUG 12684 --- [http-nio-8086-exec-5] com.kwok.mapper.BlogMapper.getBlogList   : ==> Parameters: 0(Integer), 5(Integer)
2022-04-06 10:14:31.592 DEBUG 12684 --- [http-nio-8086-exec-5] com.kwok.mapper.BlogMapper.getBlogList   : <==      Total: 5
2022-04-06 10:14:31.593 DEBUG 12684 --- [http-nio-8086-exec-5] com.kwok.mapper.BlogMapper.getBlogById   : ==>  Preparing: select * from blog where id = ?
2022-04-06 10:14:31.593 DEBUG 12684 --- [http-nio-8086-exec-5] com.kwok.mapper.BlogMapper.getBlogById   : ==> Parameters: 89(Integer)
2022-04-06 10:14:31.593 DEBUG 12684 --- [http-nio-8086-exec-5] com.kwok.mapper.BlogMapper.getBlogById   : <==      Total: 0
2022-04-06 10:14:31.593 DEBUG 12684 --- [http-nio-8086-exec-5] com.kwok.mapper.BlogMapper.getBlogById   : ==>  Preparing: select * from blog where id = ?
2022-04-06 10:14:31.593 DEBUG 12684 --- [http-nio-8086-exec-5] com.kwok.mapper.BlogMapper.getBlogById   : ==> Parameters: 83(Integer)
2022-04-06 10:14:31.595 DEBUG 12684 --- [http-nio-8086-exec-5] com.kwok.mapper.BlogMapper.getBlogById   : <==      Total: 1
2022-04-06 10:14:31.596 DEBUG 12684 --- [http-nio-8086-exec-5] com.kwok.mapper.TypeMapper.listType      : ==>  Preparing: select * from type order by id desc
2022-04-06 10:14:31.596 DEBUG 12684 --- [http-nio-8086-exec-5] com.kwok.mapper.TypeMapper.listType      : ==> Parameters: 
2022-04-06 10:14:31.596 DEBUG 12684 --- [http-nio-8086-exec-5] com.kwok.mapper.TypeMapper.listType      : <==      Total: 7
2022-04-06 10:14:36.835  INFO 12684 --- [http-nio-8086-exec-2] com.kwok.aspect.LogAspect                : Request : {url='http://localhost:8086/index', ip='0:0:0:0:0:0:0:1', classMethod='com.kwok.controller.IndexController.index', args=[org.apache.catalina.connector.RequestFacade@2bd08bff, org.apache.catalina.connector.ResponseFacade@569c43ae, {}]}
2022-04-06 10:14:36.836 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.BlogMapper.getBlogCount  : ==>  Preparing: select count(1) as count from blog
2022-04-06 10:14:36.836 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.BlogMapper.getBlogCount  : ==> Parameters: 
2022-04-06 10:14:36.838 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.BlogMapper.getBlogCount  : <==      Total: 1
2022-04-06 10:14:36.838 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.BlogMapper.getBlogList   : ==>  Preparing: select b.*,t.name as typeName from blog b,type t where b.type_id=t.id order by b.id desc limit ?,?
2022-04-06 10:14:36.838 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.BlogMapper.getBlogList   : ==> Parameters: 0(Integer), 5(Integer)
2022-04-06 10:14:36.841 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.BlogMapper.getBlogList   : <==      Total: 5
2022-04-06 10:14:36.841 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.BlogMapper.getBlogById   : ==>  Preparing: select * from blog where id = ?
2022-04-06 10:14:36.841 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.BlogMapper.getBlogById   : ==> Parameters: 89(Integer)
2022-04-06 10:14:36.842 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.BlogMapper.getBlogById   : <==      Total: 0
2022-04-06 10:14:36.842 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.BlogMapper.getBlogById   : ==>  Preparing: select * from blog where id = ?
2022-04-06 10:14:36.842 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.BlogMapper.getBlogById   : ==> Parameters: 83(Integer)
2022-04-06 10:14:36.843 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.BlogMapper.getBlogById   : <==      Total: 1
2022-04-06 10:14:36.843 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.TagMapper.listTopTag     : ==>  Preparing: select tag.id,tag.name,tn.num from tag,(select tag_id,count(*) as num from blog_tag group by tag_id order by num desc) as tn where tag.id = tn.tag_id
2022-04-06 10:14:36.843 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.TagMapper.listTopTag     : ==> Parameters: 
2022-04-06 10:14:36.843 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.TagMapper.listTopTag     : <==      Total: 11
2022-04-06 10:14:36.844 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.TypeMapper.listTopType   : ==>  Preparing: select type.id,type.name,tn.num from type,(select type_id,count(*) as num from blog group by type_id order by num desc) as tn where type.id = tn.type_id
2022-04-06 10:14:36.844 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.TypeMapper.listTopType   : ==> Parameters: 
2022-04-06 10:14:36.844 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.TypeMapper.listTopType   : <==      Total: 5
2022-04-06 10:14:36.844 DEBUG 12684 --- [http-nio-8086-exec-2] c.k.m.BlogMapper.listTopRecommendBlog    : ==>  Preparing: select * from blog where recommend = 1 order by update_time desc
2022-04-06 10:14:36.844 DEBUG 12684 --- [http-nio-8086-exec-2] c.k.m.BlogMapper.listTopRecommendBlog    : ==> Parameters: 
2022-04-06 10:14:36.846 DEBUG 12684 --- [http-nio-8086-exec-2] c.k.m.BlogMapper.listTopRecommendBlog    : <==      Total: 2
2022-04-06 10:14:36.846  INFO 12684 --- [http-nio-8086-exec-2] com.kwok.aspect.LogAspect                : Result : index
2022-04-06 10:14:38.869  INFO 12684 --- [http-nio-8086-exec-7] com.kwok.aspect.LogAspect                : Request : {url='http://localhost:8086/blog/88', ip='0:0:0:0:0:0:0:1', classMethod='com.kwok.controller.IndexController.blog', args=[88, {}]}
2022-04-06 10:14:38.870 DEBUG 12684 --- [http-nio-8086-exec-7] com.kwok.mapper.BlogMapper.getBlogById   : ==>  Preparing: select * from blog where id = ?
2022-04-06 10:14:38.870 DEBUG 12684 --- [http-nio-8086-exec-7] com.kwok.mapper.BlogMapper.getBlogById   : ==> Parameters: 88(Integer)
2022-04-06 10:14:38.872 DEBUG 12684 --- [http-nio-8086-exec-7] com.kwok.mapper.BlogMapper.getBlogById   : <==      Total: 1
2022-04-06 10:14:38.872 DEBUG 12684 --- [http-nio-8086-exec-7] c.k.mapper.BlogMapper.updateBlogViews    : ==>  Preparing: update blog set views=? where id = ?
2022-04-06 10:14:38.872 DEBUG 12684 --- [http-nio-8086-exec-7] c.k.mapper.BlogMapper.updateBlogViews    : ==> Parameters: 1(Integer), 88(Integer)
2022-04-06 10:14:38.874 DEBUG 12684 --- [http-nio-8086-exec-7] c.k.mapper.BlogMapper.updateBlogViews    : <==    Updates: 1
2022-04-06 10:14:38.882 DEBUG 12684 --- [http-nio-8086-exec-7] com.kwok.mapper.BlogMapper.getBlogById   : ==>  Preparing: select * from blog where id = ?
2022-04-06 10:14:38.882 DEBUG 12684 --- [http-nio-8086-exec-7] com.kwok.mapper.BlogMapper.getBlogById   : ==> Parameters: 88(Integer)
2022-04-06 10:14:38.883 DEBUG 12684 --- [http-nio-8086-exec-7] com.kwok.mapper.BlogMapper.getBlogById   : <==      Total: 1
2022-04-06 10:14:38.885 DEBUG 12684 --- [http-nio-8086-exec-7] c.k.m.BlogtagMapper.getTagIdByBlogId     : ==>  Preparing: select * from blog_tag where blog_id = ?
2022-04-06 10:14:38.886 DEBUG 12684 --- [http-nio-8086-exec-7] c.k.m.BlogtagMapper.getTagIdByBlogId     : ==> Parameters: 88(Integer)
2022-04-06 10:14:38.886 DEBUG 12684 --- [http-nio-8086-exec-7] c.k.m.BlogtagMapper.getTagIdByBlogId     : <==      Total: 3
2022-04-06 10:14:38.886 DEBUG 12684 --- [http-nio-8086-exec-7] com.kwok.mapper.TagMapper.getShowTags    : ==>  Preparing: select * from tag where id in ( ? , ? , ? )
2022-04-06 10:14:38.887 DEBUG 12684 --- [http-nio-8086-exec-7] com.kwok.mapper.TagMapper.getShowTags    : ==> Parameters: 11(Integer), 4(Integer), 3(Integer)
2022-04-06 10:14:38.887 DEBUG 12684 --- [http-nio-8086-exec-7] com.kwok.mapper.TagMapper.getShowTags    : <==      Total: 3
2022-04-06 10:14:38.888  INFO 12684 --- [http-nio-8086-exec-7] com.kwok.aspect.LogAspect                : Result : blog
2022-04-06 10:14:39.478  INFO 12684 --- [http-nio-8086-exec-2] com.kwok.aspect.LogAspect                : Request : {url='http://localhost:8086/comments/88', ip='0:0:0:0:0:0:0:1', classMethod='com.kwok.controller.CommentController.comments', args=[88, {}]}
2022-04-06 10:14:39.479 DEBUG 12684 --- [http-nio-8086-exec-2] c.k.m.CommentMapper.listCommentByBlogId  : ==>  Preparing: select * from comment where blog_id = ? and parent_id = 0 order by creat_time asc
2022-04-06 10:14:39.479 DEBUG 12684 --- [http-nio-8086-exec-2] c.k.m.CommentMapper.listCommentByBlogId  : ==> Parameters: 88(Integer)
2022-04-06 10:14:39.480 DEBUG 12684 --- [http-nio-8086-exec-2] c.k.m.CommentMapper.listCommentByBlogId  : <==      Total: 0
2022-04-06 10:14:39.480  INFO 12684 --- [http-nio-8086-exec-2] com.kwok.aspect.LogAspect                : Result : blog :: commentList
2022-04-06 10:15:07.163  INFO 12684 --- [http-nio-8086-exec-4] com.kwok.aspect.LogAspect                : Request : {url='http://localhost:8086/index', ip='0:0:0:0:0:0:0:1', classMethod='com.kwok.controller.IndexController.index', args=[org.apache.catalina.connector.RequestFacade@253c6fd2, org.apache.catalina.connector.ResponseFacade@23fdcdb, {}]}
2022-04-06 10:15:07.164 DEBUG 12684 --- [http-nio-8086-exec-4] com.kwok.mapper.BlogMapper.getBlogCount  : ==>  Preparing: select count(1) as count from blog
2022-04-06 10:15:07.164 DEBUG 12684 --- [http-nio-8086-exec-4] com.kwok.mapper.BlogMapper.getBlogCount  : ==> Parameters: 
2022-04-06 10:15:07.165 DEBUG 12684 --- [http-nio-8086-exec-4] com.kwok.mapper.BlogMapper.getBlogCount  : <==      Total: 1
2022-04-06 10:15:07.166 DEBUG 12684 --- [http-nio-8086-exec-4] com.kwok.mapper.BlogMapper.getBlogList   : ==>  Preparing: select b.*,t.name as typeName from blog b,type t where b.type_id=t.id order by b.id desc limit ?,?
2022-04-06 10:15:07.166 DEBUG 12684 --- [http-nio-8086-exec-4] com.kwok.mapper.BlogMapper.getBlogList   : ==> Parameters: 0(Integer), 5(Integer)
2022-04-06 10:15:07.169 DEBUG 12684 --- [http-nio-8086-exec-4] com.kwok.mapper.BlogMapper.getBlogList   : <==      Total: 5
2022-04-06 10:15:07.169 DEBUG 12684 --- [http-nio-8086-exec-4] com.kwok.mapper.BlogMapper.getBlogById   : ==>  Preparing: select * from blog where id = ?
2022-04-06 10:15:07.169 DEBUG 12684 --- [http-nio-8086-exec-4] com.kwok.mapper.BlogMapper.getBlogById   : ==> Parameters: 89(Integer)
2022-04-06 10:15:07.170 DEBUG 12684 --- [http-nio-8086-exec-4] com.kwok.mapper.BlogMapper.getBlogById   : <==      Total: 0
2022-04-06 10:15:07.170 DEBUG 12684 --- [http-nio-8086-exec-4] com.kwok.mapper.BlogMapper.getBlogById   : ==>  Preparing: select * from blog where id = ?
2022-04-06 10:15:07.170 DEBUG 12684 --- [http-nio-8086-exec-4] com.kwok.mapper.BlogMapper.getBlogById   : ==> Parameters: 83(Integer)
2022-04-06 10:15:07.171 DEBUG 12684 --- [http-nio-8086-exec-4] com.kwok.mapper.BlogMapper.getBlogById   : <==      Total: 1
2022-04-06 10:15:07.171 DEBUG 12684 --- [http-nio-8086-exec-4] com.kwok.mapper.TagMapper.listTopTag     : ==>  Preparing: select tag.id,tag.name,tn.num from tag,(select tag_id,count(*) as num from blog_tag group by tag_id order by num desc) as tn where tag.id = tn.tag_id
2022-04-06 10:15:07.171 DEBUG 12684 --- [http-nio-8086-exec-4] com.kwok.mapper.TagMapper.listTopTag     : ==> Parameters: 
2022-04-06 10:15:07.172 DEBUG 12684 --- [http-nio-8086-exec-4] com.kwok.mapper.TagMapper.listTopTag     : <==      Total: 11
2022-04-06 10:15:07.172 DEBUG 12684 --- [http-nio-8086-exec-4] com.kwok.mapper.TypeMapper.listTopType   : ==>  Preparing: select type.id,type.name,tn.num from type,(select type_id,count(*) as num from blog group by type_id order by num desc) as tn where type.id = tn.type_id
2022-04-06 10:15:07.172 DEBUG 12684 --- [http-nio-8086-exec-4] com.kwok.mapper.TypeMapper.listTopType   : ==> Parameters: 
2022-04-06 10:15:07.172 DEBUG 12684 --- [http-nio-8086-exec-4] com.kwok.mapper.TypeMapper.listTopType   : <==      Total: 5
2022-04-06 10:15:07.172 DEBUG 12684 --- [http-nio-8086-exec-4] c.k.m.BlogMapper.listTopRecommendBlog    : ==>  Preparing: select * from blog where recommend = 1 order by update_time desc
2022-04-06 10:15:07.172 DEBUG 12684 --- [http-nio-8086-exec-4] c.k.m.BlogMapper.listTopRecommendBlog    : ==> Parameters: 
2022-04-06 10:15:07.175 DEBUG 12684 --- [http-nio-8086-exec-4] c.k.m.BlogMapper.listTopRecommendBlog    : <==      Total: 2
2022-04-06 10:15:07.175  INFO 12684 --- [http-nio-8086-exec-4] com.kwok.aspect.LogAspect                : Result : index
2022-04-06 10:17:43.659 DEBUG 12684 --- [http-nio-8086-exec-3] com.kwok.mapper.BlogMapper.getBlogCount  : ==>  Preparing: select count(1) as count from blog
2022-04-06 10:17:43.659 DEBUG 12684 --- [http-nio-8086-exec-3] com.kwok.mapper.BlogMapper.getBlogCount  : ==> Parameters: 
2022-04-06 10:17:43.661 DEBUG 12684 --- [http-nio-8086-exec-3] com.kwok.mapper.BlogMapper.getBlogCount  : <==      Total: 1
2022-04-06 10:17:43.661 DEBUG 12684 --- [http-nio-8086-exec-3] com.kwok.mapper.BlogMapper.getBlogList   : ==>  Preparing: select b.*,t.name as typeName from blog b,type t where b.type_id=t.id order by b.id desc limit ?,?
2022-04-06 10:17:43.661 DEBUG 12684 --- [http-nio-8086-exec-3] com.kwok.mapper.BlogMapper.getBlogList   : ==> Parameters: 0(Integer), 5(Integer)
2022-04-06 10:17:43.664 DEBUG 12684 --- [http-nio-8086-exec-3] com.kwok.mapper.BlogMapper.getBlogList   : <==      Total: 5
2022-04-06 10:17:43.664 DEBUG 12684 --- [http-nio-8086-exec-3] com.kwok.mapper.BlogMapper.getBlogById   : ==>  Preparing: select * from blog where id = ?
2022-04-06 10:17:43.664 DEBUG 12684 --- [http-nio-8086-exec-3] com.kwok.mapper.BlogMapper.getBlogById   : ==> Parameters: 89(Integer)
2022-04-06 10:17:43.665 DEBUG 12684 --- [http-nio-8086-exec-3] com.kwok.mapper.BlogMapper.getBlogById   : <==      Total: 0
2022-04-06 10:17:43.665 DEBUG 12684 --- [http-nio-8086-exec-3] com.kwok.mapper.BlogMapper.getBlogById   : ==>  Preparing: select * from blog where id = ?
2022-04-06 10:17:43.665 DEBUG 12684 --- [http-nio-8086-exec-3] com.kwok.mapper.BlogMapper.getBlogById   : ==> Parameters: 83(Integer)
2022-04-06 10:17:43.666 DEBUG 12684 --- [http-nio-8086-exec-3] com.kwok.mapper.BlogMapper.getBlogById   : <==      Total: 1
2022-04-06 10:17:43.666 DEBUG 12684 --- [http-nio-8086-exec-3] com.kwok.mapper.TypeMapper.listType      : ==>  Preparing: select * from type order by id desc
2022-04-06 10:17:43.666 DEBUG 12684 --- [http-nio-8086-exec-3] com.kwok.mapper.TypeMapper.listType      : ==> Parameters: 
2022-04-06 10:17:43.667 DEBUG 12684 --- [http-nio-8086-exec-3] com.kwok.mapper.TypeMapper.listType      : <==      Total: 7
2022-04-06 10:17:45.175 DEBUG 12684 --- [http-nio-8086-exec-5] com.kwok.mapper.TypeMapper.listType      : ==>  Preparing: select * from type order by id desc
2022-04-06 10:17:45.175 DEBUG 12684 --- [http-nio-8086-exec-5] com.kwok.mapper.TypeMapper.listType      : ==> Parameters: 
2022-04-06 10:17:45.176 DEBUG 12684 --- [http-nio-8086-exec-5] com.kwok.mapper.TypeMapper.listType      : <==      Total: 7
2022-04-06 10:17:45.176 DEBUG 12684 --- [http-nio-8086-exec-5] com.kwok.mapper.TagMapper.listTag        : ==>  Preparing: select * from tag order by id desc
2022-04-06 10:17:45.176 DEBUG 12684 --- [http-nio-8086-exec-5] com.kwok.mapper.TagMapper.listTag        : ==> Parameters: 
2022-04-06 10:17:45.177 DEBUG 12684 --- [http-nio-8086-exec-5] com.kwok.mapper.TagMapper.listTag        : <==      Total: 14
2022-04-06 10:18:26.745  INFO 12684 --- [http-nio-8086-exec-6] com.kwok.aspect.LogAspect                : Request : {url='http://localhost:8086/index', ip='0:0:0:0:0:0:0:1', classMethod='com.kwok.controller.IndexController.index', args=[org.apache.catalina.connector.RequestFacade@7b4c3c2a, org.apache.catalina.connector.ResponseFacade@4167aeee, {}]}
2022-04-06 10:18:26.746 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.BlogMapper.getBlogCount  : ==>  Preparing: select count(1) as count from blog
2022-04-06 10:18:26.746 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.BlogMapper.getBlogCount  : ==> Parameters: 
2022-04-06 10:18:26.747 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.BlogMapper.getBlogCount  : <==      Total: 1
2022-04-06 10:18:26.747 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.BlogMapper.getBlogList   : ==>  Preparing: select b.*,t.name as typeName from blog b,type t where b.type_id=t.id order by b.id desc limit ?,?
2022-04-06 10:18:26.747 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.BlogMapper.getBlogList   : ==> Parameters: 0(Integer), 5(Integer)
2022-04-06 10:18:26.750 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.BlogMapper.getBlogList   : <==      Total: 5
2022-04-06 10:18:26.750 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.BlogMapper.getBlogById   : ==>  Preparing: select * from blog where id = ?
2022-04-06 10:18:26.750 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.BlogMapper.getBlogById   : ==> Parameters: 89(Integer)
2022-04-06 10:18:26.751 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.BlogMapper.getBlogById   : <==      Total: 0
2022-04-06 10:18:26.751 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.BlogMapper.getBlogById   : ==>  Preparing: select * from blog where id = ?
2022-04-06 10:18:26.751 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.BlogMapper.getBlogById   : ==> Parameters: 83(Integer)
2022-04-06 10:18:26.752 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.BlogMapper.getBlogById   : <==      Total: 1
2022-04-06 10:18:26.752 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.TagMapper.listTopTag     : ==>  Preparing: select tag.id,tag.name,tn.num from tag,(select tag_id,count(*) as num from blog_tag group by tag_id order by num desc) as tn where tag.id = tn.tag_id
2022-04-06 10:18:26.752 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.TagMapper.listTopTag     : ==> Parameters: 
2022-04-06 10:18:26.753 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.TagMapper.listTopTag     : <==      Total: 11
2022-04-06 10:18:26.753 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.TypeMapper.listTopType   : ==>  Preparing: select type.id,type.name,tn.num from type,(select type_id,count(*) as num from blog group by type_id order by num desc) as tn where type.id = tn.type_id
2022-04-06 10:18:26.753 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.TypeMapper.listTopType   : ==> Parameters: 
2022-04-06 10:18:26.753 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.TypeMapper.listTopType   : <==      Total: 5
2022-04-06 10:18:26.753 DEBUG 12684 --- [http-nio-8086-exec-6] c.k.m.BlogMapper.listTopRecommendBlog    : ==>  Preparing: select * from blog where recommend = 1 order by update_time desc
2022-04-06 10:18:26.753 DEBUG 12684 --- [http-nio-8086-exec-6] c.k.m.BlogMapper.listTopRecommendBlog    : ==> Parameters: 
2022-04-06 10:18:26.756 DEBUG 12684 --- [http-nio-8086-exec-6] c.k.m.BlogMapper.listTopRecommendBlog    : <==      Total: 2
2022-04-06 10:18:26.756  INFO 12684 --- [http-nio-8086-exec-6] com.kwok.aspect.LogAspect                : Result : index
2022-04-06 10:19:01.114  INFO 12684 --- [http-nio-8086-exec-1] com.kwok.aspect.LogAspect                : Request : {url='http://localhost:8086/index', ip='0:0:0:0:0:0:0:1', classMethod='com.kwok.controller.IndexController.index', args=[org.apache.catalina.connector.RequestFacade@2bd08bff, org.apache.catalina.connector.ResponseFacade@569c43ae, {}]}
2022-04-06 10:19:01.115 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.BlogMapper.getBlogCount  : ==>  Preparing: select count(1) as count from blog
2022-04-06 10:19:01.115 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.BlogMapper.getBlogCount  : ==> Parameters: 
2022-04-06 10:19:01.116 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.BlogMapper.getBlogCount  : <==      Total: 1
2022-04-06 10:19:01.116 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.BlogMapper.getBlogList   : ==>  Preparing: select b.*,t.name as typeName from blog b,type t where b.type_id=t.id order by b.id desc limit ?,?
2022-04-06 10:19:01.116 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.BlogMapper.getBlogList   : ==> Parameters: 0(Integer), 5(Integer)
2022-04-06 10:19:01.119 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.BlogMapper.getBlogList   : <==      Total: 5
2022-04-06 10:19:01.119 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.BlogMapper.getBlogById   : ==>  Preparing: select * from blog where id = ?
2022-04-06 10:19:01.119 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.BlogMapper.getBlogById   : ==> Parameters: 89(Integer)
2022-04-06 10:19:01.120 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.BlogMapper.getBlogById   : <==      Total: 0
2022-04-06 10:19:01.120 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.BlogMapper.getBlogById   : ==>  Preparing: select * from blog where id = ?
2022-04-06 10:19:01.120 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.BlogMapper.getBlogById   : ==> Parameters: 83(Integer)
2022-04-06 10:19:01.121 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.BlogMapper.getBlogById   : <==      Total: 1
2022-04-06 10:19:01.121 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.TagMapper.listTopTag     : ==>  Preparing: select tag.id,tag.name,tn.num from tag,(select tag_id,count(*) as num from blog_tag group by tag_id order by num desc) as tn where tag.id = tn.tag_id
2022-04-06 10:19:01.121 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.TagMapper.listTopTag     : ==> Parameters: 
2022-04-06 10:19:01.122 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.TagMapper.listTopTag     : <==      Total: 11
2022-04-06 10:19:01.122 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.TypeMapper.listTopType   : ==>  Preparing: select type.id,type.name,tn.num from type,(select type_id,count(*) as num from blog group by type_id order by num desc) as tn where type.id = tn.type_id
2022-04-06 10:19:01.123 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.TypeMapper.listTopType   : ==> Parameters: 
2022-04-06 10:19:01.123 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.TypeMapper.listTopType   : <==      Total: 5
2022-04-06 10:19:01.124 DEBUG 12684 --- [http-nio-8086-exec-1] c.k.m.BlogMapper.listTopRecommendBlog    : ==>  Preparing: select * from blog where recommend = 1 order by update_time desc
2022-04-06 10:19:01.124 DEBUG 12684 --- [http-nio-8086-exec-1] c.k.m.BlogMapper.listTopRecommendBlog    : ==> Parameters: 
2022-04-06 10:19:01.126 DEBUG 12684 --- [http-nio-8086-exec-1] c.k.m.BlogMapper.listTopRecommendBlog    : <==      Total: 2
2022-04-06 10:19:01.126  INFO 12684 --- [http-nio-8086-exec-1] com.kwok.aspect.LogAspect                : Result : index
2022-04-06 10:19:28.226 DEBUG 12684 --- [http-nio-8086-exec-4] com.kwok.mapper.BlogMapper.getLastBlog   : ==>  Preparing: select * from blog order by id desc limit 1
2022-04-06 10:19:28.227 DEBUG 12684 --- [http-nio-8086-exec-4] com.kwok.mapper.BlogMapper.getLastBlog   : ==> Parameters: 
2022-04-06 10:19:28.228 DEBUG 12684 --- [http-nio-8086-exec-4] com.kwok.mapper.BlogMapper.getLastBlog   : <==      Total: 1
2022-04-06 10:19:28.228 DEBUG 12684 --- [http-nio-8086-exec-4] c.k.mapper.BlogtagMapper.getLastBlogtag  : ==>  Preparing: select * from blog_tag order by id desc limit 1
2022-04-06 10:19:28.228 DEBUG 12684 --- [http-nio-8086-exec-4] c.k.mapper.BlogtagMapper.getLastBlogtag  : ==> Parameters: 
2022-04-06 10:19:28.229 DEBUG 12684 --- [http-nio-8086-exec-4] c.k.mapper.BlogtagMapper.getLastBlogtag  : <==      Total: 1
2022-04-06 10:19:28.229 DEBUG 12684 --- [http-nio-8086-exec-4] c.kwok.mapper.BlogtagMapper.saveBlogtag  : ==>  Preparing: insert into blog_tag (id, blog_id, tag_id) values (?, ?,?)
2022-04-06 10:19:28.229 DEBUG 12684 --- [http-nio-8086-exec-4] c.kwok.mapper.BlogtagMapper.saveBlogtag  : ==> Parameters: 216(Integer), 89(Integer), 3(Integer)
2022-04-06 10:19:28.229 DEBUG 12684 --- [http-nio-8086-exec-4] c.kwok.mapper.BlogtagMapper.saveBlogtag  : <==    Updates: 1
2022-04-06 10:19:28.230 DEBUG 12684 --- [http-nio-8086-exec-4] c.k.mapper.BlogtagMapper.getLastBlogtag  : ==>  Preparing: select * from blog_tag order by id desc limit 1
2022-04-06 10:19:28.230 DEBUG 12684 --- [http-nio-8086-exec-4] c.k.mapper.BlogtagMapper.getLastBlogtag  : ==> Parameters: 
2022-04-06 10:19:28.230 DEBUG 12684 --- [http-nio-8086-exec-4] c.k.mapper.BlogtagMapper.getLastBlogtag  : <==      Total: 1
2022-04-06 10:19:28.230 DEBUG 12684 --- [http-nio-8086-exec-4] c.kwok.mapper.BlogtagMapper.saveBlogtag  : ==>  Preparing: insert into blog_tag (id, blog_id, tag_id) values (?, ?,?)
2022-04-06 10:19:28.230 DEBUG 12684 --- [http-nio-8086-exec-4] c.kwok.mapper.BlogtagMapper.saveBlogtag  : ==> Parameters: 217(Integer), 89(Integer), 11(Integer)
2022-04-06 10:19:28.231 DEBUG 12684 --- [http-nio-8086-exec-4] c.kwok.mapper.BlogtagMapper.saveBlogtag  : <==    Updates: 1
2022-04-06 10:19:28.231 DEBUG 12684 --- [http-nio-8086-exec-4] c.k.mapper.BlogtagMapper.getLastBlogtag  : ==>  Preparing: select * from blog_tag order by id desc limit 1
2022-04-06 10:19:28.231 DEBUG 12684 --- [http-nio-8086-exec-4] c.k.mapper.BlogtagMapper.getLastBlogtag  : ==> Parameters: 
2022-04-06 10:19:28.232 DEBUG 12684 --- [http-nio-8086-exec-4] c.k.mapper.BlogtagMapper.getLastBlogtag  : <==      Total: 1
2022-04-06 10:19:28.232 DEBUG 12684 --- [http-nio-8086-exec-4] c.kwok.mapper.BlogtagMapper.saveBlogtag  : ==>  Preparing: insert into blog_tag (id, blog_id, tag_id) values (?, ?,?)
2022-04-06 10:19:28.232 DEBUG 12684 --- [http-nio-8086-exec-4] c.kwok.mapper.BlogtagMapper.saveBlogtag  : ==> Parameters: 218(Integer), 89(Integer), 4(Integer)
2022-04-06 10:19:28.233 DEBUG 12684 --- [http-nio-8086-exec-4] c.kwok.mapper.BlogtagMapper.saveBlogtag  : <==    Updates: 1
2022-04-06 10:19:28.233 DEBUG 12684 --- [http-nio-8086-exec-4] com.kwok.mapper.BlogMapper.saveBlog      : ==>  Preparing: insert into blog (id, title,description, content, first_picture, flag, views, appreciation, share_statement, commentabled, published, recommend, create_time, update_time, type_id, user_id) values (?,?,?,?,?,?, ?,?,?,?, ?,?,?,?,?,?)
2022-04-06 10:19:28.233 DEBUG 12684 --- [http-nio-8086-exec-4] com.kwok.mapper.BlogMapper.saveBlog      : ==> Parameters: 89(Integer), SpringCloud-Zull路由网关(String), 什么是zuul? Zull包含了对请求的路由(用来跳转的)和过滤两个最主要功能：其中路由功能负责将外部请求转发到具体的微服务实例上，是实现外部访问统一入口的基础，而过滤器功能则负责对请求的处理过程进行干预，是实现请求校验(String), #### 什么是zuul?

&emsp;&emsp;Zull包含了对请求的**路由**(用来跳转的)和**过滤**两个最主要功能：



&emsp;&emsp;其中**路由功能负责将外部请求转发到具体的微服务实例上，是实现外部访问统一入口的基础**，而过**滤器功能则负责对请求的处理过程进行干预，是实现请求校验，服务聚合等功能的基础**。Zuul和Eureka进行整合，将Zuul自身注册为Eureka服务治理下的应用，同时从Eureka中获得其他服务的消息，也即以后的访问微服务都是通过Zuul跳转后获得。

![img](https://img-blog.csdnimg.cn/img_convert/80125f588da86933f57b8d042a50dd64.png)

**注意**：Zuul 服务最终还是会注册进 Eureka

**提供**：代理 + 路由 + 过滤 三大功能！

#### Zuul 能干嘛？

- 路由
- 过滤

官方文档：[https://github.com/Netflix/zuul/](https://github.com/Netflix/zuul/)

#### 入门案例

**新建springcloud-zuul模块，并导入依赖**

```xml
<dependencies>
    <!--导入zuul依赖-->
    <dependency>
        <groupId>org.springframework.cloud</groupId>
        <artifactId>spring-cloud-starter-zuul</artifactId>
        <version>1.4.6.RELEASE</version>
    </dependency>
    <!--Hystrix依赖-->
    <dependency>
        <groupId>org.springframework.cloud</groupId>
        <artifactId>spring-cloud-starter-hystrix</artifactId>
        <version>1.4.6.RELEASE</version>
    </dependency>
    <!--dashboard依赖-->
    <dependency>
        <groupId>org.springframework.cloud</groupId>
        <artifactId>spring-cloud-starter-hystrix-dashboar</artifactId>
        <version>1.4.6.RELEASE</version>
    </dependency>
    <!--Ribbon-->
    <dependency>
        <groupId>org.springframework.cloud</groupId>
        <artifactId>spring-cloud-starter-ribbon</artifactId>
        <version>1.4.6.RELEASE</version>
    </dependency>
    <!--Eureka-->
    <dependency>
        <groupId>org.springframework.cloud</groupId>
        <artifactId>spring-cloud-starter-eureka</artifactId>
        <version>1.4.6.RELEASE</version>
    </dependency>
    <!--实体类+web-->
    <dependency>
        <groupId>com.haust</groupId>
        <artifactId>springcloud-api</artifactId>
        <version>1.0-SNAPSHOT</version>
    </dependency>
    <dependency>
        <groupId>org.springframework.boot</groupId>
        <artifactId>spring-boot-starter-web</artifactId>
    </dependency>
    <!--热部署-->
    <dependency>
        <groupId>org.springframework.boot</groupId>
        <artifactId>spring-boot-devtools</artifactId>
    </dependency>
</dependencies>
```

**application.yml**

```yaml
server:
  port: 9527
spring:
  application:
    name: springcloud-zuul #微服务名称
# eureka 注册中心配置
eureka:
  client:
    service-url:
      defaultZone: http://eureka7001.com:7001/eureka/,http://eureka7002.com:7002/eureka/,http://eureka7003.com:7003/eureka/
  instance: #实例的id
    instance-id: zuul9527.com
    prefer-ip-address: true # 显示ip
info:
  app.name: haust.springcloud # 项目名称
  company.name: 河南科技大学西苑校区 # 公司名称
# zull 路由网关配置
zuul:
  # 路由相关配置
  # 原来访问路由 eg:http://www.cspStudy.com:9527/springcloud-provider-dept/dept/get/1
  # zull路由配置后访问路由 eg:http://www.cspstudy.com:9527/haust/mydept/dept/get/1
  routes:
    mydept.serviceId: springcloud-provider-dept # eureka注册中心的服务提供方路由名称
    mydept.path: /mydept/** # 将eureka注册中心的服务提供方路由名称 改为自定义路由名称
  # 不能再使用这个路径访问了，*： 忽略,隐藏全部的服务名称~
  ignored-services: "*"
  # 设置公共的前缀
  prefix: /haust
```

**主启动类**

```java
/**
 * @Auther: csp1999
 * @Date: 2020/05/20/20:53
 * @Description: Zull路由网关主启动类
 */
@SpringBootApplication
@EnableZuulProxy // 开启Zuul
public class ZuulApplication_9527 {
    public static void main(String[] args) {
        SpringApplication.run(ZuulApplication_9527.class,args);
    }
}
```

测试：

![img](https://img-blog.csdnimg.cn/img_convert/848c46eaaed4abb0429090ce8a3ab524.png)

可以看出Zull路由网关被注册到Eureka注册中心中了！

![img](https://img-blog.csdnimg.cn/img_convert/e006205b8ef30f16d710d92515d1e003.png)

&emsp;&emsp;上图是没有经过Zull路由网关配置时，服务接口访问的路由，可以看出直接用微服务(服务提供方)名称去访问，这样不安全，不能将微服务名称暴露！

&emsp;&emsp;所以经过Zull路由网关配置后，访问的路由为：

![img](https://img-blog.csdnimg.cn/img_convert/017049983f034c6e13fd6d41d77d52af.png)

&emsp;&emsp;我们看到，微服务名称被替换并隐藏，换成了我们自定义的微服务名称mydept，同时加上了前缀haust，这样就做到了对路由fan访问的加密处理！

详情参考springcloud中文社区zuul组件 :
[https://www.springcloud.cc/spring-cloud-greenwich.html\#\_router\_and\_filter\_zuul](https://www.springcloud.cc/spring-cloud-greenwich.html/#\_router\_and\_filter\_zuul)

(String), http://110.42.213.171:8080/blogimgs/89.png(String), 转载(String), 0(Integer), true(Boolean), true(Boolean), true(Boolean), true(Boolean), false(Boolean), 2022-04-06 10:19:28.228(Timestamp), 2022-04-06 10:19:28.228(Timestamp), 7(Integer), 1(Integer)
2022-04-06 10:19:28.234 DEBUG 12684 --- [http-nio-8086-exec-4] com.kwok.mapper.BlogMapper.saveBlog      : <==    Updates: 1
2022-04-06 10:19:28.239 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.BlogMapper.getBlogCount  : ==>  Preparing: select count(1) as count from blog
2022-04-06 10:19:28.239 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.BlogMapper.getBlogCount  : ==> Parameters: 
2022-04-06 10:19:28.240 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.BlogMapper.getBlogCount  : <==      Total: 1
2022-04-06 10:19:28.240 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.BlogMapper.getBlogList   : ==>  Preparing: select b.*,t.name as typeName from blog b,type t where b.type_id=t.id order by b.id desc limit ?,?
2022-04-06 10:19:28.240 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.BlogMapper.getBlogList   : ==> Parameters: 0(Integer), 5(Integer)
2022-04-06 10:19:28.243 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.BlogMapper.getBlogList   : <==      Total: 5
2022-04-06 10:19:28.243 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.BlogMapper.getBlogById   : ==>  Preparing: select * from blog where id = ?
2022-04-06 10:19:28.244 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.BlogMapper.getBlogById   : ==> Parameters: 90(Integer)
2022-04-06 10:19:28.244 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.BlogMapper.getBlogById   : <==      Total: 0
2022-04-06 10:19:28.244 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.BlogMapper.getBlogById   : ==>  Preparing: select * from blog where id = ?
2022-04-06 10:19:28.244 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.BlogMapper.getBlogById   : ==> Parameters: 84(Integer)
2022-04-06 10:19:28.245 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.BlogMapper.getBlogById   : <==      Total: 1
2022-04-06 10:19:28.245 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.TypeMapper.listType      : ==>  Preparing: select * from type order by id desc
2022-04-06 10:19:28.245 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.TypeMapper.listType      : ==> Parameters: 
2022-04-06 10:19:28.245 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.TypeMapper.listType      : <==      Total: 7
2022-04-06 10:19:29.709 DEBUG 12684 --- [http-nio-8086-exec-3] com.kwok.mapper.BlogMapper.getBlogCount  : ==>  Preparing: select count(1) as count from blog
2022-04-06 10:19:29.709 DEBUG 12684 --- [http-nio-8086-exec-3] com.kwok.mapper.BlogMapper.getBlogCount  : ==> Parameters: 
2022-04-06 10:19:29.710 DEBUG 12684 --- [http-nio-8086-exec-3] com.kwok.mapper.BlogMapper.getBlogCount  : <==      Total: 1
2022-04-06 10:19:29.711 DEBUG 12684 --- [http-nio-8086-exec-3] com.kwok.mapper.BlogMapper.getBlogList   : ==>  Preparing: select b.*,t.name as typeName from blog b,type t where b.type_id=t.id order by b.id desc limit ?,?
2022-04-06 10:19:29.711 DEBUG 12684 --- [http-nio-8086-exec-3] com.kwok.mapper.BlogMapper.getBlogList   : ==> Parameters: 0(Integer), 5(Integer)
2022-04-06 10:19:29.713 DEBUG 12684 --- [http-nio-8086-exec-3] com.kwok.mapper.BlogMapper.getBlogList   : <==      Total: 5
2022-04-06 10:19:29.714 DEBUG 12684 --- [http-nio-8086-exec-3] com.kwok.mapper.BlogMapper.getBlogById   : ==>  Preparing: select * from blog where id = ?
2022-04-06 10:19:29.714 DEBUG 12684 --- [http-nio-8086-exec-3] com.kwok.mapper.BlogMapper.getBlogById   : ==> Parameters: 90(Integer)
2022-04-06 10:19:29.714 DEBUG 12684 --- [http-nio-8086-exec-3] com.kwok.mapper.BlogMapper.getBlogById   : <==      Total: 0
2022-04-06 10:19:29.714 DEBUG 12684 --- [http-nio-8086-exec-3] com.kwok.mapper.BlogMapper.getBlogById   : ==>  Preparing: select * from blog where id = ?
2022-04-06 10:19:29.714 DEBUG 12684 --- [http-nio-8086-exec-3] com.kwok.mapper.BlogMapper.getBlogById   : ==> Parameters: 84(Integer)
2022-04-06 10:19:29.716 DEBUG 12684 --- [http-nio-8086-exec-3] com.kwok.mapper.BlogMapper.getBlogById   : <==      Total: 1
2022-04-06 10:19:29.716 DEBUG 12684 --- [http-nio-8086-exec-3] com.kwok.mapper.TypeMapper.listType      : ==>  Preparing: select * from type order by id desc
2022-04-06 10:19:29.716 DEBUG 12684 --- [http-nio-8086-exec-3] com.kwok.mapper.TypeMapper.listType      : ==> Parameters: 
2022-04-06 10:19:29.716 DEBUG 12684 --- [http-nio-8086-exec-3] com.kwok.mapper.TypeMapper.listType      : <==      Total: 7
2022-04-06 10:19:30.956  INFO 12684 --- [http-nio-8086-exec-8] com.kwok.aspect.LogAspect                : Request : {url='http://localhost:8086/index', ip='0:0:0:0:0:0:0:1', classMethod='com.kwok.controller.IndexController.index', args=[org.apache.catalina.connector.RequestFacade@253c6fd2, org.apache.catalina.connector.ResponseFacade@23fdcdb, {}]}
2022-04-06 10:19:30.956 DEBUG 12684 --- [http-nio-8086-exec-8] com.kwok.mapper.BlogMapper.getBlogCount  : ==>  Preparing: select count(1) as count from blog
2022-04-06 10:19:30.957 DEBUG 12684 --- [http-nio-8086-exec-8] com.kwok.mapper.BlogMapper.getBlogCount  : ==> Parameters: 
2022-04-06 10:19:30.958 DEBUG 12684 --- [http-nio-8086-exec-8] com.kwok.mapper.BlogMapper.getBlogCount  : <==      Total: 1
2022-04-06 10:19:30.958 DEBUG 12684 --- [http-nio-8086-exec-8] com.kwok.mapper.BlogMapper.getBlogList   : ==>  Preparing: select b.*,t.name as typeName from blog b,type t where b.type_id=t.id order by b.id desc limit ?,?
2022-04-06 10:19:30.958 DEBUG 12684 --- [http-nio-8086-exec-8] com.kwok.mapper.BlogMapper.getBlogList   : ==> Parameters: 0(Integer), 5(Integer)
2022-04-06 10:19:30.961 DEBUG 12684 --- [http-nio-8086-exec-8] com.kwok.mapper.BlogMapper.getBlogList   : <==      Total: 5
2022-04-06 10:19:30.961 DEBUG 12684 --- [http-nio-8086-exec-8] com.kwok.mapper.BlogMapper.getBlogById   : ==>  Preparing: select * from blog where id = ?
2022-04-06 10:19:30.961 DEBUG 12684 --- [http-nio-8086-exec-8] com.kwok.mapper.BlogMapper.getBlogById   : ==> Parameters: 90(Integer)
2022-04-06 10:19:30.961 DEBUG 12684 --- [http-nio-8086-exec-8] com.kwok.mapper.BlogMapper.getBlogById   : <==      Total: 0
2022-04-06 10:19:30.961 DEBUG 12684 --- [http-nio-8086-exec-8] com.kwok.mapper.BlogMapper.getBlogById   : ==>  Preparing: select * from blog where id = ?
2022-04-06 10:19:30.961 DEBUG 12684 --- [http-nio-8086-exec-8] com.kwok.mapper.BlogMapper.getBlogById   : ==> Parameters: 84(Integer)
2022-04-06 10:19:30.962 DEBUG 12684 --- [http-nio-8086-exec-8] com.kwok.mapper.BlogMapper.getBlogById   : <==      Total: 1
2022-04-06 10:19:30.962 DEBUG 12684 --- [http-nio-8086-exec-8] com.kwok.mapper.TagMapper.listTopTag     : ==>  Preparing: select tag.id,tag.name,tn.num from tag,(select tag_id,count(*) as num from blog_tag group by tag_id order by num desc) as tn where tag.id = tn.tag_id
2022-04-06 10:19:30.962 DEBUG 12684 --- [http-nio-8086-exec-8] com.kwok.mapper.TagMapper.listTopTag     : ==> Parameters: 
2022-04-06 10:19:30.963 DEBUG 12684 --- [http-nio-8086-exec-8] com.kwok.mapper.TagMapper.listTopTag     : <==      Total: 11
2022-04-06 10:19:30.963 DEBUG 12684 --- [http-nio-8086-exec-8] com.kwok.mapper.TypeMapper.listTopType   : ==>  Preparing: select type.id,type.name,tn.num from type,(select type_id,count(*) as num from blog group by type_id order by num desc) as tn where type.id = tn.type_id
2022-04-06 10:19:30.963 DEBUG 12684 --- [http-nio-8086-exec-8] com.kwok.mapper.TypeMapper.listTopType   : ==> Parameters: 
2022-04-06 10:19:30.964 DEBUG 12684 --- [http-nio-8086-exec-8] com.kwok.mapper.TypeMapper.listTopType   : <==      Total: 5
2022-04-06 10:19:30.964 DEBUG 12684 --- [http-nio-8086-exec-8] c.k.m.BlogMapper.listTopRecommendBlog    : ==>  Preparing: select * from blog where recommend = 1 order by update_time desc
2022-04-06 10:19:30.964 DEBUG 12684 --- [http-nio-8086-exec-8] c.k.m.BlogMapper.listTopRecommendBlog    : ==> Parameters: 
2022-04-06 10:19:30.967 DEBUG 12684 --- [http-nio-8086-exec-8] c.k.m.BlogMapper.listTopRecommendBlog    : <==      Total: 2
2022-04-06 10:19:30.967  INFO 12684 --- [http-nio-8086-exec-8] com.kwok.aspect.LogAspect                : Result : index
2022-04-06 10:19:35.303  INFO 12684 --- [http-nio-8086-exec-1] com.kwok.aspect.LogAspect                : Request : {url='http://localhost:8086/blog/89', ip='0:0:0:0:0:0:0:1', classMethod='com.kwok.controller.IndexController.blog', args=[89, {}]}
2022-04-06 10:19:35.303 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.BlogMapper.getBlogById   : ==>  Preparing: select * from blog where id = ?
2022-04-06 10:19:35.304 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.BlogMapper.getBlogById   : ==> Parameters: 89(Integer)
2022-04-06 10:19:35.305 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.BlogMapper.getBlogById   : <==      Total: 1
2022-04-06 10:19:35.305 DEBUG 12684 --- [http-nio-8086-exec-1] c.k.mapper.BlogMapper.updateBlogViews    : ==>  Preparing: update blog set views=? where id = ?
2022-04-06 10:19:35.305 DEBUG 12684 --- [http-nio-8086-exec-1] c.k.mapper.BlogMapper.updateBlogViews    : ==> Parameters: 1(Integer), 89(Integer)
2022-04-06 10:19:35.306 DEBUG 12684 --- [http-nio-8086-exec-1] c.k.mapper.BlogMapper.updateBlogViews    : <==    Updates: 1
2022-04-06 10:19:35.313 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.BlogMapper.getBlogById   : ==>  Preparing: select * from blog where id = ?
2022-04-06 10:19:35.313 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.BlogMapper.getBlogById   : ==> Parameters: 89(Integer)
2022-04-06 10:19:35.314 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.BlogMapper.getBlogById   : <==      Total: 1
2022-04-06 10:19:35.317 DEBUG 12684 --- [http-nio-8086-exec-1] c.k.m.BlogtagMapper.getTagIdByBlogId     : ==>  Preparing: select * from blog_tag where blog_id = ?
2022-04-06 10:19:35.318 DEBUG 12684 --- [http-nio-8086-exec-1] c.k.m.BlogtagMapper.getTagIdByBlogId     : ==> Parameters: 89(Integer)
2022-04-06 10:19:35.318 DEBUG 12684 --- [http-nio-8086-exec-1] c.k.m.BlogtagMapper.getTagIdByBlogId     : <==      Total: 3
2022-04-06 10:19:35.319 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.TagMapper.getShowTags    : ==>  Preparing: select * from tag where id in ( ? , ? , ? )
2022-04-06 10:19:35.319 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.TagMapper.getShowTags    : ==> Parameters: 3(Integer), 11(Integer), 4(Integer)
2022-04-06 10:19:35.319 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.TagMapper.getShowTags    : <==      Total: 3
2022-04-06 10:19:35.320  INFO 12684 --- [http-nio-8086-exec-1] com.kwok.aspect.LogAspect                : Result : blog
2022-04-06 10:19:35.809  INFO 12684 --- [http-nio-8086-exec-1] com.kwok.aspect.LogAspect                : Request : {url='http://localhost:8086/comments/89', ip='0:0:0:0:0:0:0:1', classMethod='com.kwok.controller.CommentController.comments', args=[89, {}]}
2022-04-06 10:19:35.809 DEBUG 12684 --- [http-nio-8086-exec-1] c.k.m.CommentMapper.listCommentByBlogId  : ==>  Preparing: select * from comment where blog_id = ? and parent_id = 0 order by creat_time asc
2022-04-06 10:19:35.809 DEBUG 12684 --- [http-nio-8086-exec-1] c.k.m.CommentMapper.listCommentByBlogId  : ==> Parameters: 89(Integer)
2022-04-06 10:19:35.811 DEBUG 12684 --- [http-nio-8086-exec-1] c.k.m.CommentMapper.listCommentByBlogId  : <==      Total: 0
2022-04-06 10:19:35.811  INFO 12684 --- [http-nio-8086-exec-1] com.kwok.aspect.LogAspect                : Result : blog :: commentList
2022-04-06 10:19:55.443  INFO 12684 --- [http-nio-8086-exec-4] com.kwok.aspect.LogAspect                : Request : {url='http://localhost:8086/index', ip='0:0:0:0:0:0:0:1', classMethod='com.kwok.controller.IndexController.index', args=[org.apache.catalina.connector.RequestFacade@7b4c3c2a, org.apache.catalina.connector.ResponseFacade@4167aeee, {}]}
2022-04-06 10:19:55.444 DEBUG 12684 --- [http-nio-8086-exec-4] com.kwok.mapper.BlogMapper.getBlogCount  : ==>  Preparing: select count(1) as count from blog
2022-04-06 10:19:55.444 DEBUG 12684 --- [http-nio-8086-exec-4] com.kwok.mapper.BlogMapper.getBlogCount  : ==> Parameters: 
2022-04-06 10:19:55.445 DEBUG 12684 --- [http-nio-8086-exec-4] com.kwok.mapper.BlogMapper.getBlogCount  : <==      Total: 1
2022-04-06 10:19:55.445 DEBUG 12684 --- [http-nio-8086-exec-4] com.kwok.mapper.BlogMapper.getBlogList   : ==>  Preparing: select b.*,t.name as typeName from blog b,type t where b.type_id=t.id order by b.id desc limit ?,?
2022-04-06 10:19:55.446 DEBUG 12684 --- [http-nio-8086-exec-4] com.kwok.mapper.BlogMapper.getBlogList   : ==> Parameters: 0(Integer), 5(Integer)
2022-04-06 10:19:55.448 DEBUG 12684 --- [http-nio-8086-exec-4] com.kwok.mapper.BlogMapper.getBlogList   : <==      Total: 5
2022-04-06 10:19:55.448 DEBUG 12684 --- [http-nio-8086-exec-4] com.kwok.mapper.BlogMapper.getBlogById   : ==>  Preparing: select * from blog where id = ?
2022-04-06 10:19:55.448 DEBUG 12684 --- [http-nio-8086-exec-4] com.kwok.mapper.BlogMapper.getBlogById   : ==> Parameters: 90(Integer)
2022-04-06 10:19:55.449 DEBUG 12684 --- [http-nio-8086-exec-4] com.kwok.mapper.BlogMapper.getBlogById   : <==      Total: 0
2022-04-06 10:19:55.449 DEBUG 12684 --- [http-nio-8086-exec-4] com.kwok.mapper.BlogMapper.getBlogById   : ==>  Preparing: select * from blog where id = ?
2022-04-06 10:19:55.449 DEBUG 12684 --- [http-nio-8086-exec-4] com.kwok.mapper.BlogMapper.getBlogById   : ==> Parameters: 84(Integer)
2022-04-06 10:19:55.450 DEBUG 12684 --- [http-nio-8086-exec-4] com.kwok.mapper.BlogMapper.getBlogById   : <==      Total: 1
2022-04-06 10:19:55.450 DEBUG 12684 --- [http-nio-8086-exec-4] com.kwok.mapper.TagMapper.listTopTag     : ==>  Preparing: select tag.id,tag.name,tn.num from tag,(select tag_id,count(*) as num from blog_tag group by tag_id order by num desc) as tn where tag.id = tn.tag_id
2022-04-06 10:19:55.450 DEBUG 12684 --- [http-nio-8086-exec-4] com.kwok.mapper.TagMapper.listTopTag     : ==> Parameters: 
2022-04-06 10:19:55.451 DEBUG 12684 --- [http-nio-8086-exec-4] com.kwok.mapper.TagMapper.listTopTag     : <==      Total: 11
2022-04-06 10:19:55.451 DEBUG 12684 --- [http-nio-8086-exec-4] com.kwok.mapper.TypeMapper.listTopType   : ==>  Preparing: select type.id,type.name,tn.num from type,(select type_id,count(*) as num from blog group by type_id order by num desc) as tn where type.id = tn.type_id
2022-04-06 10:19:55.451 DEBUG 12684 --- [http-nio-8086-exec-4] com.kwok.mapper.TypeMapper.listTopType   : ==> Parameters: 
2022-04-06 10:19:55.451 DEBUG 12684 --- [http-nio-8086-exec-4] com.kwok.mapper.TypeMapper.listTopType   : <==      Total: 5
2022-04-06 10:19:55.451 DEBUG 12684 --- [http-nio-8086-exec-4] c.k.m.BlogMapper.listTopRecommendBlog    : ==>  Preparing: select * from blog where recommend = 1 order by update_time desc
2022-04-06 10:19:55.451 DEBUG 12684 --- [http-nio-8086-exec-4] c.k.m.BlogMapper.listTopRecommendBlog    : ==> Parameters: 
2022-04-06 10:19:55.454 DEBUG 12684 --- [http-nio-8086-exec-4] c.k.m.BlogMapper.listTopRecommendBlog    : <==      Total: 2
2022-04-06 10:19:55.454  INFO 12684 --- [http-nio-8086-exec-4] com.kwok.aspect.LogAspect                : Result : index
2022-04-06 10:19:58.595 DEBUG 12684 --- [http-nio-8086-exec-4] com.kwok.mapper.BlogMapper.getBlogCount  : ==>  Preparing: select count(1) as count from blog
2022-04-06 10:19:58.595 DEBUG 12684 --- [http-nio-8086-exec-4] com.kwok.mapper.BlogMapper.getBlogCount  : ==> Parameters: 
2022-04-06 10:19:58.596 DEBUG 12684 --- [http-nio-8086-exec-4] com.kwok.mapper.BlogMapper.getBlogCount  : <==      Total: 1
2022-04-06 10:19:58.596 DEBUG 12684 --- [http-nio-8086-exec-4] com.kwok.mapper.BlogMapper.getBlogList   : ==>  Preparing: select b.*,t.name as typeName from blog b,type t where b.type_id=t.id order by b.id desc limit ?,?
2022-04-06 10:19:58.596 DEBUG 12684 --- [http-nio-8086-exec-4] com.kwok.mapper.BlogMapper.getBlogList   : ==> Parameters: 0(Integer), 5(Integer)
2022-04-06 10:19:58.599 DEBUG 12684 --- [http-nio-8086-exec-4] com.kwok.mapper.BlogMapper.getBlogList   : <==      Total: 5
2022-04-06 10:19:58.599 DEBUG 12684 --- [http-nio-8086-exec-4] com.kwok.mapper.BlogMapper.getBlogById   : ==>  Preparing: select * from blog where id = ?
2022-04-06 10:19:58.599 DEBUG 12684 --- [http-nio-8086-exec-4] com.kwok.mapper.BlogMapper.getBlogById   : ==> Parameters: 90(Integer)
2022-04-06 10:19:58.600 DEBUG 12684 --- [http-nio-8086-exec-4] com.kwok.mapper.BlogMapper.getBlogById   : <==      Total: 0
2022-04-06 10:19:58.600 DEBUG 12684 --- [http-nio-8086-exec-4] com.kwok.mapper.BlogMapper.getBlogById   : ==>  Preparing: select * from blog where id = ?
2022-04-06 10:19:58.600 DEBUG 12684 --- [http-nio-8086-exec-4] com.kwok.mapper.BlogMapper.getBlogById   : ==> Parameters: 84(Integer)
2022-04-06 10:19:58.601 DEBUG 12684 --- [http-nio-8086-exec-4] com.kwok.mapper.BlogMapper.getBlogById   : <==      Total: 1
2022-04-06 10:19:58.601 DEBUG 12684 --- [http-nio-8086-exec-4] com.kwok.mapper.TypeMapper.listType      : ==>  Preparing: select * from type order by id desc
2022-04-06 10:19:58.601 DEBUG 12684 --- [http-nio-8086-exec-4] com.kwok.mapper.TypeMapper.listType      : ==> Parameters: 
2022-04-06 10:19:58.602 DEBUG 12684 --- [http-nio-8086-exec-4] com.kwok.mapper.TypeMapper.listType      : <==      Total: 7
2022-04-06 10:26:10.306 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.BlogMapper.getBlogCount  : ==>  Preparing: select count(1) as count from blog
2022-04-06 10:26:10.306 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.BlogMapper.getBlogCount  : ==> Parameters: 
2022-04-06 10:26:10.308 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.BlogMapper.getBlogCount  : <==      Total: 1
2022-04-06 10:26:10.308 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.BlogMapper.getBlogList   : ==>  Preparing: select b.*,t.name as typeName from blog b,type t where b.type_id=t.id order by b.id desc limit ?,?
2022-04-06 10:26:10.308 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.BlogMapper.getBlogList   : ==> Parameters: 0(Integer), 5(Integer)
2022-04-06 10:26:10.311 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.BlogMapper.getBlogList   : <==      Total: 5
2022-04-06 10:26:10.311 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.BlogMapper.getBlogById   : ==>  Preparing: select * from blog where id = ?
2022-04-06 10:26:10.311 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.BlogMapper.getBlogById   : ==> Parameters: 90(Integer)
2022-04-06 10:26:10.311 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.BlogMapper.getBlogById   : <==      Total: 0
2022-04-06 10:26:10.311 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.BlogMapper.getBlogById   : ==>  Preparing: select * from blog where id = ?
2022-04-06 10:26:10.311 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.BlogMapper.getBlogById   : ==> Parameters: 84(Integer)
2022-04-06 10:26:10.312 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.BlogMapper.getBlogById   : <==      Total: 1
2022-04-06 10:26:10.312 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.TypeMapper.listType      : ==>  Preparing: select * from type order by id desc
2022-04-06 10:26:10.312 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.TypeMapper.listType      : ==> Parameters: 
2022-04-06 10:26:10.313 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.TypeMapper.listType      : <==      Total: 7
2022-04-06 10:26:13.252  INFO 12684 --- [http-nio-8086-exec-10] com.kwok.aspect.LogAspect                : Request : {url='http://localhost:8086/index', ip='0:0:0:0:0:0:0:1', classMethod='com.kwok.controller.IndexController.index', args=[org.apache.catalina.connector.RequestFacade@253c6fd2, org.apache.catalina.connector.ResponseFacade@23fdcdb, {}]}
2022-04-06 10:26:13.253 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.BlogMapper.getBlogCount  : ==>  Preparing: select count(1) as count from blog
2022-04-06 10:26:13.253 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.BlogMapper.getBlogCount  : ==> Parameters: 
2022-04-06 10:26:13.254 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.BlogMapper.getBlogCount  : <==      Total: 1
2022-04-06 10:26:13.254 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.BlogMapper.getBlogList   : ==>  Preparing: select b.*,t.name as typeName from blog b,type t where b.type_id=t.id order by b.id desc limit ?,?
2022-04-06 10:26:13.254 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.BlogMapper.getBlogList   : ==> Parameters: 0(Integer), 5(Integer)
2022-04-06 10:26:13.257 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.BlogMapper.getBlogList   : <==      Total: 5
2022-04-06 10:26:13.257 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.BlogMapper.getBlogById   : ==>  Preparing: select * from blog where id = ?
2022-04-06 10:26:13.257 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.BlogMapper.getBlogById   : ==> Parameters: 90(Integer)
2022-04-06 10:26:13.257 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.BlogMapper.getBlogById   : <==      Total: 0
2022-04-06 10:26:13.257 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.BlogMapper.getBlogById   : ==>  Preparing: select * from blog where id = ?
2022-04-06 10:26:13.257 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.BlogMapper.getBlogById   : ==> Parameters: 84(Integer)
2022-04-06 10:26:13.258 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.BlogMapper.getBlogById   : <==      Total: 1
2022-04-06 10:26:13.259 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.TagMapper.listTopTag     : ==>  Preparing: select tag.id,tag.name,tn.num from tag,(select tag_id,count(*) as num from blog_tag group by tag_id order by num desc) as tn where tag.id = tn.tag_id
2022-04-06 10:26:13.259 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.TagMapper.listTopTag     : ==> Parameters: 
2022-04-06 10:26:13.260 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.TagMapper.listTopTag     : <==      Total: 11
2022-04-06 10:26:13.260 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.TypeMapper.listTopType   : ==>  Preparing: select type.id,type.name,tn.num from type,(select type_id,count(*) as num from blog group by type_id order by num desc) as tn where type.id = tn.type_id
2022-04-06 10:26:13.260 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.TypeMapper.listTopType   : ==> Parameters: 
2022-04-06 10:26:13.260 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.TypeMapper.listTopType   : <==      Total: 5
2022-04-06 10:26:13.260 DEBUG 12684 --- [http-nio-8086-exec-10] c.k.m.BlogMapper.listTopRecommendBlog    : ==>  Preparing: select * from blog where recommend = 1 order by update_time desc
2022-04-06 10:26:13.260 DEBUG 12684 --- [http-nio-8086-exec-10] c.k.m.BlogMapper.listTopRecommendBlog    : ==> Parameters: 
2022-04-06 10:26:13.263 DEBUG 12684 --- [http-nio-8086-exec-10] c.k.m.BlogMapper.listTopRecommendBlog    : <==      Total: 2
2022-04-06 10:26:13.263  INFO 12684 --- [http-nio-8086-exec-10] com.kwok.aspect.LogAspect                : Result : index
2022-04-06 10:26:42.862 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.BlogMapper.getBlogCount  : ==>  Preparing: select count(1) as count from blog
2022-04-06 10:26:42.862 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.BlogMapper.getBlogCount  : ==> Parameters: 
2022-04-06 10:26:42.863 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.BlogMapper.getBlogCount  : <==      Total: 1
2022-04-06 10:26:42.863 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.BlogMapper.getBlogList   : ==>  Preparing: select b.*,t.name as typeName from blog b,type t where b.type_id=t.id order by b.id desc limit ?,?
2022-04-06 10:26:42.863 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.BlogMapper.getBlogList   : ==> Parameters: 0(Integer), 5(Integer)
2022-04-06 10:26:42.867 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.BlogMapper.getBlogList   : <==      Total: 5
2022-04-06 10:26:42.867 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.BlogMapper.getBlogById   : ==>  Preparing: select * from blog where id = ?
2022-04-06 10:26:42.867 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.BlogMapper.getBlogById   : ==> Parameters: 90(Integer)
2022-04-06 10:26:42.867 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.BlogMapper.getBlogById   : <==      Total: 0
2022-04-06 10:26:42.867 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.BlogMapper.getBlogById   : ==>  Preparing: select * from blog where id = ?
2022-04-06 10:26:42.867 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.BlogMapper.getBlogById   : ==> Parameters: 84(Integer)
2022-04-06 10:26:42.869 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.BlogMapper.getBlogById   : <==      Total: 1
2022-04-06 10:26:42.869 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.TypeMapper.listType      : ==>  Preparing: select * from type order by id desc
2022-04-06 10:26:42.869 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.TypeMapper.listType      : ==> Parameters: 
2022-04-06 10:26:42.870 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.TypeMapper.listType      : <==      Total: 7
2022-04-06 10:26:44.164  INFO 12684 --- [http-nio-8086-exec-1] com.kwok.aspect.LogAspect                : Request : {url='http://localhost:8086/index', ip='0:0:0:0:0:0:0:1', classMethod='com.kwok.controller.IndexController.index', args=[org.apache.catalina.connector.RequestFacade@6602faf2, org.apache.catalina.connector.ResponseFacade@1dd92202, {}]}
2022-04-06 10:26:44.165 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.BlogMapper.getBlogCount  : ==>  Preparing: select count(1) as count from blog
2022-04-06 10:26:44.165 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.BlogMapper.getBlogCount  : ==> Parameters: 
2022-04-06 10:26:44.166 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.BlogMapper.getBlogCount  : <==      Total: 1
2022-04-06 10:26:44.167 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.BlogMapper.getBlogList   : ==>  Preparing: select b.*,t.name as typeName from blog b,type t where b.type_id=t.id order by b.id desc limit ?,?
2022-04-06 10:26:44.167 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.BlogMapper.getBlogList   : ==> Parameters: 0(Integer), 5(Integer)
2022-04-06 10:26:44.169 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.BlogMapper.getBlogList   : <==      Total: 5
2022-04-06 10:26:44.169 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.BlogMapper.getBlogById   : ==>  Preparing: select * from blog where id = ?
2022-04-06 10:26:44.169 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.BlogMapper.getBlogById   : ==> Parameters: 90(Integer)
2022-04-06 10:26:44.170 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.BlogMapper.getBlogById   : <==      Total: 0
2022-04-06 10:26:44.170 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.BlogMapper.getBlogById   : ==>  Preparing: select * from blog where id = ?
2022-04-06 10:26:44.170 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.BlogMapper.getBlogById   : ==> Parameters: 84(Integer)
2022-04-06 10:26:44.171 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.BlogMapper.getBlogById   : <==      Total: 1
2022-04-06 10:26:44.171 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.TagMapper.listTopTag     : ==>  Preparing: select tag.id,tag.name,tn.num from tag,(select tag_id,count(*) as num from blog_tag group by tag_id order by num desc) as tn where tag.id = tn.tag_id
2022-04-06 10:26:44.171 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.TagMapper.listTopTag     : ==> Parameters: 
2022-04-06 10:26:44.172 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.TagMapper.listTopTag     : <==      Total: 11
2022-04-06 10:26:44.172 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.TypeMapper.listTopType   : ==>  Preparing: select type.id,type.name,tn.num from type,(select type_id,count(*) as num from blog group by type_id order by num desc) as tn where type.id = tn.type_id
2022-04-06 10:26:44.172 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.TypeMapper.listTopType   : ==> Parameters: 
2022-04-06 10:26:44.173 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.TypeMapper.listTopType   : <==      Total: 5
2022-04-06 10:26:44.173 DEBUG 12684 --- [http-nio-8086-exec-1] c.k.m.BlogMapper.listTopRecommendBlog    : ==>  Preparing: select * from blog where recommend = 1 order by update_time desc
2022-04-06 10:26:44.173 DEBUG 12684 --- [http-nio-8086-exec-1] c.k.m.BlogMapper.listTopRecommendBlog    : ==> Parameters: 
2022-04-06 10:26:44.175 DEBUG 12684 --- [http-nio-8086-exec-1] c.k.m.BlogMapper.listTopRecommendBlog    : <==      Total: 2
2022-04-06 10:26:44.175  INFO 12684 --- [http-nio-8086-exec-1] com.kwok.aspect.LogAspect                : Result : index
2022-04-06 10:26:45.397  INFO 12684 --- [http-nio-8086-exec-10] com.kwok.aspect.LogAspect                : Request : {url='http://localhost:8086/types/-1', ip='0:0:0:0:0:0:0:1', classMethod='com.kwok.controller.TypeShowController.types', args=[-1, org.apache.catalina.connector.RequestFacade@6602faf2, {}]}
2022-04-06 10:26:45.398 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.TypeMapper.listType      : ==>  Preparing: select * from type order by id desc
2022-04-06 10:26:45.398 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.TypeMapper.listType      : ==> Parameters: 
2022-04-06 10:26:45.398 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.TypeMapper.listType      : <==      Total: 7
2022-04-06 10:26:45.398 DEBUG 12684 --- [http-nio-8086-exec-10] c.k.m.BlogMapper.getBlogCountByTypeId    : ==>  Preparing: select count(1) as count from blog where type_id = ?
2022-04-06 10:26:45.399 DEBUG 12684 --- [http-nio-8086-exec-10] c.k.m.BlogMapper.getBlogCountByTypeId    : ==> Parameters: 7(Integer)
2022-04-06 10:26:45.399 DEBUG 12684 --- [http-nio-8086-exec-10] c.k.m.BlogMapper.getBlogCountByTypeId    : <==      Total: 1
2022-04-06 10:26:45.399 DEBUG 12684 --- [http-nio-8086-exec-10] c.k.m.BlogMapper.getBlogCountByTypeId    : ==>  Preparing: select count(1) as count from blog where type_id = ?
2022-04-06 10:26:45.399 DEBUG 12684 --- [http-nio-8086-exec-10] c.k.m.BlogMapper.getBlogCountByTypeId    : ==> Parameters: 6(Integer)
2022-04-06 10:26:45.400 DEBUG 12684 --- [http-nio-8086-exec-10] c.k.m.BlogMapper.getBlogCountByTypeId    : <==      Total: 1
2022-04-06 10:26:45.400 DEBUG 12684 --- [http-nio-8086-exec-10] c.k.m.BlogMapper.getBlogCountByTypeId    : ==>  Preparing: select count(1) as count from blog where type_id = ?
2022-04-06 10:26:45.400 DEBUG 12684 --- [http-nio-8086-exec-10] c.k.m.BlogMapper.getBlogCountByTypeId    : ==> Parameters: 5(Integer)
2022-04-06 10:26:45.400 DEBUG 12684 --- [http-nio-8086-exec-10] c.k.m.BlogMapper.getBlogCountByTypeId    : <==      Total: 1
2022-04-06 10:26:45.401 DEBUG 12684 --- [http-nio-8086-exec-10] c.k.m.BlogMapper.getBlogCountByTypeId    : ==>  Preparing: select count(1) as count from blog where type_id = ?
2022-04-06 10:26:45.401 DEBUG 12684 --- [http-nio-8086-exec-10] c.k.m.BlogMapper.getBlogCountByTypeId    : ==> Parameters: 4(Integer)
2022-04-06 10:26:45.401 DEBUG 12684 --- [http-nio-8086-exec-10] c.k.m.BlogMapper.getBlogCountByTypeId    : <==      Total: 1
2022-04-06 10:26:45.401 DEBUG 12684 --- [http-nio-8086-exec-10] c.k.m.BlogMapper.getBlogCountByTypeId    : ==>  Preparing: select count(1) as count from blog where type_id = ?
2022-04-06 10:26:45.401 DEBUG 12684 --- [http-nio-8086-exec-10] c.k.m.BlogMapper.getBlogCountByTypeId    : ==> Parameters: 3(Integer)
2022-04-06 10:26:45.402 DEBUG 12684 --- [http-nio-8086-exec-10] c.k.m.BlogMapper.getBlogCountByTypeId    : <==      Total: 1
2022-04-06 10:26:45.402 DEBUG 12684 --- [http-nio-8086-exec-10] c.k.m.BlogMapper.getBlogCountByTypeId    : ==>  Preparing: select count(1) as count from blog where type_id = ?
2022-04-06 10:26:45.402 DEBUG 12684 --- [http-nio-8086-exec-10] c.k.m.BlogMapper.getBlogCountByTypeId    : ==> Parameters: 2(Integer)
2022-04-06 10:26:45.402 DEBUG 12684 --- [http-nio-8086-exec-10] c.k.m.BlogMapper.getBlogCountByTypeId    : <==      Total: 1
2022-04-06 10:26:45.403 DEBUG 12684 --- [http-nio-8086-exec-10] c.k.m.BlogMapper.getBlogCountByTypeId    : ==>  Preparing: select count(1) as count from blog where type_id = ?
2022-04-06 10:26:45.403 DEBUG 12684 --- [http-nio-8086-exec-10] c.k.m.BlogMapper.getBlogCountByTypeId    : ==> Parameters: 1(Integer)
2022-04-06 10:26:45.403 DEBUG 12684 --- [http-nio-8086-exec-10] c.k.m.BlogMapper.getBlogCountByTypeId    : <==      Total: 1
2022-04-06 10:26:45.403 DEBUG 12684 --- [http-nio-8086-exec-10] c.k.m.BlogMapper.getBlogCountByTypeId    : ==>  Preparing: select count(1) as count from blog where type_id = ?
2022-04-06 10:26:45.403 DEBUG 12684 --- [http-nio-8086-exec-10] c.k.m.BlogMapper.getBlogCountByTypeId    : ==> Parameters: 7(Integer)
2022-04-06 10:26:45.404 DEBUG 12684 --- [http-nio-8086-exec-10] c.k.m.BlogMapper.getBlogCountByTypeId    : <==      Total: 1
2022-04-06 10:26:45.404 DEBUG 12684 --- [http-nio-8086-exec-10] c.k.m.BlogMapper.getBlogListByTypeId     : ==>  Preparing: select b.*,t.name as typeName from blog b,type t where b.type_id=t.id and b.type_id=? order by b.id desc limit ?,?
2022-04-06 10:26:45.404 DEBUG 12684 --- [http-nio-8086-exec-10] c.k.m.BlogMapper.getBlogListByTypeId     : ==> Parameters: 7(Integer), 0(Integer), 5(Integer)
2022-04-06 10:26:45.407 DEBUG 12684 --- [http-nio-8086-exec-10] c.k.m.BlogMapper.getBlogListByTypeId     : <==      Total: 5
2022-04-06 10:26:45.407 DEBUG 12684 --- [http-nio-8086-exec-10] c.k.mapper.BlogMapper.getPreBlogsById    : ==>  Preparing: select * from blog where type_id=? and id > ?
2022-04-06 10:26:45.407 DEBUG 12684 --- [http-nio-8086-exec-10] c.k.mapper.BlogMapper.getPreBlogsById    : ==> Parameters: 7(Integer), 89(Integer)
2022-04-06 10:26:45.408 DEBUG 12684 --- [http-nio-8086-exec-10] c.k.mapper.BlogMapper.getPreBlogsById    : <==      Total: 0
2022-04-06 10:26:45.408 DEBUG 12684 --- [http-nio-8086-exec-10] c.k.mapper.BlogMapper.getNextBlogsById   : ==>  Preparing: select * from blog where type_id=? and ? > id
2022-04-06 10:26:45.408 DEBUG 12684 --- [http-nio-8086-exec-10] c.k.mapper.BlogMapper.getNextBlogsById   : ==> Parameters: 7(Integer), 85(Integer)
2022-04-06 10:26:45.410 DEBUG 12684 --- [http-nio-8086-exec-10] c.k.mapper.BlogMapper.getNextBlogsById   : <==      Total: 2
2022-04-06 10:26:45.410  INFO 12684 --- [http-nio-8086-exec-10] com.kwok.aspect.LogAspect                : Result : types
2022-04-06 10:26:46.911  INFO 12684 --- [http-nio-8086-exec-3] com.kwok.aspect.LogAspect                : Request : {url='http://localhost:8086/tags/-1', ip='0:0:0:0:0:0:0:1', classMethod='com.kwok.controller.TagShowController.tags', args=[-1, org.apache.catalina.connector.RequestFacade@2bd08bff, {}]}
2022-04-06 10:26:46.911 DEBUG 12684 --- [http-nio-8086-exec-3] com.kwok.mapper.TagMapper.listTag        : ==>  Preparing: select * from tag order by id desc
2022-04-06 10:26:46.911 DEBUG 12684 --- [http-nio-8086-exec-3] com.kwok.mapper.TagMapper.listTag        : ==> Parameters: 
2022-04-06 10:26:46.912 DEBUG 12684 --- [http-nio-8086-exec-3] com.kwok.mapper.TagMapper.listTag        : <==      Total: 14
2022-04-06 10:26:46.912 DEBUG 12684 --- [http-nio-8086-exec-3] com.kwok.mapper.TagMapper.tagCount       : ==>  Preparing: select count(1) as count from blog_tag where tag_id=?
2022-04-06 10:26:46.912 DEBUG 12684 --- [http-nio-8086-exec-3] com.kwok.mapper.TagMapper.tagCount       : ==> Parameters: 14(Integer)
2022-04-06 10:26:46.912 DEBUG 12684 --- [http-nio-8086-exec-3] com.kwok.mapper.TagMapper.tagCount       : <==      Total: 1
2022-04-06 10:26:46.913 DEBUG 12684 --- [http-nio-8086-exec-3] com.kwok.mapper.TagMapper.tagCount       : ==>  Preparing: select count(1) as count from blog_tag where tag_id=?
2022-04-06 10:26:46.913 DEBUG 12684 --- [http-nio-8086-exec-3] com.kwok.mapper.TagMapper.tagCount       : ==> Parameters: 13(Integer)
2022-04-06 10:26:46.913 DEBUG 12684 --- [http-nio-8086-exec-3] com.kwok.mapper.TagMapper.tagCount       : <==      Total: 1
2022-04-06 10:26:46.914 DEBUG 12684 --- [http-nio-8086-exec-3] com.kwok.mapper.TagMapper.tagCount       : ==>  Preparing: select count(1) as count from blog_tag where tag_id=?
2022-04-06 10:26:46.914 DEBUG 12684 --- [http-nio-8086-exec-3] com.kwok.mapper.TagMapper.tagCount       : ==> Parameters: 12(Integer)
2022-04-06 10:26:46.915 DEBUG 12684 --- [http-nio-8086-exec-3] com.kwok.mapper.TagMapper.tagCount       : <==      Total: 1
2022-04-06 10:26:46.915 DEBUG 12684 --- [http-nio-8086-exec-3] com.kwok.mapper.TagMapper.tagCount       : ==>  Preparing: select count(1) as count from blog_tag where tag_id=?
2022-04-06 10:26:46.915 DEBUG 12684 --- [http-nio-8086-exec-3] com.kwok.mapper.TagMapper.tagCount       : ==> Parameters: 11(Integer)
2022-04-06 10:26:46.916 DEBUG 12684 --- [http-nio-8086-exec-3] com.kwok.mapper.TagMapper.tagCount       : <==      Total: 1
2022-04-06 10:26:46.916 DEBUG 12684 --- [http-nio-8086-exec-3] com.kwok.mapper.TagMapper.tagCount       : ==>  Preparing: select count(1) as count from blog_tag where tag_id=?
2022-04-06 10:26:46.916 DEBUG 12684 --- [http-nio-8086-exec-3] com.kwok.mapper.TagMapper.tagCount       : ==> Parameters: 10(Integer)
2022-04-06 10:26:46.917 DEBUG 12684 --- [http-nio-8086-exec-3] com.kwok.mapper.TagMapper.tagCount       : <==      Total: 1
2022-04-06 10:26:46.917 DEBUG 12684 --- [http-nio-8086-exec-3] com.kwok.mapper.TagMapper.tagCount       : ==>  Preparing: select count(1) as count from blog_tag where tag_id=?
2022-04-06 10:26:46.917 DEBUG 12684 --- [http-nio-8086-exec-3] com.kwok.mapper.TagMapper.tagCount       : ==> Parameters: 9(Integer)
2022-04-06 10:26:46.918 DEBUG 12684 --- [http-nio-8086-exec-3] com.kwok.mapper.TagMapper.tagCount       : <==      Total: 1
2022-04-06 10:26:46.918 DEBUG 12684 --- [http-nio-8086-exec-3] com.kwok.mapper.TagMapper.tagCount       : ==>  Preparing: select count(1) as count from blog_tag where tag_id=?
2022-04-06 10:26:46.918 DEBUG 12684 --- [http-nio-8086-exec-3] com.kwok.mapper.TagMapper.tagCount       : ==> Parameters: 8(Integer)
2022-04-06 10:26:46.918 DEBUG 12684 --- [http-nio-8086-exec-3] com.kwok.mapper.TagMapper.tagCount       : <==      Total: 1
2022-04-06 10:26:46.918 DEBUG 12684 --- [http-nio-8086-exec-3] com.kwok.mapper.TagMapper.tagCount       : ==>  Preparing: select count(1) as count from blog_tag where tag_id=?
2022-04-06 10:26:46.918 DEBUG 12684 --- [http-nio-8086-exec-3] com.kwok.mapper.TagMapper.tagCount       : ==> Parameters: 7(Integer)
2022-04-06 10:26:46.919 DEBUG 12684 --- [http-nio-8086-exec-3] com.kwok.mapper.TagMapper.tagCount       : <==      Total: 1
2022-04-06 10:26:46.919 DEBUG 12684 --- [http-nio-8086-exec-3] com.kwok.mapper.TagMapper.tagCount       : ==>  Preparing: select count(1) as count from blog_tag where tag_id=?
2022-04-06 10:26:46.919 DEBUG 12684 --- [http-nio-8086-exec-3] com.kwok.mapper.TagMapper.tagCount       : ==> Parameters: 6(Integer)
2022-04-06 10:26:46.919 DEBUG 12684 --- [http-nio-8086-exec-3] com.kwok.mapper.TagMapper.tagCount       : <==      Total: 1
2022-04-06 10:26:46.919 DEBUG 12684 --- [http-nio-8086-exec-3] com.kwok.mapper.TagMapper.tagCount       : ==>  Preparing: select count(1) as count from blog_tag where tag_id=?
2022-04-06 10:26:46.919 DEBUG 12684 --- [http-nio-8086-exec-3] com.kwok.mapper.TagMapper.tagCount       : ==> Parameters: 5(Integer)
2022-04-06 10:26:46.920 DEBUG 12684 --- [http-nio-8086-exec-3] com.kwok.mapper.TagMapper.tagCount       : <==      Total: 1
2022-04-06 10:26:46.920 DEBUG 12684 --- [http-nio-8086-exec-3] com.kwok.mapper.TagMapper.tagCount       : ==>  Preparing: select count(1) as count from blog_tag where tag_id=?
2022-04-06 10:26:46.920 DEBUG 12684 --- [http-nio-8086-exec-3] com.kwok.mapper.TagMapper.tagCount       : ==> Parameters: 4(Integer)
2022-04-06 10:26:46.920 DEBUG 12684 --- [http-nio-8086-exec-3] com.kwok.mapper.TagMapper.tagCount       : <==      Total: 1
2022-04-06 10:26:46.920 DEBUG 12684 --- [http-nio-8086-exec-3] com.kwok.mapper.TagMapper.tagCount       : ==>  Preparing: select count(1) as count from blog_tag where tag_id=?
2022-04-06 10:26:46.920 DEBUG 12684 --- [http-nio-8086-exec-3] com.kwok.mapper.TagMapper.tagCount       : ==> Parameters: 3(Integer)
2022-04-06 10:26:46.920 DEBUG 12684 --- [http-nio-8086-exec-3] com.kwok.mapper.TagMapper.tagCount       : <==      Total: 1
2022-04-06 10:26:46.920 DEBUG 12684 --- [http-nio-8086-exec-3] com.kwok.mapper.TagMapper.tagCount       : ==>  Preparing: select count(1) as count from blog_tag where tag_id=?
2022-04-06 10:26:46.921 DEBUG 12684 --- [http-nio-8086-exec-3] com.kwok.mapper.TagMapper.tagCount       : ==> Parameters: 2(Integer)
2022-04-06 10:26:46.921 DEBUG 12684 --- [http-nio-8086-exec-3] com.kwok.mapper.TagMapper.tagCount       : <==      Total: 1
2022-04-06 10:26:46.921 DEBUG 12684 --- [http-nio-8086-exec-3] com.kwok.mapper.TagMapper.tagCount       : ==>  Preparing: select count(1) as count from blog_tag where tag_id=?
2022-04-06 10:26:46.921 DEBUG 12684 --- [http-nio-8086-exec-3] com.kwok.mapper.TagMapper.tagCount       : ==> Parameters: 1(Integer)
2022-04-06 10:26:46.921 DEBUG 12684 --- [http-nio-8086-exec-3] com.kwok.mapper.TagMapper.tagCount       : <==      Total: 1
2022-04-06 10:26:46.921 DEBUG 12684 --- [http-nio-8086-exec-3] c.k.m.BlogMapper.getBlogCountByTagId     : ==>  Preparing: select count(1) as count from blog_tag where tag_id = ?
2022-04-06 10:26:46.921 DEBUG 12684 --- [http-nio-8086-exec-3] c.k.m.BlogMapper.getBlogCountByTagId     : ==> Parameters: 14(Integer)
2022-04-06 10:26:46.922 DEBUG 12684 --- [http-nio-8086-exec-3] c.k.m.BlogMapper.getBlogCountByTagId     : <==      Total: 1
2022-04-06 10:26:46.922 DEBUG 12684 --- [http-nio-8086-exec-3] c.k.m.BlogMapper.getBlogListByTagId      : ==>  Preparing: select b.*,bt.tag_id,t.name from blog b,blog_tag bt,tag t where bt.blog_id=b.id and bt.tag_id=t.id and bt.tag_id=? order by b.id desc limit ?,?
2022-04-06 10:26:46.922 DEBUG 12684 --- [http-nio-8086-exec-3] c.k.m.BlogMapper.getBlogListByTagId      : ==> Parameters: 14(Integer), 0(Integer), 5(Integer)
2022-04-06 10:26:46.925 DEBUG 12684 --- [http-nio-8086-exec-3] c.k.m.BlogMapper.getBlogListByTagId      : <==      Total: 5
2022-04-06 10:26:46.925 DEBUG 12684 --- [http-nio-8086-exec-3] com.kwok.mapper.TypeMapper.getTypeById   : ==>  Preparing: select * from type where id = ?
2022-04-06 10:26:46.925 DEBUG 12684 --- [http-nio-8086-exec-3] com.kwok.mapper.TypeMapper.getTypeById   : ==> Parameters: 6(Integer)
2022-04-06 10:26:46.925 DEBUG 12684 --- [http-nio-8086-exec-3] com.kwok.mapper.TypeMapper.getTypeById   : <==      Total: 1
2022-04-06 10:26:46.926 DEBUG 12684 --- [http-nio-8086-exec-3] c.kwok.mapper.TagMapper.getTagsByBlogId  : ==>  Preparing: select t.* from tag t,blog_tag bt where t.id=bt.tag_id and bt.blog_id=?
2022-04-06 10:26:46.926 DEBUG 12684 --- [http-nio-8086-exec-3] c.kwok.mapper.TagMapper.getTagsByBlogId  : ==> Parameters: 66(Integer)
2022-04-06 10:26:46.927 DEBUG 12684 --- [http-nio-8086-exec-3] c.kwok.mapper.TagMapper.getTagsByBlogId  : <==      Total: 3
2022-04-06 10:26:46.927 DEBUG 12684 --- [http-nio-8086-exec-3] com.kwok.mapper.TypeMapper.getTypeById   : ==>  Preparing: select * from type where id = ?
2022-04-06 10:26:46.927 DEBUG 12684 --- [http-nio-8086-exec-3] com.kwok.mapper.TypeMapper.getTypeById   : ==> Parameters: 6(Integer)
2022-04-06 10:26:46.928 DEBUG 12684 --- [http-nio-8086-exec-3] com.kwok.mapper.TypeMapper.getTypeById   : <==      Total: 1
2022-04-06 10:26:46.928 DEBUG 12684 --- [http-nio-8086-exec-3] c.kwok.mapper.TagMapper.getTagsByBlogId  : ==>  Preparing: select t.* from tag t,blog_tag bt where t.id=bt.tag_id and bt.blog_id=?
2022-04-06 10:26:46.928 DEBUG 12684 --- [http-nio-8086-exec-3] c.kwok.mapper.TagMapper.getTagsByBlogId  : ==> Parameters: 65(Integer)
2022-04-06 10:26:46.928 DEBUG 12684 --- [http-nio-8086-exec-3] c.kwok.mapper.TagMapper.getTagsByBlogId  : <==      Total: 3
2022-04-06 10:26:46.928 DEBUG 12684 --- [http-nio-8086-exec-3] com.kwok.mapper.TypeMapper.getTypeById   : ==>  Preparing: select * from type where id = ?
2022-04-06 10:26:46.928 DEBUG 12684 --- [http-nio-8086-exec-3] com.kwok.mapper.TypeMapper.getTypeById   : ==> Parameters: 6(Integer)
2022-04-06 10:26:46.929 DEBUG 12684 --- [http-nio-8086-exec-3] com.kwok.mapper.TypeMapper.getTypeById   : <==      Total: 1
2022-04-06 10:26:46.929 DEBUG 12684 --- [http-nio-8086-exec-3] c.kwok.mapper.TagMapper.getTagsByBlogId  : ==>  Preparing: select t.* from tag t,blog_tag bt where t.id=bt.tag_id and bt.blog_id=?
2022-04-06 10:26:46.929 DEBUG 12684 --- [http-nio-8086-exec-3] c.kwok.mapper.TagMapper.getTagsByBlogId  : ==> Parameters: 64(Integer)
2022-04-06 10:26:46.929 DEBUG 12684 --- [http-nio-8086-exec-3] c.kwok.mapper.TagMapper.getTagsByBlogId  : <==      Total: 3
2022-04-06 10:26:46.929 DEBUG 12684 --- [http-nio-8086-exec-3] com.kwok.mapper.TypeMapper.getTypeById   : ==>  Preparing: select * from type where id = ?
2022-04-06 10:26:46.929 DEBUG 12684 --- [http-nio-8086-exec-3] com.kwok.mapper.TypeMapper.getTypeById   : ==> Parameters: 6(Integer)
2022-04-06 10:26:46.930 DEBUG 12684 --- [http-nio-8086-exec-3] com.kwok.mapper.TypeMapper.getTypeById   : <==      Total: 1
2022-04-06 10:26:46.930 DEBUG 12684 --- [http-nio-8086-exec-3] c.kwok.mapper.TagMapper.getTagsByBlogId  : ==>  Preparing: select t.* from tag t,blog_tag bt where t.id=bt.tag_id and bt.blog_id=?
2022-04-06 10:26:46.930 DEBUG 12684 --- [http-nio-8086-exec-3] c.kwok.mapper.TagMapper.getTagsByBlogId  : ==> Parameters: 63(Integer)
2022-04-06 10:26:46.931 DEBUG 12684 --- [http-nio-8086-exec-3] c.kwok.mapper.TagMapper.getTagsByBlogId  : <==      Total: 3
2022-04-06 10:26:46.931 DEBUG 12684 --- [http-nio-8086-exec-3] com.kwok.mapper.TypeMapper.getTypeById   : ==>  Preparing: select * from type where id = ?
2022-04-06 10:26:46.931 DEBUG 12684 --- [http-nio-8086-exec-3] com.kwok.mapper.TypeMapper.getTypeById   : ==> Parameters: 6(Integer)
2022-04-06 10:26:46.932 DEBUG 12684 --- [http-nio-8086-exec-3] com.kwok.mapper.TypeMapper.getTypeById   : <==      Total: 1
2022-04-06 10:26:46.932 DEBUG 12684 --- [http-nio-8086-exec-3] c.kwok.mapper.TagMapper.getTagsByBlogId  : ==>  Preparing: select t.* from tag t,blog_tag bt where t.id=bt.tag_id and bt.blog_id=?
2022-04-06 10:26:46.932 DEBUG 12684 --- [http-nio-8086-exec-3] c.kwok.mapper.TagMapper.getTagsByBlogId  : ==> Parameters: 62(Integer)
2022-04-06 10:26:46.932 DEBUG 12684 --- [http-nio-8086-exec-3] c.kwok.mapper.TagMapper.getTagsByBlogId  : <==      Total: 3
2022-04-06 10:26:46.932 DEBUG 12684 --- [http-nio-8086-exec-3] c.k.m.BlogMapper.getPreBlogsByTagId      : ==>  Preparing: select b.* from blog b,blog_tag bt where b.id = bt.blog_id and bt.tag_id=? and b.id > ?
2022-04-06 10:26:46.932 DEBUG 12684 --- [http-nio-8086-exec-3] c.k.m.BlogMapper.getPreBlogsByTagId      : ==> Parameters: 14(Integer), 66(Integer)
2022-04-06 10:26:46.933 DEBUG 12684 --- [http-nio-8086-exec-3] c.k.m.BlogMapper.getPreBlogsByTagId      : <==      Total: 0
2022-04-06 10:26:46.933 DEBUG 12684 --- [http-nio-8086-exec-3] c.k.m.BlogMapper.getNextBlogsByTagId     : ==>  Preparing: select b.* from blog b,blog_tag bt where b.id = bt.blog_id and bt.tag_id=? and ? > b.id
2022-04-06 10:26:46.933 DEBUG 12684 --- [http-nio-8086-exec-3] c.k.m.BlogMapper.getNextBlogsByTagId     : ==> Parameters: 14(Integer), 62(Integer)
2022-04-06 10:26:46.934 DEBUG 12684 --- [http-nio-8086-exec-3] c.k.m.BlogMapper.getNextBlogsByTagId     : <==      Total: 4
2022-04-06 10:26:46.934  INFO 12684 --- [http-nio-8086-exec-3] com.kwok.aspect.LogAspect                : Result : tags
2022-04-06 10:26:52.447  INFO 12684 --- [http-nio-8086-exec-1] com.kwok.aspect.LogAspect                : Request : {url='http://localhost:8086/archives', ip='0:0:0:0:0:0:0:1', classMethod='com.kwok.controller.ArchiveShowController.archives', args=[{}]}
2022-04-06 10:26:52.447 DEBUG 12684 --- [http-nio-8086-exec-1] c.kwok.mapper.BlogMapper.findGroupYear   : ==>  Preparing: select date_format(b.update_time,'%Y') as year from blog b group by year order by year desc
2022-04-06 10:26:52.448 DEBUG 12684 --- [http-nio-8086-exec-1] c.kwok.mapper.BlogMapper.findGroupYear   : ==> Parameters: 
2022-04-06 10:26:52.448 DEBUG 12684 --- [http-nio-8086-exec-1] c.kwok.mapper.BlogMapper.findGroupYear   : <==      Total: 1
2022-04-06 10:26:52.449 DEBUG 12684 --- [http-nio-8086-exec-1] c.kwok.mapper.BlogMapper.findBlogByYear  : ==>  Preparing: select * from blog b where date_format(b.update_time,'%Y') = ?
2022-04-06 10:26:52.449 DEBUG 12684 --- [http-nio-8086-exec-1] c.kwok.mapper.BlogMapper.findBlogByYear  : ==> Parameters: 2022(String)
2022-04-06 10:26:52.486 DEBUG 12684 --- [http-nio-8086-exec-1] c.kwok.mapper.BlogMapper.findBlogByYear  : <==      Total: 89
2022-04-06 10:26:52.486 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.BlogMapper.getBlogCount  : ==>  Preparing: select count(1) as count from blog
2022-04-06 10:26:52.486 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.BlogMapper.getBlogCount  : ==> Parameters: 
2022-04-06 10:26:52.487 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.BlogMapper.getBlogCount  : <==      Total: 1
2022-04-06 10:26:52.488  INFO 12684 --- [http-nio-8086-exec-1] com.kwok.aspect.LogAspect                : Result : archives
2022-04-06 10:26:54.022  INFO 12684 --- [http-nio-8086-exec-3] com.kwok.aspect.LogAspect                : Request : {url='http://localhost:8086/types/-1', ip='0:0:0:0:0:0:0:1', classMethod='com.kwok.controller.TypeShowController.types', args=[-1, org.apache.catalina.connector.RequestFacade@6d43fb79, {}]}
2022-04-06 10:26:54.022 DEBUG 12684 --- [http-nio-8086-exec-3] com.kwok.mapper.TypeMapper.listType      : ==>  Preparing: select * from type order by id desc
2022-04-06 10:26:54.023 DEBUG 12684 --- [http-nio-8086-exec-3] com.kwok.mapper.TypeMapper.listType      : ==> Parameters: 
2022-04-06 10:26:54.023 DEBUG 12684 --- [http-nio-8086-exec-3] com.kwok.mapper.TypeMapper.listType      : <==      Total: 7
2022-04-06 10:26:54.023 DEBUG 12684 --- [http-nio-8086-exec-3] c.k.m.BlogMapper.getBlogCountByTypeId    : ==>  Preparing: select count(1) as count from blog where type_id = ?
2022-04-06 10:26:54.024 DEBUG 12684 --- [http-nio-8086-exec-3] c.k.m.BlogMapper.getBlogCountByTypeId    : ==> Parameters: 7(Integer)
2022-04-06 10:26:54.024 DEBUG 12684 --- [http-nio-8086-exec-3] c.k.m.BlogMapper.getBlogCountByTypeId    : <==      Total: 1
2022-04-06 10:26:54.024 DEBUG 12684 --- [http-nio-8086-exec-3] c.k.m.BlogMapper.getBlogCountByTypeId    : ==>  Preparing: select count(1) as count from blog where type_id = ?
2022-04-06 10:26:54.024 DEBUG 12684 --- [http-nio-8086-exec-3] c.k.m.BlogMapper.getBlogCountByTypeId    : ==> Parameters: 6(Integer)
2022-04-06 10:26:54.024 DEBUG 12684 --- [http-nio-8086-exec-3] c.k.m.BlogMapper.getBlogCountByTypeId    : <==      Total: 1
2022-04-06 10:26:54.025 DEBUG 12684 --- [http-nio-8086-exec-3] c.k.m.BlogMapper.getBlogCountByTypeId    : ==>  Preparing: select count(1) as count from blog where type_id = ?
2022-04-06 10:26:54.025 DEBUG 12684 --- [http-nio-8086-exec-3] c.k.m.BlogMapper.getBlogCountByTypeId    : ==> Parameters: 5(Integer)
2022-04-06 10:26:54.025 DEBUG 12684 --- [http-nio-8086-exec-3] c.k.m.BlogMapper.getBlogCountByTypeId    : <==      Total: 1
2022-04-06 10:26:54.025 DEBUG 12684 --- [http-nio-8086-exec-3] c.k.m.BlogMapper.getBlogCountByTypeId    : ==>  Preparing: select count(1) as count from blog where type_id = ?
2022-04-06 10:26:54.025 DEBUG 12684 --- [http-nio-8086-exec-3] c.k.m.BlogMapper.getBlogCountByTypeId    : ==> Parameters: 4(Integer)
2022-04-06 10:26:54.025 DEBUG 12684 --- [http-nio-8086-exec-3] c.k.m.BlogMapper.getBlogCountByTypeId    : <==      Total: 1
2022-04-06 10:26:54.025 DEBUG 12684 --- [http-nio-8086-exec-3] c.k.m.BlogMapper.getBlogCountByTypeId    : ==>  Preparing: select count(1) as count from blog where type_id = ?
2022-04-06 10:26:54.025 DEBUG 12684 --- [http-nio-8086-exec-3] c.k.m.BlogMapper.getBlogCountByTypeId    : ==> Parameters: 3(Integer)
2022-04-06 10:26:54.025 DEBUG 12684 --- [http-nio-8086-exec-3] c.k.m.BlogMapper.getBlogCountByTypeId    : <==      Total: 1
2022-04-06 10:26:54.026 DEBUG 12684 --- [http-nio-8086-exec-3] c.k.m.BlogMapper.getBlogCountByTypeId    : ==>  Preparing: select count(1) as count from blog where type_id = ?
2022-04-06 10:26:54.026 DEBUG 12684 --- [http-nio-8086-exec-3] c.k.m.BlogMapper.getBlogCountByTypeId    : ==> Parameters: 2(Integer)
2022-04-06 10:26:54.026 DEBUG 12684 --- [http-nio-8086-exec-3] c.k.m.BlogMapper.getBlogCountByTypeId    : <==      Total: 1
2022-04-06 10:26:54.026 DEBUG 12684 --- [http-nio-8086-exec-3] c.k.m.BlogMapper.getBlogCountByTypeId    : ==>  Preparing: select count(1) as count from blog where type_id = ?
2022-04-06 10:26:54.026 DEBUG 12684 --- [http-nio-8086-exec-3] c.k.m.BlogMapper.getBlogCountByTypeId    : ==> Parameters: 1(Integer)
2022-04-06 10:26:54.026 DEBUG 12684 --- [http-nio-8086-exec-3] c.k.m.BlogMapper.getBlogCountByTypeId    : <==      Total: 1
2022-04-06 10:26:54.026 DEBUG 12684 --- [http-nio-8086-exec-3] c.k.m.BlogMapper.getBlogCountByTypeId    : ==>  Preparing: select count(1) as count from blog where type_id = ?
2022-04-06 10:26:54.026 DEBUG 12684 --- [http-nio-8086-exec-3] c.k.m.BlogMapper.getBlogCountByTypeId    : ==> Parameters: 7(Integer)
2022-04-06 10:26:54.026 DEBUG 12684 --- [http-nio-8086-exec-3] c.k.m.BlogMapper.getBlogCountByTypeId    : <==      Total: 1
2022-04-06 10:26:54.027 DEBUG 12684 --- [http-nio-8086-exec-3] c.k.m.BlogMapper.getBlogListByTypeId     : ==>  Preparing: select b.*,t.name as typeName from blog b,type t where b.type_id=t.id and b.type_id=? order by b.id desc limit ?,?
2022-04-06 10:26:54.027 DEBUG 12684 --- [http-nio-8086-exec-3] c.k.m.BlogMapper.getBlogListByTypeId     : ==> Parameters: 7(Integer), 0(Integer), 5(Integer)
2022-04-06 10:26:54.029 DEBUG 12684 --- [http-nio-8086-exec-3] c.k.m.BlogMapper.getBlogListByTypeId     : <==      Total: 5
2022-04-06 10:26:54.029 DEBUG 12684 --- [http-nio-8086-exec-3] c.k.mapper.BlogMapper.getPreBlogsById    : ==>  Preparing: select * from blog where type_id=? and id > ?
2022-04-06 10:26:54.029 DEBUG 12684 --- [http-nio-8086-exec-3] c.k.mapper.BlogMapper.getPreBlogsById    : ==> Parameters: 7(Integer), 89(Integer)
2022-04-06 10:26:54.030 DEBUG 12684 --- [http-nio-8086-exec-3] c.k.mapper.BlogMapper.getPreBlogsById    : <==      Total: 0
2022-04-06 10:26:54.031 DEBUG 12684 --- [http-nio-8086-exec-3] c.k.mapper.BlogMapper.getNextBlogsById   : ==>  Preparing: select * from blog where type_id=? and ? > id
2022-04-06 10:26:54.031 DEBUG 12684 --- [http-nio-8086-exec-3] c.k.mapper.BlogMapper.getNextBlogsById   : ==> Parameters: 7(Integer), 85(Integer)
2022-04-06 10:26:54.033 DEBUG 12684 --- [http-nio-8086-exec-3] c.k.mapper.BlogMapper.getNextBlogsById   : <==      Total: 2
2022-04-06 10:26:54.033  INFO 12684 --- [http-nio-8086-exec-3] com.kwok.aspect.LogAspect                : Result : types
2022-04-06 10:26:56.264  INFO 12684 --- [http-nio-8086-exec-9] com.kwok.aspect.LogAspect                : Request : {url='http://localhost:8086/tags/-1', ip='0:0:0:0:0:0:0:1', classMethod='com.kwok.controller.TagShowController.tags', args=[-1, org.apache.catalina.connector.RequestFacade@253c6fd2, {}]}
2022-04-06 10:26:56.265 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.TagMapper.listTag        : ==>  Preparing: select * from tag order by id desc
2022-04-06 10:26:56.265 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.TagMapper.listTag        : ==> Parameters: 
2022-04-06 10:26:56.265 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.TagMapper.listTag        : <==      Total: 14
2022-04-06 10:26:56.265 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.TagMapper.tagCount       : ==>  Preparing: select count(1) as count from blog_tag where tag_id=?
2022-04-06 10:26:56.266 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.TagMapper.tagCount       : ==> Parameters: 14(Integer)
2022-04-06 10:26:56.266 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.TagMapper.tagCount       : <==      Total: 1
2022-04-06 10:26:56.267 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.TagMapper.tagCount       : ==>  Preparing: select count(1) as count from blog_tag where tag_id=?
2022-04-06 10:26:56.267 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.TagMapper.tagCount       : ==> Parameters: 13(Integer)
2022-04-06 10:26:56.267 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.TagMapper.tagCount       : <==      Total: 1
2022-04-06 10:26:56.267 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.TagMapper.tagCount       : ==>  Preparing: select count(1) as count from blog_tag where tag_id=?
2022-04-06 10:26:56.267 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.TagMapper.tagCount       : ==> Parameters: 12(Integer)
2022-04-06 10:26:56.268 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.TagMapper.tagCount       : <==      Total: 1
2022-04-06 10:26:56.268 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.TagMapper.tagCount       : ==>  Preparing: select count(1) as count from blog_tag where tag_id=?
2022-04-06 10:26:56.268 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.TagMapper.tagCount       : ==> Parameters: 11(Integer)
2022-04-06 10:26:56.268 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.TagMapper.tagCount       : <==      Total: 1
2022-04-06 10:26:56.268 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.TagMapper.tagCount       : ==>  Preparing: select count(1) as count from blog_tag where tag_id=?
2022-04-06 10:26:56.268 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.TagMapper.tagCount       : ==> Parameters: 10(Integer)
2022-04-06 10:26:56.269 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.TagMapper.tagCount       : <==      Total: 1
2022-04-06 10:26:56.269 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.TagMapper.tagCount       : ==>  Preparing: select count(1) as count from blog_tag where tag_id=?
2022-04-06 10:26:56.269 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.TagMapper.tagCount       : ==> Parameters: 9(Integer)
2022-04-06 10:26:56.269 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.TagMapper.tagCount       : <==      Total: 1
2022-04-06 10:26:56.269 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.TagMapper.tagCount       : ==>  Preparing: select count(1) as count from blog_tag where tag_id=?
2022-04-06 10:26:56.269 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.TagMapper.tagCount       : ==> Parameters: 8(Integer)
2022-04-06 10:26:56.269 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.TagMapper.tagCount       : <==      Total: 1
2022-04-06 10:26:56.270 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.TagMapper.tagCount       : ==>  Preparing: select count(1) as count from blog_tag where tag_id=?
2022-04-06 10:26:56.270 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.TagMapper.tagCount       : ==> Parameters: 7(Integer)
2022-04-06 10:26:56.270 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.TagMapper.tagCount       : <==      Total: 1
2022-04-06 10:26:56.270 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.TagMapper.tagCount       : ==>  Preparing: select count(1) as count from blog_tag where tag_id=?
2022-04-06 10:26:56.270 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.TagMapper.tagCount       : ==> Parameters: 6(Integer)
2022-04-06 10:26:56.271 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.TagMapper.tagCount       : <==      Total: 1
2022-04-06 10:26:56.271 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.TagMapper.tagCount       : ==>  Preparing: select count(1) as count from blog_tag where tag_id=?
2022-04-06 10:26:56.271 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.TagMapper.tagCount       : ==> Parameters: 5(Integer)
2022-04-06 10:26:56.271 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.TagMapper.tagCount       : <==      Total: 1
2022-04-06 10:26:56.272 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.TagMapper.tagCount       : ==>  Preparing: select count(1) as count from blog_tag where tag_id=?
2022-04-06 10:26:56.272 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.TagMapper.tagCount       : ==> Parameters: 4(Integer)
2022-04-06 10:26:56.273 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.TagMapper.tagCount       : <==      Total: 1
2022-04-06 10:26:56.273 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.TagMapper.tagCount       : ==>  Preparing: select count(1) as count from blog_tag where tag_id=?
2022-04-06 10:26:56.273 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.TagMapper.tagCount       : ==> Parameters: 3(Integer)
2022-04-06 10:26:56.274 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.TagMapper.tagCount       : <==      Total: 1
2022-04-06 10:26:56.274 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.TagMapper.tagCount       : ==>  Preparing: select count(1) as count from blog_tag where tag_id=?
2022-04-06 10:26:56.274 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.TagMapper.tagCount       : ==> Parameters: 2(Integer)
2022-04-06 10:26:56.275 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.TagMapper.tagCount       : <==      Total: 1
2022-04-06 10:26:56.275 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.TagMapper.tagCount       : ==>  Preparing: select count(1) as count from blog_tag where tag_id=?
2022-04-06 10:26:56.275 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.TagMapper.tagCount       : ==> Parameters: 1(Integer)
2022-04-06 10:26:56.276 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.TagMapper.tagCount       : <==      Total: 1
2022-04-06 10:26:56.276 DEBUG 12684 --- [http-nio-8086-exec-9] c.k.m.BlogMapper.getBlogCountByTagId     : ==>  Preparing: select count(1) as count from blog_tag where tag_id = ?
2022-04-06 10:26:56.276 DEBUG 12684 --- [http-nio-8086-exec-9] c.k.m.BlogMapper.getBlogCountByTagId     : ==> Parameters: 14(Integer)
2022-04-06 10:26:56.277 DEBUG 12684 --- [http-nio-8086-exec-9] c.k.m.BlogMapper.getBlogCountByTagId     : <==      Total: 1
2022-04-06 10:26:56.277 DEBUG 12684 --- [http-nio-8086-exec-9] c.k.m.BlogMapper.getBlogListByTagId      : ==>  Preparing: select b.*,bt.tag_id,t.name from blog b,blog_tag bt,tag t where bt.blog_id=b.id and bt.tag_id=t.id and bt.tag_id=? order by b.id desc limit ?,?
2022-04-06 10:26:56.277 DEBUG 12684 --- [http-nio-8086-exec-9] c.k.m.BlogMapper.getBlogListByTagId      : ==> Parameters: 14(Integer), 0(Integer), 5(Integer)
2022-04-06 10:26:56.281 DEBUG 12684 --- [http-nio-8086-exec-9] c.k.m.BlogMapper.getBlogListByTagId      : <==      Total: 5
2022-04-06 10:26:56.281 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.TypeMapper.getTypeById   : ==>  Preparing: select * from type where id = ?
2022-04-06 10:26:56.281 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.TypeMapper.getTypeById   : ==> Parameters: 6(Integer)
2022-04-06 10:26:56.282 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.TypeMapper.getTypeById   : <==      Total: 1
2022-04-06 10:26:56.282 DEBUG 12684 --- [http-nio-8086-exec-9] c.kwok.mapper.TagMapper.getTagsByBlogId  : ==>  Preparing: select t.* from tag t,blog_tag bt where t.id=bt.tag_id and bt.blog_id=?
2022-04-06 10:26:56.282 DEBUG 12684 --- [http-nio-8086-exec-9] c.kwok.mapper.TagMapper.getTagsByBlogId  : ==> Parameters: 66(Integer)
2022-04-06 10:26:56.282 DEBUG 12684 --- [http-nio-8086-exec-9] c.kwok.mapper.TagMapper.getTagsByBlogId  : <==      Total: 3
2022-04-06 10:26:56.282 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.TypeMapper.getTypeById   : ==>  Preparing: select * from type where id = ?
2022-04-06 10:26:56.282 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.TypeMapper.getTypeById   : ==> Parameters: 6(Integer)
2022-04-06 10:26:56.283 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.TypeMapper.getTypeById   : <==      Total: 1
2022-04-06 10:26:56.283 DEBUG 12684 --- [http-nio-8086-exec-9] c.kwok.mapper.TagMapper.getTagsByBlogId  : ==>  Preparing: select t.* from tag t,blog_tag bt where t.id=bt.tag_id and bt.blog_id=?
2022-04-06 10:26:56.283 DEBUG 12684 --- [http-nio-8086-exec-9] c.kwok.mapper.TagMapper.getTagsByBlogId  : ==> Parameters: 65(Integer)
2022-04-06 10:26:56.283 DEBUG 12684 --- [http-nio-8086-exec-9] c.kwok.mapper.TagMapper.getTagsByBlogId  : <==      Total: 3
2022-04-06 10:26:56.283 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.TypeMapper.getTypeById   : ==>  Preparing: select * from type where id = ?
2022-04-06 10:26:56.283 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.TypeMapper.getTypeById   : ==> Parameters: 6(Integer)
2022-04-06 10:26:56.284 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.TypeMapper.getTypeById   : <==      Total: 1
2022-04-06 10:26:56.284 DEBUG 12684 --- [http-nio-8086-exec-9] c.kwok.mapper.TagMapper.getTagsByBlogId  : ==>  Preparing: select t.* from tag t,blog_tag bt where t.id=bt.tag_id and bt.blog_id=?
2022-04-06 10:26:56.284 DEBUG 12684 --- [http-nio-8086-exec-9] c.kwok.mapper.TagMapper.getTagsByBlogId  : ==> Parameters: 64(Integer)
2022-04-06 10:26:56.284 DEBUG 12684 --- [http-nio-8086-exec-9] c.kwok.mapper.TagMapper.getTagsByBlogId  : <==      Total: 3
2022-04-06 10:26:56.284 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.TypeMapper.getTypeById   : ==>  Preparing: select * from type where id = ?
2022-04-06 10:26:56.284 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.TypeMapper.getTypeById   : ==> Parameters: 6(Integer)
2022-04-06 10:26:56.285 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.TypeMapper.getTypeById   : <==      Total: 1
2022-04-06 10:26:56.285 DEBUG 12684 --- [http-nio-8086-exec-9] c.kwok.mapper.TagMapper.getTagsByBlogId  : ==>  Preparing: select t.* from tag t,blog_tag bt where t.id=bt.tag_id and bt.blog_id=?
2022-04-06 10:26:56.285 DEBUG 12684 --- [http-nio-8086-exec-9] c.kwok.mapper.TagMapper.getTagsByBlogId  : ==> Parameters: 63(Integer)
2022-04-06 10:26:56.285 DEBUG 12684 --- [http-nio-8086-exec-9] c.kwok.mapper.TagMapper.getTagsByBlogId  : <==      Total: 3
2022-04-06 10:26:56.285 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.TypeMapper.getTypeById   : ==>  Preparing: select * from type where id = ?
2022-04-06 10:26:56.285 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.TypeMapper.getTypeById   : ==> Parameters: 6(Integer)
2022-04-06 10:26:56.286 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.TypeMapper.getTypeById   : <==      Total: 1
2022-04-06 10:26:56.286 DEBUG 12684 --- [http-nio-8086-exec-9] c.kwok.mapper.TagMapper.getTagsByBlogId  : ==>  Preparing: select t.* from tag t,blog_tag bt where t.id=bt.tag_id and bt.blog_id=?
2022-04-06 10:26:56.286 DEBUG 12684 --- [http-nio-8086-exec-9] c.kwok.mapper.TagMapper.getTagsByBlogId  : ==> Parameters: 62(Integer)
2022-04-06 10:26:56.286 DEBUG 12684 --- [http-nio-8086-exec-9] c.kwok.mapper.TagMapper.getTagsByBlogId  : <==      Total: 3
2022-04-06 10:26:56.286 DEBUG 12684 --- [http-nio-8086-exec-9] c.k.m.BlogMapper.getPreBlogsByTagId      : ==>  Preparing: select b.* from blog b,blog_tag bt where b.id = bt.blog_id and bt.tag_id=? and b.id > ?
2022-04-06 10:26:56.286 DEBUG 12684 --- [http-nio-8086-exec-9] c.k.m.BlogMapper.getPreBlogsByTagId      : ==> Parameters: 14(Integer), 66(Integer)
2022-04-06 10:26:56.287 DEBUG 12684 --- [http-nio-8086-exec-9] c.k.m.BlogMapper.getPreBlogsByTagId      : <==      Total: 0
2022-04-06 10:26:56.287 DEBUG 12684 --- [http-nio-8086-exec-9] c.k.m.BlogMapper.getNextBlogsByTagId     : ==>  Preparing: select b.* from blog b,blog_tag bt where b.id = bt.blog_id and bt.tag_id=? and ? > b.id
2022-04-06 10:26:56.287 DEBUG 12684 --- [http-nio-8086-exec-9] c.k.m.BlogMapper.getNextBlogsByTagId     : ==> Parameters: 14(Integer), 62(Integer)
2022-04-06 10:26:56.288 DEBUG 12684 --- [http-nio-8086-exec-9] c.k.m.BlogMapper.getNextBlogsByTagId     : <==      Total: 4
2022-04-06 10:26:56.288  INFO 12684 --- [http-nio-8086-exec-9] com.kwok.aspect.LogAspect                : Result : tags
2022-04-06 10:27:07.430  INFO 12684 --- [http-nio-8086-exec-10] com.kwok.aspect.LogAspect                : Request : {url='http://localhost:8086/tags/1', ip='0:0:0:0:0:0:0:1', classMethod='com.kwok.controller.TagShowController.tags', args=[1, org.apache.catalina.connector.RequestFacade@2bd08bff, {}]}
2022-04-06 10:27:07.430 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.TagMapper.listTag        : ==>  Preparing: select * from tag order by id desc
2022-04-06 10:27:07.431 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.TagMapper.listTag        : ==> Parameters: 
2022-04-06 10:27:07.431 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.TagMapper.listTag        : <==      Total: 14
2022-04-06 10:27:07.431 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.TagMapper.tagCount       : ==>  Preparing: select count(1) as count from blog_tag where tag_id=?
2022-04-06 10:27:07.431 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.TagMapper.tagCount       : ==> Parameters: 14(Integer)
2022-04-06 10:27:07.432 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.TagMapper.tagCount       : <==      Total: 1
2022-04-06 10:27:07.432 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.TagMapper.tagCount       : ==>  Preparing: select count(1) as count from blog_tag where tag_id=?
2022-04-06 10:27:07.432 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.TagMapper.tagCount       : ==> Parameters: 13(Integer)
2022-04-06 10:27:07.433 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.TagMapper.tagCount       : <==      Total: 1
2022-04-06 10:27:07.433 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.TagMapper.tagCount       : ==>  Preparing: select count(1) as count from blog_tag where tag_id=?
2022-04-06 10:27:07.433 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.TagMapper.tagCount       : ==> Parameters: 12(Integer)
2022-04-06 10:27:07.433 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.TagMapper.tagCount       : <==      Total: 1
2022-04-06 10:27:07.434 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.TagMapper.tagCount       : ==>  Preparing: select count(1) as count from blog_tag where tag_id=?
2022-04-06 10:27:07.434 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.TagMapper.tagCount       : ==> Parameters: 11(Integer)
2022-04-06 10:27:07.434 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.TagMapper.tagCount       : <==      Total: 1
2022-04-06 10:27:07.434 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.TagMapper.tagCount       : ==>  Preparing: select count(1) as count from blog_tag where tag_id=?
2022-04-06 10:27:07.434 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.TagMapper.tagCount       : ==> Parameters: 10(Integer)
2022-04-06 10:27:07.434 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.TagMapper.tagCount       : <==      Total: 1
2022-04-06 10:27:07.434 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.TagMapper.tagCount       : ==>  Preparing: select count(1) as count from blog_tag where tag_id=?
2022-04-06 10:27:07.434 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.TagMapper.tagCount       : ==> Parameters: 9(Integer)
2022-04-06 10:27:07.435 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.TagMapper.tagCount       : <==      Total: 1
2022-04-06 10:27:07.435 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.TagMapper.tagCount       : ==>  Preparing: select count(1) as count from blog_tag where tag_id=?
2022-04-06 10:27:07.435 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.TagMapper.tagCount       : ==> Parameters: 8(Integer)
2022-04-06 10:27:07.435 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.TagMapper.tagCount       : <==      Total: 1
2022-04-06 10:27:07.435 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.TagMapper.tagCount       : ==>  Preparing: select count(1) as count from blog_tag where tag_id=?
2022-04-06 10:27:07.435 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.TagMapper.tagCount       : ==> Parameters: 7(Integer)
2022-04-06 10:27:07.435 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.TagMapper.tagCount       : <==      Total: 1
2022-04-06 10:27:07.436 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.TagMapper.tagCount       : ==>  Preparing: select count(1) as count from blog_tag where tag_id=?
2022-04-06 10:27:07.436 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.TagMapper.tagCount       : ==> Parameters: 6(Integer)
2022-04-06 10:27:07.436 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.TagMapper.tagCount       : <==      Total: 1
2022-04-06 10:27:07.436 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.TagMapper.tagCount       : ==>  Preparing: select count(1) as count from blog_tag where tag_id=?
2022-04-06 10:27:07.436 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.TagMapper.tagCount       : ==> Parameters: 5(Integer)
2022-04-06 10:27:07.437 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.TagMapper.tagCount       : <==      Total: 1
2022-04-06 10:27:07.437 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.TagMapper.tagCount       : ==>  Preparing: select count(1) as count from blog_tag where tag_id=?
2022-04-06 10:27:07.437 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.TagMapper.tagCount       : ==> Parameters: 4(Integer)
2022-04-06 10:27:07.437 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.TagMapper.tagCount       : <==      Total: 1
2022-04-06 10:27:07.437 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.TagMapper.tagCount       : ==>  Preparing: select count(1) as count from blog_tag where tag_id=?
2022-04-06 10:27:07.437 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.TagMapper.tagCount       : ==> Parameters: 3(Integer)
2022-04-06 10:27:07.437 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.TagMapper.tagCount       : <==      Total: 1
2022-04-06 10:27:07.438 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.TagMapper.tagCount       : ==>  Preparing: select count(1) as count from blog_tag where tag_id=?
2022-04-06 10:27:07.438 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.TagMapper.tagCount       : ==> Parameters: 2(Integer)
2022-04-06 10:27:07.438 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.TagMapper.tagCount       : <==      Total: 1
2022-04-06 10:27:07.438 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.TagMapper.tagCount       : ==>  Preparing: select count(1) as count from blog_tag where tag_id=?
2022-04-06 10:27:07.438 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.TagMapper.tagCount       : ==> Parameters: 1(Integer)
2022-04-06 10:27:07.439 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.TagMapper.tagCount       : <==      Total: 1
2022-04-06 10:27:07.439 DEBUG 12684 --- [http-nio-8086-exec-10] c.k.m.BlogMapper.getBlogCountByTagId     : ==>  Preparing: select count(1) as count from blog_tag where tag_id = ?
2022-04-06 10:27:07.439 DEBUG 12684 --- [http-nio-8086-exec-10] c.k.m.BlogMapper.getBlogCountByTagId     : ==> Parameters: 1(Integer)
2022-04-06 10:27:07.439 DEBUG 12684 --- [http-nio-8086-exec-10] c.k.m.BlogMapper.getBlogCountByTagId     : <==      Total: 1
2022-04-06 10:27:07.440 DEBUG 12684 --- [http-nio-8086-exec-10] c.k.m.BlogMapper.getBlogListByTagId      : ==>  Preparing: select b.*,bt.tag_id,t.name from blog b,blog_tag bt,tag t where bt.blog_id=b.id and bt.tag_id=t.id and bt.tag_id=? order by b.id desc limit ?,?
2022-04-06 10:27:07.440 DEBUG 12684 --- [http-nio-8086-exec-10] c.k.m.BlogMapper.getBlogListByTagId      : ==> Parameters: 1(Integer), 0(Integer), 5(Integer)
2022-04-06 10:27:07.441 DEBUG 12684 --- [http-nio-8086-exec-10] c.k.m.BlogMapper.getBlogListByTagId      : <==      Total: 1
2022-04-06 10:27:07.441 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.TypeMapper.getTypeById   : ==>  Preparing: select * from type where id = ?
2022-04-06 10:27:07.441 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.TypeMapper.getTypeById   : ==> Parameters: 1(Integer)
2022-04-06 10:27:07.442 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.TypeMapper.getTypeById   : <==      Total: 1
2022-04-06 10:27:07.442 DEBUG 12684 --- [http-nio-8086-exec-10] c.kwok.mapper.TagMapper.getTagsByBlogId  : ==>  Preparing: select t.* from tag t,blog_tag bt where t.id=bt.tag_id and bt.blog_id=?
2022-04-06 10:27:07.442 DEBUG 12684 --- [http-nio-8086-exec-10] c.kwok.mapper.TagMapper.getTagsByBlogId  : ==> Parameters: 1(Integer)
2022-04-06 10:27:07.442 DEBUG 12684 --- [http-nio-8086-exec-10] c.kwok.mapper.TagMapper.getTagsByBlogId  : <==      Total: 1
2022-04-06 10:27:07.442 DEBUG 12684 --- [http-nio-8086-exec-10] c.k.m.BlogMapper.getPreBlogsByTagId      : ==>  Preparing: select b.* from blog b,blog_tag bt where b.id = bt.blog_id and bt.tag_id=? and b.id > ?
2022-04-06 10:27:07.443 DEBUG 12684 --- [http-nio-8086-exec-10] c.k.m.BlogMapper.getPreBlogsByTagId      : ==> Parameters: 1(Integer), 1(Integer)
2022-04-06 10:27:07.443 DEBUG 12684 --- [http-nio-8086-exec-10] c.k.m.BlogMapper.getPreBlogsByTagId      : <==      Total: 0
2022-04-06 10:27:07.443 DEBUG 12684 --- [http-nio-8086-exec-10] c.k.m.BlogMapper.getNextBlogsByTagId     : ==>  Preparing: select b.* from blog b,blog_tag bt where b.id = bt.blog_id and bt.tag_id=? and ? > b.id
2022-04-06 10:27:07.443 DEBUG 12684 --- [http-nio-8086-exec-10] c.k.m.BlogMapper.getNextBlogsByTagId     : ==> Parameters: 1(Integer), 1(Integer)
2022-04-06 10:27:07.444 DEBUG 12684 --- [http-nio-8086-exec-10] c.k.m.BlogMapper.getNextBlogsByTagId     : <==      Total: 0
2022-04-06 10:27:07.444  INFO 12684 --- [http-nio-8086-exec-10] com.kwok.aspect.LogAspect                : Result : tags
2022-04-06 10:27:09.960  INFO 12684 --- [http-nio-8086-exec-6] com.kwok.aspect.LogAspect                : Request : {url='http://localhost:8086/blog/1', ip='0:0:0:0:0:0:0:1', classMethod='com.kwok.controller.IndexController.blog', args=[1, {}]}
2022-04-06 10:27:09.961 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.BlogMapper.getBlogById   : ==>  Preparing: select * from blog where id = ?
2022-04-06 10:27:09.961 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.BlogMapper.getBlogById   : ==> Parameters: 1(Integer)
2022-04-06 10:27:09.962 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.BlogMapper.getBlogById   : <==      Total: 1
2022-04-06 10:27:09.962 DEBUG 12684 --- [http-nio-8086-exec-6] c.k.mapper.BlogMapper.updateBlogViews    : ==>  Preparing: update blog set views=? where id = ?
2022-04-06 10:27:09.962 DEBUG 12684 --- [http-nio-8086-exec-6] c.k.mapper.BlogMapper.updateBlogViews    : ==> Parameters: 27(Integer), 1(Integer)
2022-04-06 10:27:09.963 DEBUG 12684 --- [http-nio-8086-exec-6] c.k.mapper.BlogMapper.updateBlogViews    : <==    Updates: 1
2022-04-06 10:27:09.966 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.BlogMapper.getBlogById   : ==>  Preparing: select * from blog where id = ?
2022-04-06 10:27:09.966 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.BlogMapper.getBlogById   : ==> Parameters: 1(Integer)
2022-04-06 10:27:09.967 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.BlogMapper.getBlogById   : <==      Total: 1
2022-04-06 10:27:09.969 DEBUG 12684 --- [http-nio-8086-exec-6] c.k.m.BlogtagMapper.getTagIdByBlogId     : ==>  Preparing: select * from blog_tag where blog_id = ?
2022-04-06 10:27:09.969 DEBUG 12684 --- [http-nio-8086-exec-6] c.k.m.BlogtagMapper.getTagIdByBlogId     : ==> Parameters: 1(Integer)
2022-04-06 10:27:09.969 DEBUG 12684 --- [http-nio-8086-exec-6] c.k.m.BlogtagMapper.getTagIdByBlogId     : <==      Total: 1
2022-04-06 10:27:09.970 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.TagMapper.getShowTags    : ==>  Preparing: select * from tag where id in ( ? )
2022-04-06 10:27:09.970 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.TagMapper.getShowTags    : ==> Parameters: 1(Integer)
2022-04-06 10:27:09.970 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.TagMapper.getShowTags    : <==      Total: 1
2022-04-06 10:27:09.970  INFO 12684 --- [http-nio-8086-exec-6] com.kwok.aspect.LogAspect                : Result : blog
2022-04-06 10:27:10.437  INFO 12684 --- [http-nio-8086-exec-2] com.kwok.aspect.LogAspect                : Request : {url='http://localhost:8086/comments/1', ip='0:0:0:0:0:0:0:1', classMethod='com.kwok.controller.CommentController.comments', args=[1, {}]}
2022-04-06 10:27:10.437 DEBUG 12684 --- [http-nio-8086-exec-2] c.k.m.CommentMapper.listCommentByBlogId  : ==>  Preparing: select * from comment where blog_id = ? and parent_id = 0 order by creat_time asc
2022-04-06 10:27:10.437 DEBUG 12684 --- [http-nio-8086-exec-2] c.k.m.CommentMapper.listCommentByBlogId  : ==> Parameters: 1(Integer)
2022-04-06 10:27:10.438 DEBUG 12684 --- [http-nio-8086-exec-2] c.k.m.CommentMapper.listCommentByBlogId  : <==      Total: 1
2022-04-06 10:27:10.438 DEBUG 12684 --- [http-nio-8086-exec-2] c.k.m.CommentMapper.getParentComment     : ==>  Preparing: select * from comment where id = ?
2022-04-06 10:27:10.438 DEBUG 12684 --- [http-nio-8086-exec-2] c.k.m.CommentMapper.getParentComment     : ==> Parameters: 0(Integer)
2022-04-06 10:27:10.439 DEBUG 12684 --- [http-nio-8086-exec-2] c.k.m.CommentMapper.getParentComment     : <==      Total: 0
2022-04-06 10:27:10.439 DEBUG 12684 --- [http-nio-8086-exec-2] c.k.m.CommentMapper.searchReplyComments  : ==>  Preparing: select * from comment where parent_id = ? order by creat_time asc
2022-04-06 10:27:10.439 DEBUG 12684 --- [http-nio-8086-exec-2] c.k.m.CommentMapper.searchReplyComments  : ==> Parameters: 1(Integer)
2022-04-06 10:27:10.440 DEBUG 12684 --- [http-nio-8086-exec-2] c.k.m.CommentMapper.searchReplyComments  : <==      Total: 1
2022-04-06 10:27:10.440 DEBUG 12684 --- [http-nio-8086-exec-2] c.k.m.CommentMapper.getParentComment     : ==>  Preparing: select * from comment where id = ?
2022-04-06 10:27:10.440 DEBUG 12684 --- [http-nio-8086-exec-2] c.k.m.CommentMapper.getParentComment     : ==> Parameters: 1(Integer)
2022-04-06 10:27:10.441 DEBUG 12684 --- [http-nio-8086-exec-2] c.k.m.CommentMapper.getParentComment     : <==      Total: 1
2022-04-06 10:27:10.441 DEBUG 12684 --- [http-nio-8086-exec-2] c.k.m.CommentMapper.searchReplyComments  : ==>  Preparing: select * from comment where parent_id = ? order by creat_time asc
2022-04-06 10:27:10.441 DEBUG 12684 --- [http-nio-8086-exec-2] c.k.m.CommentMapper.searchReplyComments  : ==> Parameters: 2(Integer)
2022-04-06 10:27:10.442 DEBUG 12684 --- [http-nio-8086-exec-2] c.k.m.CommentMapper.searchReplyComments  : <==      Total: 0
2022-04-06 10:27:10.446  INFO 12684 --- [http-nio-8086-exec-2] com.kwok.aspect.LogAspect                : Result : blog :: commentList
2022-04-06 10:27:17.244 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.BlogMapper.getBlogCount  : ==>  Preparing: select count(1) as count from blog
2022-04-06 10:27:17.244 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.BlogMapper.getBlogCount  : ==> Parameters: 
2022-04-06 10:27:17.246 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.BlogMapper.getBlogCount  : <==      Total: 1
2022-04-06 10:27:17.246 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.BlogMapper.getBlogList   : ==>  Preparing: select b.*,t.name as typeName from blog b,type t where b.type_id=t.id order by b.id desc limit ?,?
2022-04-06 10:27:17.246 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.BlogMapper.getBlogList   : ==> Parameters: 0(Integer), 5(Integer)
2022-04-06 10:27:17.249 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.BlogMapper.getBlogList   : <==      Total: 5
2022-04-06 10:27:17.249 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.BlogMapper.getBlogById   : ==>  Preparing: select * from blog where id = ?
2022-04-06 10:27:17.249 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.BlogMapper.getBlogById   : ==> Parameters: 90(Integer)
2022-04-06 10:27:17.250 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.BlogMapper.getBlogById   : <==      Total: 0
2022-04-06 10:27:17.250 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.BlogMapper.getBlogById   : ==>  Preparing: select * from blog where id = ?
2022-04-06 10:27:17.250 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.BlogMapper.getBlogById   : ==> Parameters: 84(Integer)
2022-04-06 10:27:17.251 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.BlogMapper.getBlogById   : <==      Total: 1
2022-04-06 10:27:17.251 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.TypeMapper.listType      : ==>  Preparing: select * from type order by id desc
2022-04-06 10:27:17.251 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.TypeMapper.listType      : ==> Parameters: 
2022-04-06 10:27:17.251 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.TypeMapper.listType      : <==      Total: 7
2022-04-06 10:34:33.878 DEBUG 12684 --- [http-nio-8086-exec-5] com.kwok.mapper.BlogMapper.getBlogCount  : ==>  Preparing: select count(1) as count from blog
2022-04-06 10:34:33.878 DEBUG 12684 --- [http-nio-8086-exec-5] com.kwok.mapper.BlogMapper.getBlogCount  : ==> Parameters: 
2022-04-06 10:34:33.880 DEBUG 12684 --- [http-nio-8086-exec-5] com.kwok.mapper.BlogMapper.getBlogCount  : <==      Total: 1
2022-04-06 10:34:33.880 DEBUG 12684 --- [http-nio-8086-exec-5] com.kwok.mapper.BlogMapper.getBlogList   : ==>  Preparing: select b.*,t.name as typeName from blog b,type t where b.type_id=t.id order by b.id desc limit ?,?
2022-04-06 10:34:33.880 DEBUG 12684 --- [http-nio-8086-exec-5] com.kwok.mapper.BlogMapper.getBlogList   : ==> Parameters: 0(Integer), 5(Integer)
2022-04-06 10:34:33.882 DEBUG 12684 --- [http-nio-8086-exec-5] com.kwok.mapper.BlogMapper.getBlogList   : <==      Total: 5
2022-04-06 10:34:33.882 DEBUG 12684 --- [http-nio-8086-exec-5] com.kwok.mapper.BlogMapper.getBlogById   : ==>  Preparing: select * from blog where id = ?
2022-04-06 10:34:33.883 DEBUG 12684 --- [http-nio-8086-exec-5] com.kwok.mapper.BlogMapper.getBlogById   : ==> Parameters: 90(Integer)
2022-04-06 10:34:33.883 DEBUG 12684 --- [http-nio-8086-exec-5] com.kwok.mapper.BlogMapper.getBlogById   : <==      Total: 0
2022-04-06 10:34:33.883 DEBUG 12684 --- [http-nio-8086-exec-5] com.kwok.mapper.BlogMapper.getBlogById   : ==>  Preparing: select * from blog where id = ?
2022-04-06 10:34:33.883 DEBUG 12684 --- [http-nio-8086-exec-5] com.kwok.mapper.BlogMapper.getBlogById   : ==> Parameters: 84(Integer)
2022-04-06 10:34:33.884 DEBUG 12684 --- [http-nio-8086-exec-5] com.kwok.mapper.BlogMapper.getBlogById   : <==      Total: 1
2022-04-06 10:34:33.884 DEBUG 12684 --- [http-nio-8086-exec-5] com.kwok.mapper.TypeMapper.listType      : ==>  Preparing: select * from type order by id desc
2022-04-06 10:34:33.884 DEBUG 12684 --- [http-nio-8086-exec-5] com.kwok.mapper.TypeMapper.listType      : ==> Parameters: 
2022-04-06 10:34:33.885 DEBUG 12684 --- [http-nio-8086-exec-5] com.kwok.mapper.TypeMapper.listType      : <==      Total: 7
2022-04-06 10:34:35.062 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.TypeMapper.listType      : ==>  Preparing: select * from type order by id desc
2022-04-06 10:34:35.063 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.TypeMapper.listType      : ==> Parameters: 
2022-04-06 10:34:35.063 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.TypeMapper.listType      : <==      Total: 7
2022-04-06 10:34:35.063 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.TagMapper.listTag        : ==>  Preparing: select * from tag order by id desc
2022-04-06 10:34:35.064 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.TagMapper.listTag        : ==> Parameters: 
2022-04-06 10:34:35.064 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.TagMapper.listTag        : <==      Total: 14
2022-04-06 10:34:44.800  INFO 12684 --- [http-nio-8086-exec-8] com.kwok.aspect.LogAspect                : Request : {url='http://localhost:8086/tags/-1', ip='0:0:0:0:0:0:0:1', classMethod='com.kwok.controller.TagShowController.tags', args=[-1, org.apache.catalina.connector.RequestFacade@253c6fd2, {}]}
2022-04-06 10:34:44.800 DEBUG 12684 --- [http-nio-8086-exec-8] com.kwok.mapper.TagMapper.listTag        : ==>  Preparing: select * from tag order by id desc
2022-04-06 10:34:44.800 DEBUG 12684 --- [http-nio-8086-exec-8] com.kwok.mapper.TagMapper.listTag        : ==> Parameters: 
2022-04-06 10:34:44.801 DEBUG 12684 --- [http-nio-8086-exec-8] com.kwok.mapper.TagMapper.listTag        : <==      Total: 14
2022-04-06 10:34:44.801 DEBUG 12684 --- [http-nio-8086-exec-8] com.kwok.mapper.TagMapper.tagCount       : ==>  Preparing: select count(1) as count from blog_tag where tag_id=?
2022-04-06 10:34:44.801 DEBUG 12684 --- [http-nio-8086-exec-8] com.kwok.mapper.TagMapper.tagCount       : ==> Parameters: 14(Integer)
2022-04-06 10:34:44.801 DEBUG 12684 --- [http-nio-8086-exec-8] com.kwok.mapper.TagMapper.tagCount       : <==      Total: 1
2022-04-06 10:34:44.801 DEBUG 12684 --- [http-nio-8086-exec-8] com.kwok.mapper.TagMapper.tagCount       : ==>  Preparing: select count(1) as count from blog_tag where tag_id=?
2022-04-06 10:34:44.802 DEBUG 12684 --- [http-nio-8086-exec-8] com.kwok.mapper.TagMapper.tagCount       : ==> Parameters: 13(Integer)
2022-04-06 10:34:44.802 DEBUG 12684 --- [http-nio-8086-exec-8] com.kwok.mapper.TagMapper.tagCount       : <==      Total: 1
2022-04-06 10:34:44.802 DEBUG 12684 --- [http-nio-8086-exec-8] com.kwok.mapper.TagMapper.tagCount       : ==>  Preparing: select count(1) as count from blog_tag where tag_id=?
2022-04-06 10:34:44.802 DEBUG 12684 --- [http-nio-8086-exec-8] com.kwok.mapper.TagMapper.tagCount       : ==> Parameters: 12(Integer)
2022-04-06 10:34:44.802 DEBUG 12684 --- [http-nio-8086-exec-8] com.kwok.mapper.TagMapper.tagCount       : <==      Total: 1
2022-04-06 10:34:44.802 DEBUG 12684 --- [http-nio-8086-exec-8] com.kwok.mapper.TagMapper.tagCount       : ==>  Preparing: select count(1) as count from blog_tag where tag_id=?
2022-04-06 10:34:44.802 DEBUG 12684 --- [http-nio-8086-exec-8] com.kwok.mapper.TagMapper.tagCount       : ==> Parameters: 11(Integer)
2022-04-06 10:34:44.802 DEBUG 12684 --- [http-nio-8086-exec-8] com.kwok.mapper.TagMapper.tagCount       : <==      Total: 1
2022-04-06 10:34:44.802 DEBUG 12684 --- [http-nio-8086-exec-8] com.kwok.mapper.TagMapper.tagCount       : ==>  Preparing: select count(1) as count from blog_tag where tag_id=?
2022-04-06 10:34:44.803 DEBUG 12684 --- [http-nio-8086-exec-8] com.kwok.mapper.TagMapper.tagCount       : ==> Parameters: 10(Integer)
2022-04-06 10:34:44.803 DEBUG 12684 --- [http-nio-8086-exec-8] com.kwok.mapper.TagMapper.tagCount       : <==      Total: 1
2022-04-06 10:34:44.803 DEBUG 12684 --- [http-nio-8086-exec-8] com.kwok.mapper.TagMapper.tagCount       : ==>  Preparing: select count(1) as count from blog_tag where tag_id=?
2022-04-06 10:34:44.803 DEBUG 12684 --- [http-nio-8086-exec-8] com.kwok.mapper.TagMapper.tagCount       : ==> Parameters: 9(Integer)
2022-04-06 10:34:44.803 DEBUG 12684 --- [http-nio-8086-exec-8] com.kwok.mapper.TagMapper.tagCount       : <==      Total: 1
2022-04-06 10:34:44.803 DEBUG 12684 --- [http-nio-8086-exec-8] com.kwok.mapper.TagMapper.tagCount       : ==>  Preparing: select count(1) as count from blog_tag where tag_id=?
2022-04-06 10:34:44.803 DEBUG 12684 --- [http-nio-8086-exec-8] com.kwok.mapper.TagMapper.tagCount       : ==> Parameters: 8(Integer)
2022-04-06 10:34:44.803 DEBUG 12684 --- [http-nio-8086-exec-8] com.kwok.mapper.TagMapper.tagCount       : <==      Total: 1
2022-04-06 10:34:44.803 DEBUG 12684 --- [http-nio-8086-exec-8] com.kwok.mapper.TagMapper.tagCount       : ==>  Preparing: select count(1) as count from blog_tag where tag_id=?
2022-04-06 10:34:44.804 DEBUG 12684 --- [http-nio-8086-exec-8] com.kwok.mapper.TagMapper.tagCount       : ==> Parameters: 7(Integer)
2022-04-06 10:34:44.804 DEBUG 12684 --- [http-nio-8086-exec-8] com.kwok.mapper.TagMapper.tagCount       : <==      Total: 1
2022-04-06 10:34:44.804 DEBUG 12684 --- [http-nio-8086-exec-8] com.kwok.mapper.TagMapper.tagCount       : ==>  Preparing: select count(1) as count from blog_tag where tag_id=?
2022-04-06 10:34:44.805 DEBUG 12684 --- [http-nio-8086-exec-8] com.kwok.mapper.TagMapper.tagCount       : ==> Parameters: 6(Integer)
2022-04-06 10:34:44.805 DEBUG 12684 --- [http-nio-8086-exec-8] com.kwok.mapper.TagMapper.tagCount       : <==      Total: 1
2022-04-06 10:34:44.806 DEBUG 12684 --- [http-nio-8086-exec-8] com.kwok.mapper.TagMapper.tagCount       : ==>  Preparing: select count(1) as count from blog_tag where tag_id=?
2022-04-06 10:34:44.806 DEBUG 12684 --- [http-nio-8086-exec-8] com.kwok.mapper.TagMapper.tagCount       : ==> Parameters: 5(Integer)
2022-04-06 10:34:44.806 DEBUG 12684 --- [http-nio-8086-exec-8] com.kwok.mapper.TagMapper.tagCount       : <==      Total: 1
2022-04-06 10:34:44.806 DEBUG 12684 --- [http-nio-8086-exec-8] com.kwok.mapper.TagMapper.tagCount       : ==>  Preparing: select count(1) as count from blog_tag where tag_id=?
2022-04-06 10:34:44.806 DEBUG 12684 --- [http-nio-8086-exec-8] com.kwok.mapper.TagMapper.tagCount       : ==> Parameters: 4(Integer)
2022-04-06 10:34:44.807 DEBUG 12684 --- [http-nio-8086-exec-8] com.kwok.mapper.TagMapper.tagCount       : <==      Total: 1
2022-04-06 10:34:44.807 DEBUG 12684 --- [http-nio-8086-exec-8] com.kwok.mapper.TagMapper.tagCount       : ==>  Preparing: select count(1) as count from blog_tag where tag_id=?
2022-04-06 10:34:44.807 DEBUG 12684 --- [http-nio-8086-exec-8] com.kwok.mapper.TagMapper.tagCount       : ==> Parameters: 3(Integer)
2022-04-06 10:34:44.807 DEBUG 12684 --- [http-nio-8086-exec-8] com.kwok.mapper.TagMapper.tagCount       : <==      Total: 1
2022-04-06 10:34:44.807 DEBUG 12684 --- [http-nio-8086-exec-8] com.kwok.mapper.TagMapper.tagCount       : ==>  Preparing: select count(1) as count from blog_tag where tag_id=?
2022-04-06 10:34:44.807 DEBUG 12684 --- [http-nio-8086-exec-8] com.kwok.mapper.TagMapper.tagCount       : ==> Parameters: 2(Integer)
2022-04-06 10:34:44.808 DEBUG 12684 --- [http-nio-8086-exec-8] com.kwok.mapper.TagMapper.tagCount       : <==      Total: 1
2022-04-06 10:34:44.808 DEBUG 12684 --- [http-nio-8086-exec-8] com.kwok.mapper.TagMapper.tagCount       : ==>  Preparing: select count(1) as count from blog_tag where tag_id=?
2022-04-06 10:34:44.808 DEBUG 12684 --- [http-nio-8086-exec-8] com.kwok.mapper.TagMapper.tagCount       : ==> Parameters: 1(Integer)
2022-04-06 10:34:44.808 DEBUG 12684 --- [http-nio-8086-exec-8] com.kwok.mapper.TagMapper.tagCount       : <==      Total: 1
2022-04-06 10:34:44.809 DEBUG 12684 --- [http-nio-8086-exec-8] c.k.m.BlogMapper.getBlogCountByTagId     : ==>  Preparing: select count(1) as count from blog_tag where tag_id = ?
2022-04-06 10:34:44.809 DEBUG 12684 --- [http-nio-8086-exec-8] c.k.m.BlogMapper.getBlogCountByTagId     : ==> Parameters: 14(Integer)
2022-04-06 10:34:44.809 DEBUG 12684 --- [http-nio-8086-exec-8] c.k.m.BlogMapper.getBlogCountByTagId     : <==      Total: 1
2022-04-06 10:34:44.809 DEBUG 12684 --- [http-nio-8086-exec-8] c.k.m.BlogMapper.getBlogListByTagId      : ==>  Preparing: select b.*,bt.tag_id,t.name from blog b,blog_tag bt,tag t where bt.blog_id=b.id and bt.tag_id=t.id and bt.tag_id=? order by b.id desc limit ?,?
2022-04-06 10:34:44.809 DEBUG 12684 --- [http-nio-8086-exec-8] c.k.m.BlogMapper.getBlogListByTagId      : ==> Parameters: 14(Integer), 0(Integer), 5(Integer)
2022-04-06 10:34:44.812 DEBUG 12684 --- [http-nio-8086-exec-8] c.k.m.BlogMapper.getBlogListByTagId      : <==      Total: 5
2022-04-06 10:34:44.812 DEBUG 12684 --- [http-nio-8086-exec-8] com.kwok.mapper.TypeMapper.getTypeById   : ==>  Preparing: select * from type where id = ?
2022-04-06 10:34:44.813 DEBUG 12684 --- [http-nio-8086-exec-8] com.kwok.mapper.TypeMapper.getTypeById   : ==> Parameters: 6(Integer)
2022-04-06 10:34:44.813 DEBUG 12684 --- [http-nio-8086-exec-8] com.kwok.mapper.TypeMapper.getTypeById   : <==      Total: 1
2022-04-06 10:34:44.813 DEBUG 12684 --- [http-nio-8086-exec-8] c.kwok.mapper.TagMapper.getTagsByBlogId  : ==>  Preparing: select t.* from tag t,blog_tag bt where t.id=bt.tag_id and bt.blog_id=?
2022-04-06 10:34:44.813 DEBUG 12684 --- [http-nio-8086-exec-8] c.kwok.mapper.TagMapper.getTagsByBlogId  : ==> Parameters: 66(Integer)
2022-04-06 10:34:44.814 DEBUG 12684 --- [http-nio-8086-exec-8] c.kwok.mapper.TagMapper.getTagsByBlogId  : <==      Total: 3
2022-04-06 10:34:44.814 DEBUG 12684 --- [http-nio-8086-exec-8] com.kwok.mapper.TypeMapper.getTypeById   : ==>  Preparing: select * from type where id = ?
2022-04-06 10:34:44.814 DEBUG 12684 --- [http-nio-8086-exec-8] com.kwok.mapper.TypeMapper.getTypeById   : ==> Parameters: 6(Integer)
2022-04-06 10:34:44.814 DEBUG 12684 --- [http-nio-8086-exec-8] com.kwok.mapper.TypeMapper.getTypeById   : <==      Total: 1
2022-04-06 10:34:44.815 DEBUG 12684 --- [http-nio-8086-exec-8] c.kwok.mapper.TagMapper.getTagsByBlogId  : ==>  Preparing: select t.* from tag t,blog_tag bt where t.id=bt.tag_id and bt.blog_id=?
2022-04-06 10:34:44.815 DEBUG 12684 --- [http-nio-8086-exec-8] c.kwok.mapper.TagMapper.getTagsByBlogId  : ==> Parameters: 65(Integer)
2022-04-06 10:34:44.815 DEBUG 12684 --- [http-nio-8086-exec-8] c.kwok.mapper.TagMapper.getTagsByBlogId  : <==      Total: 3
2022-04-06 10:34:44.815 DEBUG 12684 --- [http-nio-8086-exec-8] com.kwok.mapper.TypeMapper.getTypeById   : ==>  Preparing: select * from type where id = ?
2022-04-06 10:34:44.815 DEBUG 12684 --- [http-nio-8086-exec-8] com.kwok.mapper.TypeMapper.getTypeById   : ==> Parameters: 6(Integer)
2022-04-06 10:34:44.815 DEBUG 12684 --- [http-nio-8086-exec-8] com.kwok.mapper.TypeMapper.getTypeById   : <==      Total: 1
2022-04-06 10:34:44.816 DEBUG 12684 --- [http-nio-8086-exec-8] c.kwok.mapper.TagMapper.getTagsByBlogId  : ==>  Preparing: select t.* from tag t,blog_tag bt where t.id=bt.tag_id and bt.blog_id=?
2022-04-06 10:34:44.816 DEBUG 12684 --- [http-nio-8086-exec-8] c.kwok.mapper.TagMapper.getTagsByBlogId  : ==> Parameters: 64(Integer)
2022-04-06 10:34:44.816 DEBUG 12684 --- [http-nio-8086-exec-8] c.kwok.mapper.TagMapper.getTagsByBlogId  : <==      Total: 3
2022-04-06 10:34:44.816 DEBUG 12684 --- [http-nio-8086-exec-8] com.kwok.mapper.TypeMapper.getTypeById   : ==>  Preparing: select * from type where id = ?
2022-04-06 10:34:44.816 DEBUG 12684 --- [http-nio-8086-exec-8] com.kwok.mapper.TypeMapper.getTypeById   : ==> Parameters: 6(Integer)
2022-04-06 10:34:44.817 DEBUG 12684 --- [http-nio-8086-exec-8] com.kwok.mapper.TypeMapper.getTypeById   : <==      Total: 1
2022-04-06 10:34:44.817 DEBUG 12684 --- [http-nio-8086-exec-8] c.kwok.mapper.TagMapper.getTagsByBlogId  : ==>  Preparing: select t.* from tag t,blog_tag bt where t.id=bt.tag_id and bt.blog_id=?
2022-04-06 10:34:44.817 DEBUG 12684 --- [http-nio-8086-exec-8] c.kwok.mapper.TagMapper.getTagsByBlogId  : ==> Parameters: 63(Integer)
2022-04-06 10:34:44.818 DEBUG 12684 --- [http-nio-8086-exec-8] c.kwok.mapper.TagMapper.getTagsByBlogId  : <==      Total: 3
2022-04-06 10:34:44.818 DEBUG 12684 --- [http-nio-8086-exec-8] com.kwok.mapper.TypeMapper.getTypeById   : ==>  Preparing: select * from type where id = ?
2022-04-06 10:34:44.818 DEBUG 12684 --- [http-nio-8086-exec-8] com.kwok.mapper.TypeMapper.getTypeById   : ==> Parameters: 6(Integer)
2022-04-06 10:34:44.819 DEBUG 12684 --- [http-nio-8086-exec-8] com.kwok.mapper.TypeMapper.getTypeById   : <==      Total: 1
2022-04-06 10:34:44.819 DEBUG 12684 --- [http-nio-8086-exec-8] c.kwok.mapper.TagMapper.getTagsByBlogId  : ==>  Preparing: select t.* from tag t,blog_tag bt where t.id=bt.tag_id and bt.blog_id=?
2022-04-06 10:34:44.819 DEBUG 12684 --- [http-nio-8086-exec-8] c.kwok.mapper.TagMapper.getTagsByBlogId  : ==> Parameters: 62(Integer)
2022-04-06 10:34:44.820 DEBUG 12684 --- [http-nio-8086-exec-8] c.kwok.mapper.TagMapper.getTagsByBlogId  : <==      Total: 3
2022-04-06 10:34:44.820 DEBUG 12684 --- [http-nio-8086-exec-8] c.k.m.BlogMapper.getPreBlogsByTagId      : ==>  Preparing: select b.* from blog b,blog_tag bt where b.id = bt.blog_id and bt.tag_id=? and b.id > ?
2022-04-06 10:34:44.820 DEBUG 12684 --- [http-nio-8086-exec-8] c.k.m.BlogMapper.getPreBlogsByTagId      : ==> Parameters: 14(Integer), 66(Integer)
2022-04-06 10:34:44.820 DEBUG 12684 --- [http-nio-8086-exec-8] c.k.m.BlogMapper.getPreBlogsByTagId      : <==      Total: 0
2022-04-06 10:34:44.821 DEBUG 12684 --- [http-nio-8086-exec-8] c.k.m.BlogMapper.getNextBlogsByTagId     : ==>  Preparing: select b.* from blog b,blog_tag bt where b.id = bt.blog_id and bt.tag_id=? and ? > b.id
2022-04-06 10:34:44.821 DEBUG 12684 --- [http-nio-8086-exec-8] c.k.m.BlogMapper.getNextBlogsByTagId     : ==> Parameters: 14(Integer), 62(Integer)
2022-04-06 10:34:44.823 DEBUG 12684 --- [http-nio-8086-exec-8] c.k.m.BlogMapper.getNextBlogsByTagId     : <==      Total: 4
2022-04-06 10:34:44.823  INFO 12684 --- [http-nio-8086-exec-8] com.kwok.aspect.LogAspect                : Result : tags
2022-04-06 10:34:52.657  INFO 12684 --- [http-nio-8086-exec-9] com.kwok.aspect.LogAspect                : Request : {url='http://localhost:8086/types/-1', ip='0:0:0:0:0:0:0:1', classMethod='com.kwok.controller.TypeShowController.types', args=[-1, org.apache.catalina.connector.RequestFacade@7b4c3c2a, {}]}
2022-04-06 10:34:52.657 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.TypeMapper.listType      : ==>  Preparing: select * from type order by id desc
2022-04-06 10:34:52.657 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.TypeMapper.listType      : ==> Parameters: 
2022-04-06 10:34:52.658 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.TypeMapper.listType      : <==      Total: 7
2022-04-06 10:34:52.658 DEBUG 12684 --- [http-nio-8086-exec-9] c.k.m.BlogMapper.getBlogCountByTypeId    : ==>  Preparing: select count(1) as count from blog where type_id = ?
2022-04-06 10:34:52.658 DEBUG 12684 --- [http-nio-8086-exec-9] c.k.m.BlogMapper.getBlogCountByTypeId    : ==> Parameters: 7(Integer)
2022-04-06 10:34:52.659 DEBUG 12684 --- [http-nio-8086-exec-9] c.k.m.BlogMapper.getBlogCountByTypeId    : <==      Total: 1
2022-04-06 10:34:52.659 DEBUG 12684 --- [http-nio-8086-exec-9] c.k.m.BlogMapper.getBlogCountByTypeId    : ==>  Preparing: select count(1) as count from blog where type_id = ?
2022-04-06 10:34:52.659 DEBUG 12684 --- [http-nio-8086-exec-9] c.k.m.BlogMapper.getBlogCountByTypeId    : ==> Parameters: 6(Integer)
2022-04-06 10:34:52.660 DEBUG 12684 --- [http-nio-8086-exec-9] c.k.m.BlogMapper.getBlogCountByTypeId    : <==      Total: 1
2022-04-06 10:34:52.660 DEBUG 12684 --- [http-nio-8086-exec-9] c.k.m.BlogMapper.getBlogCountByTypeId    : ==>  Preparing: select count(1) as count from blog where type_id = ?
2022-04-06 10:34:52.660 DEBUG 12684 --- [http-nio-8086-exec-9] c.k.m.BlogMapper.getBlogCountByTypeId    : ==> Parameters: 5(Integer)
2022-04-06 10:34:52.661 DEBUG 12684 --- [http-nio-8086-exec-9] c.k.m.BlogMapper.getBlogCountByTypeId    : <==      Total: 1
2022-04-06 10:34:52.661 DEBUG 12684 --- [http-nio-8086-exec-9] c.k.m.BlogMapper.getBlogCountByTypeId    : ==>  Preparing: select count(1) as count from blog where type_id = ?
2022-04-06 10:34:52.661 DEBUG 12684 --- [http-nio-8086-exec-9] c.k.m.BlogMapper.getBlogCountByTypeId    : ==> Parameters: 4(Integer)
2022-04-06 10:34:52.662 DEBUG 12684 --- [http-nio-8086-exec-9] c.k.m.BlogMapper.getBlogCountByTypeId    : <==      Total: 1
2022-04-06 10:34:52.662 DEBUG 12684 --- [http-nio-8086-exec-9] c.k.m.BlogMapper.getBlogCountByTypeId    : ==>  Preparing: select count(1) as count from blog where type_id = ?
2022-04-06 10:34:52.662 DEBUG 12684 --- [http-nio-8086-exec-9] c.k.m.BlogMapper.getBlogCountByTypeId    : ==> Parameters: 3(Integer)
2022-04-06 10:34:52.662 DEBUG 12684 --- [http-nio-8086-exec-9] c.k.m.BlogMapper.getBlogCountByTypeId    : <==      Total: 1
2022-04-06 10:34:52.662 DEBUG 12684 --- [http-nio-8086-exec-9] c.k.m.BlogMapper.getBlogCountByTypeId    : ==>  Preparing: select count(1) as count from blog where type_id = ?
2022-04-06 10:34:52.662 DEBUG 12684 --- [http-nio-8086-exec-9] c.k.m.BlogMapper.getBlogCountByTypeId    : ==> Parameters: 2(Integer)
2022-04-06 10:34:52.663 DEBUG 12684 --- [http-nio-8086-exec-9] c.k.m.BlogMapper.getBlogCountByTypeId    : <==      Total: 1
2022-04-06 10:34:52.663 DEBUG 12684 --- [http-nio-8086-exec-9] c.k.m.BlogMapper.getBlogCountByTypeId    : ==>  Preparing: select count(1) as count from blog where type_id = ?
2022-04-06 10:34:52.663 DEBUG 12684 --- [http-nio-8086-exec-9] c.k.m.BlogMapper.getBlogCountByTypeId    : ==> Parameters: 1(Integer)
2022-04-06 10:34:52.663 DEBUG 12684 --- [http-nio-8086-exec-9] c.k.m.BlogMapper.getBlogCountByTypeId    : <==      Total: 1
2022-04-06 10:34:52.663 DEBUG 12684 --- [http-nio-8086-exec-9] c.k.m.BlogMapper.getBlogCountByTypeId    : ==>  Preparing: select count(1) as count from blog where type_id = ?
2022-04-06 10:34:52.663 DEBUG 12684 --- [http-nio-8086-exec-9] c.k.m.BlogMapper.getBlogCountByTypeId    : ==> Parameters: 7(Integer)
2022-04-06 10:34:52.664 DEBUG 12684 --- [http-nio-8086-exec-9] c.k.m.BlogMapper.getBlogCountByTypeId    : <==      Total: 1
2022-04-06 10:34:52.664 DEBUG 12684 --- [http-nio-8086-exec-9] c.k.m.BlogMapper.getBlogListByTypeId     : ==>  Preparing: select b.*,t.name as typeName from blog b,type t where b.type_id=t.id and b.type_id=? order by b.id desc limit ?,?
2022-04-06 10:34:52.664 DEBUG 12684 --- [http-nio-8086-exec-9] c.k.m.BlogMapper.getBlogListByTypeId     : ==> Parameters: 7(Integer), 0(Integer), 5(Integer)
2022-04-06 10:34:52.666 DEBUG 12684 --- [http-nio-8086-exec-9] c.k.m.BlogMapper.getBlogListByTypeId     : <==      Total: 5
2022-04-06 10:34:52.667 DEBUG 12684 --- [http-nio-8086-exec-9] c.k.mapper.BlogMapper.getPreBlogsById    : ==>  Preparing: select * from blog where type_id=? and id > ?
2022-04-06 10:34:52.667 DEBUG 12684 --- [http-nio-8086-exec-9] c.k.mapper.BlogMapper.getPreBlogsById    : ==> Parameters: 7(Integer), 89(Integer)
2022-04-06 10:34:52.667 DEBUG 12684 --- [http-nio-8086-exec-9] c.k.mapper.BlogMapper.getPreBlogsById    : <==      Total: 0
2022-04-06 10:34:52.667 DEBUG 12684 --- [http-nio-8086-exec-9] c.k.mapper.BlogMapper.getNextBlogsById   : ==>  Preparing: select * from blog where type_id=? and ? > id
2022-04-06 10:34:52.667 DEBUG 12684 --- [http-nio-8086-exec-9] c.k.mapper.BlogMapper.getNextBlogsById   : ==> Parameters: 7(Integer), 85(Integer)
2022-04-06 10:34:52.669 DEBUG 12684 --- [http-nio-8086-exec-9] c.k.mapper.BlogMapper.getNextBlogsById   : <==      Total: 2
2022-04-06 10:34:52.669  INFO 12684 --- [http-nio-8086-exec-9] com.kwok.aspect.LogAspect                : Result : types
2022-04-06 10:34:57.693  INFO 12684 --- [http-nio-8086-exec-8] com.kwok.aspect.LogAspect                : Request : {url='http://localhost:8086/index', ip='0:0:0:0:0:0:0:1', classMethod='com.kwok.controller.IndexController.index', args=[org.apache.catalina.connector.RequestFacade@f05c437, org.apache.catalina.connector.ResponseFacade@1263b795, {}]}
2022-04-06 10:34:57.694 DEBUG 12684 --- [http-nio-8086-exec-8] com.kwok.mapper.BlogMapper.getBlogCount  : ==>  Preparing: select count(1) as count from blog
2022-04-06 10:34:57.694 DEBUG 12684 --- [http-nio-8086-exec-8] com.kwok.mapper.BlogMapper.getBlogCount  : ==> Parameters: 
2022-04-06 10:34:57.695 DEBUG 12684 --- [http-nio-8086-exec-8] com.kwok.mapper.BlogMapper.getBlogCount  : <==      Total: 1
2022-04-06 10:34:57.696 DEBUG 12684 --- [http-nio-8086-exec-8] com.kwok.mapper.BlogMapper.getBlogList   : ==>  Preparing: select b.*,t.name as typeName from blog b,type t where b.type_id=t.id order by b.id desc limit ?,?
2022-04-06 10:34:57.696 DEBUG 12684 --- [http-nio-8086-exec-8] com.kwok.mapper.BlogMapper.getBlogList   : ==> Parameters: 0(Integer), 5(Integer)
2022-04-06 10:34:57.698 DEBUG 12684 --- [http-nio-8086-exec-8] com.kwok.mapper.BlogMapper.getBlogList   : <==      Total: 5
2022-04-06 10:34:57.699 DEBUG 12684 --- [http-nio-8086-exec-8] com.kwok.mapper.BlogMapper.getBlogById   : ==>  Preparing: select * from blog where id = ?
2022-04-06 10:34:57.699 DEBUG 12684 --- [http-nio-8086-exec-8] com.kwok.mapper.BlogMapper.getBlogById   : ==> Parameters: 90(Integer)
2022-04-06 10:34:57.699 DEBUG 12684 --- [http-nio-8086-exec-8] com.kwok.mapper.BlogMapper.getBlogById   : <==      Total: 0
2022-04-06 10:34:57.699 DEBUG 12684 --- [http-nio-8086-exec-8] com.kwok.mapper.BlogMapper.getBlogById   : ==>  Preparing: select * from blog where id = ?
2022-04-06 10:34:57.699 DEBUG 12684 --- [http-nio-8086-exec-8] com.kwok.mapper.BlogMapper.getBlogById   : ==> Parameters: 84(Integer)
2022-04-06 10:34:57.700 DEBUG 12684 --- [http-nio-8086-exec-8] com.kwok.mapper.BlogMapper.getBlogById   : <==      Total: 1
2022-04-06 10:34:57.700 DEBUG 12684 --- [http-nio-8086-exec-8] com.kwok.mapper.TagMapper.listTopTag     : ==>  Preparing: select tag.id,tag.name,tn.num from tag,(select tag_id,count(*) as num from blog_tag group by tag_id order by num desc) as tn where tag.id = tn.tag_id
2022-04-06 10:34:57.700 DEBUG 12684 --- [http-nio-8086-exec-8] com.kwok.mapper.TagMapper.listTopTag     : ==> Parameters: 
2022-04-06 10:34:57.701 DEBUG 12684 --- [http-nio-8086-exec-8] com.kwok.mapper.TagMapper.listTopTag     : <==      Total: 11
2022-04-06 10:34:57.701 DEBUG 12684 --- [http-nio-8086-exec-8] com.kwok.mapper.TypeMapper.listTopType   : ==>  Preparing: select type.id,type.name,tn.num from type,(select type_id,count(*) as num from blog group by type_id order by num desc) as tn where type.id = tn.type_id
2022-04-06 10:34:57.701 DEBUG 12684 --- [http-nio-8086-exec-8] com.kwok.mapper.TypeMapper.listTopType   : ==> Parameters: 
2022-04-06 10:34:57.702 DEBUG 12684 --- [http-nio-8086-exec-8] com.kwok.mapper.TypeMapper.listTopType   : <==      Total: 5
2022-04-06 10:34:57.702 DEBUG 12684 --- [http-nio-8086-exec-8] c.k.m.BlogMapper.listTopRecommendBlog    : ==>  Preparing: select * from blog where recommend = 1 order by update_time desc
2022-04-06 10:34:57.702 DEBUG 12684 --- [http-nio-8086-exec-8] c.k.m.BlogMapper.listTopRecommendBlog    : ==> Parameters: 
2022-04-06 10:34:57.704 DEBUG 12684 --- [http-nio-8086-exec-8] c.k.m.BlogMapper.listTopRecommendBlog    : <==      Total: 2
2022-04-06 10:34:57.705  INFO 12684 --- [http-nio-8086-exec-8] com.kwok.aspect.LogAspect                : Result : index
2022-04-06 10:36:06.691  INFO 12684 --- [http-nio-8086-exec-4] com.kwok.aspect.LogAspect                : Request : {url='http://localhost:8086/index', ip='0:0:0:0:0:0:0:1', classMethod='com.kwok.controller.IndexController.index', args=[org.apache.catalina.connector.RequestFacade@f05c437, org.apache.catalina.connector.ResponseFacade@1263b795, {}]}
2022-04-06 10:36:06.691 DEBUG 12684 --- [http-nio-8086-exec-4] com.kwok.mapper.BlogMapper.getBlogCount  : ==>  Preparing: select count(1) as count from blog
2022-04-06 10:36:06.692 DEBUG 12684 --- [http-nio-8086-exec-4] com.kwok.mapper.BlogMapper.getBlogCount  : ==> Parameters: 
2022-04-06 10:36:06.693 DEBUG 12684 --- [http-nio-8086-exec-4] com.kwok.mapper.BlogMapper.getBlogCount  : <==      Total: 1
2022-04-06 10:36:06.693 DEBUG 12684 --- [http-nio-8086-exec-4] com.kwok.mapper.BlogMapper.getBlogList   : ==>  Preparing: select b.*,t.name as typeName from blog b,type t where b.type_id=t.id order by b.id desc limit ?,?
2022-04-06 10:36:06.693 DEBUG 12684 --- [http-nio-8086-exec-4] com.kwok.mapper.BlogMapper.getBlogList   : ==> Parameters: 0(Integer), 5(Integer)
2022-04-06 10:36:06.695 DEBUG 12684 --- [http-nio-8086-exec-4] com.kwok.mapper.BlogMapper.getBlogList   : <==      Total: 5
2022-04-06 10:36:06.696 DEBUG 12684 --- [http-nio-8086-exec-4] com.kwok.mapper.BlogMapper.getBlogById   : ==>  Preparing: select * from blog where id = ?
2022-04-06 10:36:06.696 DEBUG 12684 --- [http-nio-8086-exec-4] com.kwok.mapper.BlogMapper.getBlogById   : ==> Parameters: 90(Integer)
2022-04-06 10:36:06.696 DEBUG 12684 --- [http-nio-8086-exec-4] com.kwok.mapper.BlogMapper.getBlogById   : <==      Total: 0
2022-04-06 10:36:06.696 DEBUG 12684 --- [http-nio-8086-exec-4] com.kwok.mapper.BlogMapper.getBlogById   : ==>  Preparing: select * from blog where id = ?
2022-04-06 10:36:06.696 DEBUG 12684 --- [http-nio-8086-exec-4] com.kwok.mapper.BlogMapper.getBlogById   : ==> Parameters: 84(Integer)
2022-04-06 10:36:06.697 DEBUG 12684 --- [http-nio-8086-exec-4] com.kwok.mapper.BlogMapper.getBlogById   : <==      Total: 1
2022-04-06 10:36:06.697 DEBUG 12684 --- [http-nio-8086-exec-4] com.kwok.mapper.TagMapper.listTopTag     : ==>  Preparing: select tag.id,tag.name,tn.num from tag,(select tag_id,count(*) as num from blog_tag group by tag_id order by num desc) as tn where tag.id = tn.tag_id
2022-04-06 10:36:06.697 DEBUG 12684 --- [http-nio-8086-exec-4] com.kwok.mapper.TagMapper.listTopTag     : ==> Parameters: 
2022-04-06 10:36:06.698 DEBUG 12684 --- [http-nio-8086-exec-4] com.kwok.mapper.TagMapper.listTopTag     : <==      Total: 11
2022-04-06 10:36:06.698 DEBUG 12684 --- [http-nio-8086-exec-4] com.kwok.mapper.TypeMapper.listTopType   : ==>  Preparing: select type.id,type.name,tn.num from type,(select type_id,count(*) as num from blog group by type_id order by num desc) as tn where type.id = tn.type_id
2022-04-06 10:36:06.698 DEBUG 12684 --- [http-nio-8086-exec-4] com.kwok.mapper.TypeMapper.listTopType   : ==> Parameters: 
2022-04-06 10:36:06.698 DEBUG 12684 --- [http-nio-8086-exec-4] com.kwok.mapper.TypeMapper.listTopType   : <==      Total: 5
2022-04-06 10:36:06.699 DEBUG 12684 --- [http-nio-8086-exec-4] c.k.m.BlogMapper.listTopRecommendBlog    : ==>  Preparing: select * from blog where recommend = 1 order by update_time desc
2022-04-06 10:36:06.699 DEBUG 12684 --- [http-nio-8086-exec-4] c.k.m.BlogMapper.listTopRecommendBlog    : ==> Parameters: 
2022-04-06 10:36:06.701 DEBUG 12684 --- [http-nio-8086-exec-4] c.k.m.BlogMapper.listTopRecommendBlog    : <==      Total: 2
2022-04-06 10:36:06.701  INFO 12684 --- [http-nio-8086-exec-4] com.kwok.aspect.LogAspect                : Result : index
2022-04-06 10:36:33.708 DEBUG 12684 --- [http-nio-8086-exec-8] com.kwok.mapper.BlogMapper.getLastBlog   : ==>  Preparing: select * from blog order by id desc limit 1
2022-04-06 10:36:33.708 DEBUG 12684 --- [http-nio-8086-exec-8] com.kwok.mapper.BlogMapper.getLastBlog   : ==> Parameters: 
2022-04-06 10:36:33.709 DEBUG 12684 --- [http-nio-8086-exec-8] com.kwok.mapper.BlogMapper.getLastBlog   : <==      Total: 1
2022-04-06 10:36:33.709 DEBUG 12684 --- [http-nio-8086-exec-8] c.k.mapper.BlogtagMapper.getLastBlogtag  : ==>  Preparing: select * from blog_tag order by id desc limit 1
2022-04-06 10:36:33.709 DEBUG 12684 --- [http-nio-8086-exec-8] c.k.mapper.BlogtagMapper.getLastBlogtag  : ==> Parameters: 
2022-04-06 10:36:33.710 DEBUG 12684 --- [http-nio-8086-exec-8] c.k.mapper.BlogtagMapper.getLastBlogtag  : <==      Total: 1
2022-04-06 10:36:33.710 DEBUG 12684 --- [http-nio-8086-exec-8] c.kwok.mapper.BlogtagMapper.saveBlogtag  : ==>  Preparing: insert into blog_tag (id, blog_id, tag_id) values (?, ?,?)
2022-04-06 10:36:33.710 DEBUG 12684 --- [http-nio-8086-exec-8] c.kwok.mapper.BlogtagMapper.saveBlogtag  : ==> Parameters: 219(Integer), 90(Integer), 10(Integer)
2022-04-06 10:36:33.711 DEBUG 12684 --- [http-nio-8086-exec-8] c.kwok.mapper.BlogtagMapper.saveBlogtag  : <==    Updates: 1
2022-04-06 10:36:33.711 DEBUG 12684 --- [http-nio-8086-exec-8] c.k.mapper.BlogtagMapper.getLastBlogtag  : ==>  Preparing: select * from blog_tag order by id desc limit 1
2022-04-06 10:36:33.711 DEBUG 12684 --- [http-nio-8086-exec-8] c.k.mapper.BlogtagMapper.getLastBlogtag  : ==> Parameters: 
2022-04-06 10:36:33.711 DEBUG 12684 --- [http-nio-8086-exec-8] c.k.mapper.BlogtagMapper.getLastBlogtag  : <==      Total: 1
2022-04-06 10:36:33.711 DEBUG 12684 --- [http-nio-8086-exec-8] c.kwok.mapper.BlogtagMapper.saveBlogtag  : ==>  Preparing: insert into blog_tag (id, blog_id, tag_id) values (?, ?,?)
2022-04-06 10:36:33.711 DEBUG 12684 --- [http-nio-8086-exec-8] c.kwok.mapper.BlogtagMapper.saveBlogtag  : ==> Parameters: 220(Integer), 90(Integer), 5(Integer)
2022-04-06 10:36:33.712 DEBUG 12684 --- [http-nio-8086-exec-8] c.kwok.mapper.BlogtagMapper.saveBlogtag  : <==    Updates: 1
2022-04-06 10:36:33.712 DEBUG 12684 --- [http-nio-8086-exec-8] com.kwok.mapper.BlogMapper.saveBlog      : ==>  Preparing: insert into blog (id, title,description, content, first_picture, flag, views, appreciation, share_statement, commentabled, published, recommend, create_time, update_time, type_id, user_id) values (?,?,?,?,?,?, ?,?,?,?, ?,?,?,?,?,?)
2022-04-06 10:36:33.712 DEBUG 12684 --- [http-nio-8086-exec-8] com.kwok.mapper.BlogMapper.saveBlog      : ==> Parameters: 90(Integer), 机器学习-单变量的线性回归(String), 1 模型表示(Model Representation) 1.房价预测训练集 Size in feet²**(x)** Price ($) in 1000’s(y) 2104 460 1416 232 1534 315 852 178 … … 房价预测训练集中，同时给出了输入 和输出结果 ，即给出了人为标注的 (String), ## 1 模型表示(Model Representation)

#### 1.房价预测训练集

| **Size in**  ***feet²*****(*****x*****)** | **Price ($) in 1000's(*****y*****)** |
| ----------------------------------------- | ------------------------------------ |
| 2104                                      | 460                                  |
| 1416                                      | 232                                  |
| 1534                                      | 315                                  |
| 852                                       | 178                                  |
| ...                                       | ...                                  |

房价预测训练集中，同时给出了输入  和输出结果 ，即给出了人为标注的 **”正确结果“**，且预测的量是连续的，属于监督学习中的回归问题。

#### 2.问题解决模型

![img](https://img-blog.csdnimg.cn/img_convert/d0b37396f9b579f62c36f83d00f503ed.png)

![img](https://img-blog.csdnimg.cn/img_convert/c4d83ae32113ef2c9ccd3de8d4b9a045.png)

## 2 代价函数(Cost Function)

![img](https://img-blog.csdnimg.cn/img_convert/d85939c16e69cca8e651c52c4fbbf4b8.png)![img](https://img-blog.csdnimg.cn/img_convert/559bf7c743530e29c210561263646abe.png)

![img](https://img-blog.csdnimg.cn/img_convert/6807b8e291f4dbc1c64102a29bef7825.png)

## 3 代价函数 - 直观理解1(Cost Function - Intuition I)

![img](https://img-blog.csdnimg.cn/img_convert/8759c10c50035896097463a7d489e239.png)

![img](https://img-blog.csdnimg.cn/img_convert/9a16bcb865385fd2e77ed0c2dbecb7a1.png)

## 4 代价函数 - 直观理解2(Cost Function - Intuition II)

![img](https://img-blog.csdnimg.cn/img_convert/b9303418cc9a75d062e3fb1ab76b9179.png)

![img](https://img-blog.csdnimg.cn/img_convert/78ef480a5747999a92302aa84c75e620.png)

![img](https://img-blog.csdnimg.cn/img_convert/3204e18dd12ac8612c6fecd8773d5f18.png)

![img](https://img-blog.csdnimg.cn/img_convert/bd837a2499e3e82eb56fb06f903a5ca8.png)

## 5 梯度下降(Gradient Descent)



![img](https://img-blog.csdnimg.cn/img_convert/fb2dc5f1c6f5d951a31ce8df92836b11.png)

![img](https://img-blog.csdnimg.cn/img_convert/2a3c3df3eb47fc4e02a8988118a4323c.png)

![img](https://img-blog.csdnimg.cn/img_convert/ed005d8a3c646ac1f9546e068710e812.png)

![img](https://img-blog.csdnimg.cn/img_convert/b8be957d9343af3f0492c41915c70c25.png)

![img](https://img-blog.csdnimg.cn/img_convert/77080986a406763fce6f239492bb90f8.png)

## 6 梯度下降直观理解(Gradient Descent Intuition)

![img](https://img-blog.csdnimg.cn/img_convert/ebb1177e6b9fad771aa6cb5d717fc797.png)

 ![img](https://img-blog.csdnimg.cn/img_convert/2b2221375c1c7938e19b9a8efe061da4.png)

![img](https://img-blog.csdnimg.cn/img_convert/9ab7b6b8d937da5df02de5e4c17b9f5e.png)

![img](https://img-blog.csdnimg.cn/img_convert/f0c8f3b73c0a0f1af92fcd5a8ce8cb0d.png)

![img](https://img-blog.csdnimg.cn/img_convert/313d8e92e5ba9790ccc05631f5fa1797.png)

![img](https://img-blog.csdnimg.cn/img_convert/dba8d7dd73a907d5e74149727684b736.png)

![img](https://img-blog.csdnimg.cn/img_convert/04771957ac6c157e3867b0ee3cbc2556.png)

![img](https://img-blog.csdnimg.cn/img_convert/010174a53b1fe52dc15a9f3826abf5d6.png)

**最后，梯度下降不止可以用于线性回归中的代价函数，还通用于最小化其他的代价函数。**

## 7 线性回归中的梯度下降(Gradient Descent For Linear Regression)

![img](https://img-blog.csdnimg.cn/img_convert/20f2d7f2208ef62685a39317ebfcb00f.png)

![img](https://img-blog.csdnimg.cn/img_convert/4658f9c63fbd0c440bfab41d497693ac.png)

![img](https://img-blog.csdnimg.cn/img_convert/76fa5d202179d355bed4ec22281139cf.png)

![img](https://img-blog.csdnimg.cn/img_convert/fa3c58f4891d0fffdf6b0d1c9b06875f.png)

另外，使用循环求解，代码较为冗余，后面会讲到如何使用**向量化(Vectorization)**来简化代码并优化计算，使梯度下降运行的更快更好。

## 8 代码实现

整个2的部分需要根据城市人口数量，预测开小吃店的利润
数据在ex1data1.txt里，第一列是城市人口数量，第二列是该城市小吃店利润。

### 8.1 Plotting the Data

读入数据，然后展示数据

**In [1]:**

```python
import numpy as np
import pandas as pd
import matplotlib.pyplot as plt
```

**In [2]:**

```python
path =  '../ex1data1.txt'
data = pd.read_csv(path, header=None, names=['Population', 'Profit'])
data.head()
```

**Out [2]:**

![img](https://img-blog.csdnimg.cn/img_convert/57a4f853ba148c31d8a973a6af023d34.png)

**In [3]:**

```python
data.plot(kind='scatter', x='Population', y='Profit', figsize=(12,8))
plt.show()
```

![img](https://img-blog.csdnimg.cn/img_convert/5714c70e3cbe166cbb5ac3a0b12e85ae.png)

### 8.2 梯度下降

这个部分你需要在现有数据集上，训练线性回归的参数θ

#### 8.2.1 公式

![img](https://img-blog.csdnimg.cn/img_convert/23eb9788340a6a1e449a19de73c5a846.png)

```python
#这个部分计算J(Ѳ)，X是矩阵
def computeCost(X, y, theta):
    inner = np.power(((X * theta.T) - y), 2)
    return np.sum(inner) / (2 * len(X))
#调用
computeCost(X, y, theta)
```

#### 8.2.2实现

![img](https://img-blog.csdnimg.cn/img_convert/9122df6bc64ca02c187faa7a3b69cb07.png)

**In [4]:**

```python
data.insert(0, 'Ones', 1)
```

现在我们来做一些变量初始化。

**In [5]:**

```python
# 初始化X和y
cols = data.shape[1]
X = data.iloc[:,:-1]#X是data里的除最后列
y = data.iloc[:,cols-1:cols]#y是data最后一列
```

观察下 X (训练集) and y (目标变量)是否正确.

**In [6]:**

```python
X.head()#head()是观察前5行
```

**Out [6]:**

![img](https://img-blog.csdnimg.cn/img_convert/c621ffc0fa7a6766dfb4f45721009303.png)\

**In [7]:**

```python
y.head()
```

**Out [7]:**

![img](https://img-blog.csdnimg.cn/img_convert/a562fbcdf4c4e40003a420485ce89b33.png)

代价函数是应该是numpy矩阵，所以我们需要转换X和Y，然后才能使用它们。 我们还需要初始化theta。

**In [8]:**

```python
X = np.matrix(X.values)
y = np.matrix(y.values)
theta = np.matrix(np.array([0,0]))
```

**In [9]:**

```python
X.shape, theta.shape, y.shape
```

**Out [9]:**

![img](https://img-blog.csdnimg.cn/img_convert/8d1536345fc23e7a7f8738302e239a65.png)

#### 8.2.3计算J(θ)

计算代价函数 (theta初始值为0)，答案应该是32.07

**In [10]:**

```python
def computeCost(X, y, theta):
    inner = np.power(((X * theta.T) - y), 2)
    return np.sum(inner) / (2 * len(X))
#这个部分计算J(Ѳ)，X是矩阵
computeCost(X, y, theta)
```

**Out [10]:**

32.072733877455676

#### 8.2.4 梯度下降

![img](https://img-blog.csdnimg.cn/img_convert/91e0672d4e9459abeb66d50896fad480.png)

**In [11]:**

```python
def gradientDescent(X, y, theta, alpha, iters):
    temp = np.matrix(np.zeros(theta.shape))
    parameters = int(theta.ravel().shape[1])
    cost = np.zeros(iters)
    
    for i in range(iters):
        error = (X * theta.T) - y
        
        for j in range(parameters):
            term = np.multiply(error, X[:,j])
            temp[0,j] = theta[0,j] - ((alpha / len(X)) * np.sum(term))
            
        theta = temp
        cost[i] = computeCost(X, y, theta)
        
    return theta, cost
#这个部分实现了Ѳ的更新
```

初始化一些附加变量 - 学习速率α和要执行的迭代次数，2.2.2中已经提到。

**In [12]:**

```python
alpha = 0.01
iters = 1500
```

现在让我们运行梯度下降算法来将我们的参数θ适合于训练集。

**In [13]:**

```python
g, cost = gradientDescent(X, y, theta, alpha, iters)
g
```

**Out [13]:**

matrix([[-3.63029144,  1.16636235]])

**In [14]:**

```python
predict1 = [1,3.5]*g.T
print("predict1:",predict1)
predict2 = [1,7]*g.T
print("predict2:",predict2)
#预测35000和70000城市规模的小吃摊利润
```

predict1: [[0.45197679]] 

predict2: [[4.53424501]]

**In [15]:**

```python
x = np.linspace(data.Population.min(), data.Population.max(), 100)
f = g[0, 0] + (g[0, 1] * x)

fig, ax = plt.subplots(figsize=(12,8))
ax.plot(x, f, 'r', label='Prediction')
ax.scatter(data.Population, data.Profit, label='Traning Data')
ax.legend(loc=2)
ax.set_xlabel('Population')
ax.set_ylabel('Profit')
ax.set_title('Predicted Profit vs. Population Size')
plt.show()
#原始数据以及拟合的直线
```

![img](https://img-blog.csdnimg.cn/img_convert/cc2ee0720df61e1befb92186cf5b1304.png)

### 8.3 可视化J(θ)

![img](https://img-blog.csdnimg.cn/img_convert/e92e0f770be7e4006bf4bc594de9ff2a.png)

**并不会用python复现，截个图意思一下**

![img](https://img-blog.csdnimg.cn/img_convert/0a3a36403e83a0f567974fd60667557c.png)

(String), http://110.42.213.171:8080/blogimgs/90.png(String), 原创(String), 0(Integer), true(Boolean), true(Boolean), true(Boolean), true(Boolean), false(Boolean), 2022-04-06 10:36:33.709(Timestamp), 2022-04-06 10:36:33.709(Timestamp), 5(Integer), 1(Integer)
2022-04-06 10:36:33.713 DEBUG 12684 --- [http-nio-8086-exec-8] com.kwok.mapper.BlogMapper.saveBlog      : <==    Updates: 1
2022-04-06 10:36:33.718 DEBUG 12684 --- [http-nio-8086-exec-4] com.kwok.mapper.BlogMapper.getBlogCount  : ==>  Preparing: select count(1) as count from blog
2022-04-06 10:36:33.718 DEBUG 12684 --- [http-nio-8086-exec-4] com.kwok.mapper.BlogMapper.getBlogCount  : ==> Parameters: 
2022-04-06 10:36:33.720 DEBUG 12684 --- [http-nio-8086-exec-4] com.kwok.mapper.BlogMapper.getBlogCount  : <==      Total: 1
2022-04-06 10:36:33.720 DEBUG 12684 --- [http-nio-8086-exec-4] com.kwok.mapper.BlogMapper.getBlogList   : ==>  Preparing: select b.*,t.name as typeName from blog b,type t where b.type_id=t.id order by b.id desc limit ?,?
2022-04-06 10:36:33.720 DEBUG 12684 --- [http-nio-8086-exec-4] com.kwok.mapper.BlogMapper.getBlogList   : ==> Parameters: 0(Integer), 5(Integer)
2022-04-06 10:36:33.722 DEBUG 12684 --- [http-nio-8086-exec-4] com.kwok.mapper.BlogMapper.getBlogList   : <==      Total: 5
2022-04-06 10:36:33.722 DEBUG 12684 --- [http-nio-8086-exec-4] com.kwok.mapper.BlogMapper.getBlogById   : ==>  Preparing: select * from blog where id = ?
2022-04-06 10:36:33.722 DEBUG 12684 --- [http-nio-8086-exec-4] com.kwok.mapper.BlogMapper.getBlogById   : ==> Parameters: 91(Integer)
2022-04-06 10:36:33.723 DEBUG 12684 --- [http-nio-8086-exec-4] com.kwok.mapper.BlogMapper.getBlogById   : <==      Total: 0
2022-04-06 10:36:33.723 DEBUG 12684 --- [http-nio-8086-exec-4] com.kwok.mapper.BlogMapper.getBlogById   : ==>  Preparing: select * from blog where id = ?
2022-04-06 10:36:33.723 DEBUG 12684 --- [http-nio-8086-exec-4] com.kwok.mapper.BlogMapper.getBlogById   : ==> Parameters: 85(Integer)
2022-04-06 10:36:33.724 DEBUG 12684 --- [http-nio-8086-exec-4] com.kwok.mapper.BlogMapper.getBlogById   : <==      Total: 1
2022-04-06 10:36:33.724 DEBUG 12684 --- [http-nio-8086-exec-4] com.kwok.mapper.TypeMapper.listType      : ==>  Preparing: select * from type order by id desc
2022-04-06 10:36:33.724 DEBUG 12684 --- [http-nio-8086-exec-4] com.kwok.mapper.TypeMapper.listType      : ==> Parameters: 
2022-04-06 10:36:33.724 DEBUG 12684 --- [http-nio-8086-exec-4] com.kwok.mapper.TypeMapper.listType      : <==      Total: 7
2022-04-06 10:36:35.075 DEBUG 12684 --- [http-nio-8086-exec-3] com.kwok.mapper.BlogMapper.getBlogCount  : ==>  Preparing: select count(1) as count from blog
2022-04-06 10:36:35.075 DEBUG 12684 --- [http-nio-8086-exec-3] com.kwok.mapper.BlogMapper.getBlogCount  : ==> Parameters: 
2022-04-06 10:36:35.077 DEBUG 12684 --- [http-nio-8086-exec-3] com.kwok.mapper.BlogMapper.getBlogCount  : <==      Total: 1
2022-04-06 10:36:35.077 DEBUG 12684 --- [http-nio-8086-exec-3] com.kwok.mapper.BlogMapper.getBlogList   : ==>  Preparing: select b.*,t.name as typeName from blog b,type t where b.type_id=t.id order by b.id desc limit ?,?
2022-04-06 10:36:35.077 DEBUG 12684 --- [http-nio-8086-exec-3] com.kwok.mapper.BlogMapper.getBlogList   : ==> Parameters: 0(Integer), 5(Integer)
2022-04-06 10:36:35.079 DEBUG 12684 --- [http-nio-8086-exec-3] com.kwok.mapper.BlogMapper.getBlogList   : <==      Total: 5
2022-04-06 10:36:35.079 DEBUG 12684 --- [http-nio-8086-exec-3] com.kwok.mapper.BlogMapper.getBlogById   : ==>  Preparing: select * from blog where id = ?
2022-04-06 10:36:35.079 DEBUG 12684 --- [http-nio-8086-exec-3] com.kwok.mapper.BlogMapper.getBlogById   : ==> Parameters: 91(Integer)
2022-04-06 10:36:35.080 DEBUG 12684 --- [http-nio-8086-exec-3] com.kwok.mapper.BlogMapper.getBlogById   : <==      Total: 0
2022-04-06 10:36:35.080 DEBUG 12684 --- [http-nio-8086-exec-3] com.kwok.mapper.BlogMapper.getBlogById   : ==>  Preparing: select * from blog where id = ?
2022-04-06 10:36:35.080 DEBUG 12684 --- [http-nio-8086-exec-3] com.kwok.mapper.BlogMapper.getBlogById   : ==> Parameters: 85(Integer)
2022-04-06 10:36:35.081 DEBUG 12684 --- [http-nio-8086-exec-3] com.kwok.mapper.BlogMapper.getBlogById   : <==      Total: 1
2022-04-06 10:36:35.081 DEBUG 12684 --- [http-nio-8086-exec-3] com.kwok.mapper.TypeMapper.listType      : ==>  Preparing: select * from type order by id desc
2022-04-06 10:36:35.081 DEBUG 12684 --- [http-nio-8086-exec-3] com.kwok.mapper.TypeMapper.listType      : ==> Parameters: 
2022-04-06 10:36:35.081 DEBUG 12684 --- [http-nio-8086-exec-3] com.kwok.mapper.TypeMapper.listType      : <==      Total: 7
2022-04-06 10:36:36.467  INFO 12684 --- [http-nio-8086-exec-6] com.kwok.aspect.LogAspect                : Request : {url='http://localhost:8086/index', ip='0:0:0:0:0:0:0:1', classMethod='com.kwok.controller.IndexController.index', args=[org.apache.catalina.connector.RequestFacade@2bd08bff, org.apache.catalina.connector.ResponseFacade@569c43ae, {}]}
2022-04-06 10:36:36.467 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.BlogMapper.getBlogCount  : ==>  Preparing: select count(1) as count from blog
2022-04-06 10:36:36.467 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.BlogMapper.getBlogCount  : ==> Parameters: 
2022-04-06 10:36:36.469 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.BlogMapper.getBlogCount  : <==      Total: 1
2022-04-06 10:36:36.469 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.BlogMapper.getBlogList   : ==>  Preparing: select b.*,t.name as typeName from blog b,type t where b.type_id=t.id order by b.id desc limit ?,?
2022-04-06 10:36:36.469 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.BlogMapper.getBlogList   : ==> Parameters: 0(Integer), 5(Integer)
2022-04-06 10:36:36.472 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.BlogMapper.getBlogList   : <==      Total: 5
2022-04-06 10:36:36.472 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.BlogMapper.getBlogById   : ==>  Preparing: select * from blog where id = ?
2022-04-06 10:36:36.472 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.BlogMapper.getBlogById   : ==> Parameters: 91(Integer)
2022-04-06 10:36:36.472 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.BlogMapper.getBlogById   : <==      Total: 0
2022-04-06 10:36:36.472 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.BlogMapper.getBlogById   : ==>  Preparing: select * from blog where id = ?
2022-04-06 10:36:36.472 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.BlogMapper.getBlogById   : ==> Parameters: 85(Integer)
2022-04-06 10:36:36.473 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.BlogMapper.getBlogById   : <==      Total: 1
2022-04-06 10:36:36.473 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.TagMapper.listTopTag     : ==>  Preparing: select tag.id,tag.name,tn.num from tag,(select tag_id,count(*) as num from blog_tag group by tag_id order by num desc) as tn where tag.id = tn.tag_id
2022-04-06 10:36:36.473 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.TagMapper.listTopTag     : ==> Parameters: 
2022-04-06 10:36:36.474 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.TagMapper.listTopTag     : <==      Total: 13
2022-04-06 10:36:36.474 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.TypeMapper.listTopType   : ==>  Preparing: select type.id,type.name,tn.num from type,(select type_id,count(*) as num from blog group by type_id order by num desc) as tn where type.id = tn.type_id
2022-04-06 10:36:36.474 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.TypeMapper.listTopType   : ==> Parameters: 
2022-04-06 10:36:36.476 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.TypeMapper.listTopType   : <==      Total: 6
2022-04-06 10:36:36.476 DEBUG 12684 --- [http-nio-8086-exec-6] c.k.m.BlogMapper.listTopRecommendBlog    : ==>  Preparing: select * from blog where recommend = 1 order by update_time desc
2022-04-06 10:36:36.476 DEBUG 12684 --- [http-nio-8086-exec-6] c.k.m.BlogMapper.listTopRecommendBlog    : ==> Parameters: 
2022-04-06 10:36:36.477 DEBUG 12684 --- [http-nio-8086-exec-6] c.k.m.BlogMapper.listTopRecommendBlog    : <==      Total: 2
2022-04-06 10:36:36.477  INFO 12684 --- [http-nio-8086-exec-6] com.kwok.aspect.LogAspect                : Result : index
2022-04-06 10:36:40.809  INFO 12684 --- [http-nio-8086-exec-6] com.kwok.aspect.LogAspect                : Request : {url='http://localhost:8086/blog/90', ip='0:0:0:0:0:0:0:1', classMethod='com.kwok.controller.IndexController.blog', args=[90, {}]}
2022-04-06 10:36:40.810 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.BlogMapper.getBlogById   : ==>  Preparing: select * from blog where id = ?
2022-04-06 10:36:40.810 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.BlogMapper.getBlogById   : ==> Parameters: 90(Integer)
2022-04-06 10:36:40.811 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.BlogMapper.getBlogById   : <==      Total: 1
2022-04-06 10:36:40.811 DEBUG 12684 --- [http-nio-8086-exec-6] c.k.mapper.BlogMapper.updateBlogViews    : ==>  Preparing: update blog set views=? where id = ?
2022-04-06 10:36:40.811 DEBUG 12684 --- [http-nio-8086-exec-6] c.k.mapper.BlogMapper.updateBlogViews    : ==> Parameters: 1(Integer), 90(Integer)
2022-04-06 10:36:40.813 DEBUG 12684 --- [http-nio-8086-exec-6] c.k.mapper.BlogMapper.updateBlogViews    : <==    Updates: 1
2022-04-06 10:36:40.820 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.BlogMapper.getBlogById   : ==>  Preparing: select * from blog where id = ?
2022-04-06 10:36:40.820 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.BlogMapper.getBlogById   : ==> Parameters: 90(Integer)
2022-04-06 10:36:40.821 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.BlogMapper.getBlogById   : <==      Total: 1
2022-04-06 10:36:40.823 DEBUG 12684 --- [http-nio-8086-exec-6] c.k.m.BlogtagMapper.getTagIdByBlogId     : ==>  Preparing: select * from blog_tag where blog_id = ?
2022-04-06 10:36:40.823 DEBUG 12684 --- [http-nio-8086-exec-6] c.k.m.BlogtagMapper.getTagIdByBlogId     : ==> Parameters: 90(Integer)
2022-04-06 10:36:40.823 DEBUG 12684 --- [http-nio-8086-exec-6] c.k.m.BlogtagMapper.getTagIdByBlogId     : <==      Total: 2
2022-04-06 10:36:40.824 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.TagMapper.getShowTags    : ==>  Preparing: select * from tag where id in ( ? , ? )
2022-04-06 10:36:40.824 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.TagMapper.getShowTags    : ==> Parameters: 10(Integer), 5(Integer)
2022-04-06 10:36:40.824 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.TagMapper.getShowTags    : <==      Total: 2
2022-04-06 10:36:40.824  INFO 12684 --- [http-nio-8086-exec-6] com.kwok.aspect.LogAspect                : Result : blog
2022-04-06 10:36:41.337  INFO 12684 --- [http-nio-8086-exec-5] com.kwok.aspect.LogAspect                : Request : {url='http://localhost:8086/comments/90', ip='0:0:0:0:0:0:0:1', classMethod='com.kwok.controller.CommentController.comments', args=[90, {}]}
2022-04-06 10:36:41.337 DEBUG 12684 --- [http-nio-8086-exec-5] c.k.m.CommentMapper.listCommentByBlogId  : ==>  Preparing: select * from comment where blog_id = ? and parent_id = 0 order by creat_time asc
2022-04-06 10:36:41.337 DEBUG 12684 --- [http-nio-8086-exec-5] c.k.m.CommentMapper.listCommentByBlogId  : ==> Parameters: 90(Integer)
2022-04-06 10:36:41.338 DEBUG 12684 --- [http-nio-8086-exec-5] c.k.m.CommentMapper.listCommentByBlogId  : <==      Total: 0
2022-04-06 10:36:41.338  INFO 12684 --- [http-nio-8086-exec-5] com.kwok.aspect.LogAspect                : Result : blog :: commentList
2022-04-06 10:42:26.020  INFO 12684 --- [http-nio-8086-exec-7] com.kwok.aspect.LogAspect                : Request : {url='http://localhost:8086/index', ip='0:0:0:0:0:0:0:1', classMethod='com.kwok.controller.IndexController.index', args=[org.apache.catalina.connector.RequestFacade@6d43fb79, org.apache.catalina.connector.ResponseFacade@638418a1, {}]}
2022-04-06 10:42:26.021 DEBUG 12684 --- [http-nio-8086-exec-7] com.kwok.mapper.BlogMapper.getBlogCount  : ==>  Preparing: select count(1) as count from blog
2022-04-06 10:42:26.021 DEBUG 12684 --- [http-nio-8086-exec-7] com.kwok.mapper.BlogMapper.getBlogCount  : ==> Parameters: 
2022-04-06 10:42:26.023 DEBUG 12684 --- [http-nio-8086-exec-7] com.kwok.mapper.BlogMapper.getBlogCount  : <==      Total: 1
2022-04-06 10:42:26.023 DEBUG 12684 --- [http-nio-8086-exec-7] com.kwok.mapper.BlogMapper.getBlogList   : ==>  Preparing: select b.*,t.name as typeName from blog b,type t where b.type_id=t.id order by b.id desc limit ?,?
2022-04-06 10:42:26.023 DEBUG 12684 --- [http-nio-8086-exec-7] com.kwok.mapper.BlogMapper.getBlogList   : ==> Parameters: 0(Integer), 5(Integer)
2022-04-06 10:42:26.026 DEBUG 12684 --- [http-nio-8086-exec-7] com.kwok.mapper.BlogMapper.getBlogList   : <==      Total: 5
2022-04-06 10:42:26.026 DEBUG 12684 --- [http-nio-8086-exec-7] com.kwok.mapper.BlogMapper.getBlogById   : ==>  Preparing: select * from blog where id = ?
2022-04-06 10:42:26.026 DEBUG 12684 --- [http-nio-8086-exec-7] com.kwok.mapper.BlogMapper.getBlogById   : ==> Parameters: 91(Integer)
2022-04-06 10:42:26.026 DEBUG 12684 --- [http-nio-8086-exec-7] com.kwok.mapper.BlogMapper.getBlogById   : <==      Total: 0
2022-04-06 10:42:26.027 DEBUG 12684 --- [http-nio-8086-exec-7] com.kwok.mapper.BlogMapper.getBlogById   : ==>  Preparing: select * from blog where id = ?
2022-04-06 10:42:26.027 DEBUG 12684 --- [http-nio-8086-exec-7] com.kwok.mapper.BlogMapper.getBlogById   : ==> Parameters: 85(Integer)
2022-04-06 10:42:26.028 DEBUG 12684 --- [http-nio-8086-exec-7] com.kwok.mapper.BlogMapper.getBlogById   : <==      Total: 1
2022-04-06 10:42:26.028 DEBUG 12684 --- [http-nio-8086-exec-7] com.kwok.mapper.TagMapper.listTopTag     : ==>  Preparing: select tag.id,tag.name,tn.num from tag,(select tag_id,count(*) as num from blog_tag group by tag_id order by num desc) as tn where tag.id = tn.tag_id
2022-04-06 10:42:26.028 DEBUG 12684 --- [http-nio-8086-exec-7] com.kwok.mapper.TagMapper.listTopTag     : ==> Parameters: 
2022-04-06 10:42:26.029 DEBUG 12684 --- [http-nio-8086-exec-7] com.kwok.mapper.TagMapper.listTopTag     : <==      Total: 13
2022-04-06 10:42:26.029 DEBUG 12684 --- [http-nio-8086-exec-7] com.kwok.mapper.TypeMapper.listTopType   : ==>  Preparing: select type.id,type.name,tn.num from type,(select type_id,count(*) as num from blog group by type_id order by num desc) as tn where type.id = tn.type_id
2022-04-06 10:42:26.030 DEBUG 12684 --- [http-nio-8086-exec-7] com.kwok.mapper.TypeMapper.listTopType   : ==> Parameters: 
2022-04-06 10:42:26.031 DEBUG 12684 --- [http-nio-8086-exec-7] com.kwok.mapper.TypeMapper.listTopType   : <==      Total: 6
2022-04-06 10:42:26.031 DEBUG 12684 --- [http-nio-8086-exec-7] c.k.m.BlogMapper.listTopRecommendBlog    : ==>  Preparing: select * from blog where recommend = 1 order by update_time desc
2022-04-06 10:42:26.031 DEBUG 12684 --- [http-nio-8086-exec-7] c.k.m.BlogMapper.listTopRecommendBlog    : ==> Parameters: 
2022-04-06 10:42:26.034 DEBUG 12684 --- [http-nio-8086-exec-7] c.k.m.BlogMapper.listTopRecommendBlog    : <==      Total: 2
2022-04-06 10:42:26.034  INFO 12684 --- [http-nio-8086-exec-7] com.kwok.aspect.LogAspect                : Result : index
2022-04-06 10:42:29.623  INFO 12684 --- [http-nio-8086-exec-10] com.kwok.aspect.LogAspect                : Request : {url='http://localhost:8086/archives', ip='0:0:0:0:0:0:0:1', classMethod='com.kwok.controller.ArchiveShowController.archives', args=[{}]}
2022-04-06 10:42:29.624 DEBUG 12684 --- [http-nio-8086-exec-10] c.kwok.mapper.BlogMapper.findGroupYear   : ==>  Preparing: select date_format(b.update_time,'%Y') as year from blog b group by year order by year desc
2022-04-06 10:42:29.624 DEBUG 12684 --- [http-nio-8086-exec-10] c.kwok.mapper.BlogMapper.findGroupYear   : ==> Parameters: 
2022-04-06 10:42:29.625 DEBUG 12684 --- [http-nio-8086-exec-10] c.kwok.mapper.BlogMapper.findGroupYear   : <==      Total: 1
2022-04-06 10:42:29.626 DEBUG 12684 --- [http-nio-8086-exec-10] c.kwok.mapper.BlogMapper.findBlogByYear  : ==>  Preparing: select * from blog b where date_format(b.update_time,'%Y') = ?
2022-04-06 10:42:29.626 DEBUG 12684 --- [http-nio-8086-exec-10] c.kwok.mapper.BlogMapper.findBlogByYear  : ==> Parameters: 2022(String)
2022-04-06 10:42:29.659 DEBUG 12684 --- [http-nio-8086-exec-10] c.kwok.mapper.BlogMapper.findBlogByYear  : <==      Total: 90
2022-04-06 10:42:29.660 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.BlogMapper.getBlogCount  : ==>  Preparing: select count(1) as count from blog
2022-04-06 10:42:29.660 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.BlogMapper.getBlogCount  : ==> Parameters: 
2022-04-06 10:42:29.661 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.BlogMapper.getBlogCount  : <==      Total: 1
2022-04-06 10:42:29.662  INFO 12684 --- [http-nio-8086-exec-10] com.kwok.aspect.LogAspect                : Result : archives
2022-04-06 10:42:31.145  INFO 12684 --- [http-nio-8086-exec-2] com.kwok.aspect.LogAspect                : Request : {url='http://localhost:8086/tags/-1', ip='0:0:0:0:0:0:0:1', classMethod='com.kwok.controller.TagShowController.tags', args=[-1, org.apache.catalina.connector.RequestFacade@253c6fd2, {}]}
2022-04-06 10:42:31.145 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.TagMapper.listTag        : ==>  Preparing: select * from tag order by id desc
2022-04-06 10:42:31.145 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.TagMapper.listTag        : ==> Parameters: 
2022-04-06 10:42:31.146 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.TagMapper.listTag        : <==      Total: 14
2022-04-06 10:42:31.146 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.TagMapper.tagCount       : ==>  Preparing: select count(1) as count from blog_tag where tag_id=?
2022-04-06 10:42:31.146 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.TagMapper.tagCount       : ==> Parameters: 14(Integer)
2022-04-06 10:42:31.147 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.TagMapper.tagCount       : <==      Total: 1
2022-04-06 10:42:31.147 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.TagMapper.tagCount       : ==>  Preparing: select count(1) as count from blog_tag where tag_id=?
2022-04-06 10:42:31.147 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.TagMapper.tagCount       : ==> Parameters: 13(Integer)
2022-04-06 10:42:31.148 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.TagMapper.tagCount       : <==      Total: 1
2022-04-06 10:42:31.148 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.TagMapper.tagCount       : ==>  Preparing: select count(1) as count from blog_tag where tag_id=?
2022-04-06 10:42:31.148 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.TagMapper.tagCount       : ==> Parameters: 12(Integer)
2022-04-06 10:42:31.149 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.TagMapper.tagCount       : <==      Total: 1
2022-04-06 10:42:31.149 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.TagMapper.tagCount       : ==>  Preparing: select count(1) as count from blog_tag where tag_id=?
2022-04-06 10:42:31.149 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.TagMapper.tagCount       : ==> Parameters: 11(Integer)
2022-04-06 10:42:31.150 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.TagMapper.tagCount       : <==      Total: 1
2022-04-06 10:42:31.150 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.TagMapper.tagCount       : ==>  Preparing: select count(1) as count from blog_tag where tag_id=?
2022-04-06 10:42:31.150 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.TagMapper.tagCount       : ==> Parameters: 10(Integer)
2022-04-06 10:42:31.150 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.TagMapper.tagCount       : <==      Total: 1
2022-04-06 10:42:31.150 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.TagMapper.tagCount       : ==>  Preparing: select count(1) as count from blog_tag where tag_id=?
2022-04-06 10:42:31.150 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.TagMapper.tagCount       : ==> Parameters: 9(Integer)
2022-04-06 10:42:31.151 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.TagMapper.tagCount       : <==      Total: 1
2022-04-06 10:42:31.151 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.TagMapper.tagCount       : ==>  Preparing: select count(1) as count from blog_tag where tag_id=?
2022-04-06 10:42:31.151 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.TagMapper.tagCount       : ==> Parameters: 8(Integer)
2022-04-06 10:42:31.151 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.TagMapper.tagCount       : <==      Total: 1
2022-04-06 10:42:31.151 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.TagMapper.tagCount       : ==>  Preparing: select count(1) as count from blog_tag where tag_id=?
2022-04-06 10:42:31.151 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.TagMapper.tagCount       : ==> Parameters: 7(Integer)
2022-04-06 10:42:31.151 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.TagMapper.tagCount       : <==      Total: 1
2022-04-06 10:42:31.152 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.TagMapper.tagCount       : ==>  Preparing: select count(1) as count from blog_tag where tag_id=?
2022-04-06 10:42:31.152 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.TagMapper.tagCount       : ==> Parameters: 6(Integer)
2022-04-06 10:42:31.152 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.TagMapper.tagCount       : <==      Total: 1
2022-04-06 10:42:31.152 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.TagMapper.tagCount       : ==>  Preparing: select count(1) as count from blog_tag where tag_id=?
2022-04-06 10:42:31.152 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.TagMapper.tagCount       : ==> Parameters: 5(Integer)
2022-04-06 10:42:31.153 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.TagMapper.tagCount       : <==      Total: 1
2022-04-06 10:42:31.153 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.TagMapper.tagCount       : ==>  Preparing: select count(1) as count from blog_tag where tag_id=?
2022-04-06 10:42:31.153 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.TagMapper.tagCount       : ==> Parameters: 4(Integer)
2022-04-06 10:42:31.153 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.TagMapper.tagCount       : <==      Total: 1
2022-04-06 10:42:31.153 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.TagMapper.tagCount       : ==>  Preparing: select count(1) as count from blog_tag where tag_id=?
2022-04-06 10:42:31.153 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.TagMapper.tagCount       : ==> Parameters: 3(Integer)
2022-04-06 10:42:31.154 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.TagMapper.tagCount       : <==      Total: 1
2022-04-06 10:42:31.154 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.TagMapper.tagCount       : ==>  Preparing: select count(1) as count from blog_tag where tag_id=?
2022-04-06 10:42:31.154 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.TagMapper.tagCount       : ==> Parameters: 2(Integer)
2022-04-06 10:42:31.154 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.TagMapper.tagCount       : <==      Total: 1
2022-04-06 10:42:31.154 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.TagMapper.tagCount       : ==>  Preparing: select count(1) as count from blog_tag where tag_id=?
2022-04-06 10:42:31.154 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.TagMapper.tagCount       : ==> Parameters: 1(Integer)
2022-04-06 10:42:31.155 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.TagMapper.tagCount       : <==      Total: 1
2022-04-06 10:42:31.155 DEBUG 12684 --- [http-nio-8086-exec-2] c.k.m.BlogMapper.getBlogCountByTagId     : ==>  Preparing: select count(1) as count from blog_tag where tag_id = ?
2022-04-06 10:42:31.155 DEBUG 12684 --- [http-nio-8086-exec-2] c.k.m.BlogMapper.getBlogCountByTagId     : ==> Parameters: 14(Integer)
2022-04-06 10:42:31.155 DEBUG 12684 --- [http-nio-8086-exec-2] c.k.m.BlogMapper.getBlogCountByTagId     : <==      Total: 1
2022-04-06 10:42:31.155 DEBUG 12684 --- [http-nio-8086-exec-2] c.k.m.BlogMapper.getBlogListByTagId      : ==>  Preparing: select b.*,bt.tag_id,t.name from blog b,blog_tag bt,tag t where bt.blog_id=b.id and bt.tag_id=t.id and bt.tag_id=? order by b.id desc limit ?,?
2022-04-06 10:42:31.155 DEBUG 12684 --- [http-nio-8086-exec-2] c.k.m.BlogMapper.getBlogListByTagId      : ==> Parameters: 14(Integer), 0(Integer), 5(Integer)
2022-04-06 10:42:31.158 DEBUG 12684 --- [http-nio-8086-exec-2] c.k.m.BlogMapper.getBlogListByTagId      : <==      Total: 5
2022-04-06 10:42:31.158 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.TypeMapper.getTypeById   : ==>  Preparing: select * from type where id = ?
2022-04-06 10:42:31.158 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.TypeMapper.getTypeById   : ==> Parameters: 6(Integer)
2022-04-06 10:42:31.159 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.TypeMapper.getTypeById   : <==      Total: 1
2022-04-06 10:42:31.159 DEBUG 12684 --- [http-nio-8086-exec-2] c.kwok.mapper.TagMapper.getTagsByBlogId  : ==>  Preparing: select t.* from tag t,blog_tag bt where t.id=bt.tag_id and bt.blog_id=?
2022-04-06 10:42:31.159 DEBUG 12684 --- [http-nio-8086-exec-2] c.kwok.mapper.TagMapper.getTagsByBlogId  : ==> Parameters: 66(Integer)
2022-04-06 10:42:31.159 DEBUG 12684 --- [http-nio-8086-exec-2] c.kwok.mapper.TagMapper.getTagsByBlogId  : <==      Total: 3
2022-04-06 10:42:31.159 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.TypeMapper.getTypeById   : ==>  Preparing: select * from type where id = ?
2022-04-06 10:42:31.159 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.TypeMapper.getTypeById   : ==> Parameters: 6(Integer)
2022-04-06 10:42:31.160 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.TypeMapper.getTypeById   : <==      Total: 1
2022-04-06 10:42:31.160 DEBUG 12684 --- [http-nio-8086-exec-2] c.kwok.mapper.TagMapper.getTagsByBlogId  : ==>  Preparing: select t.* from tag t,blog_tag bt where t.id=bt.tag_id and bt.blog_id=?
2022-04-06 10:42:31.160 DEBUG 12684 --- [http-nio-8086-exec-2] c.kwok.mapper.TagMapper.getTagsByBlogId  : ==> Parameters: 65(Integer)
2022-04-06 10:42:31.160 DEBUG 12684 --- [http-nio-8086-exec-2] c.kwok.mapper.TagMapper.getTagsByBlogId  : <==      Total: 3
2022-04-06 10:42:31.160 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.TypeMapper.getTypeById   : ==>  Preparing: select * from type where id = ?
2022-04-06 10:42:31.160 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.TypeMapper.getTypeById   : ==> Parameters: 6(Integer)
2022-04-06 10:42:31.161 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.TypeMapper.getTypeById   : <==      Total: 1
2022-04-06 10:42:31.161 DEBUG 12684 --- [http-nio-8086-exec-2] c.kwok.mapper.TagMapper.getTagsByBlogId  : ==>  Preparing: select t.* from tag t,blog_tag bt where t.id=bt.tag_id and bt.blog_id=?
2022-04-06 10:42:31.161 DEBUG 12684 --- [http-nio-8086-exec-2] c.kwok.mapper.TagMapper.getTagsByBlogId  : ==> Parameters: 64(Integer)
2022-04-06 10:42:31.161 DEBUG 12684 --- [http-nio-8086-exec-2] c.kwok.mapper.TagMapper.getTagsByBlogId  : <==      Total: 3
2022-04-06 10:42:31.161 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.TypeMapper.getTypeById   : ==>  Preparing: select * from type where id = ?
2022-04-06 10:42:31.161 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.TypeMapper.getTypeById   : ==> Parameters: 6(Integer)
2022-04-06 10:42:31.162 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.TypeMapper.getTypeById   : <==      Total: 1
2022-04-06 10:42:31.162 DEBUG 12684 --- [http-nio-8086-exec-2] c.kwok.mapper.TagMapper.getTagsByBlogId  : ==>  Preparing: select t.* from tag t,blog_tag bt where t.id=bt.tag_id and bt.blog_id=?
2022-04-06 10:42:31.162 DEBUG 12684 --- [http-nio-8086-exec-2] c.kwok.mapper.TagMapper.getTagsByBlogId  : ==> Parameters: 63(Integer)
2022-04-06 10:42:31.163 DEBUG 12684 --- [http-nio-8086-exec-2] c.kwok.mapper.TagMapper.getTagsByBlogId  : <==      Total: 3
2022-04-06 10:42:31.163 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.TypeMapper.getTypeById   : ==>  Preparing: select * from type where id = ?
2022-04-06 10:42:31.164 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.TypeMapper.getTypeById   : ==> Parameters: 6(Integer)
2022-04-06 10:42:31.164 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.TypeMapper.getTypeById   : <==      Total: 1
2022-04-06 10:42:31.164 DEBUG 12684 --- [http-nio-8086-exec-2] c.kwok.mapper.TagMapper.getTagsByBlogId  : ==>  Preparing: select t.* from tag t,blog_tag bt where t.id=bt.tag_id and bt.blog_id=?
2022-04-06 10:42:31.164 DEBUG 12684 --- [http-nio-8086-exec-2] c.kwok.mapper.TagMapper.getTagsByBlogId  : ==> Parameters: 62(Integer)
2022-04-06 10:42:31.165 DEBUG 12684 --- [http-nio-8086-exec-2] c.kwok.mapper.TagMapper.getTagsByBlogId  : <==      Total: 3
2022-04-06 10:42:31.165 DEBUG 12684 --- [http-nio-8086-exec-2] c.k.m.BlogMapper.getPreBlogsByTagId      : ==>  Preparing: select b.* from blog b,blog_tag bt where b.id = bt.blog_id and bt.tag_id=? and b.id > ?
2022-04-06 10:42:31.165 DEBUG 12684 --- [http-nio-8086-exec-2] c.k.m.BlogMapper.getPreBlogsByTagId      : ==> Parameters: 14(Integer), 66(Integer)
2022-04-06 10:42:31.165 DEBUG 12684 --- [http-nio-8086-exec-2] c.k.m.BlogMapper.getPreBlogsByTagId      : <==      Total: 0
2022-04-06 10:42:31.165 DEBUG 12684 --- [http-nio-8086-exec-2] c.k.m.BlogMapper.getNextBlogsByTagId     : ==>  Preparing: select b.* from blog b,blog_tag bt where b.id = bt.blog_id and bt.tag_id=? and ? > b.id
2022-04-06 10:42:31.165 DEBUG 12684 --- [http-nio-8086-exec-2] c.k.m.BlogMapper.getNextBlogsByTagId     : ==> Parameters: 14(Integer), 62(Integer)
2022-04-06 10:42:31.167 DEBUG 12684 --- [http-nio-8086-exec-2] c.k.m.BlogMapper.getNextBlogsByTagId     : <==      Total: 4
2022-04-06 10:42:31.167  INFO 12684 --- [http-nio-8086-exec-2] com.kwok.aspect.LogAspect                : Result : tags
2022-04-06 10:42:33.727  INFO 12684 --- [http-nio-8086-exec-7] com.kwok.aspect.LogAspect                : Request : {url='http://localhost:8086/about', ip='0:0:0:0:0:0:0:1', classMethod='com.kwok.controller.AboutShowController.archives', args=[]}
2022-04-06 10:42:33.729  INFO 12684 --- [http-nio-8086-exec-7] com.kwok.aspect.LogAspect                : Result : about
2022-04-06 10:42:35.438  INFO 12684 --- [http-nio-8086-exec-8] com.kwok.aspect.LogAspect                : Request : {url='http://localhost:8086/index', ip='0:0:0:0:0:0:0:1', classMethod='com.kwok.controller.IndexController.index', args=[org.apache.catalina.connector.RequestFacade@2bd08bff, org.apache.catalina.connector.ResponseFacade@569c43ae, {}]}
2022-04-06 10:42:35.439 DEBUG 12684 --- [http-nio-8086-exec-8] com.kwok.mapper.BlogMapper.getBlogCount  : ==>  Preparing: select count(1) as count from blog
2022-04-06 10:42:35.439 DEBUG 12684 --- [http-nio-8086-exec-8] com.kwok.mapper.BlogMapper.getBlogCount  : ==> Parameters: 
2022-04-06 10:42:35.440 DEBUG 12684 --- [http-nio-8086-exec-8] com.kwok.mapper.BlogMapper.getBlogCount  : <==      Total: 1
2022-04-06 10:42:35.441 DEBUG 12684 --- [http-nio-8086-exec-8] com.kwok.mapper.BlogMapper.getBlogList   : ==>  Preparing: select b.*,t.name as typeName from blog b,type t where b.type_id=t.id order by b.id desc limit ?,?
2022-04-06 10:42:35.441 DEBUG 12684 --- [http-nio-8086-exec-8] com.kwok.mapper.BlogMapper.getBlogList   : ==> Parameters: 0(Integer), 5(Integer)
2022-04-06 10:42:35.443 DEBUG 12684 --- [http-nio-8086-exec-8] com.kwok.mapper.BlogMapper.getBlogList   : <==      Total: 5
2022-04-06 10:42:35.443 DEBUG 12684 --- [http-nio-8086-exec-8] com.kwok.mapper.BlogMapper.getBlogById   : ==>  Preparing: select * from blog where id = ?
2022-04-06 10:42:35.443 DEBUG 12684 --- [http-nio-8086-exec-8] com.kwok.mapper.BlogMapper.getBlogById   : ==> Parameters: 91(Integer)
2022-04-06 10:42:35.444 DEBUG 12684 --- [http-nio-8086-exec-8] com.kwok.mapper.BlogMapper.getBlogById   : <==      Total: 0
2022-04-06 10:42:35.444 DEBUG 12684 --- [http-nio-8086-exec-8] com.kwok.mapper.BlogMapper.getBlogById   : ==>  Preparing: select * from blog where id = ?
2022-04-06 10:42:35.444 DEBUG 12684 --- [http-nio-8086-exec-8] com.kwok.mapper.BlogMapper.getBlogById   : ==> Parameters: 85(Integer)
2022-04-06 10:42:35.445 DEBUG 12684 --- [http-nio-8086-exec-8] com.kwok.mapper.BlogMapper.getBlogById   : <==      Total: 1
2022-04-06 10:42:35.445 DEBUG 12684 --- [http-nio-8086-exec-8] com.kwok.mapper.TagMapper.listTopTag     : ==>  Preparing: select tag.id,tag.name,tn.num from tag,(select tag_id,count(*) as num from blog_tag group by tag_id order by num desc) as tn where tag.id = tn.tag_id
2022-04-06 10:42:35.446 DEBUG 12684 --- [http-nio-8086-exec-8] com.kwok.mapper.TagMapper.listTopTag     : ==> Parameters: 
2022-04-06 10:42:35.447 DEBUG 12684 --- [http-nio-8086-exec-8] com.kwok.mapper.TagMapper.listTopTag     : <==      Total: 13
2022-04-06 10:42:35.447 DEBUG 12684 --- [http-nio-8086-exec-8] com.kwok.mapper.TypeMapper.listTopType   : ==>  Preparing: select type.id,type.name,tn.num from type,(select type_id,count(*) as num from blog group by type_id order by num desc) as tn where type.id = tn.type_id
2022-04-06 10:42:35.447 DEBUG 12684 --- [http-nio-8086-exec-8] com.kwok.mapper.TypeMapper.listTopType   : ==> Parameters: 
2022-04-06 10:42:35.448 DEBUG 12684 --- [http-nio-8086-exec-8] com.kwok.mapper.TypeMapper.listTopType   : <==      Total: 6
2022-04-06 10:42:35.448 DEBUG 12684 --- [http-nio-8086-exec-8] c.k.m.BlogMapper.listTopRecommendBlog    : ==>  Preparing: select * from blog where recommend = 1 order by update_time desc
2022-04-06 10:42:35.448 DEBUG 12684 --- [http-nio-8086-exec-8] c.k.m.BlogMapper.listTopRecommendBlog    : ==> Parameters: 
2022-04-06 10:42:35.450 DEBUG 12684 --- [http-nio-8086-exec-8] c.k.m.BlogMapper.listTopRecommendBlog    : <==      Total: 2
2022-04-06 10:42:35.450  INFO 12684 --- [http-nio-8086-exec-8] com.kwok.aspect.LogAspect                : Result : index
2022-04-06 10:58:20.959  WARN 12684 --- [HikariPool-1 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=15m27s666ms254µs500ns).
2022-04-06 10:59:21.830  INFO 12684 --- [http-nio-8086-exec-9] com.kwok.aspect.LogAspect                : Request : {url='http://localhost:8086/index', ip='0:0:0:0:0:0:0:1', classMethod='com.kwok.controller.IndexController.index', args=[org.apache.catalina.connector.RequestFacade@7b4c3c2a, org.apache.catalina.connector.ResponseFacade@4167aeee, {}]}
2022-04-06 10:59:21.831 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.BlogMapper.getBlogCount  : ==>  Preparing: select count(1) as count from blog
2022-04-06 10:59:21.831 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.BlogMapper.getBlogCount  : ==> Parameters: 
2022-04-06 10:59:21.832 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.BlogMapper.getBlogCount  : <==      Total: 1
2022-04-06 10:59:21.832 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.BlogMapper.getBlogList   : ==>  Preparing: select b.*,t.name as typeName from blog b,type t where b.type_id=t.id order by b.id desc limit ?,?
2022-04-06 10:59:21.832 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.BlogMapper.getBlogList   : ==> Parameters: 0(Integer), 5(Integer)
2022-04-06 10:59:21.835 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.BlogMapper.getBlogList   : <==      Total: 5
2022-04-06 10:59:21.835 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.BlogMapper.getBlogById   : ==>  Preparing: select * from blog where id = ?
2022-04-06 10:59:21.835 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.BlogMapper.getBlogById   : ==> Parameters: 91(Integer)
2022-04-06 10:59:21.836 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.BlogMapper.getBlogById   : <==      Total: 0
2022-04-06 10:59:21.836 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.BlogMapper.getBlogById   : ==>  Preparing: select * from blog where id = ?
2022-04-06 10:59:21.836 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.BlogMapper.getBlogById   : ==> Parameters: 85(Integer)
2022-04-06 10:59:21.837 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.BlogMapper.getBlogById   : <==      Total: 1
2022-04-06 10:59:21.837 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.TagMapper.listTopTag     : ==>  Preparing: select tag.id,tag.name,tn.num from tag,(select tag_id,count(*) as num from blog_tag group by tag_id order by num desc) as tn where tag.id = tn.tag_id
2022-04-06 10:59:21.838 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.TagMapper.listTopTag     : ==> Parameters: 
2022-04-06 10:59:21.839 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.TagMapper.listTopTag     : <==      Total: 13
2022-04-06 10:59:21.839 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.TypeMapper.listTopType   : ==>  Preparing: select type.id,type.name,tn.num from type,(select type_id,count(*) as num from blog group by type_id order by num desc) as tn where type.id = tn.type_id
2022-04-06 10:59:21.839 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.TypeMapper.listTopType   : ==> Parameters: 
2022-04-06 10:59:21.839 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.TypeMapper.listTopType   : <==      Total: 6
2022-04-06 10:59:21.840 DEBUG 12684 --- [http-nio-8086-exec-9] c.k.m.BlogMapper.listTopRecommendBlog    : ==>  Preparing: select * from blog where recommend = 1 order by update_time desc
2022-04-06 10:59:21.840 DEBUG 12684 --- [http-nio-8086-exec-9] c.k.m.BlogMapper.listTopRecommendBlog    : ==> Parameters: 
2022-04-06 10:59:21.842 DEBUG 12684 --- [http-nio-8086-exec-9] c.k.m.BlogMapper.listTopRecommendBlog    : <==      Total: 2
2022-04-06 10:59:21.842  INFO 12684 --- [http-nio-8086-exec-9] com.kwok.aspect.LogAspect                : Result : index
2022-04-06 11:01:21.397 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.TypeMapper.getTypeCount  : ==>  Preparing: select count(1) as count from type
2022-04-06 11:01:21.397 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.TypeMapper.getTypeCount  : ==> Parameters: 
2022-04-06 11:01:21.398 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.TypeMapper.getTypeCount  : <==      Total: 1
2022-04-06 11:01:21.398 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.TypeMapper.getTypeList   : ==>  Preparing: select * from type order by id desc limit ?,?
2022-04-06 11:01:21.398 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.TypeMapper.getTypeList   : ==> Parameters: 0(Integer), 5(Integer)
2022-04-06 11:01:21.399 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.TypeMapper.getTypeList   : <==      Total: 5
2022-04-06 11:01:21.399 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.TypeMapper.getTypeById   : ==>  Preparing: select * from type where id = ?
2022-04-06 11:01:21.399 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.TypeMapper.getTypeById   : ==> Parameters: 8(Integer)
2022-04-06 11:01:21.400 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.TypeMapper.getTypeById   : <==      Total: 0
2022-04-06 11:01:21.400 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.TypeMapper.getTypeById   : ==>  Preparing: select * from type where id = ?
2022-04-06 11:01:21.400 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.TypeMapper.getTypeById   : ==> Parameters: 2(Integer)
2022-04-06 11:01:21.400 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.TypeMapper.getTypeById   : <==      Total: 1
2022-04-06 11:01:22.154 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.BlogMapper.getBlogCount  : ==>  Preparing: select count(1) as count from blog
2022-04-06 11:01:22.154 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.BlogMapper.getBlogCount  : ==> Parameters: 
2022-04-06 11:01:22.155 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.BlogMapper.getBlogCount  : <==      Total: 1
2022-04-06 11:01:22.155 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.BlogMapper.getBlogList   : ==>  Preparing: select b.*,t.name as typeName from blog b,type t where b.type_id=t.id order by b.id desc limit ?,?
2022-04-06 11:01:22.155 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.BlogMapper.getBlogList   : ==> Parameters: 0(Integer), 5(Integer)
2022-04-06 11:01:22.158 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.BlogMapper.getBlogList   : <==      Total: 5
2022-04-06 11:01:22.158 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.BlogMapper.getBlogById   : ==>  Preparing: select * from blog where id = ?
2022-04-06 11:01:22.158 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.BlogMapper.getBlogById   : ==> Parameters: 91(Integer)
2022-04-06 11:01:22.158 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.BlogMapper.getBlogById   : <==      Total: 0
2022-04-06 11:01:22.158 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.BlogMapper.getBlogById   : ==>  Preparing: select * from blog where id = ?
2022-04-06 11:01:22.158 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.BlogMapper.getBlogById   : ==> Parameters: 85(Integer)
2022-04-06 11:01:22.160 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.BlogMapper.getBlogById   : <==      Total: 1
2022-04-06 11:01:22.160 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.TypeMapper.listType      : ==>  Preparing: select * from type order by id desc
2022-04-06 11:01:22.160 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.TypeMapper.listType      : ==> Parameters: 
2022-04-06 11:01:22.160 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.TypeMapper.listType      : <==      Total: 7
2022-04-06 11:01:23.794 DEBUG 12684 --- [http-nio-8086-exec-8] com.kwok.mapper.TypeMapper.listType      : ==>  Preparing: select * from type order by id desc
2022-04-06 11:01:23.794 DEBUG 12684 --- [http-nio-8086-exec-8] com.kwok.mapper.TypeMapper.listType      : ==> Parameters: 
2022-04-06 11:01:23.796 DEBUG 12684 --- [http-nio-8086-exec-8] com.kwok.mapper.TypeMapper.listType      : <==      Total: 7
2022-04-06 11:01:23.796 DEBUG 12684 --- [http-nio-8086-exec-8] com.kwok.mapper.TagMapper.listTag        : ==>  Preparing: select * from tag order by id desc
2022-04-06 11:01:23.796 DEBUG 12684 --- [http-nio-8086-exec-8] com.kwok.mapper.TagMapper.listTag        : ==> Parameters: 
2022-04-06 11:01:23.796 DEBUG 12684 --- [http-nio-8086-exec-8] com.kwok.mapper.TagMapper.listTag        : <==      Total: 14
2022-04-06 11:01:23.797 DEBUG 12684 --- [http-nio-8086-exec-8] com.kwok.mapper.BlogMapper.getBlogById   : ==>  Preparing: select * from blog where id = ?
2022-04-06 11:01:23.797 DEBUG 12684 --- [http-nio-8086-exec-8] com.kwok.mapper.BlogMapper.getBlogById   : ==> Parameters: 90(Integer)
2022-04-06 11:01:23.798 DEBUG 12684 --- [http-nio-8086-exec-8] com.kwok.mapper.BlogMapper.getBlogById   : <==      Total: 1
2022-04-06 11:01:23.799 DEBUG 12684 --- [http-nio-8086-exec-8] c.k.m.BlogtagMapper.getTagIdByBlogId     : ==>  Preparing: select * from blog_tag where blog_id = ?
2022-04-06 11:01:23.799 DEBUG 12684 --- [http-nio-8086-exec-8] c.k.m.BlogtagMapper.getTagIdByBlogId     : ==> Parameters: 90(Integer)
2022-04-06 11:01:23.799 DEBUG 12684 --- [http-nio-8086-exec-8] c.k.m.BlogtagMapper.getTagIdByBlogId     : <==      Total: 2
2022-04-06 11:01:29.329 DEBUG 12684 --- [http-nio-8086-exec-5] c.k.m.BlogtagMapper.deletePreBlogtag     : ==>  Preparing: delete from blog_tag where blog_id = ?
2022-04-06 11:01:29.330 DEBUG 12684 --- [http-nio-8086-exec-5] c.k.m.BlogtagMapper.deletePreBlogtag     : ==> Parameters: 90(Integer)
2022-04-06 11:01:29.331 DEBUG 12684 --- [http-nio-8086-exec-5] c.k.m.BlogtagMapper.deletePreBlogtag     : <==    Updates: 2
2022-04-06 11:01:29.331 DEBUG 12684 --- [http-nio-8086-exec-5] c.k.mapper.BlogtagMapper.getLastBlogtag  : ==>  Preparing: select * from blog_tag order by id desc limit 1
2022-04-06 11:01:29.331 DEBUG 12684 --- [http-nio-8086-exec-5] c.k.mapper.BlogtagMapper.getLastBlogtag  : ==> Parameters: 
2022-04-06 11:01:29.332 DEBUG 12684 --- [http-nio-8086-exec-5] c.k.mapper.BlogtagMapper.getLastBlogtag  : <==      Total: 1
2022-04-06 11:01:29.332 DEBUG 12684 --- [http-nio-8086-exec-5] c.kwok.mapper.BlogtagMapper.saveBlogtag  : ==>  Preparing: insert into blog_tag (id, blog_id, tag_id) values (?, ?,?)
2022-04-06 11:01:29.332 DEBUG 12684 --- [http-nio-8086-exec-5] c.kwok.mapper.BlogtagMapper.saveBlogtag  : ==> Parameters: 219(Integer), 90(Integer), 10(Integer)
2022-04-06 11:01:29.333 DEBUG 12684 --- [http-nio-8086-exec-5] c.kwok.mapper.BlogtagMapper.saveBlogtag  : <==    Updates: 1
2022-04-06 11:01:29.333 DEBUG 12684 --- [http-nio-8086-exec-5] c.k.mapper.BlogtagMapper.getLastBlogtag  : ==>  Preparing: select * from blog_tag order by id desc limit 1
2022-04-06 11:01:29.333 DEBUG 12684 --- [http-nio-8086-exec-5] c.k.mapper.BlogtagMapper.getLastBlogtag  : ==> Parameters: 
2022-04-06 11:01:29.334 DEBUG 12684 --- [http-nio-8086-exec-5] c.k.mapper.BlogtagMapper.getLastBlogtag  : <==      Total: 1
2022-04-06 11:01:29.334 DEBUG 12684 --- [http-nio-8086-exec-5] c.kwok.mapper.BlogtagMapper.saveBlogtag  : ==>  Preparing: insert into blog_tag (id, blog_id, tag_id) values (?, ?,?)
2022-04-06 11:01:29.334 DEBUG 12684 --- [http-nio-8086-exec-5] c.kwok.mapper.BlogtagMapper.saveBlogtag  : ==> Parameters: 220(Integer), 90(Integer), 5(Integer)
2022-04-06 11:01:29.334 DEBUG 12684 --- [http-nio-8086-exec-5] c.kwok.mapper.BlogtagMapper.saveBlogtag  : <==    Updates: 1
2022-04-06 11:01:29.335 DEBUG 12684 --- [http-nio-8086-exec-5] com.kwok.mapper.BlogMapper.updateBlog    : ==>  Preparing: update blog set title=?,content=?,description=?, first_picture=?, flag=?,appreciation=?, share_statement=?,commentabled=?, published=?,recommend=?, update_time=?,type_id=? where id = ?
2022-04-06 11:01:29.335 DEBUG 12684 --- [http-nio-8086-exec-5] com.kwok.mapper.BlogMapper.updateBlog    : ==> Parameters: 机器学习-单变量线性回归(String), ## 1 模型表示(Model Representation)

#### 1.房价预测训练集

| **Size in**  ***feet²*****(*****x*****)** | **Price ($) in 1000's(*****y*****)** |
| ----------------------------------------- | ------------------------------------ |
| 2104                                      | 460                                  |
| 1416                                      | 232                                  |
| 1534                                      | 315                                  |
| 852                                       | 178                                  |
| ...                                       | ...                                  |

房价预测训练集中，同时给出了输入  和输出结果 ，即给出了人为标注的 **”正确结果“**，且预测的量是连续的，属于监督学习中的回归问题。

#### 2.问题解决模型

![img](https://img-blog.csdnimg.cn/img_convert/d0b37396f9b579f62c36f83d00f503ed.png)

![img](https://img-blog.csdnimg.cn/img_convert/c4d83ae32113ef2c9ccd3de8d4b9a045.png)

## 2 代价函数(Cost Function)

![img](https://img-blog.csdnimg.cn/img_convert/d85939c16e69cca8e651c52c4fbbf4b8.png)![img](https://img-blog.csdnimg.cn/img_convert/559bf7c743530e29c210561263646abe.png)

![img](https://img-blog.csdnimg.cn/img_convert/6807b8e291f4dbc1c64102a29bef7825.png)

## 3 代价函数 - 直观理解1(Cost Function - Intuition I)

![img](https://img-blog.csdnimg.cn/img_convert/8759c10c50035896097463a7d489e239.png)

![img](https://img-blog.csdnimg.cn/img_convert/9a16bcb865385fd2e77ed0c2dbecb7a1.png)

## 4 代价函数 - 直观理解2(Cost Function - Intuition II)

![img](https://img-blog.csdnimg.cn/img_convert/b9303418cc9a75d062e3fb1ab76b9179.png)

![img](https://img-blog.csdnimg.cn/img_convert/78ef480a5747999a92302aa84c75e620.png)

![img](https://img-blog.csdnimg.cn/img_convert/3204e18dd12ac8612c6fecd8773d5f18.png)

![img](https://img-blog.csdnimg.cn/img_convert/bd837a2499e3e82eb56fb06f903a5ca8.png)

## 5 梯度下降(Gradient Descent)



![img](https://img-blog.csdnimg.cn/img_convert/fb2dc5f1c6f5d951a31ce8df92836b11.png)

![img](https://img-blog.csdnimg.cn/img_convert/2a3c3df3eb47fc4e02a8988118a4323c.png)

![img](https://img-blog.csdnimg.cn/img_convert/ed005d8a3c646ac1f9546e068710e812.png)

![img](https://img-blog.csdnimg.cn/img_convert/b8be957d9343af3f0492c41915c70c25.png)

![img](https://img-blog.csdnimg.cn/img_convert/77080986a406763fce6f239492bb90f8.png)

## 6 梯度下降直观理解(Gradient Descent Intuition)

![img](https://img-blog.csdnimg.cn/img_convert/ebb1177e6b9fad771aa6cb5d717fc797.png)

 ![img](https://img-blog.csdnimg.cn/img_convert/2b2221375c1c7938e19b9a8efe061da4.png)

![img](https://img-blog.csdnimg.cn/img_convert/9ab7b6b8d937da5df02de5e4c17b9f5e.png)

![img](https://img-blog.csdnimg.cn/img_convert/f0c8f3b73c0a0f1af92fcd5a8ce8cb0d.png)

![img](https://img-blog.csdnimg.cn/img_convert/313d8e92e5ba9790ccc05631f5fa1797.png)

![img](https://img-blog.csdnimg.cn/img_convert/dba8d7dd73a907d5e74149727684b736.png)

![img](https://img-blog.csdnimg.cn/img_convert/04771957ac6c157e3867b0ee3cbc2556.png)

![img](https://img-blog.csdnimg.cn/img_convert/010174a53b1fe52dc15a9f3826abf5d6.png)

**最后，梯度下降不止可以用于线性回归中的代价函数，还通用于最小化其他的代价函数。**

## 7 线性回归中的梯度下降(Gradient Descent For Linear Regression)

![img](https://img-blog.csdnimg.cn/img_convert/20f2d7f2208ef62685a39317ebfcb00f.png)

![img](https://img-blog.csdnimg.cn/img_convert/4658f9c63fbd0c440bfab41d497693ac.png)

![img](https://img-blog.csdnimg.cn/img_convert/76fa5d202179d355bed4ec22281139cf.png)

![img](https://img-blog.csdnimg.cn/img_convert/fa3c58f4891d0fffdf6b0d1c9b06875f.png)

另外，使用循环求解，代码较为冗余，后面会讲到如何使用**向量化(Vectorization)**来简化代码并优化计算，使梯度下降运行的更快更好。

## 8 代码实现

整个2的部分需要根据城市人口数量，预测开小吃店的利润
数据在ex1data1.txt里，第一列是城市人口数量，第二列是该城市小吃店利润。

### 8.1 Plotting the Data

读入数据，然后展示数据

**In [1]:**

```python
import numpy as np
import pandas as pd
import matplotlib.pyplot as plt
```

**In [2]:**

```python
path =  '../ex1data1.txt'
data = pd.read_csv(path, header=None, names=['Population', 'Profit'])
data.head()
```

**Out [2]:**

![img](https://img-blog.csdnimg.cn/img_convert/57a4f853ba148c31d8a973a6af023d34.png)

**In [3]:**

```python
data.plot(kind='scatter', x='Population', y='Profit', figsize=(12,8))
plt.show()
```

![img](https://img-blog.csdnimg.cn/img_convert/5714c70e3cbe166cbb5ac3a0b12e85ae.png)

### 8.2 梯度下降

这个部分你需要在现有数据集上，训练线性回归的参数θ

#### 8.2.1 公式

![img](https://img-blog.csdnimg.cn/img_convert/23eb9788340a6a1e449a19de73c5a846.png)

```python
#这个部分计算J(Ѳ)，X是矩阵
def computeCost(X, y, theta):
    inner = np.power(((X * theta.T) - y), 2)
    return np.sum(inner) / (2 * len(X))
#调用
computeCost(X, y, theta)
```

#### 8.2.2实现

![img](https://img-blog.csdnimg.cn/img_convert/9122df6bc64ca02c187faa7a3b69cb07.png)

**In [4]:**

```python
data.insert(0, 'Ones', 1)
```

现在我们来做一些变量初始化。

**In [5]:**

```python
# 初始化X和y
cols = data.shape[1]
X = data.iloc[:,:-1]#X是data里的除最后列
y = data.iloc[:,cols-1:cols]#y是data最后一列
```

观察下 X (训练集) and y (目标变量)是否正确.

**In [6]:**

```python
X.head()#head()是观察前5行
```

**Out [6]:**

![img](https://img-blog.csdnimg.cn/img_convert/c621ffc0fa7a6766dfb4f45721009303.png)\

**In [7]:**

```python
y.head()
```

**Out [7]:**

![img](https://img-blog.csdnimg.cn/img_convert/a562fbcdf4c4e40003a420485ce89b33.png)

代价函数是应该是numpy矩阵，所以我们需要转换X和Y，然后才能使用它们。 我们还需要初始化theta。

**In [8]:**

```python
X = np.matrix(X.values)
y = np.matrix(y.values)
theta = np.matrix(np.array([0,0]))
```

**In [9]:**

```python
X.shape, theta.shape, y.shape
```

**Out [9]:**

![img](https://img-blog.csdnimg.cn/img_convert/8d1536345fc23e7a7f8738302e239a65.png)

#### 8.2.3计算J(θ)

计算代价函数 (theta初始值为0)，答案应该是32.07

**In [10]:**

```python
def computeCost(X, y, theta):
    inner = np.power(((X * theta.T) - y), 2)
    return np.sum(inner) / (2 * len(X))
#这个部分计算J(Ѳ)，X是矩阵
computeCost(X, y, theta)
```

**Out [10]:**

32.072733877455676

#### 8.2.4 梯度下降

![img](https://img-blog.csdnimg.cn/img_convert/91e0672d4e9459abeb66d50896fad480.png)

**In [11]:**

```python
def gradientDescent(X, y, theta, alpha, iters):
    temp = np.matrix(np.zeros(theta.shape))
    parameters = int(theta.ravel().shape[1])
    cost = np.zeros(iters)
    
    for i in range(iters):
        error = (X * theta.T) - y
        
        for j in range(parameters):
            term = np.multiply(error, X[:,j])
            temp[0,j] = theta[0,j] - ((alpha / len(X)) * np.sum(term))
            
        theta = temp
        cost[i] = computeCost(X, y, theta)
        
    return theta, cost
#这个部分实现了Ѳ的更新
```

初始化一些附加变量 - 学习速率α和要执行的迭代次数，2.2.2中已经提到。

**In [12]:**

```python
alpha = 0.01
iters = 1500
```

现在让我们运行梯度下降算法来将我们的参数θ适合于训练集。

**In [13]:**

```python
g, cost = gradientDescent(X, y, theta, alpha, iters)
g
```

**Out [13]:**

matrix([[-3.63029144,  1.16636235]])

**In [14]:**

```python
predict1 = [1,3.5]*g.T
print("predict1:",predict1)
predict2 = [1,7]*g.T
print("predict2:",predict2)
#预测35000和70000城市规模的小吃摊利润
```

predict1: [[0.45197679]] 

predict2: [[4.53424501]]

**In [15]:**

```python
x = np.linspace(data.Population.min(), data.Population.max(), 100)
f = g[0, 0] + (g[0, 1] * x)

fig, ax = plt.subplots(figsize=(12,8))
ax.plot(x, f, 'r', label='Prediction')
ax.scatter(data.Population, data.Profit, label='Traning Data')
ax.legend(loc=2)
ax.set_xlabel('Population')
ax.set_ylabel('Profit')
ax.set_title('Predicted Profit vs. Population Size')
plt.show()
#原始数据以及拟合的直线
```

![img](https://img-blog.csdnimg.cn/img_convert/cc2ee0720df61e1befb92186cf5b1304.png)

### 8.3 可视化J(θ)

![img](https://img-blog.csdnimg.cn/img_convert/e92e0f770be7e4006bf4bc594de9ff2a.png)

**并不会用python复现，截个图意思一下**

![img](https://img-blog.csdnimg.cn/img_convert/0a3a36403e83a0f567974fd60667557c.png)

(String), 1 模型表示(Model Representation) 1.房价预测训练集 Size in feet²**(x)** Price ($) in 1000’s(y) 2104 460 1416 232 1534 315 852 178 … … 房价预测训练集中，同时给出了输入 和输出结果 ，即给出了人为标注的 (String), http://110.42.213.171:8080/blogimgs/90.png(String), 原创(String), true(Boolean), true(Boolean), true(Boolean), true(Boolean), false(Boolean), 2022-04-06 11:01:29.329(Timestamp), 5(Integer), 90(Integer)
2022-04-06 11:01:29.338 DEBUG 12684 --- [http-nio-8086-exec-5] com.kwok.mapper.BlogMapper.updateBlog    : <==    Updates: 1
2022-04-06 11:01:29.342 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.BlogMapper.getBlogCount  : ==>  Preparing: select count(1) as count from blog
2022-04-06 11:01:29.342 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.BlogMapper.getBlogCount  : ==> Parameters: 
2022-04-06 11:01:29.343 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.BlogMapper.getBlogCount  : <==      Total: 1
2022-04-06 11:01:29.344 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.BlogMapper.getBlogList   : ==>  Preparing: select b.*,t.name as typeName from blog b,type t where b.type_id=t.id order by b.id desc limit ?,?
2022-04-06 11:01:29.344 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.BlogMapper.getBlogList   : ==> Parameters: 0(Integer), 5(Integer)
2022-04-06 11:01:29.347 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.BlogMapper.getBlogList   : <==      Total: 5
2022-04-06 11:01:29.347 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.BlogMapper.getBlogById   : ==>  Preparing: select * from blog where id = ?
2022-04-06 11:01:29.347 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.BlogMapper.getBlogById   : ==> Parameters: 91(Integer)
2022-04-06 11:01:29.348 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.BlogMapper.getBlogById   : <==      Total: 0
2022-04-06 11:01:29.348 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.BlogMapper.getBlogById   : ==>  Preparing: select * from blog where id = ?
2022-04-06 11:01:29.348 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.BlogMapper.getBlogById   : ==> Parameters: 85(Integer)
2022-04-06 11:01:29.349 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.BlogMapper.getBlogById   : <==      Total: 1
2022-04-06 11:01:29.349 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.TypeMapper.listType      : ==>  Preparing: select * from type order by id desc
2022-04-06 11:01:29.349 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.TypeMapper.listType      : ==> Parameters: 
2022-04-06 11:01:29.350 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.TypeMapper.listType      : <==      Total: 7
2022-04-06 11:01:30.783 DEBUG 12684 --- [http-nio-8086-exec-3] com.kwok.mapper.BlogMapper.getBlogCount  : ==>  Preparing: select count(1) as count from blog
2022-04-06 11:01:30.783 DEBUG 12684 --- [http-nio-8086-exec-3] com.kwok.mapper.BlogMapper.getBlogCount  : ==> Parameters: 
2022-04-06 11:01:30.785 DEBUG 12684 --- [http-nio-8086-exec-3] com.kwok.mapper.BlogMapper.getBlogCount  : <==      Total: 1
2022-04-06 11:01:30.785 DEBUG 12684 --- [http-nio-8086-exec-3] com.kwok.mapper.BlogMapper.getBlogList   : ==>  Preparing: select b.*,t.name as typeName from blog b,type t where b.type_id=t.id order by b.id desc limit ?,?
2022-04-06 11:01:30.785 DEBUG 12684 --- [http-nio-8086-exec-3] com.kwok.mapper.BlogMapper.getBlogList   : ==> Parameters: 0(Integer), 5(Integer)
2022-04-06 11:01:30.787 DEBUG 12684 --- [http-nio-8086-exec-3] com.kwok.mapper.BlogMapper.getBlogList   : <==      Total: 5
2022-04-06 11:01:30.788 DEBUG 12684 --- [http-nio-8086-exec-3] com.kwok.mapper.BlogMapper.getBlogById   : ==>  Preparing: select * from blog where id = ?
2022-04-06 11:01:30.788 DEBUG 12684 --- [http-nio-8086-exec-3] com.kwok.mapper.BlogMapper.getBlogById   : ==> Parameters: 91(Integer)
2022-04-06 11:01:30.788 DEBUG 12684 --- [http-nio-8086-exec-3] com.kwok.mapper.BlogMapper.getBlogById   : <==      Total: 0
2022-04-06 11:01:30.788 DEBUG 12684 --- [http-nio-8086-exec-3] com.kwok.mapper.BlogMapper.getBlogById   : ==>  Preparing: select * from blog where id = ?
2022-04-06 11:01:30.788 DEBUG 12684 --- [http-nio-8086-exec-3] com.kwok.mapper.BlogMapper.getBlogById   : ==> Parameters: 85(Integer)
2022-04-06 11:01:30.790 DEBUG 12684 --- [http-nio-8086-exec-3] com.kwok.mapper.BlogMapper.getBlogById   : <==      Total: 1
2022-04-06 11:01:30.790 DEBUG 12684 --- [http-nio-8086-exec-3] com.kwok.mapper.TypeMapper.listType      : ==>  Preparing: select * from type order by id desc
2022-04-06 11:01:30.790 DEBUG 12684 --- [http-nio-8086-exec-3] com.kwok.mapper.TypeMapper.listType      : ==> Parameters: 
2022-04-06 11:01:30.790 DEBUG 12684 --- [http-nio-8086-exec-3] com.kwok.mapper.TypeMapper.listType      : <==      Total: 7
2022-04-06 11:01:31.885  INFO 12684 --- [http-nio-8086-exec-10] com.kwok.aspect.LogAspect                : Request : {url='http://localhost:8086/index', ip='0:0:0:0:0:0:0:1', classMethod='com.kwok.controller.IndexController.index', args=[org.apache.catalina.connector.RequestFacade@7b4c3c2a, org.apache.catalina.connector.ResponseFacade@4167aeee, {}]}
2022-04-06 11:01:31.886 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.BlogMapper.getBlogCount  : ==>  Preparing: select count(1) as count from blog
2022-04-06 11:01:31.886 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.BlogMapper.getBlogCount  : ==> Parameters: 
2022-04-06 11:01:31.887 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.BlogMapper.getBlogCount  : <==      Total: 1
2022-04-06 11:01:31.887 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.BlogMapper.getBlogList   : ==>  Preparing: select b.*,t.name as typeName from blog b,type t where b.type_id=t.id order by b.id desc limit ?,?
2022-04-06 11:01:31.887 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.BlogMapper.getBlogList   : ==> Parameters: 0(Integer), 5(Integer)
2022-04-06 11:01:31.890 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.BlogMapper.getBlogList   : <==      Total: 5
2022-04-06 11:01:31.890 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.BlogMapper.getBlogById   : ==>  Preparing: select * from blog where id = ?
2022-04-06 11:01:31.890 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.BlogMapper.getBlogById   : ==> Parameters: 91(Integer)
2022-04-06 11:01:31.891 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.BlogMapper.getBlogById   : <==      Total: 0
2022-04-06 11:01:31.891 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.BlogMapper.getBlogById   : ==>  Preparing: select * from blog where id = ?
2022-04-06 11:01:31.891 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.BlogMapper.getBlogById   : ==> Parameters: 85(Integer)
2022-04-06 11:01:31.892 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.BlogMapper.getBlogById   : <==      Total: 1
2022-04-06 11:01:31.893 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.TagMapper.listTopTag     : ==>  Preparing: select tag.id,tag.name,tn.num from tag,(select tag_id,count(*) as num from blog_tag group by tag_id order by num desc) as tn where tag.id = tn.tag_id
2022-04-06 11:01:31.893 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.TagMapper.listTopTag     : ==> Parameters: 
2022-04-06 11:01:31.894 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.TagMapper.listTopTag     : <==      Total: 13
2022-04-06 11:01:31.894 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.TypeMapper.listTopType   : ==>  Preparing: select type.id,type.name,tn.num from type,(select type_id,count(*) as num from blog group by type_id order by num desc) as tn where type.id = tn.type_id
2022-04-06 11:01:31.894 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.TypeMapper.listTopType   : ==> Parameters: 
2022-04-06 11:01:31.895 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.TypeMapper.listTopType   : <==      Total: 6
2022-04-06 11:01:31.895 DEBUG 12684 --- [http-nio-8086-exec-10] c.k.m.BlogMapper.listTopRecommendBlog    : ==>  Preparing: select * from blog where recommend = 1 order by update_time desc
2022-04-06 11:01:31.895 DEBUG 12684 --- [http-nio-8086-exec-10] c.k.m.BlogMapper.listTopRecommendBlog    : ==> Parameters: 
2022-04-06 11:01:31.898 DEBUG 12684 --- [http-nio-8086-exec-10] c.k.m.BlogMapper.listTopRecommendBlog    : <==      Total: 2
2022-04-06 11:01:31.898  INFO 12684 --- [http-nio-8086-exec-10] com.kwok.aspect.LogAspect                : Result : index
2022-04-06 11:01:53.401 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.BlogMapper.getBlogCount  : ==>  Preparing: select count(1) as count from blog
2022-04-06 11:01:53.401 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.BlogMapper.getBlogCount  : ==> Parameters: 
2022-04-06 11:01:53.402 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.BlogMapper.getBlogCount  : <==      Total: 1
2022-04-06 11:01:53.402 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.BlogMapper.getBlogList   : ==>  Preparing: select b.*,t.name as typeName from blog b,type t where b.type_id=t.id order by b.id desc limit ?,?
2022-04-06 11:01:53.402 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.BlogMapper.getBlogList   : ==> Parameters: 0(Integer), 5(Integer)
2022-04-06 11:01:53.404 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.BlogMapper.getBlogList   : <==      Total: 5
2022-04-06 11:01:53.405 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.BlogMapper.getBlogById   : ==>  Preparing: select * from blog where id = ?
2022-04-06 11:01:53.405 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.BlogMapper.getBlogById   : ==> Parameters: 91(Integer)
2022-04-06 11:01:53.405 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.BlogMapper.getBlogById   : <==      Total: 0
2022-04-06 11:01:53.405 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.BlogMapper.getBlogById   : ==>  Preparing: select * from blog where id = ?
2022-04-06 11:01:53.405 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.BlogMapper.getBlogById   : ==> Parameters: 85(Integer)
2022-04-06 11:01:53.407 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.BlogMapper.getBlogById   : <==      Total: 1
2022-04-06 11:01:53.407 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.TypeMapper.listType      : ==>  Preparing: select * from type order by id desc
2022-04-06 11:01:53.407 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.TypeMapper.listType      : ==> Parameters: 
2022-04-06 11:01:53.407 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.TypeMapper.listType      : <==      Total: 7
2022-04-06 11:01:58.012 DEBUG 12684 --- [http-nio-8086-exec-8] c.k.m.U.findByUsernameAndPassword        : ==>  Preparing: select * from user where username = ? and password = ?
2022-04-06 11:01:58.012 DEBUG 12684 --- [http-nio-8086-exec-8] c.k.m.U.findByUsernameAndPassword        : ==> Parameters: kwok(String), 202cb962ac59075b964b07152d234b70(String)
2022-04-06 11:01:58.013 DEBUG 12684 --- [http-nio-8086-exec-8] c.k.m.U.findByUsernameAndPassword        : <==      Total: 1
2022-04-06 11:01:59.158 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.BlogMapper.getBlogCount  : ==>  Preparing: select count(1) as count from blog
2022-04-06 11:01:59.158 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.BlogMapper.getBlogCount  : ==> Parameters: 
2022-04-06 11:01:59.160 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.BlogMapper.getBlogCount  : <==      Total: 1
2022-04-06 11:01:59.160 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.BlogMapper.getBlogList   : ==>  Preparing: select b.*,t.name as typeName from blog b,type t where b.type_id=t.id order by b.id desc limit ?,?
2022-04-06 11:01:59.160 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.BlogMapper.getBlogList   : ==> Parameters: 0(Integer), 5(Integer)
2022-04-06 11:01:59.163 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.BlogMapper.getBlogList   : <==      Total: 5
2022-04-06 11:01:59.163 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.BlogMapper.getBlogById   : ==>  Preparing: select * from blog where id = ?
2022-04-06 11:01:59.163 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.BlogMapper.getBlogById   : ==> Parameters: 91(Integer)
2022-04-06 11:01:59.164 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.BlogMapper.getBlogById   : <==      Total: 0
2022-04-06 11:01:59.164 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.BlogMapper.getBlogById   : ==>  Preparing: select * from blog where id = ?
2022-04-06 11:01:59.164 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.BlogMapper.getBlogById   : ==> Parameters: 85(Integer)
2022-04-06 11:01:59.165 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.BlogMapper.getBlogById   : <==      Total: 1
2022-04-06 11:01:59.165 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.TypeMapper.listType      : ==>  Preparing: select * from type order by id desc
2022-04-06 11:01:59.165 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.TypeMapper.listType      : ==> Parameters: 
2022-04-06 11:01:59.165 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.TypeMapper.listType      : <==      Total: 7
2022-04-06 11:02:00.797 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.TypeMapper.listType      : ==>  Preparing: select * from type order by id desc
2022-04-06 11:02:00.797 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.TypeMapper.listType      : ==> Parameters: 
2022-04-06 11:02:00.798 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.TypeMapper.listType      : <==      Total: 7
2022-04-06 11:02:00.798 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.TagMapper.listTag        : ==>  Preparing: select * from tag order by id desc
2022-04-06 11:02:00.798 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.TagMapper.listTag        : ==> Parameters: 
2022-04-06 11:02:00.799 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.TagMapper.listTag        : <==      Total: 14
2022-04-06 11:02:32.983  INFO 12684 --- [http-nio-8086-exec-9] com.kwok.aspect.LogAspect                : Request : {url='http://localhost:8086/index', ip='0:0:0:0:0:0:0:1', classMethod='com.kwok.controller.IndexController.index', args=[org.apache.catalina.connector.RequestFacade@2bd08bff, org.apache.catalina.connector.ResponseFacade@569c43ae, {}]}
2022-04-06 11:02:32.983 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.BlogMapper.getBlogCount  : ==>  Preparing: select count(1) as count from blog
2022-04-06 11:02:32.983 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.BlogMapper.getBlogCount  : ==> Parameters: 
2022-04-06 11:02:32.985 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.BlogMapper.getBlogCount  : <==      Total: 1
2022-04-06 11:02:32.985 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.BlogMapper.getBlogList   : ==>  Preparing: select b.*,t.name as typeName from blog b,type t where b.type_id=t.id order by b.id desc limit ?,?
2022-04-06 11:02:32.985 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.BlogMapper.getBlogList   : ==> Parameters: 0(Integer), 5(Integer)
2022-04-06 11:02:32.988 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.BlogMapper.getBlogList   : <==      Total: 5
2022-04-06 11:02:32.988 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.BlogMapper.getBlogById   : ==>  Preparing: select * from blog where id = ?
2022-04-06 11:02:32.988 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.BlogMapper.getBlogById   : ==> Parameters: 91(Integer)
2022-04-06 11:02:32.989 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.BlogMapper.getBlogById   : <==      Total: 0
2022-04-06 11:02:32.989 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.BlogMapper.getBlogById   : ==>  Preparing: select * from blog where id = ?
2022-04-06 11:02:32.989 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.BlogMapper.getBlogById   : ==> Parameters: 85(Integer)
2022-04-06 11:02:32.990 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.BlogMapper.getBlogById   : <==      Total: 1
2022-04-06 11:02:32.990 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.TagMapper.listTopTag     : ==>  Preparing: select tag.id,tag.name,tn.num from tag,(select tag_id,count(*) as num from blog_tag group by tag_id order by num desc) as tn where tag.id = tn.tag_id
2022-04-06 11:02:32.990 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.TagMapper.listTopTag     : ==> Parameters: 
2022-04-06 11:02:32.991 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.TagMapper.listTopTag     : <==      Total: 13
2022-04-06 11:02:32.991 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.TypeMapper.listTopType   : ==>  Preparing: select type.id,type.name,tn.num from type,(select type_id,count(*) as num from blog group by type_id order by num desc) as tn where type.id = tn.type_id
2022-04-06 11:02:32.992 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.TypeMapper.listTopType   : ==> Parameters: 
2022-04-06 11:02:32.993 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.TypeMapper.listTopType   : <==      Total: 6
2022-04-06 11:02:32.993 DEBUG 12684 --- [http-nio-8086-exec-9] c.k.m.BlogMapper.listTopRecommendBlog    : ==>  Preparing: select * from blog where recommend = 1 order by update_time desc
2022-04-06 11:02:32.993 DEBUG 12684 --- [http-nio-8086-exec-9] c.k.m.BlogMapper.listTopRecommendBlog    : ==> Parameters: 
2022-04-06 11:02:32.995 DEBUG 12684 --- [http-nio-8086-exec-9] c.k.m.BlogMapper.listTopRecommendBlog    : <==      Total: 2
2022-04-06 11:02:32.995  INFO 12684 --- [http-nio-8086-exec-9] com.kwok.aspect.LogAspect                : Result : index
2022-04-06 11:03:07.974 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.BlogMapper.getLastBlog   : ==>  Preparing: select * from blog order by id desc limit 1
2022-04-06 11:03:07.975 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.BlogMapper.getLastBlog   : ==> Parameters: 
2022-04-06 11:03:07.976 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.BlogMapper.getLastBlog   : <==      Total: 1
2022-04-06 11:03:07.976 DEBUG 12684 --- [http-nio-8086-exec-9] c.k.mapper.BlogtagMapper.getLastBlogtag  : ==>  Preparing: select * from blog_tag order by id desc limit 1
2022-04-06 11:03:07.976 DEBUG 12684 --- [http-nio-8086-exec-9] c.k.mapper.BlogtagMapper.getLastBlogtag  : ==> Parameters: 
2022-04-06 11:03:07.976 DEBUG 12684 --- [http-nio-8086-exec-9] c.k.mapper.BlogtagMapper.getLastBlogtag  : <==      Total: 1
2022-04-06 11:03:07.976 DEBUG 12684 --- [http-nio-8086-exec-9] c.kwok.mapper.BlogtagMapper.saveBlogtag  : ==>  Preparing: insert into blog_tag (id, blog_id, tag_id) values (?, ?,?)
2022-04-06 11:03:07.977 DEBUG 12684 --- [http-nio-8086-exec-9] c.kwok.mapper.BlogtagMapper.saveBlogtag  : ==> Parameters: 221(Integer), 91(Integer), 10(Integer)
2022-04-06 11:03:07.977 DEBUG 12684 --- [http-nio-8086-exec-9] c.kwok.mapper.BlogtagMapper.saveBlogtag  : <==    Updates: 1
2022-04-06 11:03:07.977 DEBUG 12684 --- [http-nio-8086-exec-9] c.k.mapper.BlogtagMapper.getLastBlogtag  : ==>  Preparing: select * from blog_tag order by id desc limit 1
2022-04-06 11:03:07.977 DEBUG 12684 --- [http-nio-8086-exec-9] c.k.mapper.BlogtagMapper.getLastBlogtag  : ==> Parameters: 
2022-04-06 11:03:07.978 DEBUG 12684 --- [http-nio-8086-exec-9] c.k.mapper.BlogtagMapper.getLastBlogtag  : <==      Total: 1
2022-04-06 11:03:07.978 DEBUG 12684 --- [http-nio-8086-exec-9] c.kwok.mapper.BlogtagMapper.saveBlogtag  : ==>  Preparing: insert into blog_tag (id, blog_id, tag_id) values (?, ?,?)
2022-04-06 11:03:07.978 DEBUG 12684 --- [http-nio-8086-exec-9] c.kwok.mapper.BlogtagMapper.saveBlogtag  : ==> Parameters: 222(Integer), 91(Integer), 5(Integer)
2022-04-06 11:03:07.978 DEBUG 12684 --- [http-nio-8086-exec-9] c.kwok.mapper.BlogtagMapper.saveBlogtag  : <==    Updates: 1
2022-04-06 11:03:07.978 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.BlogMapper.saveBlog      : ==>  Preparing: insert into blog (id, title,description, content, first_picture, flag, views, appreciation, share_statement, commentabled, published, recommend, create_time, update_time, type_id, user_id) values (?,?,?,?,?,?, ?,?,?,?, ?,?,?,?,?,?)
2022-04-06 11:03:07.979 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.BlogMapper.saveBlog      : ==> Parameters: 91(Integer), 机器学习-多变量线性回归(String), 1 多特征(Multiple Features) 对于一个要度量的对象，一般来说会有不同维度的多个特征。比如之前的房屋价格预测例子中，除了房屋的面积大小，可能还有房屋的年限、房屋的层数等等其他特征(String), ## 1 多特征(Multiple Features)

对于一个要度量的对象，一般来说会有不同维度的多个特征。比如之前的房屋价格预测例子中，除了房屋的面积大小，可能还有房屋的年限、房屋的层数等等其他特征：

![img](https://img-blog.csdnimg.cn/img_convert/e02650703ed456fec65cb22da982a637.png)

![img](https://img-blog.csdnimg.cn/img_convert/899986a470a056ed22c4b2dc333104a3.png)![img](https://img-blog.csdnimg.cn/img_convert/b64f580ac32e1af2105082efff43a1af.png)

## 2 多变量梯度下降(Gradient Descent for Multiple Variables)

![img](https://img-blog.csdnimg.cn/img_convert/adfdd9d14fcaea8b7acabb87dfafee66.png)

![img](https://img-blog.csdnimg.cn/img_convert/78beccf5a6c97871e3eb5b6e9bbe2f1c.png)

## 3 梯度下降实践1-特征值缩放(Gradient Descent in Practice I - Feature Scaling)

![img](https://img-blog.csdnimg.cn/img_convert/b874af6f72479b2a34dc4bafca5618de.png)

![img](https://img-blog.csdnimg.cn/img_convert/00382163f7802cae70d97a1acb365f4c.png)

![img](https://img-blog.csdnimg.cn/img_convert/c8b1df96debca0dddf64649e40294b9f.png)

## 4 梯度下降实践2-学习速率(Gradient Descent in Practice II - Learning Rate)

![img](https://img-blog.csdnimg.cn/img_convert/48e62074f2874fe76ac99655f560757c.png)

![img](https://img-blog.csdnimg.cn/img_convert/0832afabad025a011078ac257150ca0d.png)

![img](https://img-blog.csdnimg.cn/img_convert/db2876d7d9fa68efaa19ca2d60668fb6.png)



![img](https://img-blog.csdnimg.cn/img_convert/29ba8990831ee21b9a43d4f35010a085.png)

## 5 特征和多项式回归(Features and Polynomial Regression)

![img](https://img-blog.csdnimg.cn/img_convert/a6ce66a8bf203c5ec9dbdd613f85cf36.png)

![img](https://img-blog.csdnimg.cn/img_convert/0ef8cc8d6a1f7d52aa480e90a66e2df7.png)

![img](https://img-blog.csdnimg.cn/img_convert/3136e8bd827c7d21857588805484bd51.png)

## 6 正规方程(Normal Equation)

![img](https://img-blog.csdnimg.cn/img_convert/79bdf96c7236183fff5ef385cc2938be.png)

![img](https://img-blog.csdnimg.cn/img_convert/996b880af8a64bc7aa610d36e30bfdb9.png)

![img](https://img-blog.csdnimg.cn/img_convert/acccd34e4ee36f9df88e4888275e291d.png)

![img](https://img-blog.csdnimg.cn/img_convert/eab5e27b796387bfb836cd0bccae040b.png)

## 7 不可逆性正规方程(Normal Equation Noninvertibility)

![img](https://img-blog.csdnimg.cn/img_convert/3a8c99e7ea0b2565fa3ae39819c7ea55.png)

## 8 代码实现

ex1data2.txt里的数据，第一列是房屋大小，第二列是卧室数量，第三列是房屋售价
根据已有数据，建立模型，预测房屋的售价

**In [1]:**

```python
import numpy as np
import pandas as pd
import matplotlib.pyplot as plt
```

**In [2]:**

```python
path =  '../ex1data2.txt'
data2 = pd.read_csv(path, header=None, names=['Size', 'Bedrooms', 'Price'])
data2.head()
```

**Out [2]:**

![img](https://img-blog.csdnimg.cn/img_convert/059766414a954d124ebba51cc9afc0ea.png)

### 8.1 特征归一化

观察数据发现，size变量是bedrooms变量的1000倍大小,统一量级会让梯度下降收敛的更快。做法就是，将每类特征减去他的平均值后除以标准差

**In [3]:**

```python
data2 = (data2 - data2.mean()) / data2.std()
data2.head()
```

**Out [3]:**

![img](https://img-blog.csdnimg.cn/img_convert/801813f999906e52d76539b60d62cbbd.png)

### 8.2 梯度下降

**In [4]:**

```python
#计算代价函数
def computeCost(X,Y,theta):
    h = X * theta.T 
    cost = np.power((h - Y),2)
    j = np.sum(cost)/(2 * len(X))
    return j

def gradientDescent(X, y, theta, alpha, iters):
    temp = np.matrix(np.zeros(theta.shape))
    parameters = int(theta.ravel().shape[1])
    cost = np.zeros(iters)
    
    for i in range(iters):
        error = (X * theta.T) - y
        
        for j in range(parameters):
            term = np.multiply(error, X[:,j])
            temp[0,j] = theta[0,j] - ((alpha / len(X)) * np.sum(term))
            
        theta = temp
        cost[i] = computeCost(X, y, theta)
        
    return theta, cost
#这个部分实现了Ѳ的更新
```

**In [5]:**

```python
alpha = 0.01
iters = 1500
```

**In [6]:**

```python
# 加一列常数项
data2.insert(0, 'Ones', 1)

# 初始化X和y
cols = data2.shape[1]
X2 = data2.iloc[:,0:cols-1]
y2 = data2.iloc[:,cols-1:cols]

# 转换成matrix格式，初始化theta
X2 = np.matrix(X2.values)
y2 = np.matrix(y2.values)
theta2 = np.matrix(np.array([0,0,0]))

# 运行梯度下降算法
g2, cost2 = gradientDescent(X2, y2, theta2, alpha, iters)
g2
```

**Out [6]:**

matrix([[-1.10856950e-16,  8.84042349e-01, -5.24551809e-02]])

### 8.3 正规方程

**In [7]:**

```python
# 正规方程
def normalEqn(X, y):
    theta = np.linalg.inv(X.T@X)@X.T@y#X.T@X等价于X.T.dot(X)
    return theta
final_theta2=normalEqn(X2, y2)#这里用的是data1的数据
final_theta2
```

**Out [7]:**

matrix([[-7.97972799e-17], [ 8.84765988e-01], [-5.31788197e-02]])

### 8.4 代价函数可视化

**In [8]:**

```python
# 结合梯度下降，代价函数可视化
fig, ax = plt.subplots(figsize=(10,6))
ax.plot(np.arange(iters), cost2, 'r')
ax.set_xlabel('Iterations')
ax.set_ylabel('Cost')
ax.set_title('Cost function')
```

**Out [8]:**

Text(0.5, 1.0, 'Cost function')

![img](https://img-blog.csdnimg.cn/img_convert/ff74cde9c1a729ecbb93dd9c203c1c9c.png)(String), http://110.42.213.171:8080/blogimgs/91.png(String), 原创(String), 0(Integer), true(Boolean), true(Boolean), true(Boolean), true(Boolean), false(Boolean), 2022-04-06 11:03:07.976(Timestamp), 2022-04-06 11:03:07.976(Timestamp), 5(Integer), 1(Integer)
2022-04-06 11:03:07.980 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.BlogMapper.saveBlog      : <==    Updates: 1
2022-04-06 11:03:07.984 DEBUG 12684 --- [http-nio-8086-exec-8] com.kwok.mapper.BlogMapper.getBlogCount  : ==>  Preparing: select count(1) as count from blog
2022-04-06 11:03:07.985 DEBUG 12684 --- [http-nio-8086-exec-8] com.kwok.mapper.BlogMapper.getBlogCount  : ==> Parameters: 
2022-04-06 11:03:07.986 DEBUG 12684 --- [http-nio-8086-exec-8] com.kwok.mapper.BlogMapper.getBlogCount  : <==      Total: 1
2022-04-06 11:03:07.986 DEBUG 12684 --- [http-nio-8086-exec-8] com.kwok.mapper.BlogMapper.getBlogList   : ==>  Preparing: select b.*,t.name as typeName from blog b,type t where b.type_id=t.id order by b.id desc limit ?,?
2022-04-06 11:03:07.986 DEBUG 12684 --- [http-nio-8086-exec-8] com.kwok.mapper.BlogMapper.getBlogList   : ==> Parameters: 0(Integer), 5(Integer)
2022-04-06 11:03:07.988 DEBUG 12684 --- [http-nio-8086-exec-8] com.kwok.mapper.BlogMapper.getBlogList   : <==      Total: 5
2022-04-06 11:03:07.988 DEBUG 12684 --- [http-nio-8086-exec-8] com.kwok.mapper.BlogMapper.getBlogById   : ==>  Preparing: select * from blog where id = ?
2022-04-06 11:03:07.988 DEBUG 12684 --- [http-nio-8086-exec-8] com.kwok.mapper.BlogMapper.getBlogById   : ==> Parameters: 92(Integer)
2022-04-06 11:03:07.988 DEBUG 12684 --- [http-nio-8086-exec-8] com.kwok.mapper.BlogMapper.getBlogById   : <==      Total: 0
2022-04-06 11:03:07.989 DEBUG 12684 --- [http-nio-8086-exec-8] com.kwok.mapper.BlogMapper.getBlogById   : ==>  Preparing: select * from blog where id = ?
2022-04-06 11:03:07.989 DEBUG 12684 --- [http-nio-8086-exec-8] com.kwok.mapper.BlogMapper.getBlogById   : ==> Parameters: 86(Integer)
2022-04-06 11:03:07.990 DEBUG 12684 --- [http-nio-8086-exec-8] com.kwok.mapper.BlogMapper.getBlogById   : <==      Total: 1
2022-04-06 11:03:07.990 DEBUG 12684 --- [http-nio-8086-exec-8] com.kwok.mapper.TypeMapper.listType      : ==>  Preparing: select * from type order by id desc
2022-04-06 11:03:07.990 DEBUG 12684 --- [http-nio-8086-exec-8] com.kwok.mapper.TypeMapper.listType      : ==> Parameters: 
2022-04-06 11:03:07.991 DEBUG 12684 --- [http-nio-8086-exec-8] com.kwok.mapper.TypeMapper.listType      : <==      Total: 7
2022-04-06 11:03:09.350 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.BlogMapper.getBlogCount  : ==>  Preparing: select count(1) as count from blog
2022-04-06 11:03:09.351 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.BlogMapper.getBlogCount  : ==> Parameters: 
2022-04-06 11:03:09.352 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.BlogMapper.getBlogCount  : <==      Total: 1
2022-04-06 11:03:09.352 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.BlogMapper.getBlogList   : ==>  Preparing: select b.*,t.name as typeName from blog b,type t where b.type_id=t.id order by b.id desc limit ?,?
2022-04-06 11:03:09.352 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.BlogMapper.getBlogList   : ==> Parameters: 0(Integer), 5(Integer)
2022-04-06 11:03:09.354 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.BlogMapper.getBlogList   : <==      Total: 5
2022-04-06 11:03:09.354 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.BlogMapper.getBlogById   : ==>  Preparing: select * from blog where id = ?
2022-04-06 11:03:09.354 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.BlogMapper.getBlogById   : ==> Parameters: 92(Integer)
2022-04-06 11:03:09.355 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.BlogMapper.getBlogById   : <==      Total: 0
2022-04-06 11:03:09.355 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.BlogMapper.getBlogById   : ==>  Preparing: select * from blog where id = ?
2022-04-06 11:03:09.355 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.BlogMapper.getBlogById   : ==> Parameters: 86(Integer)
2022-04-06 11:03:09.357 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.BlogMapper.getBlogById   : <==      Total: 1
2022-04-06 11:03:09.357 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.TypeMapper.listType      : ==>  Preparing: select * from type order by id desc
2022-04-06 11:03:09.357 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.TypeMapper.listType      : ==> Parameters: 
2022-04-06 11:03:09.357 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.TypeMapper.listType      : <==      Total: 7
2022-04-06 11:03:10.661  INFO 12684 --- [http-nio-8086-exec-9] com.kwok.aspect.LogAspect                : Request : {url='http://localhost:8086/index', ip='0:0:0:0:0:0:0:1', classMethod='com.kwok.controller.IndexController.index', args=[org.apache.catalina.connector.RequestFacade@7b4c3c2a, org.apache.catalina.connector.ResponseFacade@4167aeee, {}]}
2022-04-06 11:03:10.661 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.BlogMapper.getBlogCount  : ==>  Preparing: select count(1) as count from blog
2022-04-06 11:03:10.661 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.BlogMapper.getBlogCount  : ==> Parameters: 
2022-04-06 11:03:10.663 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.BlogMapper.getBlogCount  : <==      Total: 1
2022-04-06 11:03:10.663 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.BlogMapper.getBlogList   : ==>  Preparing: select b.*,t.name as typeName from blog b,type t where b.type_id=t.id order by b.id desc limit ?,?
2022-04-06 11:03:10.663 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.BlogMapper.getBlogList   : ==> Parameters: 0(Integer), 5(Integer)
2022-04-06 11:03:10.665 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.BlogMapper.getBlogList   : <==      Total: 5
2022-04-06 11:03:10.665 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.BlogMapper.getBlogById   : ==>  Preparing: select * from blog where id = ?
2022-04-06 11:03:10.665 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.BlogMapper.getBlogById   : ==> Parameters: 92(Integer)
2022-04-06 11:03:10.665 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.BlogMapper.getBlogById   : <==      Total: 0
2022-04-06 11:03:10.665 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.BlogMapper.getBlogById   : ==>  Preparing: select * from blog where id = ?
2022-04-06 11:03:10.666 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.BlogMapper.getBlogById   : ==> Parameters: 86(Integer)
2022-04-06 11:03:10.666 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.BlogMapper.getBlogById   : <==      Total: 1
2022-04-06 11:03:10.667 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.TagMapper.listTopTag     : ==>  Preparing: select tag.id,tag.name,tn.num from tag,(select tag_id,count(*) as num from blog_tag group by tag_id order by num desc) as tn where tag.id = tn.tag_id
2022-04-06 11:03:10.667 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.TagMapper.listTopTag     : ==> Parameters: 
2022-04-06 11:03:10.667 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.TagMapper.listTopTag     : <==      Total: 13
2022-04-06 11:03:10.667 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.TypeMapper.listTopType   : ==>  Preparing: select type.id,type.name,tn.num from type,(select type_id,count(*) as num from blog group by type_id order by num desc) as tn where type.id = tn.type_id
2022-04-06 11:03:10.667 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.TypeMapper.listTopType   : ==> Parameters: 
2022-04-06 11:03:10.668 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.TypeMapper.listTopType   : <==      Total: 6
2022-04-06 11:03:10.668 DEBUG 12684 --- [http-nio-8086-exec-9] c.k.m.BlogMapper.listTopRecommendBlog    : ==>  Preparing: select * from blog where recommend = 1 order by update_time desc
2022-04-06 11:03:10.668 DEBUG 12684 --- [http-nio-8086-exec-9] c.k.m.BlogMapper.listTopRecommendBlog    : ==> Parameters: 
2022-04-06 11:03:10.670 DEBUG 12684 --- [http-nio-8086-exec-9] c.k.m.BlogMapper.listTopRecommendBlog    : <==      Total: 2
2022-04-06 11:03:10.670  INFO 12684 --- [http-nio-8086-exec-9] com.kwok.aspect.LogAspect                : Result : index
2022-04-06 11:03:15.667  INFO 12684 --- [http-nio-8086-exec-8] com.kwok.aspect.LogAspect                : Request : {url='http://localhost:8086/blog/91', ip='0:0:0:0:0:0:0:1', classMethod='com.kwok.controller.IndexController.blog', args=[91, {}]}
2022-04-06 11:03:15.668 DEBUG 12684 --- [http-nio-8086-exec-8] com.kwok.mapper.BlogMapper.getBlogById   : ==>  Preparing: select * from blog where id = ?
2022-04-06 11:03:15.668 DEBUG 12684 --- [http-nio-8086-exec-8] com.kwok.mapper.BlogMapper.getBlogById   : ==> Parameters: 91(Integer)
2022-04-06 11:03:15.669 DEBUG 12684 --- [http-nio-8086-exec-8] com.kwok.mapper.BlogMapper.getBlogById   : <==      Total: 1
2022-04-06 11:03:15.669 DEBUG 12684 --- [http-nio-8086-exec-8] c.k.mapper.BlogMapper.updateBlogViews    : ==>  Preparing: update blog set views=? where id = ?
2022-04-06 11:03:15.669 DEBUG 12684 --- [http-nio-8086-exec-8] c.k.mapper.BlogMapper.updateBlogViews    : ==> Parameters: 1(Integer), 91(Integer)
2022-04-06 11:03:15.669 DEBUG 12684 --- [http-nio-8086-exec-8] c.k.mapper.BlogMapper.updateBlogViews    : <==    Updates: 1
2022-04-06 11:03:15.677 DEBUG 12684 --- [http-nio-8086-exec-8] com.kwok.mapper.BlogMapper.getBlogById   : ==>  Preparing: select * from blog where id = ?
2022-04-06 11:03:15.677 DEBUG 12684 --- [http-nio-8086-exec-8] com.kwok.mapper.BlogMapper.getBlogById   : ==> Parameters: 91(Integer)
2022-04-06 11:03:15.678 DEBUG 12684 --- [http-nio-8086-exec-8] com.kwok.mapper.BlogMapper.getBlogById   : <==      Total: 1
2022-04-06 11:03:15.679 DEBUG 12684 --- [http-nio-8086-exec-8] c.k.m.BlogtagMapper.getTagIdByBlogId     : ==>  Preparing: select * from blog_tag where blog_id = ?
2022-04-06 11:03:15.679 DEBUG 12684 --- [http-nio-8086-exec-8] c.k.m.BlogtagMapper.getTagIdByBlogId     : ==> Parameters: 91(Integer)
2022-04-06 11:03:15.680 DEBUG 12684 --- [http-nio-8086-exec-8] c.k.m.BlogtagMapper.getTagIdByBlogId     : <==      Total: 2
2022-04-06 11:03:15.680 DEBUG 12684 --- [http-nio-8086-exec-8] com.kwok.mapper.TagMapper.getShowTags    : ==>  Preparing: select * from tag where id in ( ? , ? )
2022-04-06 11:03:15.681 DEBUG 12684 --- [http-nio-8086-exec-8] com.kwok.mapper.TagMapper.getShowTags    : ==> Parameters: 10(Integer), 5(Integer)
2022-04-06 11:03:15.681 DEBUG 12684 --- [http-nio-8086-exec-8] com.kwok.mapper.TagMapper.getShowTags    : <==      Total: 2
2022-04-06 11:03:15.682  INFO 12684 --- [http-nio-8086-exec-8] com.kwok.aspect.LogAspect                : Result : blog
2022-04-06 11:03:16.169  INFO 12684 --- [http-nio-8086-exec-8] com.kwok.aspect.LogAspect                : Request : {url='http://localhost:8086/comments/91', ip='0:0:0:0:0:0:0:1', classMethod='com.kwok.controller.CommentController.comments', args=[91, {}]}
2022-04-06 11:03:16.169 DEBUG 12684 --- [http-nio-8086-exec-8] c.k.m.CommentMapper.listCommentByBlogId  : ==>  Preparing: select * from comment where blog_id = ? and parent_id = 0 order by creat_time asc
2022-04-06 11:03:16.169 DEBUG 12684 --- [http-nio-8086-exec-8] c.k.m.CommentMapper.listCommentByBlogId  : ==> Parameters: 91(Integer)
2022-04-06 11:03:16.170 DEBUG 12684 --- [http-nio-8086-exec-8] c.k.m.CommentMapper.listCommentByBlogId  : <==      Total: 0
2022-04-06 11:03:16.170  INFO 12684 --- [http-nio-8086-exec-8] com.kwok.aspect.LogAspect                : Result : blog :: commentList
2022-04-06 11:03:34.889 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.BlogMapper.getBlogCount  : ==>  Preparing: select count(1) as count from blog
2022-04-06 11:03:34.889 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.BlogMapper.getBlogCount  : ==> Parameters: 
2022-04-06 11:03:34.891 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.BlogMapper.getBlogCount  : <==      Total: 1
2022-04-06 11:03:34.891 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.BlogMapper.getBlogList   : ==>  Preparing: select b.*,t.name as typeName from blog b,type t where b.type_id=t.id order by b.id desc limit ?,?
2022-04-06 11:03:34.891 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.BlogMapper.getBlogList   : ==> Parameters: 0(Integer), 5(Integer)
2022-04-06 11:03:34.893 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.BlogMapper.getBlogList   : <==      Total: 5
2022-04-06 11:03:34.893 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.BlogMapper.getBlogById   : ==>  Preparing: select * from blog where id = ?
2022-04-06 11:03:34.893 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.BlogMapper.getBlogById   : ==> Parameters: 92(Integer)
2022-04-06 11:03:34.894 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.BlogMapper.getBlogById   : <==      Total: 0
2022-04-06 11:03:34.894 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.BlogMapper.getBlogById   : ==>  Preparing: select * from blog where id = ?
2022-04-06 11:03:34.894 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.BlogMapper.getBlogById   : ==> Parameters: 86(Integer)
2022-04-06 11:03:34.895 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.BlogMapper.getBlogById   : <==      Total: 1
2022-04-06 11:03:34.895 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.TypeMapper.listType      : ==>  Preparing: select * from type order by id desc
2022-04-06 11:03:34.895 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.TypeMapper.listType      : ==> Parameters: 
2022-04-06 11:03:34.895 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.TypeMapper.listType      : <==      Total: 7
2022-04-06 11:03:37.261  INFO 12684 --- [http-nio-8086-exec-6] com.kwok.aspect.LogAspect                : Request : {url='http://localhost:8086/index', ip='0:0:0:0:0:0:0:1', classMethod='com.kwok.controller.IndexController.index', args=[org.apache.catalina.connector.RequestFacade@f05c437, org.apache.catalina.connector.ResponseFacade@1263b795, {}]}
2022-04-06 11:03:37.261 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.BlogMapper.getBlogCount  : ==>  Preparing: select count(1) as count from blog
2022-04-06 11:03:37.261 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.BlogMapper.getBlogCount  : ==> Parameters: 
2022-04-06 11:03:37.263 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.BlogMapper.getBlogCount  : <==      Total: 1
2022-04-06 11:03:37.263 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.BlogMapper.getBlogList   : ==>  Preparing: select b.*,t.name as typeName from blog b,type t where b.type_id=t.id order by b.id desc limit ?,?
2022-04-06 11:03:37.263 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.BlogMapper.getBlogList   : ==> Parameters: 0(Integer), 5(Integer)
2022-04-06 11:03:37.266 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.BlogMapper.getBlogList   : <==      Total: 5
2022-04-06 11:03:37.266 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.BlogMapper.getBlogById   : ==>  Preparing: select * from blog where id = ?
2022-04-06 11:03:37.266 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.BlogMapper.getBlogById   : ==> Parameters: 92(Integer)
2022-04-06 11:03:37.267 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.BlogMapper.getBlogById   : <==      Total: 0
2022-04-06 11:03:37.267 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.BlogMapper.getBlogById   : ==>  Preparing: select * from blog where id = ?
2022-04-06 11:03:37.267 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.BlogMapper.getBlogById   : ==> Parameters: 86(Integer)
2022-04-06 11:03:37.268 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.BlogMapper.getBlogById   : <==      Total: 1
2022-04-06 11:03:37.268 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.TagMapper.listTopTag     : ==>  Preparing: select tag.id,tag.name,tn.num from tag,(select tag_id,count(*) as num from blog_tag group by tag_id order by num desc) as tn where tag.id = tn.tag_id
2022-04-06 11:03:37.268 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.TagMapper.listTopTag     : ==> Parameters: 
2022-04-06 11:03:37.269 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.TagMapper.listTopTag     : <==      Total: 13
2022-04-06 11:03:37.269 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.TypeMapper.listTopType   : ==>  Preparing: select type.id,type.name,tn.num from type,(select type_id,count(*) as num from blog group by type_id order by num desc) as tn where type.id = tn.type_id
2022-04-06 11:03:37.269 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.TypeMapper.listTopType   : ==> Parameters: 
2022-04-06 11:03:37.269 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.TypeMapper.listTopType   : <==      Total: 6
2022-04-06 11:03:37.269 DEBUG 12684 --- [http-nio-8086-exec-6] c.k.m.BlogMapper.listTopRecommendBlog    : ==>  Preparing: select * from blog where recommend = 1 order by update_time desc
2022-04-06 11:03:37.269 DEBUG 12684 --- [http-nio-8086-exec-6] c.k.m.BlogMapper.listTopRecommendBlog    : ==> Parameters: 
2022-04-06 11:03:37.272 DEBUG 12684 --- [http-nio-8086-exec-6] c.k.m.BlogMapper.listTopRecommendBlog    : <==      Total: 2
2022-04-06 11:03:37.272  INFO 12684 --- [http-nio-8086-exec-6] com.kwok.aspect.LogAspect                : Result : index
2022-04-06 11:08:28.887 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.BlogMapper.getBlogCount  : ==>  Preparing: select count(1) as count from blog
2022-04-06 11:08:28.888 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.BlogMapper.getBlogCount  : ==> Parameters: 
2022-04-06 11:08:28.890 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.BlogMapper.getBlogCount  : <==      Total: 1
2022-04-06 11:08:28.890 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.BlogMapper.getBlogList   : ==>  Preparing: select b.*,t.name as typeName from blog b,type t where b.type_id=t.id order by b.id desc limit ?,?
2022-04-06 11:08:28.890 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.BlogMapper.getBlogList   : ==> Parameters: 0(Integer), 5(Integer)
2022-04-06 11:08:28.892 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.BlogMapper.getBlogList   : <==      Total: 5
2022-04-06 11:08:28.892 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.BlogMapper.getBlogById   : ==>  Preparing: select * from blog where id = ?
2022-04-06 11:08:28.893 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.BlogMapper.getBlogById   : ==> Parameters: 92(Integer)
2022-04-06 11:08:28.893 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.BlogMapper.getBlogById   : <==      Total: 0
2022-04-06 11:08:28.893 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.BlogMapper.getBlogById   : ==>  Preparing: select * from blog where id = ?
2022-04-06 11:08:28.893 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.BlogMapper.getBlogById   : ==> Parameters: 86(Integer)
2022-04-06 11:08:28.894 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.BlogMapper.getBlogById   : <==      Total: 1
2022-04-06 11:08:28.894 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.TypeMapper.listType      : ==>  Preparing: select * from type order by id desc
2022-04-06 11:08:28.894 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.TypeMapper.listType      : ==> Parameters: 
2022-04-06 11:08:28.895 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.TypeMapper.listType      : <==      Total: 7
2022-04-06 11:08:30.434 DEBUG 12684 --- [http-nio-8086-exec-3] com.kwok.mapper.TypeMapper.listType      : ==>  Preparing: select * from type order by id desc
2022-04-06 11:08:30.434 DEBUG 12684 --- [http-nio-8086-exec-3] com.kwok.mapper.TypeMapper.listType      : ==> Parameters: 
2022-04-06 11:08:30.435 DEBUG 12684 --- [http-nio-8086-exec-3] com.kwok.mapper.TypeMapper.listType      : <==      Total: 7
2022-04-06 11:08:30.435 DEBUG 12684 --- [http-nio-8086-exec-3] com.kwok.mapper.TagMapper.listTag        : ==>  Preparing: select * from tag order by id desc
2022-04-06 11:08:30.435 DEBUG 12684 --- [http-nio-8086-exec-3] com.kwok.mapper.TagMapper.listTag        : ==> Parameters: 
2022-04-06 11:08:30.435 DEBUG 12684 --- [http-nio-8086-exec-3] com.kwok.mapper.TagMapper.listTag        : <==      Total: 14
2022-04-06 11:09:21.880  INFO 12684 --- [http-nio-8086-exec-1] com.kwok.aspect.LogAspect                : Request : {url='http://localhost:8086/index', ip='0:0:0:0:0:0:0:1', classMethod='com.kwok.controller.IndexController.index', args=[org.apache.catalina.connector.RequestFacade@6d43fb79, org.apache.catalina.connector.ResponseFacade@638418a1, {}]}
2022-04-06 11:09:21.881 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.BlogMapper.getBlogCount  : ==>  Preparing: select count(1) as count from blog
2022-04-06 11:09:21.881 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.BlogMapper.getBlogCount  : ==> Parameters: 
2022-04-06 11:09:21.882 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.BlogMapper.getBlogCount  : <==      Total: 1
2022-04-06 11:09:21.882 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.BlogMapper.getBlogList   : ==>  Preparing: select b.*,t.name as typeName from blog b,type t where b.type_id=t.id order by b.id desc limit ?,?
2022-04-06 11:09:21.882 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.BlogMapper.getBlogList   : ==> Parameters: 0(Integer), 5(Integer)
2022-04-06 11:09:21.884 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.BlogMapper.getBlogList   : <==      Total: 5
2022-04-06 11:09:21.884 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.BlogMapper.getBlogById   : ==>  Preparing: select * from blog where id = ?
2022-04-06 11:09:21.884 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.BlogMapper.getBlogById   : ==> Parameters: 92(Integer)
2022-04-06 11:09:21.885 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.BlogMapper.getBlogById   : <==      Total: 0
2022-04-06 11:09:21.885 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.BlogMapper.getBlogById   : ==>  Preparing: select * from blog where id = ?
2022-04-06 11:09:21.885 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.BlogMapper.getBlogById   : ==> Parameters: 86(Integer)
2022-04-06 11:09:21.886 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.BlogMapper.getBlogById   : <==      Total: 1
2022-04-06 11:09:21.886 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.TagMapper.listTopTag     : ==>  Preparing: select tag.id,tag.name,tn.num from tag,(select tag_id,count(*) as num from blog_tag group by tag_id order by num desc) as tn where tag.id = tn.tag_id
2022-04-06 11:09:21.886 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.TagMapper.listTopTag     : ==> Parameters: 
2022-04-06 11:09:21.887 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.TagMapper.listTopTag     : <==      Total: 13
2022-04-06 11:09:21.888 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.TypeMapper.listTopType   : ==>  Preparing: select type.id,type.name,tn.num from type,(select type_id,count(*) as num from blog group by type_id order by num desc) as tn where type.id = tn.type_id
2022-04-06 11:09:21.888 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.TypeMapper.listTopType   : ==> Parameters: 
2022-04-06 11:09:21.889 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.TypeMapper.listTopType   : <==      Total: 6
2022-04-06 11:09:21.889 DEBUG 12684 --- [http-nio-8086-exec-1] c.k.m.BlogMapper.listTopRecommendBlog    : ==>  Preparing: select * from blog where recommend = 1 order by update_time desc
2022-04-06 11:09:21.889 DEBUG 12684 --- [http-nio-8086-exec-1] c.k.m.BlogMapper.listTopRecommendBlog    : ==> Parameters: 
2022-04-06 11:09:21.891 DEBUG 12684 --- [http-nio-8086-exec-1] c.k.m.BlogMapper.listTopRecommendBlog    : <==      Total: 2
2022-04-06 11:09:21.891  INFO 12684 --- [http-nio-8086-exec-1] com.kwok.aspect.LogAspect                : Result : index
2022-04-06 11:09:58.296 DEBUG 12684 --- [http-nio-8086-exec-3] com.kwok.mapper.BlogMapper.getLastBlog   : ==>  Preparing: select * from blog order by id desc limit 1
2022-04-06 11:09:58.296 DEBUG 12684 --- [http-nio-8086-exec-3] com.kwok.mapper.BlogMapper.getLastBlog   : ==> Parameters: 
2022-04-06 11:09:58.297 DEBUG 12684 --- [http-nio-8086-exec-3] com.kwok.mapper.BlogMapper.getLastBlog   : <==      Total: 1
2022-04-06 11:09:58.297 DEBUG 12684 --- [http-nio-8086-exec-3] c.k.mapper.BlogtagMapper.getLastBlogtag  : ==>  Preparing: select * from blog_tag order by id desc limit 1
2022-04-06 11:09:58.297 DEBUG 12684 --- [http-nio-8086-exec-3] c.k.mapper.BlogtagMapper.getLastBlogtag  : ==> Parameters: 
2022-04-06 11:09:58.298 DEBUG 12684 --- [http-nio-8086-exec-3] c.k.mapper.BlogtagMapper.getLastBlogtag  : <==      Total: 1
2022-04-06 11:09:58.298 DEBUG 12684 --- [http-nio-8086-exec-3] c.kwok.mapper.BlogtagMapper.saveBlogtag  : ==>  Preparing: insert into blog_tag (id, blog_id, tag_id) values (?, ?,?)
2022-04-06 11:09:58.298 DEBUG 12684 --- [http-nio-8086-exec-3] c.kwok.mapper.BlogtagMapper.saveBlogtag  : ==> Parameters: 223(Integer), 92(Integer), 10(Integer)
2022-04-06 11:09:58.298 DEBUG 12684 --- [http-nio-8086-exec-3] c.kwok.mapper.BlogtagMapper.saveBlogtag  : <==    Updates: 1
2022-04-06 11:09:58.298 DEBUG 12684 --- [http-nio-8086-exec-3] c.k.mapper.BlogtagMapper.getLastBlogtag  : ==>  Preparing: select * from blog_tag order by id desc limit 1
2022-04-06 11:09:58.299 DEBUG 12684 --- [http-nio-8086-exec-3] c.k.mapper.BlogtagMapper.getLastBlogtag  : ==> Parameters: 
2022-04-06 11:09:58.299 DEBUG 12684 --- [http-nio-8086-exec-3] c.k.mapper.BlogtagMapper.getLastBlogtag  : <==      Total: 1
2022-04-06 11:09:58.299 DEBUG 12684 --- [http-nio-8086-exec-3] c.kwok.mapper.BlogtagMapper.saveBlogtag  : ==>  Preparing: insert into blog_tag (id, blog_id, tag_id) values (?, ?,?)
2022-04-06 11:09:58.299 DEBUG 12684 --- [http-nio-8086-exec-3] c.kwok.mapper.BlogtagMapper.saveBlogtag  : ==> Parameters: 224(Integer), 92(Integer), 5(Integer)
2022-04-06 11:09:58.299 DEBUG 12684 --- [http-nio-8086-exec-3] c.kwok.mapper.BlogtagMapper.saveBlogtag  : <==    Updates: 1
2022-04-06 11:09:58.300 DEBUG 12684 --- [http-nio-8086-exec-3] com.kwok.mapper.BlogMapper.saveBlog      : ==>  Preparing: insert into blog (id, title,description, content, first_picture, flag, views, appreciation, share_statement, commentabled, published, recommend, create_time, update_time, type_id, user_id) values (?,?,?,?,?,?, ?,?,?,?, ?,?,?,?,?,?)
2022-04-06 11:09:58.300 DEBUG 12684 --- [http-nio-8086-exec-3] com.kwok.mapper.BlogMapper.saveBlog      : ==> Parameters: 92(Integer), 机器学习-逻辑回归(String), 1 分类(Classification) 2 假设函数表示(Hypothesis Representation) 3 决策边界(Decision Boundary) 4 代价函数(Cost Function) 5 简化的成本函数和梯度下降(Simplified Cost Function and Gradient Descent) 6 进阶优化(Advanced Optimization) fun(String), ## 1 分类(Classification)

![img](https://img-blog.csdnimg.cn/img_convert/2d13035c14994b7819c5588feaa8860d.png)

![img](https://img-blog.csdnimg.cn/img_convert/38cec3735ae7bffe6f9438da31cc2bed.png)

![img](https://img-blog.csdnimg.cn/img_convert/5ef9e7b89ca2e748737760f3a2327c8a.png)

## 2 假设函数表示(Hypothesis Representation)


 ![img](https://img-blog.csdnimg.cn/img_convert/0aa3a5de890d3277104dff6e97db44aa.png)

![img](https://img-blog.csdnimg.cn/img_convert/3e621050fe77536a83c38405153f93b3.png)

![img](https://img-blog.csdnimg.cn/img_convert/61de839ff4c8d518c16f674bee199a5b.png)

## 3 决策边界(Decision Boundary)

![img](https://img-blog.csdnimg.cn/img_convert/a5123c84cf818f0ba11ff8b42e5d3b86.png)

![img](https://img-blog.csdnimg.cn/img_convert/9498742b91d580afd85248d5854ce309.png)

![img](https://img-blog.csdnimg.cn/img_convert/95ed9b094d7855e2d5c2c77132a13ac9.png)

![img](https://img-blog.csdnimg.cn/img_convert/eda9d1ac1dab0f50a4d4f2e8a57379b3.png)

![img](https://img-blog.csdnimg.cn/img_convert/f102fa8572533f112622510a7dae89e5.png)

![img](https://img-blog.csdnimg.cn/img_convert/61ad5fde5ad1c7ebd56c75ccecc837e9.png)

![img](https://img-blog.csdnimg.cn/img_convert/651f9e36090718af6b9640e90875c893.png)

## 4 代价函数(Cost Function)

![img](https://img-blog.csdnimg.cn/img_convert/8cf55177b31a1ad3ac603ca1b30d7946.png)

![img](https://img-blog.csdnimg.cn/img_convert/6817c7b2ae3fd2c8fcf6223ef9b08fab.png)

![img](https://img-blog.csdnimg.cn/img_convert/a1d1f8cf635133ad4d5d1daa32efabb5.png)

![img](https://img-blog.csdnimg.cn/img_convert/101275a1f078642927ce0efcc188b90b.png)

![img](https://img-blog.csdnimg.cn/img_convert/97d8e227b2b25eab5120b0664c54c518.png)

![img](https://img-blog.csdnimg.cn/img_convert/433475d0c82af33ccfa22c6d503865e8.png)

![img](https://img-blog.csdnimg.cn/img_convert/d89d41dda04c3453a7f9685c09e906f8.png)       ![img](https://img-blog.csdnimg.cn/img_convert/6021974c422d48be8624f1bde1f265a7.png)

![img](https://img-blog.csdnimg.cn/img_convert/3fcb25f9cab64f43b872301b65bed29e.png)

## 5 简化的成本函数和梯度下降(Simplified Cost Function and Gradient Descent)

![img](https://img-blog.csdnimg.cn/img_convert/d3c5c401e78f738a9643a80eced2573a.png)

![img](https://img-blog.csdnimg.cn/img_convert/08e09af7a68284524ccfff1098f16753.png)

![img](https://img-blog.csdnimg.cn/img_convert/9f37ed2ea1906efd336df4422b7cf47c.png)

![img](https://img-blog.csdnimg.cn/img_convert/864eeb013a3ef62757e4aa2a0600e8ad.png)

## 6 进阶优化(Advanced Optimization)

![img](https://img-blog.csdnimg.cn/img_convert/63d6691b1d9572c44dd41ebf7fee284c.png)

![img](https://img-blog.csdnimg.cn/img_convert/08062ed20aa7579cf16f1d8fe587f7a0.png)

```matlab
function [jVal, gradient] = costFunction(theta)
  % code to compute J(theta)
  jVal=(theta(1)-5)^2+(theta(2)-5)^2;
  % code to compute derivative of J(theta)
  gradient=zeros(2,1);
  
  gradient(1)=2*(theta(1)-5);
  gradient(2)=2*(theta(2)-5);
end
```

![img](https://img-blog.csdnimg.cn/img_convert/6ccb14cd15889d115a4dd5e5c3f19f3b.png)

```matlab
options = optimset('GradObj', 'on', 'MaxIter', 100);
initialTheta = zeros(2,1);
   [optTheta, functionVal, exitFlag] = fminunc(@costFunction, initialTheta, options);
```

![img](https://img-blog.csdnimg.cn/img_convert/993b886ae2b4f5790f8551f5b7740a5f.png)

```matlab
optTheta =
     5
     5
functionVal = 0
exitFlag = 1
```

## 7 多类别分类: 一对多(Multiclass Classification: One-vs-all)

一直在讨论二元分类问题，这里谈谈多类别分类问题（比如天气预报）。

![img](https://img-blog.csdnimg.cn/img_convert/b504afe6517b3fd93cbbb7933617b3bc.png)

![img](https://img-blog.csdnimg.cn/img_convert/367ba2f9ee36e4b0fa6e627fd9b642dc.png)



## 8 代码实现



在训练的初始阶段，我们将要构建一个逻辑回归模型来预测，某个学生是否被大学录取。
设想你是大学相关部分的管理者，想通过申请学生两次测试的评分，来决定他们是否被录取。
现在你拥有之前申请学生的可以用于训练逻辑回归的训练样本集。对于每一个训练样本，你有他们两次测试的评分和最后是被录取的结果。

### 8.1 数据可视化

**In [1]:**

```python
import numpy as np
import pandas as pd
import matplotlib.pyplot as plt
```

**In [2]:**

```python
path = '../ex2data1.txt'
data = pd.read_csv(path, header=None, names=['Exam 1', 'Exam 2', 'Admitted'])
data.head()
```

**Out [2]:**

![img](https://img-blog.csdnimg.cn/img_convert/b277ce82367e016b236161b7346c6a23.png)

**In [3]:**

```python
positive = data[data['Admitted'].isin([1])]
negative = data[data['Admitted'].isin([0])]

fig, ax = plt.subplots(figsize=(12,8))
ax.scatter(positive['Exam 1'], positive['Exam 2'], s=50, c='b', marker='o', label='Admitted')
ax.scatter(negative['Exam 1'], negative['Exam 2'], s=50, c='r', marker='x', label='Not Admitted')
ax.legend()
ax.set_xlabel('Exam 1 Score')
ax.set_ylabel('Exam 2 Score')
plt.show()
```

![img](https://img-blog.csdnimg.cn/img_convert/256ea613e340637cd55e5ea45d9682fb.png)

### 8.2 实现

#### 8.2.1 sigmoid 函数

![img](https://img-blog.csdnimg.cn/img_convert/27722d1714ffd5dba84c28f78f33abd6.png)

**In [4]:**

```python
# 实现sigmoid函数
def sigmoid(z):
    return 1 / (1 + np.exp(-z))
```

#### 8.2.2 代价函数和梯度

![img](https://img-blog.csdnimg.cn/img_convert/21ac8853d052583de88b7f8f45fb0228.png)

**In [5]:**

```python
# 实现代价函数
def cost(theta, X, y):
    theta = np.matrix(theta)
    X = np.matrix(X)
    y = np.matrix(y)
    first = np.multiply(-y, np.log(sigmoid(X * theta.T)))
    second = np.multiply((1 - y), np.log(1 - sigmoid(X * theta.T)))
    return np.sum(first - second) / (len(X))
```

![img](https://img-blog.csdnimg.cn/img_convert/86ea9e86e50365dd8c670969d788b383.png)

**In [6]:**

```python
# 加一列常数列
data.insert(0, 'Ones', 1)

# 初始化X，y，θ
cols = data.shape[1]
X = data.iloc[:,0:cols-1]
y = data.iloc[:,cols-1:cols]
theta = np.zeros(3)

# 转换X，y的类型
X = np.array(X.values)
y = np.array(y.values)
```

**In [7]:**

```python
# 检查矩阵的维度
X.shape, theta.shape, y.shape
```

**Out [7]:**

((100, 3), (3,), (100, 1))

**In [8]:**

```python
# 用初始θ计算代价
cost(theta, X, y)
```

**Out [8]:**

0.6931471805599453

**In [9]:**

```python
# 实现梯度计算的函数（并没有更新θ）
def gradient(theta, X, y):
    theta = np.matrix(theta)
    X = np.matrix(X)
    y = np.matrix(y)
    
    parameters = int(theta.ravel().shape[1])
    grad = np.zeros(parameters)
    
    error = sigmoid(X * theta.T) - y
    
    for i in range(parameters):
        term = np.multiply(error, X[:,i])
        grad[i] = np.sum(term) / len(X)
    
    return grad
```

#### 8.2.3 用工具库计算θ的值

&emsp;&emsp;在此前的线性回归中，我们自己写代码实现的梯度下降（ex1的2.2.4的部分）。当时我们写了一个代价函数、计算了他的梯度，然后对他执行了梯度下降的步骤。这次，我们不自己写代码实现梯度下降，我们会调用一个已有的库。这就是说，我们不用自己定义迭代次数和步长，功能会直接告诉我们最优解。
&emsp;&emsp;andrew ng在课程中用的是Octave的“fminunc”函数，由于我们使用Python，我们可以用scipy.optimize.fmin_tnc做同样的事情。
（另外，如果对fminunc有疑问的，可以参考下面这篇百度文库的内容[https://wenku.baidu.com/view/2f6ce65d0b1c59eef8c7b47a.html](https://wenku.baidu.com/view/2f6ce65d0b1c59eef8c7b47a.html ) ）
如果一切顺利的话，最有θ对应的代价应该是0.203

**In [10]:**

```python
import scipy.optimize as opt
result = opt.fmin_tnc(func=cost, x0=theta, fprime=gradient, args=(X, y))
result
```

**Out [10]:**

(array([-25.16131872,   0.20623159,   0.20147149]), 36, 0)



让我们看看在这个结论下代价函数计算结果是什么个样子~

**In [11]:**

```python
# 用θ的计算结果代回代价函数计算
cost(result[0], X, y)
```

**Out [11]:**

0.20349770158947425



画出决策曲线

**In [12]:**

```python
plotting_x1 = np.linspace(30, 100, 100)
plotting_h1 = ( - result[0][0] - result[0][1] * plotting_x1) / result[0][2]

fig, ax = plt.subplots(figsize=(12,8))
ax.plot(plotting_x1, plotting_h1, 'y', label='Prediction')
ax.scatter(positive['Exam 1'], positive['Exam 2'], s=50, c='b', marker='o', label='Admitted')
ax.scatter(negative['Exam 1'], negative['Exam 2'], s=50, c='r', marker='x', label='Not Admitted')
ax.legend()
ax.set_xlabel('Exam 1 Score')
ax.set_ylabel('Exam 2 Score')
plt.show()
```

![img](https://img-blog.csdnimg.cn/img_convert/38e070f97825cdf0ea313ba79b160eaf.png)

#### 8.2.4 评价逻辑回归模型

在确定参数之后，我们可以使用这个模型来预测学生是否录取。如果一个学生exam1得分45，exam2得分85，那么他录取的概率应为0.776

**In [13]:**

```python
# 实现hθ
def hfunc1(theta, X):
    return sigmoid(np.dot(theta.T, X))
hfunc1(result[0],[1,45,85])
```

**Out [13]:**

0.776290625526598



&emsp;&emsp;另一种评价θ的方法是看模型在训练集上的正确率怎样。写一个predict的函数，给出数据以及参数后，会返回“1”或者“0”。然后再把这个predict函数用于训练集上，看准确率怎样。

**In [14]:**

```python
# 定义预测函数
def predict(theta, X):
    probability = sigmoid(X * theta.T)
    return [1 if x >= 0.5 else 0 for x in probability]
```

**In [15]:**

```python
# 统计预测正确率
theta_min = np.matrix(result[0])
predictions = predict(theta_min, X)
correct = [1 if ((a == 1 and b == 1) or (a == 0 and b == 0)) else 0 for (a, b) in zip(predictions, y)]
accuracy = (sum(map(int, correct)) % len(correct))
print ('accuracy = {0}%'.format(accuracy))
```

accuracy = 89%

(String), http://110.42.213.171:8080/blogimgs/92.png(String), 原创(String), 0(Integer), true(Boolean), true(Boolean), true(Boolean), true(Boolean), false(Boolean), 2022-04-06 11:09:58.297(Timestamp), 2022-04-06 11:09:58.297(Timestamp), 5(Integer), 1(Integer)
2022-04-06 11:09:58.302 DEBUG 12684 --- [http-nio-8086-exec-3] com.kwok.mapper.BlogMapper.saveBlog      : <==    Updates: 1
2022-04-06 11:09:58.306 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.BlogMapper.getBlogCount  : ==>  Preparing: select count(1) as count from blog
2022-04-06 11:09:58.306 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.BlogMapper.getBlogCount  : ==> Parameters: 
2022-04-06 11:09:58.307 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.BlogMapper.getBlogCount  : <==      Total: 1
2022-04-06 11:09:58.308 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.BlogMapper.getBlogList   : ==>  Preparing: select b.*,t.name as typeName from blog b,type t where b.type_id=t.id order by b.id desc limit ?,?
2022-04-06 11:09:58.308 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.BlogMapper.getBlogList   : ==> Parameters: 0(Integer), 5(Integer)
2022-04-06 11:09:58.310 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.BlogMapper.getBlogList   : <==      Total: 5
2022-04-06 11:09:58.310 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.BlogMapper.getBlogById   : ==>  Preparing: select * from blog where id = ?
2022-04-06 11:09:58.310 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.BlogMapper.getBlogById   : ==> Parameters: 93(Integer)
2022-04-06 11:09:58.310 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.BlogMapper.getBlogById   : <==      Total: 0
2022-04-06 11:09:58.310 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.BlogMapper.getBlogById   : ==>  Preparing: select * from blog where id = ?
2022-04-06 11:09:58.310 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.BlogMapper.getBlogById   : ==> Parameters: 87(Integer)
2022-04-06 11:09:58.311 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.BlogMapper.getBlogById   : <==      Total: 1
2022-04-06 11:09:58.311 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.TypeMapper.listType      : ==>  Preparing: select * from type order by id desc
2022-04-06 11:09:58.311 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.TypeMapper.listType      : ==> Parameters: 
2022-04-06 11:09:58.312 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.TypeMapper.listType      : <==      Total: 7
2022-04-06 11:09:59.582 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.BlogMapper.getBlogCount  : ==>  Preparing: select count(1) as count from blog
2022-04-06 11:09:59.582 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.BlogMapper.getBlogCount  : ==> Parameters: 
2022-04-06 11:09:59.584 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.BlogMapper.getBlogCount  : <==      Total: 1
2022-04-06 11:09:59.584 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.BlogMapper.getBlogList   : ==>  Preparing: select b.*,t.name as typeName from blog b,type t where b.type_id=t.id order by b.id desc limit ?,?
2022-04-06 11:09:59.584 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.BlogMapper.getBlogList   : ==> Parameters: 0(Integer), 5(Integer)
2022-04-06 11:09:59.586 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.BlogMapper.getBlogList   : <==      Total: 5
2022-04-06 11:09:59.587 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.BlogMapper.getBlogById   : ==>  Preparing: select * from blog where id = ?
2022-04-06 11:09:59.587 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.BlogMapper.getBlogById   : ==> Parameters: 93(Integer)
2022-04-06 11:09:59.587 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.BlogMapper.getBlogById   : <==      Total: 0
2022-04-06 11:09:59.587 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.BlogMapper.getBlogById   : ==>  Preparing: select * from blog where id = ?
2022-04-06 11:09:59.587 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.BlogMapper.getBlogById   : ==> Parameters: 87(Integer)
2022-04-06 11:09:59.588 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.BlogMapper.getBlogById   : <==      Total: 1
2022-04-06 11:09:59.588 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.TypeMapper.listType      : ==>  Preparing: select * from type order by id desc
2022-04-06 11:09:59.588 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.TypeMapper.listType      : ==> Parameters: 
2022-04-06 11:09:59.589 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.TypeMapper.listType      : <==      Total: 7
2022-04-06 11:10:01.126  INFO 12684 --- [http-nio-8086-exec-7] com.kwok.aspect.LogAspect                : Request : {url='http://localhost:8086/index', ip='0:0:0:0:0:0:0:1', classMethod='com.kwok.controller.IndexController.index', args=[org.apache.catalina.connector.RequestFacade@f05c437, org.apache.catalina.connector.ResponseFacade@1263b795, {}]}
2022-04-06 11:10:01.127 DEBUG 12684 --- [http-nio-8086-exec-7] com.kwok.mapper.BlogMapper.getBlogCount  : ==>  Preparing: select count(1) as count from blog
2022-04-06 11:10:01.127 DEBUG 12684 --- [http-nio-8086-exec-7] com.kwok.mapper.BlogMapper.getBlogCount  : ==> Parameters: 
2022-04-06 11:10:01.128 DEBUG 12684 --- [http-nio-8086-exec-7] com.kwok.mapper.BlogMapper.getBlogCount  : <==      Total: 1
2022-04-06 11:10:01.128 DEBUG 12684 --- [http-nio-8086-exec-7] com.kwok.mapper.BlogMapper.getBlogList   : ==>  Preparing: select b.*,t.name as typeName from blog b,type t where b.type_id=t.id order by b.id desc limit ?,?
2022-04-06 11:10:01.128 DEBUG 12684 --- [http-nio-8086-exec-7] com.kwok.mapper.BlogMapper.getBlogList   : ==> Parameters: 0(Integer), 5(Integer)
2022-04-06 11:10:01.130 DEBUG 12684 --- [http-nio-8086-exec-7] com.kwok.mapper.BlogMapper.getBlogList   : <==      Total: 5
2022-04-06 11:10:01.130 DEBUG 12684 --- [http-nio-8086-exec-7] com.kwok.mapper.BlogMapper.getBlogById   : ==>  Preparing: select * from blog where id = ?
2022-04-06 11:10:01.130 DEBUG 12684 --- [http-nio-8086-exec-7] com.kwok.mapper.BlogMapper.getBlogById   : ==> Parameters: 93(Integer)
2022-04-06 11:10:01.131 DEBUG 12684 --- [http-nio-8086-exec-7] com.kwok.mapper.BlogMapper.getBlogById   : <==      Total: 0
2022-04-06 11:10:01.131 DEBUG 12684 --- [http-nio-8086-exec-7] com.kwok.mapper.BlogMapper.getBlogById   : ==>  Preparing: select * from blog where id = ?
2022-04-06 11:10:01.131 DEBUG 12684 --- [http-nio-8086-exec-7] com.kwok.mapper.BlogMapper.getBlogById   : ==> Parameters: 87(Integer)
2022-04-06 11:10:01.132 DEBUG 12684 --- [http-nio-8086-exec-7] com.kwok.mapper.BlogMapper.getBlogById   : <==      Total: 1
2022-04-06 11:10:01.132 DEBUG 12684 --- [http-nio-8086-exec-7] com.kwok.mapper.TagMapper.listTopTag     : ==>  Preparing: select tag.id,tag.name,tn.num from tag,(select tag_id,count(*) as num from blog_tag group by tag_id order by num desc) as tn where tag.id = tn.tag_id
2022-04-06 11:10:01.132 DEBUG 12684 --- [http-nio-8086-exec-7] com.kwok.mapper.TagMapper.listTopTag     : ==> Parameters: 
2022-04-06 11:10:01.133 DEBUG 12684 --- [http-nio-8086-exec-7] com.kwok.mapper.TagMapper.listTopTag     : <==      Total: 13
2022-04-06 11:10:01.133 DEBUG 12684 --- [http-nio-8086-exec-7] com.kwok.mapper.TypeMapper.listTopType   : ==>  Preparing: select type.id,type.name,tn.num from type,(select type_id,count(*) as num from blog group by type_id order by num desc) as tn where type.id = tn.type_id
2022-04-06 11:10:01.134 DEBUG 12684 --- [http-nio-8086-exec-7] com.kwok.mapper.TypeMapper.listTopType   : ==> Parameters: 
2022-04-06 11:10:01.135 DEBUG 12684 --- [http-nio-8086-exec-7] com.kwok.mapper.TypeMapper.listTopType   : <==      Total: 6
2022-04-06 11:10:01.135 DEBUG 12684 --- [http-nio-8086-exec-7] c.k.m.BlogMapper.listTopRecommendBlog    : ==>  Preparing: select * from blog where recommend = 1 order by update_time desc
2022-04-06 11:10:01.135 DEBUG 12684 --- [http-nio-8086-exec-7] c.k.m.BlogMapper.listTopRecommendBlog    : ==> Parameters: 
2022-04-06 11:10:01.138 DEBUG 12684 --- [http-nio-8086-exec-7] c.k.m.BlogMapper.listTopRecommendBlog    : <==      Total: 2
2022-04-06 11:10:01.138  INFO 12684 --- [http-nio-8086-exec-7] com.kwok.aspect.LogAspect                : Result : index
2022-04-06 11:10:11.170  INFO 12684 --- [http-nio-8086-exec-5] com.kwok.aspect.LogAspect                : Request : {url='http://localhost:8086/types/-1', ip='0:0:0:0:0:0:0:1', classMethod='com.kwok.controller.TypeShowController.types', args=[-1, org.apache.catalina.connector.RequestFacade@6d43fb79, {}]}
2022-04-06 11:10:11.171 DEBUG 12684 --- [http-nio-8086-exec-5] com.kwok.mapper.TypeMapper.listType      : ==>  Preparing: select * from type order by id desc
2022-04-06 11:10:11.171 DEBUG 12684 --- [http-nio-8086-exec-5] com.kwok.mapper.TypeMapper.listType      : ==> Parameters: 
2022-04-06 11:10:11.172 DEBUG 12684 --- [http-nio-8086-exec-5] com.kwok.mapper.TypeMapper.listType      : <==      Total: 7
2022-04-06 11:10:11.172 DEBUG 12684 --- [http-nio-8086-exec-5] c.k.m.BlogMapper.getBlogCountByTypeId    : ==>  Preparing: select count(1) as count from blog where type_id = ?
2022-04-06 11:10:11.172 DEBUG 12684 --- [http-nio-8086-exec-5] c.k.m.BlogMapper.getBlogCountByTypeId    : ==> Parameters: 7(Integer)
2022-04-06 11:10:11.173 DEBUG 12684 --- [http-nio-8086-exec-5] c.k.m.BlogMapper.getBlogCountByTypeId    : <==      Total: 1
2022-04-06 11:10:11.173 DEBUG 12684 --- [http-nio-8086-exec-5] c.k.m.BlogMapper.getBlogCountByTypeId    : ==>  Preparing: select count(1) as count from blog where type_id = ?
2022-04-06 11:10:11.173 DEBUG 12684 --- [http-nio-8086-exec-5] c.k.m.BlogMapper.getBlogCountByTypeId    : ==> Parameters: 6(Integer)
2022-04-06 11:10:11.174 DEBUG 12684 --- [http-nio-8086-exec-5] c.k.m.BlogMapper.getBlogCountByTypeId    : <==      Total: 1
2022-04-06 11:10:11.174 DEBUG 12684 --- [http-nio-8086-exec-5] c.k.m.BlogMapper.getBlogCountByTypeId    : ==>  Preparing: select count(1) as count from blog where type_id = ?
2022-04-06 11:10:11.174 DEBUG 12684 --- [http-nio-8086-exec-5] c.k.m.BlogMapper.getBlogCountByTypeId    : ==> Parameters: 5(Integer)
2022-04-06 11:10:11.174 DEBUG 12684 --- [http-nio-8086-exec-5] c.k.m.BlogMapper.getBlogCountByTypeId    : <==      Total: 1
2022-04-06 11:10:11.174 DEBUG 12684 --- [http-nio-8086-exec-5] c.k.m.BlogMapper.getBlogCountByTypeId    : ==>  Preparing: select count(1) as count from blog where type_id = ?
2022-04-06 11:10:11.174 DEBUG 12684 --- [http-nio-8086-exec-5] c.k.m.BlogMapper.getBlogCountByTypeId    : ==> Parameters: 4(Integer)
2022-04-06 11:10:11.175 DEBUG 12684 --- [http-nio-8086-exec-5] c.k.m.BlogMapper.getBlogCountByTypeId    : <==      Total: 1
2022-04-06 11:10:11.175 DEBUG 12684 --- [http-nio-8086-exec-5] c.k.m.BlogMapper.getBlogCountByTypeId    : ==>  Preparing: select count(1) as count from blog where type_id = ?
2022-04-06 11:10:11.175 DEBUG 12684 --- [http-nio-8086-exec-5] c.k.m.BlogMapper.getBlogCountByTypeId    : ==> Parameters: 3(Integer)
2022-04-06 11:10:11.176 DEBUG 12684 --- [http-nio-8086-exec-5] c.k.m.BlogMapper.getBlogCountByTypeId    : <==      Total: 1
2022-04-06 11:10:11.176 DEBUG 12684 --- [http-nio-8086-exec-5] c.k.m.BlogMapper.getBlogCountByTypeId    : ==>  Preparing: select count(1) as count from blog where type_id = ?
2022-04-06 11:10:11.176 DEBUG 12684 --- [http-nio-8086-exec-5] c.k.m.BlogMapper.getBlogCountByTypeId    : ==> Parameters: 2(Integer)
2022-04-06 11:10:11.176 DEBUG 12684 --- [http-nio-8086-exec-5] c.k.m.BlogMapper.getBlogCountByTypeId    : <==      Total: 1
2022-04-06 11:10:11.177 DEBUG 12684 --- [http-nio-8086-exec-5] c.k.m.BlogMapper.getBlogCountByTypeId    : ==>  Preparing: select count(1) as count from blog where type_id = ?
2022-04-06 11:10:11.177 DEBUG 12684 --- [http-nio-8086-exec-5] c.k.m.BlogMapper.getBlogCountByTypeId    : ==> Parameters: 1(Integer)
2022-04-06 11:10:11.177 DEBUG 12684 --- [http-nio-8086-exec-5] c.k.m.BlogMapper.getBlogCountByTypeId    : <==      Total: 1
2022-04-06 11:10:11.177 DEBUG 12684 --- [http-nio-8086-exec-5] c.k.m.BlogMapper.getBlogCountByTypeId    : ==>  Preparing: select count(1) as count from blog where type_id = ?
2022-04-06 11:10:11.177 DEBUG 12684 --- [http-nio-8086-exec-5] c.k.m.BlogMapper.getBlogCountByTypeId    : ==> Parameters: 7(Integer)
2022-04-06 11:10:11.177 DEBUG 12684 --- [http-nio-8086-exec-5] c.k.m.BlogMapper.getBlogCountByTypeId    : <==      Total: 1
2022-04-06 11:10:11.178 DEBUG 12684 --- [http-nio-8086-exec-5] c.k.m.BlogMapper.getBlogListByTypeId     : ==>  Preparing: select b.*,t.name as typeName from blog b,type t where b.type_id=t.id and b.type_id=? order by b.id desc limit ?,?
2022-04-06 11:10:11.178 DEBUG 12684 --- [http-nio-8086-exec-5] c.k.m.BlogMapper.getBlogListByTypeId     : ==> Parameters: 7(Integer), 0(Integer), 5(Integer)
2022-04-06 11:10:11.180 DEBUG 12684 --- [http-nio-8086-exec-5] c.k.m.BlogMapper.getBlogListByTypeId     : <==      Total: 5
2022-04-06 11:10:11.181 DEBUG 12684 --- [http-nio-8086-exec-5] c.k.mapper.BlogMapper.getPreBlogsById    : ==>  Preparing: select * from blog where type_id=? and id > ?
2022-04-06 11:10:11.181 DEBUG 12684 --- [http-nio-8086-exec-5] c.k.mapper.BlogMapper.getPreBlogsById    : ==> Parameters: 7(Integer), 89(Integer)
2022-04-06 11:10:11.181 DEBUG 12684 --- [http-nio-8086-exec-5] c.k.mapper.BlogMapper.getPreBlogsById    : <==      Total: 0
2022-04-06 11:10:11.181 DEBUG 12684 --- [http-nio-8086-exec-5] c.k.mapper.BlogMapper.getNextBlogsById   : ==>  Preparing: select * from blog where type_id=? and ? > id
2022-04-06 11:10:11.182 DEBUG 12684 --- [http-nio-8086-exec-5] c.k.mapper.BlogMapper.getNextBlogsById   : ==> Parameters: 7(Integer), 85(Integer)
2022-04-06 11:10:11.183 DEBUG 12684 --- [http-nio-8086-exec-5] c.k.mapper.BlogMapper.getNextBlogsById   : <==      Total: 2
2022-04-06 11:10:11.183  INFO 12684 --- [http-nio-8086-exec-5] com.kwok.aspect.LogAspect                : Result : types
2022-04-06 11:10:14.051  INFO 12684 --- [http-nio-8086-exec-10] com.kwok.aspect.LogAspect                : Request : {url='http://localhost:8086/types/6', ip='0:0:0:0:0:0:0:1', classMethod='com.kwok.controller.TypeShowController.types', args=[6, org.apache.catalina.connector.RequestFacade@2bd08bff, {}]}
2022-04-06 11:10:14.052 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.TypeMapper.listType      : ==>  Preparing: select * from type order by id desc
2022-04-06 11:10:14.052 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.TypeMapper.listType      : ==> Parameters: 
2022-04-06 11:10:14.053 DEBUG 12684 --- [http-nio-8086-exec-10] com.kwok.mapper.TypeMapper.listType      : <==      Total: 7
2022-04-06 11:10:14.053 DEBUG 12684 --- [http-nio-8086-exec-10] c.k.m.BlogMapper.getBlogCountByTypeId    : ==>  Preparing: select count(1) as count from blog where type_id = ?
2022-04-06 11:10:14.053 DEBUG 12684 --- [http-nio-8086-exec-10] c.k.m.BlogMapper.getBlogCountByTypeId    : ==> Parameters: 7(Integer)
2022-04-06 11:10:14.054 DEBUG 12684 --- [http-nio-8086-exec-10] c.k.m.BlogMapper.getBlogCountByTypeId    : <==      Total: 1
2022-04-06 11:10:14.054 DEBUG 12684 --- [http-nio-8086-exec-10] c.k.m.BlogMapper.getBlogCountByTypeId    : ==>  Preparing: select count(1) as count from blog where type_id = ?
2022-04-06 11:10:14.055 DEBUG 12684 --- [http-nio-8086-exec-10] c.k.m.BlogMapper.getBlogCountByTypeId    : ==> Parameters: 6(Integer)
2022-04-06 11:10:14.055 DEBUG 12684 --- [http-nio-8086-exec-10] c.k.m.BlogMapper.getBlogCountByTypeId    : <==      Total: 1
2022-04-06 11:10:14.056 DEBUG 12684 --- [http-nio-8086-exec-10] c.k.m.BlogMapper.getBlogCountByTypeId    : ==>  Preparing: select count(1) as count from blog where type_id = ?
2022-04-06 11:10:14.056 DEBUG 12684 --- [http-nio-8086-exec-10] c.k.m.BlogMapper.getBlogCountByTypeId    : ==> Parameters: 5(Integer)
2022-04-06 11:10:14.056 DEBUG 12684 --- [http-nio-8086-exec-10] c.k.m.BlogMapper.getBlogCountByTypeId    : <==      Total: 1
2022-04-06 11:10:14.056 DEBUG 12684 --- [http-nio-8086-exec-10] c.k.m.BlogMapper.getBlogCountByTypeId    : ==>  Preparing: select count(1) as count from blog where type_id = ?
2022-04-06 11:10:14.057 DEBUG 12684 --- [http-nio-8086-exec-10] c.k.m.BlogMapper.getBlogCountByTypeId    : ==> Parameters: 4(Integer)
2022-04-06 11:10:14.057 DEBUG 12684 --- [http-nio-8086-exec-10] c.k.m.BlogMapper.getBlogCountByTypeId    : <==      Total: 1
2022-04-06 11:10:14.057 DEBUG 12684 --- [http-nio-8086-exec-10] c.k.m.BlogMapper.getBlogCountByTypeId    : ==>  Preparing: select count(1) as count from blog where type_id = ?
2022-04-06 11:10:14.057 DEBUG 12684 --- [http-nio-8086-exec-10] c.k.m.BlogMapper.getBlogCountByTypeId    : ==> Parameters: 3(Integer)
2022-04-06 11:10:14.057 DEBUG 12684 --- [http-nio-8086-exec-10] c.k.m.BlogMapper.getBlogCountByTypeId    : <==      Total: 1
2022-04-06 11:10:14.057 DEBUG 12684 --- [http-nio-8086-exec-10] c.k.m.BlogMapper.getBlogCountByTypeId    : ==>  Preparing: select count(1) as count from blog where type_id = ?
2022-04-06 11:10:14.057 DEBUG 12684 --- [http-nio-8086-exec-10] c.k.m.BlogMapper.getBlogCountByTypeId    : ==> Parameters: 2(Integer)
2022-04-06 11:10:14.058 DEBUG 12684 --- [http-nio-8086-exec-10] c.k.m.BlogMapper.getBlogCountByTypeId    : <==      Total: 1
2022-04-06 11:10:14.058 DEBUG 12684 --- [http-nio-8086-exec-10] c.k.m.BlogMapper.getBlogCountByTypeId    : ==>  Preparing: select count(1) as count from blog where type_id = ?
2022-04-06 11:10:14.058 DEBUG 12684 --- [http-nio-8086-exec-10] c.k.m.BlogMapper.getBlogCountByTypeId    : ==> Parameters: 1(Integer)
2022-04-06 11:10:14.058 DEBUG 12684 --- [http-nio-8086-exec-10] c.k.m.BlogMapper.getBlogCountByTypeId    : <==      Total: 1
2022-04-06 11:10:14.058 DEBUG 12684 --- [http-nio-8086-exec-10] c.k.m.BlogMapper.getBlogCountByTypeId    : ==>  Preparing: select count(1) as count from blog where type_id = ?
2022-04-06 11:10:14.059 DEBUG 12684 --- [http-nio-8086-exec-10] c.k.m.BlogMapper.getBlogCountByTypeId    : ==> Parameters: 6(Integer)
2022-04-06 11:10:14.059 DEBUG 12684 --- [http-nio-8086-exec-10] c.k.m.BlogMapper.getBlogCountByTypeId    : <==      Total: 1
2022-04-06 11:10:14.059 DEBUG 12684 --- [http-nio-8086-exec-10] c.k.m.BlogMapper.getBlogListByTypeId     : ==>  Preparing: select b.*,t.name as typeName from blog b,type t where b.type_id=t.id and b.type_id=? order by b.id desc limit ?,?
2022-04-06 11:10:14.059 DEBUG 12684 --- [http-nio-8086-exec-10] c.k.m.BlogMapper.getBlogListByTypeId     : ==> Parameters: 6(Integer), 0(Integer), 5(Integer)
2022-04-06 11:10:14.063 DEBUG 12684 --- [http-nio-8086-exec-10] c.k.m.BlogMapper.getBlogListByTypeId     : <==      Total: 5
2022-04-06 11:10:14.063 DEBUG 12684 --- [http-nio-8086-exec-10] c.k.mapper.BlogMapper.getPreBlogsById    : ==>  Preparing: select * from blog where type_id=? and id > ?
2022-04-06 11:10:14.063 DEBUG 12684 --- [http-nio-8086-exec-10] c.k.mapper.BlogMapper.getPreBlogsById    : ==> Parameters: 6(Integer), 82(Integer)
2022-04-06 11:10:14.064 DEBUG 12684 --- [http-nio-8086-exec-10] c.k.mapper.BlogMapper.getPreBlogsById    : <==      Total: 0
2022-04-06 11:10:14.064 DEBUG 12684 --- [http-nio-8086-exec-10] c.k.mapper.BlogMapper.getNextBlogsById   : ==>  Preparing: select * from blog where type_id=? and ? > id
2022-04-06 11:10:14.064 DEBUG 12684 --- [http-nio-8086-exec-10] c.k.mapper.BlogMapper.getNextBlogsById   : ==> Parameters: 6(Integer), 78(Integer)
2022-04-06 11:10:14.081 DEBUG 12684 --- [http-nio-8086-exec-10] c.k.mapper.BlogMapper.getNextBlogsById   : <==      Total: 60
2022-04-06 11:10:14.081  INFO 12684 --- [http-nio-8086-exec-10] com.kwok.aspect.LogAspect                : Result : types
2022-04-06 11:10:19.946  INFO 12684 --- [http-nio-8086-exec-9] com.kwok.aspect.LogAspect                : Request : {url='http://localhost:8086/index', ip='0:0:0:0:0:0:0:1', classMethod='com.kwok.controller.IndexController.index', args=[org.apache.catalina.connector.RequestFacade@2bd08bff, org.apache.catalina.connector.ResponseFacade@569c43ae, {}]}
2022-04-06 11:10:19.946 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.BlogMapper.getBlogCount  : ==>  Preparing: select count(1) as count from blog
2022-04-06 11:10:19.946 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.BlogMapper.getBlogCount  : ==> Parameters: 
2022-04-06 11:10:19.948 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.BlogMapper.getBlogCount  : <==      Total: 1
2022-04-06 11:10:19.948 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.BlogMapper.getBlogList   : ==>  Preparing: select b.*,t.name as typeName from blog b,type t where b.type_id=t.id order by b.id desc limit ?,?
2022-04-06 11:10:19.948 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.BlogMapper.getBlogList   : ==> Parameters: 0(Integer), 5(Integer)
2022-04-06 11:10:19.951 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.BlogMapper.getBlogList   : <==      Total: 5
2022-04-06 11:10:19.951 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.BlogMapper.getBlogById   : ==>  Preparing: select * from blog where id = ?
2022-04-06 11:10:19.951 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.BlogMapper.getBlogById   : ==> Parameters: 93(Integer)
2022-04-06 11:10:19.951 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.BlogMapper.getBlogById   : <==      Total: 0
2022-04-06 11:10:19.951 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.BlogMapper.getBlogById   : ==>  Preparing: select * from blog where id = ?
2022-04-06 11:10:19.951 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.BlogMapper.getBlogById   : ==> Parameters: 87(Integer)
2022-04-06 11:10:19.952 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.BlogMapper.getBlogById   : <==      Total: 1
2022-04-06 11:10:19.952 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.TagMapper.listTopTag     : ==>  Preparing: select tag.id,tag.name,tn.num from tag,(select tag_id,count(*) as num from blog_tag group by tag_id order by num desc) as tn where tag.id = tn.tag_id
2022-04-06 11:10:19.953 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.TagMapper.listTopTag     : ==> Parameters: 
2022-04-06 11:10:19.953 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.TagMapper.listTopTag     : <==      Total: 13
2022-04-06 11:10:19.953 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.TypeMapper.listTopType   : ==>  Preparing: select type.id,type.name,tn.num from type,(select type_id,count(*) as num from blog group by type_id order by num desc) as tn where type.id = tn.type_id
2022-04-06 11:10:19.954 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.TypeMapper.listTopType   : ==> Parameters: 
2022-04-06 11:10:19.954 DEBUG 12684 --- [http-nio-8086-exec-9] com.kwok.mapper.TypeMapper.listTopType   : <==      Total: 6
2022-04-06 11:10:19.954 DEBUG 12684 --- [http-nio-8086-exec-9] c.k.m.BlogMapper.listTopRecommendBlog    : ==>  Preparing: select * from blog where recommend = 1 order by update_time desc
2022-04-06 11:10:19.954 DEBUG 12684 --- [http-nio-8086-exec-9] c.k.m.BlogMapper.listTopRecommendBlog    : ==> Parameters: 
2022-04-06 11:10:19.957 DEBUG 12684 --- [http-nio-8086-exec-9] c.k.m.BlogMapper.listTopRecommendBlog    : <==      Total: 2
2022-04-06 11:10:19.957  INFO 12684 --- [http-nio-8086-exec-9] com.kwok.aspect.LogAspect                : Result : index
2022-04-06 11:10:22.300  INFO 12684 --- [http-nio-8086-exec-3] com.kwok.aspect.LogAspect                : Request : {url='http://localhost:8086/blog/92', ip='0:0:0:0:0:0:0:1', classMethod='com.kwok.controller.IndexController.blog', args=[92, {}]}
2022-04-06 11:10:22.300 DEBUG 12684 --- [http-nio-8086-exec-3] com.kwok.mapper.BlogMapper.getBlogById   : ==>  Preparing: select * from blog where id = ?
2022-04-06 11:10:22.301 DEBUG 12684 --- [http-nio-8086-exec-3] com.kwok.mapper.BlogMapper.getBlogById   : ==> Parameters: 92(Integer)
2022-04-06 11:10:22.301 DEBUG 12684 --- [http-nio-8086-exec-3] com.kwok.mapper.BlogMapper.getBlogById   : <==      Total: 1
2022-04-06 11:10:22.302 DEBUG 12684 --- [http-nio-8086-exec-3] c.k.mapper.BlogMapper.updateBlogViews    : ==>  Preparing: update blog set views=? where id = ?
2022-04-06 11:10:22.302 DEBUG 12684 --- [http-nio-8086-exec-3] c.k.mapper.BlogMapper.updateBlogViews    : ==> Parameters: 1(Integer), 92(Integer)
2022-04-06 11:10:22.303 DEBUG 12684 --- [http-nio-8086-exec-3] c.k.mapper.BlogMapper.updateBlogViews    : <==    Updates: 1
2022-04-06 11:10:22.310 DEBUG 12684 --- [http-nio-8086-exec-3] com.kwok.mapper.BlogMapper.getBlogById   : ==>  Preparing: select * from blog where id = ?
2022-04-06 11:10:22.310 DEBUG 12684 --- [http-nio-8086-exec-3] com.kwok.mapper.BlogMapper.getBlogById   : ==> Parameters: 92(Integer)
2022-04-06 11:10:22.311 DEBUG 12684 --- [http-nio-8086-exec-3] com.kwok.mapper.BlogMapper.getBlogById   : <==      Total: 1
2022-04-06 11:10:22.312 DEBUG 12684 --- [http-nio-8086-exec-3] c.k.m.BlogtagMapper.getTagIdByBlogId     : ==>  Preparing: select * from blog_tag where blog_id = ?
2022-04-06 11:10:22.312 DEBUG 12684 --- [http-nio-8086-exec-3] c.k.m.BlogtagMapper.getTagIdByBlogId     : ==> Parameters: 92(Integer)
2022-04-06 11:10:22.313 DEBUG 12684 --- [http-nio-8086-exec-3] c.k.m.BlogtagMapper.getTagIdByBlogId     : <==      Total: 2
2022-04-06 11:10:22.313 DEBUG 12684 --- [http-nio-8086-exec-3] com.kwok.mapper.TagMapper.getShowTags    : ==>  Preparing: select * from tag where id in ( ? , ? )
2022-04-06 11:10:22.313 DEBUG 12684 --- [http-nio-8086-exec-3] com.kwok.mapper.TagMapper.getShowTags    : ==> Parameters: 10(Integer), 5(Integer)
2022-04-06 11:10:22.314 DEBUG 12684 --- [http-nio-8086-exec-3] com.kwok.mapper.TagMapper.getShowTags    : <==      Total: 2
2022-04-06 11:10:22.314  INFO 12684 --- [http-nio-8086-exec-3] com.kwok.aspect.LogAspect                : Result : blog
2022-04-06 11:10:22.823  INFO 12684 --- [http-nio-8086-exec-9] com.kwok.aspect.LogAspect                : Request : {url='http://localhost:8086/comments/92', ip='0:0:0:0:0:0:0:1', classMethod='com.kwok.controller.CommentController.comments', args=[92, {}]}
2022-04-06 11:10:22.824 DEBUG 12684 --- [http-nio-8086-exec-9] c.k.m.CommentMapper.listCommentByBlogId  : ==>  Preparing: select * from comment where blog_id = ? and parent_id = 0 order by creat_time asc
2022-04-06 11:10:22.824 DEBUG 12684 --- [http-nio-8086-exec-9] c.k.m.CommentMapper.listCommentByBlogId  : ==> Parameters: 92(Integer)
2022-04-06 11:10:22.825 DEBUG 12684 --- [http-nio-8086-exec-9] c.k.m.CommentMapper.listCommentByBlogId  : <==      Total: 0
2022-04-06 11:10:22.825  INFO 12684 --- [http-nio-8086-exec-9] com.kwok.aspect.LogAspect                : Result : blog :: commentList
2022-04-06 11:10:40.304 DEBUG 12684 --- [http-nio-8086-exec-4] com.kwok.mapper.BlogMapper.getBlogCount  : ==>  Preparing: select count(1) as count from blog
2022-04-06 11:10:40.304 DEBUG 12684 --- [http-nio-8086-exec-4] com.kwok.mapper.BlogMapper.getBlogCount  : ==> Parameters: 
2022-04-06 11:10:40.305 DEBUG 12684 --- [http-nio-8086-exec-4] com.kwok.mapper.BlogMapper.getBlogCount  : <==      Total: 1
2022-04-06 11:10:40.305 DEBUG 12684 --- [http-nio-8086-exec-4] com.kwok.mapper.BlogMapper.getBlogList   : ==>  Preparing: select b.*,t.name as typeName from blog b,type t where b.type_id=t.id order by b.id desc limit ?,?
2022-04-06 11:10:40.305 DEBUG 12684 --- [http-nio-8086-exec-4] com.kwok.mapper.BlogMapper.getBlogList   : ==> Parameters: 0(Integer), 5(Integer)
2022-04-06 11:10:40.308 DEBUG 12684 --- [http-nio-8086-exec-4] com.kwok.mapper.BlogMapper.getBlogList   : <==      Total: 5
2022-04-06 11:10:40.308 DEBUG 12684 --- [http-nio-8086-exec-4] com.kwok.mapper.BlogMapper.getBlogById   : ==>  Preparing: select * from blog where id = ?
2022-04-06 11:10:40.308 DEBUG 12684 --- [http-nio-8086-exec-4] com.kwok.mapper.BlogMapper.getBlogById   : ==> Parameters: 93(Integer)
2022-04-06 11:10:40.308 DEBUG 12684 --- [http-nio-8086-exec-4] com.kwok.mapper.BlogMapper.getBlogById   : <==      Total: 0
2022-04-06 11:10:40.308 DEBUG 12684 --- [http-nio-8086-exec-4] com.kwok.mapper.BlogMapper.getBlogById   : ==>  Preparing: select * from blog where id = ?
2022-04-06 11:10:40.309 DEBUG 12684 --- [http-nio-8086-exec-4] com.kwok.mapper.BlogMapper.getBlogById   : ==> Parameters: 87(Integer)
2022-04-06 11:10:40.309 DEBUG 12684 --- [http-nio-8086-exec-4] com.kwok.mapper.BlogMapper.getBlogById   : <==      Total: 1
2022-04-06 11:10:40.309 DEBUG 12684 --- [http-nio-8086-exec-4] com.kwok.mapper.TypeMapper.listType      : ==>  Preparing: select * from type order by id desc
2022-04-06 11:10:40.309 DEBUG 12684 --- [http-nio-8086-exec-4] com.kwok.mapper.TypeMapper.listType      : ==> Parameters: 
2022-04-06 11:10:40.310 DEBUG 12684 --- [http-nio-8086-exec-4] com.kwok.mapper.TypeMapper.listType      : <==      Total: 7
2022-04-06 11:10:41.702  INFO 12684 --- [http-nio-8086-exec-2] com.kwok.aspect.LogAspect                : Request : {url='http://localhost:8086/index', ip='0:0:0:0:0:0:0:1', classMethod='com.kwok.controller.IndexController.index', args=[org.apache.catalina.connector.RequestFacade@6602faf2, org.apache.catalina.connector.ResponseFacade@1dd92202, {}]}
2022-04-06 11:10:41.702 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.BlogMapper.getBlogCount  : ==>  Preparing: select count(1) as count from blog
2022-04-06 11:10:41.703 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.BlogMapper.getBlogCount  : ==> Parameters: 
2022-04-06 11:10:41.704 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.BlogMapper.getBlogCount  : <==      Total: 1
2022-04-06 11:10:41.704 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.BlogMapper.getBlogList   : ==>  Preparing: select b.*,t.name as typeName from blog b,type t where b.type_id=t.id order by b.id desc limit ?,?
2022-04-06 11:10:41.704 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.BlogMapper.getBlogList   : ==> Parameters: 0(Integer), 5(Integer)
2022-04-06 11:10:41.706 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.BlogMapper.getBlogList   : <==      Total: 5
2022-04-06 11:10:41.706 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.BlogMapper.getBlogById   : ==>  Preparing: select * from blog where id = ?
2022-04-06 11:10:41.707 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.BlogMapper.getBlogById   : ==> Parameters: 93(Integer)
2022-04-06 11:10:41.707 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.BlogMapper.getBlogById   : <==      Total: 0
2022-04-06 11:10:41.707 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.BlogMapper.getBlogById   : ==>  Preparing: select * from blog where id = ?
2022-04-06 11:10:41.707 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.BlogMapper.getBlogById   : ==> Parameters: 87(Integer)
2022-04-06 11:10:41.708 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.BlogMapper.getBlogById   : <==      Total: 1
2022-04-06 11:10:41.708 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.TagMapper.listTopTag     : ==>  Preparing: select tag.id,tag.name,tn.num from tag,(select tag_id,count(*) as num from blog_tag group by tag_id order by num desc) as tn where tag.id = tn.tag_id
2022-04-06 11:10:41.708 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.TagMapper.listTopTag     : ==> Parameters: 
2022-04-06 11:10:41.709 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.TagMapper.listTopTag     : <==      Total: 13
2022-04-06 11:10:41.709 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.TypeMapper.listTopType   : ==>  Preparing: select type.id,type.name,tn.num from type,(select type_id,count(*) as num from blog group by type_id order by num desc) as tn where type.id = tn.type_id
2022-04-06 11:10:41.709 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.TypeMapper.listTopType   : ==> Parameters: 
2022-04-06 11:10:41.709 DEBUG 12684 --- [http-nio-8086-exec-2] com.kwok.mapper.TypeMapper.listTopType   : <==      Total: 6
2022-04-06 11:10:41.709 DEBUG 12684 --- [http-nio-8086-exec-2] c.k.m.BlogMapper.listTopRecommendBlog    : ==>  Preparing: select * from blog where recommend = 1 order by update_time desc
2022-04-06 11:10:41.709 DEBUG 12684 --- [http-nio-8086-exec-2] c.k.m.BlogMapper.listTopRecommendBlog    : ==> Parameters: 
2022-04-06 11:10:41.712 DEBUG 12684 --- [http-nio-8086-exec-2] c.k.m.BlogMapper.listTopRecommendBlog    : <==      Total: 2
2022-04-06 11:10:41.712  INFO 12684 --- [http-nio-8086-exec-2] com.kwok.aspect.LogAspect                : Result : index
2022-04-06 11:11:16.834 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.BlogMapper.getBlogCount  : ==>  Preparing: select count(1) as count from blog
2022-04-06 11:11:16.834 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.BlogMapper.getBlogCount  : ==> Parameters: 
2022-04-06 11:11:16.835 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.BlogMapper.getBlogCount  : <==      Total: 1
2022-04-06 11:11:16.835 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.BlogMapper.getBlogList   : ==>  Preparing: select b.*,t.name as typeName from blog b,type t where b.type_id=t.id order by b.id desc limit ?,?
2022-04-06 11:11:16.836 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.BlogMapper.getBlogList   : ==> Parameters: 0(Integer), 5(Integer)
2022-04-06 11:11:16.838 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.BlogMapper.getBlogList   : <==      Total: 5
2022-04-06 11:11:16.838 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.BlogMapper.getBlogById   : ==>  Preparing: select * from blog where id = ?
2022-04-06 11:11:16.839 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.BlogMapper.getBlogById   : ==> Parameters: 93(Integer)
2022-04-06 11:11:16.839 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.BlogMapper.getBlogById   : <==      Total: 0
2022-04-06 11:11:16.839 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.BlogMapper.getBlogById   : ==>  Preparing: select * from blog where id = ?
2022-04-06 11:11:16.839 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.BlogMapper.getBlogById   : ==> Parameters: 87(Integer)
2022-04-06 11:11:16.840 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.BlogMapper.getBlogById   : <==      Total: 1
2022-04-06 11:11:16.840 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.TypeMapper.listType      : ==>  Preparing: select * from type order by id desc
2022-04-06 11:11:16.840 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.TypeMapper.listType      : ==> Parameters: 
2022-04-06 11:11:16.841 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.TypeMapper.listType      : <==      Total: 7
2022-04-06 11:11:21.454  INFO 12684 --- [http-nio-8086-exec-5] com.kwok.aspect.LogAspect                : Request : {url='http://localhost:8086/index', ip='0:0:0:0:0:0:0:1', classMethod='com.kwok.controller.IndexController.index', args=[org.apache.catalina.connector.RequestFacade@f05c437, org.apache.catalina.connector.ResponseFacade@1263b795, {}]}
2022-04-06 11:11:21.454 DEBUG 12684 --- [http-nio-8086-exec-5] com.kwok.mapper.BlogMapper.getBlogCount  : ==>  Preparing: select count(1) as count from blog
2022-04-06 11:11:21.454 DEBUG 12684 --- [http-nio-8086-exec-5] com.kwok.mapper.BlogMapper.getBlogCount  : ==> Parameters: 
2022-04-06 11:11:21.455 DEBUG 12684 --- [http-nio-8086-exec-5] com.kwok.mapper.BlogMapper.getBlogCount  : <==      Total: 1
2022-04-06 11:11:21.456 DEBUG 12684 --- [http-nio-8086-exec-5] com.kwok.mapper.BlogMapper.getBlogList   : ==>  Preparing: select b.*,t.name as typeName from blog b,type t where b.type_id=t.id order by b.id desc limit ?,?
2022-04-06 11:11:21.456 DEBUG 12684 --- [http-nio-8086-exec-5] com.kwok.mapper.BlogMapper.getBlogList   : ==> Parameters: 0(Integer), 5(Integer)
2022-04-06 11:11:21.458 DEBUG 12684 --- [http-nio-8086-exec-5] com.kwok.mapper.BlogMapper.getBlogList   : <==      Total: 5
2022-04-06 11:11:21.458 DEBUG 12684 --- [http-nio-8086-exec-5] com.kwok.mapper.BlogMapper.getBlogById   : ==>  Preparing: select * from blog where id = ?
2022-04-06 11:11:21.459 DEBUG 12684 --- [http-nio-8086-exec-5] com.kwok.mapper.BlogMapper.getBlogById   : ==> Parameters: 93(Integer)
2022-04-06 11:11:21.459 DEBUG 12684 --- [http-nio-8086-exec-5] com.kwok.mapper.BlogMapper.getBlogById   : <==      Total: 0
2022-04-06 11:11:21.459 DEBUG 12684 --- [http-nio-8086-exec-5] com.kwok.mapper.BlogMapper.getBlogById   : ==>  Preparing: select * from blog where id = ?
2022-04-06 11:11:21.459 DEBUG 12684 --- [http-nio-8086-exec-5] com.kwok.mapper.BlogMapper.getBlogById   : ==> Parameters: 87(Integer)
2022-04-06 11:11:21.460 DEBUG 12684 --- [http-nio-8086-exec-5] com.kwok.mapper.BlogMapper.getBlogById   : <==      Total: 1
2022-04-06 11:11:21.460 DEBUG 12684 --- [http-nio-8086-exec-5] com.kwok.mapper.TagMapper.listTopTag     : ==>  Preparing: select tag.id,tag.name,tn.num from tag,(select tag_id,count(*) as num from blog_tag group by tag_id order by num desc) as tn where tag.id = tn.tag_id
2022-04-06 11:11:21.460 DEBUG 12684 --- [http-nio-8086-exec-5] com.kwok.mapper.TagMapper.listTopTag     : ==> Parameters: 
2022-04-06 11:11:21.461 DEBUG 12684 --- [http-nio-8086-exec-5] com.kwok.mapper.TagMapper.listTopTag     : <==      Total: 13
2022-04-06 11:11:21.461 DEBUG 12684 --- [http-nio-8086-exec-5] com.kwok.mapper.TypeMapper.listTopType   : ==>  Preparing: select type.id,type.name,tn.num from type,(select type_id,count(*) as num from blog group by type_id order by num desc) as tn where type.id = tn.type_id
2022-04-06 11:11:21.461 DEBUG 12684 --- [http-nio-8086-exec-5] com.kwok.mapper.TypeMapper.listTopType   : ==> Parameters: 
2022-04-06 11:11:21.461 DEBUG 12684 --- [http-nio-8086-exec-5] com.kwok.mapper.TypeMapper.listTopType   : <==      Total: 6
2022-04-06 11:11:21.461 DEBUG 12684 --- [http-nio-8086-exec-5] c.k.m.BlogMapper.listTopRecommendBlog    : ==>  Preparing: select * from blog where recommend = 1 order by update_time desc
2022-04-06 11:11:21.462 DEBUG 12684 --- [http-nio-8086-exec-5] c.k.m.BlogMapper.listTopRecommendBlog    : ==> Parameters: 
2022-04-06 11:11:21.465 DEBUG 12684 --- [http-nio-8086-exec-5] c.k.m.BlogMapper.listTopRecommendBlog    : <==      Total: 2
2022-04-06 11:11:21.465  INFO 12684 --- [http-nio-8086-exec-5] com.kwok.aspect.LogAspect                : Result : index
2022-04-06 11:11:30.547  INFO 12684 --- [http-nio-8086-exec-5] com.kwok.aspect.LogAspect                : Request : {url='http://localhost:8086/tags/9', ip='0:0:0:0:0:0:0:1', classMethod='com.kwok.controller.TagShowController.tags', args=[9, org.apache.catalina.connector.RequestFacade@7b4c3c2a, {}]}
2022-04-06 11:11:30.548 DEBUG 12684 --- [http-nio-8086-exec-5] com.kwok.mapper.TagMapper.listTag        : ==>  Preparing: select * from tag order by id desc
2022-04-06 11:11:30.548 DEBUG 12684 --- [http-nio-8086-exec-5] com.kwok.mapper.TagMapper.listTag        : ==> Parameters: 
2022-04-06 11:11:30.548 DEBUG 12684 --- [http-nio-8086-exec-5] com.kwok.mapper.TagMapper.listTag        : <==      Total: 14
2022-04-06 11:11:30.548 DEBUG 12684 --- [http-nio-8086-exec-5] com.kwok.mapper.TagMapper.tagCount       : ==>  Preparing: select count(1) as count from blog_tag where tag_id=?
2022-04-06 11:11:30.548 DEBUG 12684 --- [http-nio-8086-exec-5] com.kwok.mapper.TagMapper.tagCount       : ==> Parameters: 14(Integer)
2022-04-06 11:11:30.549 DEBUG 12684 --- [http-nio-8086-exec-5] com.kwok.mapper.TagMapper.tagCount       : <==      Total: 1
2022-04-06 11:11:30.549 DEBUG 12684 --- [http-nio-8086-exec-5] com.kwok.mapper.TagMapper.tagCount       : ==>  Preparing: select count(1) as count from blog_tag where tag_id=?
2022-04-06 11:11:30.549 DEBUG 12684 --- [http-nio-8086-exec-5] com.kwok.mapper.TagMapper.tagCount       : ==> Parameters: 13(Integer)
2022-04-06 11:11:30.550 DEBUG 12684 --- [http-nio-8086-exec-5] com.kwok.mapper.TagMapper.tagCount       : <==      Total: 1
2022-04-06 11:11:30.550 DEBUG 12684 --- [http-nio-8086-exec-5] com.kwok.mapper.TagMapper.tagCount       : ==>  Preparing: select count(1) as count from blog_tag where tag_id=?
2022-04-06 11:11:30.550 DEBUG 12684 --- [http-nio-8086-exec-5] com.kwok.mapper.TagMapper.tagCount       : ==> Parameters: 12(Integer)
2022-04-06 11:11:30.551 DEBUG 12684 --- [http-nio-8086-exec-5] com.kwok.mapper.TagMapper.tagCount       : <==      Total: 1
2022-04-06 11:11:30.551 DEBUG 12684 --- [http-nio-8086-exec-5] com.kwok.mapper.TagMapper.tagCount       : ==>  Preparing: select count(1) as count from blog_tag where tag_id=?
2022-04-06 11:11:30.551 DEBUG 12684 --- [http-nio-8086-exec-5] com.kwok.mapper.TagMapper.tagCount       : ==> Parameters: 11(Integer)
2022-04-06 11:11:30.552 DEBUG 12684 --- [http-nio-8086-exec-5] com.kwok.mapper.TagMapper.tagCount       : <==      Total: 1
2022-04-06 11:11:30.552 DEBUG 12684 --- [http-nio-8086-exec-5] com.kwok.mapper.TagMapper.tagCount       : ==>  Preparing: select count(1) as count from blog_tag where tag_id=?
2022-04-06 11:11:30.552 DEBUG 12684 --- [http-nio-8086-exec-5] com.kwok.mapper.TagMapper.tagCount       : ==> Parameters: 10(Integer)
2022-04-06 11:11:30.553 DEBUG 12684 --- [http-nio-8086-exec-5] com.kwok.mapper.TagMapper.tagCount       : <==      Total: 1
2022-04-06 11:11:30.553 DEBUG 12684 --- [http-nio-8086-exec-5] com.kwok.mapper.TagMapper.tagCount       : ==>  Preparing: select count(1) as count from blog_tag where tag_id=?
2022-04-06 11:11:30.553 DEBUG 12684 --- [http-nio-8086-exec-5] com.kwok.mapper.TagMapper.tagCount       : ==> Parameters: 9(Integer)
2022-04-06 11:11:30.553 DEBUG 12684 --- [http-nio-8086-exec-5] com.kwok.mapper.TagMapper.tagCount       : <==      Total: 1
2022-04-06 11:11:30.553 DEBUG 12684 --- [http-nio-8086-exec-5] com.kwok.mapper.TagMapper.tagCount       : ==>  Preparing: select count(1) as count from blog_tag where tag_id=?
2022-04-06 11:11:30.553 DEBUG 12684 --- [http-nio-8086-exec-5] com.kwok.mapper.TagMapper.tagCount       : ==> Parameters: 8(Integer)
2022-04-06 11:11:30.554 DEBUG 12684 --- [http-nio-8086-exec-5] com.kwok.mapper.TagMapper.tagCount       : <==      Total: 1
2022-04-06 11:11:30.554 DEBUG 12684 --- [http-nio-8086-exec-5] com.kwok.mapper.TagMapper.tagCount       : ==>  Preparing: select count(1) as count from blog_tag where tag_id=?
2022-04-06 11:11:30.554 DEBUG 12684 --- [http-nio-8086-exec-5] com.kwok.mapper.TagMapper.tagCount       : ==> Parameters: 7(Integer)
2022-04-06 11:11:30.554 DEBUG 12684 --- [http-nio-8086-exec-5] com.kwok.mapper.TagMapper.tagCount       : <==      Total: 1
2022-04-06 11:11:30.554 DEBUG 12684 --- [http-nio-8086-exec-5] com.kwok.mapper.TagMapper.tagCount       : ==>  Preparing: select count(1) as count from blog_tag where tag_id=?
2022-04-06 11:11:30.554 DEBUG 12684 --- [http-nio-8086-exec-5] com.kwok.mapper.TagMapper.tagCount       : ==> Parameters: 6(Integer)
2022-04-06 11:11:30.554 DEBUG 12684 --- [http-nio-8086-exec-5] com.kwok.mapper.TagMapper.tagCount       : <==      Total: 1
2022-04-06 11:11:30.554 DEBUG 12684 --- [http-nio-8086-exec-5] com.kwok.mapper.TagMapper.tagCount       : ==>  Preparing: select count(1) as count from blog_tag where tag_id=?
2022-04-06 11:11:30.554 DEBUG 12684 --- [http-nio-8086-exec-5] com.kwok.mapper.TagMapper.tagCount       : ==> Parameters: 5(Integer)
2022-04-06 11:11:30.555 DEBUG 12684 --- [http-nio-8086-exec-5] com.kwok.mapper.TagMapper.tagCount       : <==      Total: 1
2022-04-06 11:11:30.555 DEBUG 12684 --- [http-nio-8086-exec-5] com.kwok.mapper.TagMapper.tagCount       : ==>  Preparing: select count(1) as count from blog_tag where tag_id=?
2022-04-06 11:11:30.555 DEBUG 12684 --- [http-nio-8086-exec-5] com.kwok.mapper.TagMapper.tagCount       : ==> Parameters: 4(Integer)
2022-04-06 11:11:30.555 DEBUG 12684 --- [http-nio-8086-exec-5] com.kwok.mapper.TagMapper.tagCount       : <==      Total: 1
2022-04-06 11:11:30.555 DEBUG 12684 --- [http-nio-8086-exec-5] com.kwok.mapper.TagMapper.tagCount       : ==>  Preparing: select count(1) as count from blog_tag where tag_id=?
2022-04-06 11:11:30.555 DEBUG 12684 --- [http-nio-8086-exec-5] com.kwok.mapper.TagMapper.tagCount       : ==> Parameters: 3(Integer)
2022-04-06 11:11:30.556 DEBUG 12684 --- [http-nio-8086-exec-5] com.kwok.mapper.TagMapper.tagCount       : <==      Total: 1
2022-04-06 11:11:30.556 DEBUG 12684 --- [http-nio-8086-exec-5] com.kwok.mapper.TagMapper.tagCount       : ==>  Preparing: select count(1) as count from blog_tag where tag_id=?
2022-04-06 11:11:30.556 DEBUG 12684 --- [http-nio-8086-exec-5] com.kwok.mapper.TagMapper.tagCount       : ==> Parameters: 2(Integer)
2022-04-06 11:11:30.557 DEBUG 12684 --- [http-nio-8086-exec-5] com.kwok.mapper.TagMapper.tagCount       : <==      Total: 1
2022-04-06 11:11:30.557 DEBUG 12684 --- [http-nio-8086-exec-5] com.kwok.mapper.TagMapper.tagCount       : ==>  Preparing: select count(1) as count from blog_tag where tag_id=?
2022-04-06 11:11:30.557 DEBUG 12684 --- [http-nio-8086-exec-5] com.kwok.mapper.TagMapper.tagCount       : ==> Parameters: 1(Integer)
2022-04-06 11:11:30.558 DEBUG 12684 --- [http-nio-8086-exec-5] com.kwok.mapper.TagMapper.tagCount       : <==      Total: 1
2022-04-06 11:11:30.558 DEBUG 12684 --- [http-nio-8086-exec-5] c.k.m.BlogMapper.getBlogCountByTagId     : ==>  Preparing: select count(1) as count from blog_tag where tag_id = ?
2022-04-06 11:11:30.558 DEBUG 12684 --- [http-nio-8086-exec-5] c.k.m.BlogMapper.getBlogCountByTagId     : ==> Parameters: 9(Integer)
2022-04-06 11:11:30.559 DEBUG 12684 --- [http-nio-8086-exec-5] c.k.m.BlogMapper.getBlogCountByTagId     : <==      Total: 1
2022-04-06 11:11:30.559 DEBUG 12684 --- [http-nio-8086-exec-5] c.k.m.BlogMapper.getBlogListByTagId      : ==>  Preparing: select b.*,bt.tag_id,t.name from blog b,blog_tag bt,tag t where bt.blog_id=b.id and bt.tag_id=t.id and bt.tag_id=? order by b.id desc limit ?,?
2022-04-06 11:11:30.559 DEBUG 12684 --- [http-nio-8086-exec-5] c.k.m.BlogMapper.getBlogListByTagId      : ==> Parameters: 9(Integer), 0(Integer), 5(Integer)
2022-04-06 11:11:30.566 DEBUG 12684 --- [http-nio-8086-exec-5] c.k.m.BlogMapper.getBlogListByTagId      : <==      Total: 5
2022-04-06 11:11:30.566 DEBUG 12684 --- [http-nio-8086-exec-5] com.kwok.mapper.TypeMapper.getTypeById   : ==>  Preparing: select * from type where id = ?
2022-04-06 11:11:30.566 DEBUG 12684 --- [http-nio-8086-exec-5] com.kwok.mapper.TypeMapper.getTypeById   : ==> Parameters: 3(Integer)
2022-04-06 11:11:30.567 DEBUG 12684 --- [http-nio-8086-exec-5] com.kwok.mapper.TypeMapper.getTypeById   : <==      Total: 1
2022-04-06 11:11:30.567 DEBUG 12684 --- [http-nio-8086-exec-5] c.kwok.mapper.TagMapper.getTagsByBlogId  : ==>  Preparing: select t.* from tag t,blog_tag bt where t.id=bt.tag_id and bt.blog_id=?
2022-04-06 11:11:30.567 DEBUG 12684 --- [http-nio-8086-exec-5] c.kwok.mapper.TagMapper.getTagsByBlogId  : ==> Parameters: 8(Integer)
2022-04-06 11:11:30.568 DEBUG 12684 --- [http-nio-8086-exec-5] c.kwok.mapper.TagMapper.getTagsByBlogId  : <==      Total: 3
2022-04-06 11:11:30.568 DEBUG 12684 --- [http-nio-8086-exec-5] com.kwok.mapper.TypeMapper.getTypeById   : ==>  Preparing: select * from type where id = ?
2022-04-06 11:11:30.568 DEBUG 12684 --- [http-nio-8086-exec-5] com.kwok.mapper.TypeMapper.getTypeById   : ==> Parameters: 3(Integer)
2022-04-06 11:11:30.568 DEBUG 12684 --- [http-nio-8086-exec-5] com.kwok.mapper.TypeMapper.getTypeById   : <==      Total: 1
2022-04-06 11:11:30.569 DEBUG 12684 --- [http-nio-8086-exec-5] c.kwok.mapper.TagMapper.getTagsByBlogId  : ==>  Preparing: select t.* from tag t,blog_tag bt where t.id=bt.tag_id and bt.blog_id=?
2022-04-06 11:11:30.569 DEBUG 12684 --- [http-nio-8086-exec-5] c.kwok.mapper.TagMapper.getTagsByBlogId  : ==> Parameters: 7(Integer)
2022-04-06 11:11:30.570 DEBUG 12684 --- [http-nio-8086-exec-5] c.kwok.mapper.TagMapper.getTagsByBlogId  : <==      Total: 3
2022-04-06 11:11:30.570 DEBUG 12684 --- [http-nio-8086-exec-5] com.kwok.mapper.TypeMapper.getTypeById   : ==>  Preparing: select * from type where id = ?
2022-04-06 11:11:30.570 DEBUG 12684 --- [http-nio-8086-exec-5] com.kwok.mapper.TypeMapper.getTypeById   : ==> Parameters: 3(Integer)
2022-04-06 11:11:30.570 DEBUG 12684 --- [http-nio-8086-exec-5] com.kwok.mapper.TypeMapper.getTypeById   : <==      Total: 1
2022-04-06 11:11:30.571 DEBUG 12684 --- [http-nio-8086-exec-5] c.kwok.mapper.TagMapper.getTagsByBlogId  : ==>  Preparing: select t.* from tag t,blog_tag bt where t.id=bt.tag_id and bt.blog_id=?
2022-04-06 11:11:30.571 DEBUG 12684 --- [http-nio-8086-exec-5] c.kwok.mapper.TagMapper.getTagsByBlogId  : ==> Parameters: 6(Integer)
2022-04-06 11:11:30.571 DEBUG 12684 --- [http-nio-8086-exec-5] c.kwok.mapper.TagMapper.getTagsByBlogId  : <==      Total: 3
2022-04-06 11:11:30.571 DEBUG 12684 --- [http-nio-8086-exec-5] com.kwok.mapper.TypeMapper.getTypeById   : ==>  Preparing: select * from type where id = ?
2022-04-06 11:11:30.571 DEBUG 12684 --- [http-nio-8086-exec-5] com.kwok.mapper.TypeMapper.getTypeById   : ==> Parameters: 3(Integer)
2022-04-06 11:11:30.572 DEBUG 12684 --- [http-nio-8086-exec-5] com.kwok.mapper.TypeMapper.getTypeById   : <==      Total: 1
2022-04-06 11:11:30.572 DEBUG 12684 --- [http-nio-8086-exec-5] c.kwok.mapper.TagMapper.getTagsByBlogId  : ==>  Preparing: select t.* from tag t,blog_tag bt where t.id=bt.tag_id and bt.blog_id=?
2022-04-06 11:11:30.572 DEBUG 12684 --- [http-nio-8086-exec-5] c.kwok.mapper.TagMapper.getTagsByBlogId  : ==> Parameters: 5(Integer)
2022-04-06 11:11:30.573 DEBUG 12684 --- [http-nio-8086-exec-5] c.kwok.mapper.TagMapper.getTagsByBlogId  : <==      Total: 3
2022-04-06 11:11:30.573 DEBUG 12684 --- [http-nio-8086-exec-5] com.kwok.mapper.TypeMapper.getTypeById   : ==>  Preparing: select * from type where id = ?
2022-04-06 11:11:30.573 DEBUG 12684 --- [http-nio-8086-exec-5] com.kwok.mapper.TypeMapper.getTypeById   : ==> Parameters: 3(Integer)
2022-04-06 11:11:30.574 DEBUG 12684 --- [http-nio-8086-exec-5] com.kwok.mapper.TypeMapper.getTypeById   : <==      Total: 1
2022-04-06 11:11:30.574 DEBUG 12684 --- [http-nio-8086-exec-5] c.kwok.mapper.TagMapper.getTagsByBlogId  : ==>  Preparing: select t.* from tag t,blog_tag bt where t.id=bt.tag_id and bt.blog_id=?
2022-04-06 11:11:30.574 DEBUG 12684 --- [http-nio-8086-exec-5] c.kwok.mapper.TagMapper.getTagsByBlogId  : ==> Parameters: 4(Integer)
2022-04-06 11:11:30.575 DEBUG 12684 --- [http-nio-8086-exec-5] c.kwok.mapper.TagMapper.getTagsByBlogId  : <==      Total: 3
2022-04-06 11:11:30.575 DEBUG 12684 --- [http-nio-8086-exec-5] c.k.m.BlogMapper.getPreBlogsByTagId      : ==>  Preparing: select b.* from blog b,blog_tag bt where b.id = bt.blog_id and bt.tag_id=? and b.id > ?
2022-04-06 11:11:30.575 DEBUG 12684 --- [http-nio-8086-exec-5] c.k.m.BlogMapper.getPreBlogsByTagId      : ==> Parameters: 9(Integer), 8(Integer)
2022-04-06 11:11:30.575 DEBUG 12684 --- [http-nio-8086-exec-5] c.k.m.BlogMapper.getPreBlogsByTagId      : <==      Total: 0
2022-04-06 11:11:30.576 DEBUG 12684 --- [http-nio-8086-exec-5] c.k.m.BlogMapper.getNextBlogsByTagId     : ==>  Preparing: select b.* from blog b,blog_tag bt where b.id = bt.blog_id and bt.tag_id=? and ? > b.id
2022-04-06 11:11:30.576 DEBUG 12684 --- [http-nio-8086-exec-5] c.k.m.BlogMapper.getNextBlogsByTagId     : ==> Parameters: 9(Integer), 4(Integer)
2022-04-06 11:11:30.578 DEBUG 12684 --- [http-nio-8086-exec-5] c.k.m.BlogMapper.getNextBlogsByTagId     : <==      Total: 2
2022-04-06 11:11:30.579  INFO 12684 --- [http-nio-8086-exec-5] com.kwok.aspect.LogAspect                : Result : tags
2022-04-06 11:11:36.769  INFO 12684 --- [http-nio-8086-exec-1] com.kwok.aspect.LogAspect                : Request : {url='http://localhost:8086/index', ip='0:0:0:0:0:0:0:1', classMethod='com.kwok.controller.IndexController.index', args=[org.apache.catalina.connector.RequestFacade@6d43fb79, org.apache.catalina.connector.ResponseFacade@638418a1, {}]}
2022-04-06 11:11:36.770 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.BlogMapper.getBlogCount  : ==>  Preparing: select count(1) as count from blog
2022-04-06 11:11:36.770 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.BlogMapper.getBlogCount  : ==> Parameters: 
2022-04-06 11:11:36.771 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.BlogMapper.getBlogCount  : <==      Total: 1
2022-04-06 11:11:36.771 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.BlogMapper.getBlogList   : ==>  Preparing: select b.*,t.name as typeName from blog b,type t where b.type_id=t.id order by b.id desc limit ?,?
2022-04-06 11:11:36.771 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.BlogMapper.getBlogList   : ==> Parameters: 0(Integer), 5(Integer)
2022-04-06 11:11:36.774 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.BlogMapper.getBlogList   : <==      Total: 5
2022-04-06 11:11:36.774 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.BlogMapper.getBlogById   : ==>  Preparing: select * from blog where id = ?
2022-04-06 11:11:36.774 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.BlogMapper.getBlogById   : ==> Parameters: 93(Integer)
2022-04-06 11:11:36.775 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.BlogMapper.getBlogById   : <==      Total: 0
2022-04-06 11:11:36.775 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.BlogMapper.getBlogById   : ==>  Preparing: select * from blog where id = ?
2022-04-06 11:11:36.775 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.BlogMapper.getBlogById   : ==> Parameters: 87(Integer)
2022-04-06 11:11:36.776 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.BlogMapper.getBlogById   : <==      Total: 1
2022-04-06 11:11:36.776 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.TagMapper.listTopTag     : ==>  Preparing: select tag.id,tag.name,tn.num from tag,(select tag_id,count(*) as num from blog_tag group by tag_id order by num desc) as tn where tag.id = tn.tag_id
2022-04-06 11:11:36.776 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.TagMapper.listTopTag     : ==> Parameters: 
2022-04-06 11:11:36.777 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.TagMapper.listTopTag     : <==      Total: 13
2022-04-06 11:11:36.777 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.TypeMapper.listTopType   : ==>  Preparing: select type.id,type.name,tn.num from type,(select type_id,count(*) as num from blog group by type_id order by num desc) as tn where type.id = tn.type_id
2022-04-06 11:11:36.777 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.TypeMapper.listTopType   : ==> Parameters: 
2022-04-06 11:11:36.778 DEBUG 12684 --- [http-nio-8086-exec-1] com.kwok.mapper.TypeMapper.listTopType   : <==      Total: 6
2022-04-06 11:11:36.778 DEBUG 12684 --- [http-nio-8086-exec-1] c.k.m.BlogMapper.listTopRecommendBlog    : ==>  Preparing: select * from blog where recommend = 1 order by update_time desc
2022-04-06 11:11:36.778 DEBUG 12684 --- [http-nio-8086-exec-1] c.k.m.BlogMapper.listTopRecommendBlog    : ==> Parameters: 
2022-04-06 11:11:36.781 DEBUG 12684 --- [http-nio-8086-exec-1] c.k.m.BlogMapper.listTopRecommendBlog    : <==      Total: 2
2022-04-06 11:11:36.781  INFO 12684 --- [http-nio-8086-exec-1] com.kwok.aspect.LogAspect                : Result : index
2022-04-06 11:11:51.154  INFO 12684 --- [http-nio-8086-exec-4] com.kwok.aspect.LogAspect                : Request : {url='http://localhost:8086/types/-1', ip='0:0:0:0:0:0:0:1', classMethod='com.kwok.controller.TypeShowController.types', args=[-1, org.apache.catalina.connector.RequestFacade@6d43fb79, {}]}
2022-04-06 11:11:51.155 DEBUG 12684 --- [http-nio-8086-exec-4] com.kwok.mapper.TypeMapper.listType      : ==>  Preparing: select * from type order by id desc
2022-04-06 11:11:51.155 DEBUG 12684 --- [http-nio-8086-exec-4] com.kwok.mapper.TypeMapper.listType      : ==> Parameters: 
2022-04-06 11:11:51.155 DEBUG 12684 --- [http-nio-8086-exec-4] com.kwok.mapper.TypeMapper.listType      : <==      Total: 7
2022-04-06 11:11:51.155 DEBUG 12684 --- [http-nio-8086-exec-4] c.k.m.BlogMapper.getBlogCountByTypeId    : ==>  Preparing: select count(1) as count from blog where type_id = ?
2022-04-06 11:11:51.156 DEBUG 12684 --- [http-nio-8086-exec-4] c.k.m.BlogMapper.getBlogCountByTypeId    : ==> Parameters: 7(Integer)
2022-04-06 11:11:51.156 DEBUG 12684 --- [http-nio-8086-exec-4] c.k.m.BlogMapper.getBlogCountByTypeId    : <==      Total: 1
2022-04-06 11:11:51.156 DEBUG 12684 --- [http-nio-8086-exec-4] c.k.m.BlogMapper.getBlogCountByTypeId    : ==>  Preparing: select count(1) as count from blog where type_id = ?
2022-04-06 11:11:51.156 DEBUG 12684 --- [http-nio-8086-exec-4] c.k.m.BlogMapper.getBlogCountByTypeId    : ==> Parameters: 6(Integer)
2022-04-06 11:11:51.157 DEBUG 12684 --- [http-nio-8086-exec-4] c.k.m.BlogMapper.getBlogCountByTypeId    : <==      Total: 1
2022-04-06 11:11:51.157 DEBUG 12684 --- [http-nio-8086-exec-4] c.k.m.BlogMapper.getBlogCountByTypeId    : ==>  Preparing: select count(1) as count from blog where type_id = ?
2022-04-06 11:11:51.157 DEBUG 12684 --- [http-nio-8086-exec-4] c.k.m.BlogMapper.getBlogCountByTypeId    : ==> Parameters: 5(Integer)
2022-04-06 11:11:51.157 DEBUG 12684 --- [http-nio-8086-exec-4] c.k.m.BlogMapper.getBlogCountByTypeId    : <==      Total: 1
2022-04-06 11:11:51.157 DEBUG 12684 --- [http-nio-8086-exec-4] c.k.m.BlogMapper.getBlogCountByTypeId    : ==>  Preparing: select count(1) as count from blog where type_id = ?
2022-04-06 11:11:51.157 DEBUG 12684 --- [http-nio-8086-exec-4] c.k.m.BlogMapper.getBlogCountByTypeId    : ==> Parameters: 4(Integer)
2022-04-06 11:11:51.157 DEBUG 12684 --- [http-nio-8086-exec-4] c.k.m.BlogMapper.getBlogCountByTypeId    : <==      Total: 1
2022-04-06 11:11:51.158 DEBUG 12684 --- [http-nio-8086-exec-4] c.k.m.BlogMapper.getBlogCountByTypeId    : ==>  Preparing: select count(1) as count from blog where type_id = ?
2022-04-06 11:11:51.158 DEBUG 12684 --- [http-nio-8086-exec-4] c.k.m.BlogMapper.getBlogCountByTypeId    : ==> Parameters: 3(Integer)
2022-04-06 11:11:51.158 DEBUG 12684 --- [http-nio-8086-exec-4] c.k.m.BlogMapper.getBlogCountByTypeId    : <==      Total: 1
2022-04-06 11:11:51.158 DEBUG 12684 --- [http-nio-8086-exec-4] c.k.m.BlogMapper.getBlogCountByTypeId    : ==>  Preparing: select count(1) as count from blog where type_id = ?
2022-04-06 11:11:51.158 DEBUG 12684 --- [http-nio-8086-exec-4] c.k.m.BlogMapper.getBlogCountByTypeId    : ==> Parameters: 2(Integer)
2022-04-06 11:11:51.158 DEBUG 12684 --- [http-nio-8086-exec-4] c.k.m.BlogMapper.getBlogCountByTypeId    : <==      Total: 1
2022-04-06 11:11:51.158 DEBUG 12684 --- [http-nio-8086-exec-4] c.k.m.BlogMapper.getBlogCountByTypeId    : ==>  Preparing: select count(1) as count from blog where type_id = ?
2022-04-06 11:11:51.158 DEBUG 12684 --- [http-nio-8086-exec-4] c.k.m.BlogMapper.getBlogCountByTypeId    : ==> Parameters: 1(Integer)
2022-04-06 11:11:51.159 DEBUG 12684 --- [http-nio-8086-exec-4] c.k.m.BlogMapper.getBlogCountByTypeId    : <==      Total: 1
2022-04-06 11:11:51.159 DEBUG 12684 --- [http-nio-8086-exec-4] c.k.m.BlogMapper.getBlogCountByTypeId    : ==>  Preparing: select count(1) as count from blog where type_id = ?
2022-04-06 11:11:51.159 DEBUG 12684 --- [http-nio-8086-exec-4] c.k.m.BlogMapper.getBlogCountByTypeId    : ==> Parameters: 7(Integer)
2022-04-06 11:11:51.159 DEBUG 12684 --- [http-nio-8086-exec-4] c.k.m.BlogMapper.getBlogCountByTypeId    : <==      Total: 1
2022-04-06 11:11:51.159 DEBUG 12684 --- [http-nio-8086-exec-4] c.k.m.BlogMapper.getBlogListByTypeId     : ==>  Preparing: select b.*,t.name as typeName from blog b,type t where b.type_id=t.id and b.type_id=? order by b.id desc limit ?,?
2022-04-06 11:11:51.159 DEBUG 12684 --- [http-nio-8086-exec-4] c.k.m.BlogMapper.getBlogListByTypeId     : ==> Parameters: 7(Integer), 0(Integer), 5(Integer)
2022-04-06 11:11:51.162 DEBUG 12684 --- [http-nio-8086-exec-4] c.k.m.BlogMapper.getBlogListByTypeId     : <==      Total: 5
2022-04-06 11:11:51.162 DEBUG 12684 --- [http-nio-8086-exec-4] c.k.mapper.BlogMapper.getPreBlogsById    : ==>  Preparing: select * from blog where type_id=? and id > ?
2022-04-06 11:11:51.162 DEBUG 12684 --- [http-nio-8086-exec-4] c.k.mapper.BlogMapper.getPreBlogsById    : ==> Parameters: 7(Integer), 89(Integer)
2022-04-06 11:11:51.163 DEBUG 12684 --- [http-nio-8086-exec-4] c.k.mapper.BlogMapper.getPreBlogsById    : <==      Total: 0
2022-04-06 11:11:51.163 DEBUG 12684 --- [http-nio-8086-exec-4] c.k.mapper.BlogMapper.getNextBlogsById   : ==>  Preparing: select * from blog where type_id=? and ? > id
2022-04-06 11:11:51.163 DEBUG 12684 --- [http-nio-8086-exec-4] c.k.mapper.BlogMapper.getNextBlogsById   : ==> Parameters: 7(Integer), 85(Integer)
2022-04-06 11:11:51.165 DEBUG 12684 --- [http-nio-8086-exec-4] c.k.mapper.BlogMapper.getNextBlogsById   : <==      Total: 2
2022-04-06 11:11:51.165  INFO 12684 --- [http-nio-8086-exec-4] com.kwok.aspect.LogAspect                : Result : types
2022-04-06 11:11:52.835  INFO 12684 --- [http-nio-8086-exec-6] com.kwok.aspect.LogAspect                : Request : {url='http://localhost:8086/index', ip='0:0:0:0:0:0:0:1', classMethod='com.kwok.controller.IndexController.index', args=[org.apache.catalina.connector.RequestFacade@7b4c3c2a, org.apache.catalina.connector.ResponseFacade@4167aeee, {}]}
2022-04-06 11:11:52.836 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.BlogMapper.getBlogCount  : ==>  Preparing: select count(1) as count from blog
2022-04-06 11:11:52.836 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.BlogMapper.getBlogCount  : ==> Parameters: 
2022-04-06 11:11:52.837 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.BlogMapper.getBlogCount  : <==      Total: 1
2022-04-06 11:11:52.837 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.BlogMapper.getBlogList   : ==>  Preparing: select b.*,t.name as typeName from blog b,type t where b.type_id=t.id order by b.id desc limit ?,?
2022-04-06 11:11:52.838 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.BlogMapper.getBlogList   : ==> Parameters: 0(Integer), 5(Integer)
2022-04-06 11:11:52.840 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.BlogMapper.getBlogList   : <==      Total: 5
2022-04-06 11:11:52.840 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.BlogMapper.getBlogById   : ==>  Preparing: select * from blog where id = ?
2022-04-06 11:11:52.840 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.BlogMapper.getBlogById   : ==> Parameters: 93(Integer)
2022-04-06 11:11:52.841 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.BlogMapper.getBlogById   : <==      Total: 0
2022-04-06 11:11:52.841 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.BlogMapper.getBlogById   : ==>  Preparing: select * from blog where id = ?
2022-04-06 11:11:52.841 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.BlogMapper.getBlogById   : ==> Parameters: 87(Integer)
2022-04-06 11:11:52.842 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.BlogMapper.getBlogById   : <==      Total: 1
2022-04-06 11:11:52.842 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.TagMapper.listTopTag     : ==>  Preparing: select tag.id,tag.name,tn.num from tag,(select tag_id,count(*) as num from blog_tag group by tag_id order by num desc) as tn where tag.id = tn.tag_id
2022-04-06 11:11:52.842 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.TagMapper.listTopTag     : ==> Parameters: 
2022-04-06 11:11:52.843 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.TagMapper.listTopTag     : <==      Total: 13
2022-04-06 11:11:52.843 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.TypeMapper.listTopType   : ==>  Preparing: select type.id,type.name,tn.num from type,(select type_id,count(*) as num from blog group by type_id order by num desc) as tn where type.id = tn.type_id
2022-04-06 11:11:52.843 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.TypeMapper.listTopType   : ==> Parameters: 
2022-04-06 11:11:52.844 DEBUG 12684 --- [http-nio-8086-exec-6] com.kwok.mapper.TypeMapper.listTopType   : <==      Total: 6
2022-04-06 11:11:52.844 DEBUG 12684 --- [http-nio-8086-exec-6] c.k.m.BlogMapper.listTopRecommendBlog    : ==>  Preparing: select * from blog where recommend = 1 order by update_time desc
2022-04-06 11:11:52.844 DEBUG 12684 --- [http-nio-8086-exec-6] c.k.m.BlogMapper.listTopRecommendBlog    : ==> Parameters: 
2022-04-06 11:11:52.847 DEBUG 12684 --- [http-nio-8086-exec-6] c.k.m.BlogMapper.listTopRecommendBlog    : <==      Total: 2
2022-04-06 11:11:52.847  INFO 12684 --- [http-nio-8086-exec-6] com.kwok.aspect.LogAspect                : Result : index
2022-04-06 11:11:56.334  INFO 12684 --- [http-nio-8086-exec-4] com.kwok.aspect.LogAspect                : Request : {url='http://localhost:8086/index', ip='0:0:0:0:0:0:0:1', classMethod='com.kwok.controller.IndexController.index', args=[org.apache.catalina.connector.RequestFacade@7b4c3c2a, org.apache.catalina.connector.ResponseFacade@4167aeee, {}]}
2022-04-06 11:11:56.334 DEBUG 12684 --- [http-nio-8086-exec-4] com.kwok.mapper.BlogMapper.getBlogCount  : ==>  Preparing: select count(1) as count from blog
2022-04-06 11:11:56.334 DEBUG 12684 --- [http-nio-8086-exec-4] com.kwok.mapper.BlogMapper.getBlogCount  : ==> Parameters: 
2022-04-06 11:11:56.336 DEBUG 12684 --- [http-nio-8086-exec-4] com.kwok.mapper.BlogMapper.getBlogCount  : <==      Total: 1
2022-04-06 11:11:56.336 DEBUG 12684 --- [http-nio-8086-exec-4] com.kwok.mapper.BlogMapper.getBlogList   : ==>  Preparing: select b.*,t.name as typeName from blog b,type t where b.type_id=t.id order by b.id desc limit ?,?
2022-04-06 11:11:56.336 DEBUG 12684 --- [http-nio-8086-exec-4] com.kwok.mapper.BlogMapper.getBlogList   : ==> Parameters: 0(Integer), 5(Integer)
2022-04-06 11:11:56.338 DEBUG 12684 --- [http-nio-8086-exec-4] com.kwok.mapper.BlogMapper.getBlogList   : <==      Total: 5
2022-04-06 11:11:56.338 DEBUG 12684 --- [http-nio-8086-exec-4] com.kwok.mapper.BlogMapper.getBlogById   : ==>  Preparing: select * from blog where id = ?
2022-04-06 11:11:56.338 DEBUG 12684 --- [http-nio-8086-exec-4] com.kwok.mapper.BlogMapper.getBlogById   : ==> Parameters: 93(Integer)
2022-04-06 11:11:56.339 DEBUG 12684 --- [http-nio-8086-exec-4] com.kwok.mapper.BlogMapper.getBlogById   : <==      Total: 0
2022-04-06 11:11:56.339 DEBUG 12684 --- [http-nio-8086-exec-4] com.kwok.mapper.BlogMapper.getBlogById   : ==>  Preparing: select * from blog where id = ?
2022-04-06 11:11:56.339 DEBUG 12684 --- [http-nio-8086-exec-4] com.kwok.mapper.BlogMapper.getBlogById   : ==> Parameters: 87(Integer)
2022-04-06 11:11:56.340 DEBUG 12684 --- [http-nio-8086-exec-4] com.kwok.mapper.BlogMapper.getBlogById   : <==      Total: 1
2022-04-06 11:11:56.340 DEBUG 12684 --- [http-nio-8086-exec-4] com.kwok.mapper.TagMapper.listTopTag     : ==>  Preparing: select tag.id,tag.name,tn.num from tag,(select tag_id,count(*) as num from blog_tag group by tag_id order by num desc) as tn where tag.id = tn.tag_id
2022-04-06 11:11:56.340 DEBUG 12684 --- [http-nio-8086-exec-4] com.kwok.mapper.TagMapper.listTopTag     : ==> Parameters: 
2022-04-06 11:11:56.340 DEBUG 12684 --- [http-nio-8086-exec-4] com.kwok.mapper.TagMapper.listTopTag     : <==      Total: 13
2022-04-06 11:11:56.340 DEBUG 12684 --- [http-nio-8086-exec-4] com.kwok.mapper.TypeMapper.listTopType   : ==>  Preparing: select type.id,type.name,tn.num from type,(select type_id,count(*) as num from blog group by type_id order by num desc) as tn where type.id = tn.type_id
2022-04-06 11:11:56.340 DEBUG 12684 --- [http-nio-8086-exec-4] com.kwok.mapper.TypeMapper.listTopType   : ==> Parameters: 
2022-04-06 11:11:56.341 DEBUG 12684 --- [http-nio-8086-exec-4] com.kwok.mapper.TypeMapper.listTopType   : <==      Total: 6
2022-04-06 11:11:56.341 DEBUG 12684 --- [http-nio-8086-exec-4] c.k.m.BlogMapper.listTopRecommendBlog    : ==>  Preparing: select * from blog where recommend = 1 order by update_time desc
2022-04-06 11:11:56.341 DEBUG 12684 --- [http-nio-8086-exec-4] c.k.m.BlogMapper.listTopRecommendBlog    : ==> Parameters: 
2022-04-06 11:11:56.343 DEBUG 12684 --- [http-nio-8086-exec-4] c.k.m.BlogMapper.listTopRecommendBlog    : <==      Total: 2
2022-04-06 11:11:56.344  INFO 12684 --- [http-nio-8086-exec-4] com.kwok.aspect.LogAspect                : Result : index
2022-04-06 11:19:28.042  INFO 3480 --- [restartedMain] com.kwok.MyblogApplication               : Starting MyblogApplication using Java 11.0.6 on LAPTOP-RAL81HPH with PID 3480 (E:\a-IdeaProjects\JavaWebProjects\myblog\target\classes started by Mr Kwok in E:\a-IdeaProjects\JavaWebProjects\myblog)
2022-04-06 11:19:28.043 DEBUG 3480 --- [restartedMain] com.kwok.MyblogApplication               : Running with Spring Boot v2.6.1, Spring v5.3.13
2022-04-06 11:19:28.043  INFO 3480 --- [restartedMain] com.kwok.MyblogApplication               : The following profiles are active: dev
2022-04-06 11:19:28.075  INFO 3480 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2022-04-06 11:19:28.075  INFO 3480 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2022-04-06 11:19:28.562  INFO 3480 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-04-06 11:19:28.575  INFO 3480 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 7 ms. Found 0 JPA repository interfaces.
2022-04-06 11:19:29.097  INFO 3480 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8086 (http)
2022-04-06 11:19:29.104  INFO 3480 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2022-04-06 11:19:29.104  INFO 3480 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.55]
2022-04-06 11:19:29.164  INFO 3480 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2022-04-06 11:19:29.164  INFO 3480 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1089 ms
2022-04-06 11:19:29.284  INFO 3480 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2022-04-06 11:19:29.495  INFO 3480 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2022-04-06 11:19:29.526  INFO 3480 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2022-04-06 11:19:29.555  INFO 3480 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.1.Final
2022-04-06 11:19:29.638  INFO 3480 --- [restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-04-06 11:19:29.705  INFO 3480 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2022-04-06 11:19:29.797  INFO 3480 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-04-06 11:19:29.803  INFO 3480 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-04-06 11:19:30.105  WARN 3480 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-04-06 11:19:30.348  INFO 3480 --- [restartedMain] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page template: index
2022-04-06 11:19:30.608  INFO 3480 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2022-04-06 11:19:30.640  INFO 3480 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-04-06 11:19:30.640  INFO 3480 --- [restartedMain] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2022-04-06 11:19:30.641  INFO 3480 --- [restartedMain] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2022-04-06 11:19:30.641  INFO 3480 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8086 (http) with context path ''
2022-04-06 11:19:30.650  INFO 3480 --- [restartedMain] com.kwok.MyblogApplication               : Started MyblogApplication in 2.953 seconds (JVM running for 3.879)
2022-04-06 11:19:44.031  INFO 3480 --- [http-nio-8086-exec-1] com.kwok.aspect.LogAspect                : Request : {url='http://localhost:8086/index', ip='0:0:0:0:0:0:0:1', classMethod='com.kwok.controller.IndexController.index', args=[org.apache.catalina.connector.RequestFacade@5e7b28ba, org.apache.catalina.connector.ResponseFacade@401d462b, {}]}
2022-04-06 11:19:44.059 DEBUG 3480 --- [http-nio-8086-exec-1] com.kwok.mapper.BlogMapper.getBlogCount  : ==>  Preparing: select count(1) as count from blog
2022-04-06 11:19:44.077 DEBUG 3480 --- [http-nio-8086-exec-1] com.kwok.mapper.BlogMapper.getBlogCount  : ==> Parameters: 
2022-04-06 11:19:44.093 DEBUG 3480 --- [http-nio-8086-exec-1] com.kwok.mapper.BlogMapper.getBlogCount  : <==      Total: 1
2022-04-06 11:19:44.095 DEBUG 3480 --- [http-nio-8086-exec-1] com.kwok.mapper.BlogMapper.getBlogList   : ==>  Preparing: select b.*,t.name as typeName from blog b,type t where b.type_id=t.id order by b.id desc limit ?,?
2022-04-06 11:19:44.096 DEBUG 3480 --- [http-nio-8086-exec-1] com.kwok.mapper.BlogMapper.getBlogList   : ==> Parameters: 0(Integer), 5(Integer)
2022-04-06 11:19:44.105 DEBUG 3480 --- [http-nio-8086-exec-1] com.kwok.mapper.BlogMapper.getBlogList   : <==      Total: 5
2022-04-06 11:19:44.106 DEBUG 3480 --- [http-nio-8086-exec-1] com.kwok.mapper.BlogMapper.getBlogById   : ==>  Preparing: select * from blog where id = ?
2022-04-06 11:19:44.106 DEBUG 3480 --- [http-nio-8086-exec-1] com.kwok.mapper.BlogMapper.getBlogById   : ==> Parameters: 93(Integer)
2022-04-06 11:19:44.107 DEBUG 3480 --- [http-nio-8086-exec-1] com.kwok.mapper.BlogMapper.getBlogById   : <==      Total: 0
2022-04-06 11:19:44.108 DEBUG 3480 --- [http-nio-8086-exec-1] com.kwok.mapper.BlogMapper.getBlogById   : ==>  Preparing: select * from blog where id = ?
2022-04-06 11:19:44.108 DEBUG 3480 --- [http-nio-8086-exec-1] com.kwok.mapper.BlogMapper.getBlogById   : ==> Parameters: 87(Integer)
2022-04-06 11:19:44.110 DEBUG 3480 --- [http-nio-8086-exec-1] com.kwok.mapper.BlogMapper.getBlogById   : <==      Total: 1
2022-04-06 11:19:44.113 DEBUG 3480 --- [http-nio-8086-exec-1] com.kwok.mapper.TagMapper.listTopTag     : ==>  Preparing: select tag.id,tag.name,tn.num from tag,(select tag_id,count(*) as num from blog_tag group by tag_id order by num desc) as tn where tag.id = tn.tag_id
2022-04-06 11:19:44.114 DEBUG 3480 --- [http-nio-8086-exec-1] com.kwok.mapper.TagMapper.listTopTag     : ==> Parameters: 
2022-04-06 11:19:44.116 DEBUG 3480 --- [http-nio-8086-exec-1] com.kwok.mapper.TagMapper.listTopTag     : <==      Total: 13
2022-04-06 11:19:44.120 DEBUG 3480 --- [http-nio-8086-exec-1] com.kwok.mapper.TypeMapper.listTopType   : ==>  Preparing: select type.id,type.name,tn.num from type,(select type_id,count(*) as num from blog group by type_id order by num desc) as tn where type.id = tn.type_id
2022-04-06 11:19:44.120 DEBUG 3480 --- [http-nio-8086-exec-1] com.kwok.mapper.TypeMapper.listTopType   : ==> Parameters: 
2022-04-06 11:19:44.122 DEBUG 3480 --- [http-nio-8086-exec-1] com.kwok.mapper.TypeMapper.listTopType   : <==      Total: 6
2022-04-06 11:19:44.122 DEBUG 3480 --- [http-nio-8086-exec-1] c.k.m.BlogMapper.listTopRecommendBlog    : ==>  Preparing: select * from blog where recommend = 1 order by update_time desc
2022-04-06 11:19:44.123 DEBUG 3480 --- [http-nio-8086-exec-1] c.k.m.BlogMapper.listTopRecommendBlog    : ==> Parameters: 
2022-04-06 11:19:44.129 DEBUG 3480 --- [http-nio-8086-exec-1] c.k.m.BlogMapper.listTopRecommendBlog    : <==      Total: 2
2022-04-06 11:19:44.129  INFO 3480 --- [http-nio-8086-exec-1] com.kwok.aspect.LogAspect                : Result : index
2022-04-06 11:19:46.678  INFO 3480 --- [http-nio-8086-exec-10] com.kwok.aspect.LogAspect                : Request : {url='http://localhost:8086/index', ip='0:0:0:0:0:0:0:1', classMethod='com.kwok.controller.IndexController.index', args=[org.apache.catalina.connector.RequestFacade@4828a8cb, org.apache.catalina.connector.ResponseFacade@4c173516, {}]}
2022-04-06 11:19:46.679 DEBUG 3480 --- [http-nio-8086-exec-10] com.kwok.mapper.BlogMapper.getBlogCount  : ==>  Preparing: select count(1) as count from blog
2022-04-06 11:19:46.679 DEBUG 3480 --- [http-nio-8086-exec-10] com.kwok.mapper.BlogMapper.getBlogCount  : ==> Parameters: 
2022-04-06 11:19:46.681 DEBUG 3480 --- [http-nio-8086-exec-10] com.kwok.mapper.BlogMapper.getBlogCount  : <==      Total: 1
2022-04-06 11:19:46.681 DEBUG 3480 --- [http-nio-8086-exec-10] com.kwok.mapper.BlogMapper.getBlogList   : ==>  Preparing: select b.*,t.name as typeName from blog b,type t where b.type_id=t.id order by b.id desc limit ?,?
2022-04-06 11:19:46.682 DEBUG 3480 --- [http-nio-8086-exec-10] com.kwok.mapper.BlogMapper.getBlogList   : ==> Parameters: 0(Integer), 5(Integer)
2022-04-06 11:19:46.685 DEBUG 3480 --- [http-nio-8086-exec-10] com.kwok.mapper.BlogMapper.getBlogList   : <==      Total: 5
2022-04-06 11:19:46.686 DEBUG 3480 --- [http-nio-8086-exec-10] com.kwok.mapper.BlogMapper.getBlogById   : ==>  Preparing: select * from blog where id = ?
2022-04-06 11:19:46.686 DEBUG 3480 --- [http-nio-8086-exec-10] com.kwok.mapper.BlogMapper.getBlogById   : ==> Parameters: 93(Integer)
2022-04-06 11:19:46.687 DEBUG 3480 --- [http-nio-8086-exec-10] com.kwok.mapper.BlogMapper.getBlogById   : <==      Total: 0
2022-04-06 11:19:46.687 DEBUG 3480 --- [http-nio-8086-exec-10] com.kwok.mapper.BlogMapper.getBlogById   : ==>  Preparing: select * from blog where id = ?
2022-04-06 11:19:46.687 DEBUG 3480 --- [http-nio-8086-exec-10] com.kwok.mapper.BlogMapper.getBlogById   : ==> Parameters: 87(Integer)
2022-04-06 11:19:46.689 DEBUG 3480 --- [http-nio-8086-exec-10] com.kwok.mapper.BlogMapper.getBlogById   : <==      Total: 1
2022-04-06 11:19:46.689 DEBUG 3480 --- [http-nio-8086-exec-10] com.kwok.mapper.TagMapper.listTopTag     : ==>  Preparing: select tag.id,tag.name,tn.num from tag,(select tag_id,count(*) as num from blog_tag group by tag_id order by num desc) as tn where tag.id = tn.tag_id
2022-04-06 11:19:46.690 DEBUG 3480 --- [http-nio-8086-exec-10] com.kwok.mapper.TagMapper.listTopTag     : ==> Parameters: 
2022-04-06 11:19:46.692 DEBUG 3480 --- [http-nio-8086-exec-10] com.kwok.mapper.TagMapper.listTopTag     : <==      Total: 13
2022-04-06 11:19:46.692 DEBUG 3480 --- [http-nio-8086-exec-10] com.kwok.mapper.TypeMapper.listTopType   : ==>  Preparing: select type.id,type.name,tn.num from type,(select type_id,count(*) as num from blog group by type_id order by num desc) as tn where type.id = tn.type_id
2022-04-06 11:19:46.692 DEBUG 3480 --- [http-nio-8086-exec-10] com.kwok.mapper.TypeMapper.listTopType   : ==> Parameters: 
2022-04-06 11:19:46.694 DEBUG 3480 --- [http-nio-8086-exec-10] com.kwok.mapper.TypeMapper.listTopType   : <==      Total: 6
2022-04-06 11:19:46.694 DEBUG 3480 --- [http-nio-8086-exec-10] c.k.m.BlogMapper.listTopRecommendBlog    : ==>  Preparing: select * from blog where recommend = 1 order by update_time desc
2022-04-06 11:19:46.694 DEBUG 3480 --- [http-nio-8086-exec-10] c.k.m.BlogMapper.listTopRecommendBlog    : ==> Parameters: 
2022-04-06 11:19:46.699 DEBUG 3480 --- [http-nio-8086-exec-10] c.k.m.BlogMapper.listTopRecommendBlog    : <==      Total: 2
2022-04-06 11:19:46.700  INFO 3480 --- [http-nio-8086-exec-10] com.kwok.aspect.LogAspect                : Result : index
2022-04-06 11:19:49.442  INFO 3480 --- [http-nio-8086-exec-6] com.kwok.aspect.LogAspect                : Request : {url='http://localhost:8086/', ip='0:0:0:0:0:0:0:1', classMethod='com.kwok.controller.IndexController.enter', args=[{}]}
2022-04-06 11:19:49.443 DEBUG 3480 --- [http-nio-8086-exec-6] com.kwok.mapper.BlogMapper.listHotBlog   : ==>  Preparing: select * from blog order by views desc
2022-04-06 11:19:49.444 DEBUG 3480 --- [http-nio-8086-exec-6] com.kwok.mapper.BlogMapper.listHotBlog   : ==> Parameters: 
2022-04-06 11:19:49.490 DEBUG 3480 --- [http-nio-8086-exec-6] com.kwok.mapper.BlogMapper.listHotBlog   : <==      Total: 92
2022-04-06 11:19:49.490  INFO 3480 --- [http-nio-8086-exec-6] com.kwok.aspect.LogAspect                : Result : enter
2022-04-06 11:20:00.137  INFO 3480 --- [http-nio-8086-exec-2] com.kwok.aspect.LogAspect                : Request : {url='http://localhost:8086/index', ip='0:0:0:0:0:0:0:1', classMethod='com.kwok.controller.IndexController.index', args=[org.apache.catalina.connector.RequestFacade@5e7b28ba, org.apache.catalina.connector.ResponseFacade@401d462b, {}]}
2022-04-06 11:20:00.138 DEBUG 3480 --- [http-nio-8086-exec-2] com.kwok.mapper.BlogMapper.getBlogCount  : ==>  Preparing: select count(1) as count from blog
2022-04-06 11:20:00.139 DEBUG 3480 --- [http-nio-8086-exec-2] com.kwok.mapper.BlogMapper.getBlogCount  : ==> Parameters: 
2022-04-06 11:20:00.141 DEBUG 3480 --- [http-nio-8086-exec-2] com.kwok.mapper.BlogMapper.getBlogCount  : <==      Total: 1
2022-04-06 11:20:00.142 DEBUG 3480 --- [http-nio-8086-exec-2] com.kwok.mapper.BlogMapper.getBlogList   : ==>  Preparing: select b.*,t.name as typeName from blog b,type t where b.type_id=t.id order by b.id desc limit ?,?
2022-04-06 11:20:00.143 DEBUG 3480 --- [http-nio-8086-exec-2] com.kwok.mapper.BlogMapper.getBlogList   : ==> Parameters: 0(Integer), 5(Integer)
2022-04-06 11:20:00.146 DEBUG 3480 --- [http-nio-8086-exec-2] com.kwok.mapper.BlogMapper.getBlogList   : <==      Total: 5
2022-04-06 11:20:00.146 DEBUG 3480 --- [http-nio-8086-exec-2] com.kwok.mapper.BlogMapper.getBlogById   : ==>  Preparing: select * from blog where id = ?
2022-04-06 11:20:00.147 DEBUG 3480 --- [http-nio-8086-exec-2] com.kwok.mapper.BlogMapper.getBlogById   : ==> Parameters: 93(Integer)
2022-04-06 11:20:00.147 DEBUG 3480 --- [http-nio-8086-exec-2] com.kwok.mapper.BlogMapper.getBlogById   : <==      Total: 0
2022-04-06 11:20:00.148 DEBUG 3480 --- [http-nio-8086-exec-2] com.kwok.mapper.BlogMapper.getBlogById   : ==>  Preparing: select * from blog where id = ?
2022-04-06 11:20:00.148 DEBUG 3480 --- [http-nio-8086-exec-2] com.kwok.mapper.BlogMapper.getBlogById   : ==> Parameters: 87(Integer)
2022-04-06 11:20:00.149 DEBUG 3480 --- [http-nio-8086-exec-2] com.kwok.mapper.BlogMapper.getBlogById   : <==      Total: 1
2022-04-06 11:20:00.150 DEBUG 3480 --- [http-nio-8086-exec-2] com.kwok.mapper.TagMapper.listTopTag     : ==>  Preparing: select tag.id,tag.name,tn.num from tag,(select tag_id,count(*) as num from blog_tag group by tag_id order by num desc) as tn where tag.id = tn.tag_id
2022-04-06 11:20:00.150 DEBUG 3480 --- [http-nio-8086-exec-2] com.kwok.mapper.TagMapper.listTopTag     : ==> Parameters: 
2022-04-06 11:20:00.151 DEBUG 3480 --- [http-nio-8086-exec-2] com.kwok.mapper.TagMapper.listTopTag     : <==      Total: 13
2022-04-06 11:20:00.152 DEBUG 3480 --- [http-nio-8086-exec-2] com.kwok.mapper.TypeMapper.listTopType   : ==>  Preparing: select type.id,type.name,tn.num from type,(select type_id,count(*) as num from blog group by type_id order by num desc) as tn where type.id = tn.type_id
2022-04-06 11:20:00.152 DEBUG 3480 --- [http-nio-8086-exec-2] com.kwok.mapper.TypeMapper.listTopType   : ==> Parameters: 
2022-04-06 11:20:00.154 DEBUG 3480 --- [http-nio-8086-exec-2] com.kwok.mapper.TypeMapper.listTopType   : <==      Total: 6
2022-04-06 11:20:00.155 DEBUG 3480 --- [http-nio-8086-exec-2] c.k.m.BlogMapper.listTopRecommendBlog    : ==>  Preparing: select * from blog where recommend = 1 order by update_time desc
2022-04-06 11:20:00.155 DEBUG 3480 --- [http-nio-8086-exec-2] c.k.m.BlogMapper.listTopRecommendBlog    : ==> Parameters: 
2022-04-06 11:20:00.158 DEBUG 3480 --- [http-nio-8086-exec-2] c.k.m.BlogMapper.listTopRecommendBlog    : <==      Total: 2
2022-04-06 11:20:00.158  INFO 3480 --- [http-nio-8086-exec-2] com.kwok.aspect.LogAspect                : Result : index
2022-04-06 11:20:24.572  INFO 3480 --- [http-nio-8086-exec-8] com.kwok.aspect.LogAspect                : Request : {url='http://localhost:8086/blog/92', ip='0:0:0:0:0:0:0:1', classMethod='com.kwok.controller.IndexController.blog', args=[92, {}]}
2022-04-06 11:20:24.580 DEBUG 3480 --- [http-nio-8086-exec-8] com.kwok.mapper.BlogMapper.getBlogById   : ==>  Preparing: select * from blog where id = ?
2022-04-06 11:20:24.581 DEBUG 3480 --- [http-nio-8086-exec-8] com.kwok.mapper.BlogMapper.getBlogById   : ==> Parameters: 92(Integer)
2022-04-06 11:20:24.583 DEBUG 3480 --- [http-nio-8086-exec-8] com.kwok.mapper.BlogMapper.getBlogById   : <==      Total: 1
2022-04-06 11:20:24.584 DEBUG 3480 --- [http-nio-8086-exec-8] c.k.mapper.BlogMapper.updateBlogViews    : ==>  Preparing: update blog set views=? where id = ?
2022-04-06 11:20:24.585 DEBUG 3480 --- [http-nio-8086-exec-8] c.k.mapper.BlogMapper.updateBlogViews    : ==> Parameters: 2(Integer), 92(Integer)
2022-04-06 11:20:24.586 DEBUG 3480 --- [http-nio-8086-exec-8] c.k.mapper.BlogMapper.updateBlogViews    : <==    Updates: 1
2022-04-06 11:20:24.595 DEBUG 3480 --- [http-nio-8086-exec-8] com.kwok.mapper.BlogMapper.getBlogById   : ==>  Preparing: select * from blog where id = ?
2022-04-06 11:20:24.596 DEBUG 3480 --- [http-nio-8086-exec-8] com.kwok.mapper.BlogMapper.getBlogById   : ==> Parameters: 92(Integer)
2022-04-06 11:20:24.598 DEBUG 3480 --- [http-nio-8086-exec-8] com.kwok.mapper.BlogMapper.getBlogById   : <==      Total: 1
2022-04-06 11:20:24.633 DEBUG 3480 --- [http-nio-8086-exec-8] c.k.m.BlogtagMapper.getTagIdByBlogId     : ==>  Preparing: select * from blog_tag where blog_id = ?
2022-04-06 11:20:24.633 DEBUG 3480 --- [http-nio-8086-exec-8] c.k.m.BlogtagMapper.getTagIdByBlogId     : ==> Parameters: 92(Integer)
2022-04-06 11:20:24.634 DEBUG 3480 --- [http-nio-8086-exec-8] c.k.m.BlogtagMapper.getTagIdByBlogId     : <==      Total: 2
2022-04-06 11:20:24.644 DEBUG 3480 --- [http-nio-8086-exec-8] com.kwok.mapper.TagMapper.getShowTags    : ==>  Preparing: select * from tag where id in ( ? , ? )
2022-04-06 11:20:24.644 DEBUG 3480 --- [http-nio-8086-exec-8] com.kwok.mapper.TagMapper.getShowTags    : ==> Parameters: 10(Integer), 5(Integer)
2022-04-06 11:20:24.645 DEBUG 3480 --- [http-nio-8086-exec-8] com.kwok.mapper.TagMapper.getShowTags    : <==      Total: 2
2022-04-06 11:20:24.645  INFO 3480 --- [http-nio-8086-exec-8] com.kwok.aspect.LogAspect                : Result : blog
2022-04-06 11:20:25.193  INFO 3480 --- [http-nio-8086-exec-7] com.kwok.aspect.LogAspect                : Request : {url='http://localhost:8086/comments/92', ip='0:0:0:0:0:0:0:1', classMethod='com.kwok.controller.CommentController.comments', args=[92, {}]}
2022-04-06 11:20:25.197 DEBUG 3480 --- [http-nio-8086-exec-7] c.k.m.CommentMapper.listCommentByBlogId  : ==>  Preparing: select * from comment where blog_id = ? and parent_id = 0 order by creat_time asc
2022-04-06 11:20:25.197 DEBUG 3480 --- [http-nio-8086-exec-7] c.k.m.CommentMapper.listCommentByBlogId  : ==> Parameters: 92(Integer)
2022-04-06 11:20:25.198 DEBUG 3480 --- [http-nio-8086-exec-7] c.k.m.CommentMapper.listCommentByBlogId  : <==      Total: 0
2022-04-06 11:20:25.198  INFO 3480 --- [http-nio-8086-exec-7] com.kwok.aspect.LogAspect                : Result : blog :: commentList
2022-04-06 11:21:56.363  INFO 3480 --- [http-nio-8086-exec-3] com.kwok.aspect.LogAspect                : Request : {url='http://localhost:8086/types/-1', ip='0:0:0:0:0:0:0:1', classMethod='com.kwok.controller.TypeShowController.types', args=[-1, org.apache.catalina.connector.RequestFacade@5275f048, {}]}
2022-04-06 11:21:56.366 DEBUG 3480 --- [http-nio-8086-exec-3] com.kwok.mapper.TypeMapper.listType      : ==>  Preparing: select * from type order by id desc
2022-04-06 11:21:56.366 DEBUG 3480 --- [http-nio-8086-exec-3] com.kwok.mapper.TypeMapper.listType      : ==> Parameters: 
2022-04-06 11:21:56.368 DEBUG 3480 --- [http-nio-8086-exec-3] com.kwok.mapper.TypeMapper.listType      : <==      Total: 7
2022-04-06 11:21:56.369 DEBUG 3480 --- [http-nio-8086-exec-3] c.k.m.BlogMapper.getBlogCountByTypeId    : ==>  Preparing: select count(1) as count from blog where type_id = ?
2022-04-06 11:21:56.369 DEBUG 3480 --- [http-nio-8086-exec-3] c.k.m.BlogMapper.getBlogCountByTypeId    : ==> Parameters: 7(Integer)
2022-04-06 11:21:56.370 DEBUG 3480 --- [http-nio-8086-exec-3] c.k.m.BlogMapper.getBlogCountByTypeId    : <==      Total: 1
2022-04-06 11:21:56.370 DEBUG 3480 --- [http-nio-8086-exec-3] c.k.m.BlogMapper.getBlogCountByTypeId    : ==>  Preparing: select count(1) as count from blog where type_id = ?
2022-04-06 11:21:56.370 DEBUG 3480 --- [http-nio-8086-exec-3] c.k.m.BlogMapper.getBlogCountByTypeId    : ==> Parameters: 6(Integer)
2022-04-06 11:21:56.371 DEBUG 3480 --- [http-nio-8086-exec-3] c.k.m.BlogMapper.getBlogCountByTypeId    : <==      Total: 1
2022-04-06 11:21:56.372 DEBUG 3480 --- [http-nio-8086-exec-3] c.k.m.BlogMapper.getBlogCountByTypeId    : ==>  Preparing: select count(1) as count from blog where type_id = ?
2022-04-06 11:21:56.372 DEBUG 3480 --- [http-nio-8086-exec-3] c.k.m.BlogMapper.getBlogCountByTypeId    : ==> Parameters: 5(Integer)
2022-04-06 11:21:56.372 DEBUG 3480 --- [http-nio-8086-exec-3] c.k.m.BlogMapper.getBlogCountByTypeId    : <==      Total: 1
2022-04-06 11:21:56.373 DEBUG 3480 --- [http-nio-8086-exec-3] c.k.m.BlogMapper.getBlogCountByTypeId    : ==>  Preparing: select count(1) as count from blog where type_id = ?
2022-04-06 11:21:56.373 DEBUG 3480 --- [http-nio-8086-exec-3] c.k.m.BlogMapper.getBlogCountByTypeId    : ==> Parameters: 4(Integer)
2022-04-06 11:21:56.374 DEBUG 3480 --- [http-nio-8086-exec-3] c.k.m.BlogMapper.getBlogCountByTypeId    : <==      Total: 1
2022-04-06 11:21:56.374 DEBUG 3480 --- [http-nio-8086-exec-3] c.k.m.BlogMapper.getBlogCountByTypeId    : ==>  Preparing: select count(1) as count from blog where type_id = ?
2022-04-06 11:21:56.375 DEBUG 3480 --- [http-nio-8086-exec-3] c.k.m.BlogMapper.getBlogCountByTypeId    : ==> Parameters: 3(Integer)
2022-04-06 11:21:56.375 DEBUG 3480 --- [http-nio-8086-exec-3] c.k.m.BlogMapper.getBlogCountByTypeId    : <==      Total: 1
2022-04-06 11:21:56.376 DEBUG 3480 --- [http-nio-8086-exec-3] c.k.m.BlogMapper.getBlogCountByTypeId    : ==>  Preparing: select count(1) as count from blog where type_id = ?
2022-04-06 11:21:56.376 DEBUG 3480 --- [http-nio-8086-exec-3] c.k.m.BlogMapper.getBlogCountByTypeId    : ==> Parameters: 2(Integer)
2022-04-06 11:21:56.377 DEBUG 3480 --- [http-nio-8086-exec-3] c.k.m.BlogMapper.getBlogCountByTypeId    : <==      Total: 1
2022-04-06 11:21:56.377 DEBUG 3480 --- [http-nio-8086-exec-3] c.k.m.BlogMapper.getBlogCountByTypeId    : ==>  Preparing: select count(1) as count from blog where type_id = ?
2022-04-06 11:21:56.378 DEBUG 3480 --- [http-nio-8086-exec-3] c.k.m.BlogMapper.getBlogCountByTypeId    : ==> Parameters: 1(Integer)
2022-04-06 11:21:56.379 DEBUG 3480 --- [http-nio-8086-exec-3] c.k.m.BlogMapper.getBlogCountByTypeId    : <==      Total: 1
2022-04-06 11:21:56.379 DEBUG 3480 --- [http-nio-8086-exec-3] c.k.m.BlogMapper.getBlogCountByTypeId    : ==>  Preparing: select count(1) as count from blog where type_id = ?
2022-04-06 11:21:56.380 DEBUG 3480 --- [http-nio-8086-exec-3] c.k.m.BlogMapper.getBlogCountByTypeId    : ==> Parameters: 7(Integer)
2022-04-06 11:21:56.380 DEBUG 3480 --- [http-nio-8086-exec-3] c.k.m.BlogMapper.getBlogCountByTypeId    : <==      Total: 1
2022-04-06 11:21:56.381 DEBUG 3480 --- [http-nio-8086-exec-3] c.k.m.BlogMapper.getBlogListByTypeId     : ==>  Preparing: select b.*,t.name as typeName from blog b,type t where b.type_id=t.id and b.type_id=? order by b.id desc limit ?,?
2022-04-06 11:21:56.381 DEBUG 3480 --- [http-nio-8086-exec-3] c.k.m.BlogMapper.getBlogListByTypeId     : ==> Parameters: 7(Integer), 0(Integer), 5(Integer)
2022-04-06 11:21:56.385 DEBUG 3480 --- [http-nio-8086-exec-3] c.k.m.BlogMapper.getBlogListByTypeId     : <==      Total: 5
2022-04-06 11:21:56.385 DEBUG 3480 --- [http-nio-8086-exec-3] c.k.mapper.BlogMapper.getPreBlogsById    : ==>  Preparing: select * from blog where type_id=? and id > ?
2022-04-06 11:21:56.385 DEBUG 3480 --- [http-nio-8086-exec-3] c.k.mapper.BlogMapper.getPreBlogsById    : ==> Parameters: 7(Integer), 89(Integer)
2022-04-06 11:21:56.386 DEBUG 3480 --- [http-nio-8086-exec-3] c.k.mapper.BlogMapper.getPreBlogsById    : <==      Total: 0
2022-04-06 11:21:56.387 DEBUG 3480 --- [http-nio-8086-exec-3] c.k.mapper.BlogMapper.getNextBlogsById   : ==>  Preparing: select * from blog where type_id=? and ? > id
2022-04-06 11:21:56.387 DEBUG 3480 --- [http-nio-8086-exec-3] c.k.mapper.BlogMapper.getNextBlogsById   : ==> Parameters: 7(Integer), 85(Integer)
2022-04-06 11:21:56.390 DEBUG 3480 --- [http-nio-8086-exec-3] c.k.mapper.BlogMapper.getNextBlogsById   : <==      Total: 2
2022-04-06 11:21:56.390  INFO 3480 --- [http-nio-8086-exec-3] com.kwok.aspect.LogAspect                : Result : types
2022-04-06 11:21:59.932  INFO 3480 --- [http-nio-8086-exec-1] com.kwok.aspect.LogAspect                : Request : {url='http://localhost:8086/tags/-1', ip='0:0:0:0:0:0:0:1', classMethod='com.kwok.controller.TagShowController.tags', args=[-1, org.apache.catalina.connector.RequestFacade@4828a8cb, {}]}
2022-04-06 11:21:59.934 DEBUG 3480 --- [http-nio-8086-exec-1] com.kwok.mapper.TagMapper.listTag        : ==>  Preparing: select * from tag order by id desc
2022-04-06 11:21:59.935 DEBUG 3480 --- [http-nio-8086-exec-1] com.kwok.mapper.TagMapper.listTag        : ==> Parameters: 
2022-04-06 11:21:59.936 DEBUG 3480 --- [http-nio-8086-exec-1] com.kwok.mapper.TagMapper.listTag        : <==      Total: 14
2022-04-06 11:21:59.936 DEBUG 3480 --- [http-nio-8086-exec-1] com.kwok.mapper.TagMapper.tagCount       : ==>  Preparing: select count(1) as count from blog_tag where tag_id=?
2022-04-06 11:21:59.936 DEBUG 3480 --- [http-nio-8086-exec-1] com.kwok.mapper.TagMapper.tagCount       : ==> Parameters: 14(Integer)
2022-04-06 11:21:59.937 DEBUG 3480 --- [http-nio-8086-exec-1] com.kwok.mapper.TagMapper.tagCount       : <==      Total: 1
2022-04-06 11:21:59.937 DEBUG 3480 --- [http-nio-8086-exec-1] com.kwok.mapper.TagMapper.tagCount       : ==>  Preparing: select count(1) as count from blog_tag where tag_id=?
2022-04-06 11:21:59.937 DEBUG 3480 --- [http-nio-8086-exec-1] com.kwok.mapper.TagMapper.tagCount       : ==> Parameters: 13(Integer)
2022-04-06 11:21:59.938 DEBUG 3480 --- [http-nio-8086-exec-1] com.kwok.mapper.TagMapper.tagCount       : <==      Total: 1
2022-04-06 11:21:59.938 DEBUG 3480 --- [http-nio-8086-exec-1] com.kwok.mapper.TagMapper.tagCount       : ==>  Preparing: select count(1) as count from blog_tag where tag_id=?
2022-04-06 11:21:59.938 DEBUG 3480 --- [http-nio-8086-exec-1] com.kwok.mapper.TagMapper.tagCount       : ==> Parameters: 12(Integer)
2022-04-06 11:21:59.939 DEBUG 3480 --- [http-nio-8086-exec-1] com.kwok.mapper.TagMapper.tagCount       : <==      Total: 1
2022-04-06 11:21:59.939 DEBUG 3480 --- [http-nio-8086-exec-1] com.kwok.mapper.TagMapper.tagCount       : ==>  Preparing: select count(1) as count from blog_tag where tag_id=?
2022-04-06 11:21:59.940 DEBUG 3480 --- [http-nio-8086-exec-1] com.kwok.mapper.TagMapper.tagCount       : ==> Parameters: 11(Integer)
2022-04-06 11:21:59.941 DEBUG 3480 --- [http-nio-8086-exec-1] com.kwok.mapper.TagMapper.tagCount       : <==      Total: 1
2022-04-06 11:21:59.941 DEBUG 3480 --- [http-nio-8086-exec-1] com.kwok.mapper.TagMapper.tagCount       : ==>  Preparing: select count(1) as count from blog_tag where tag_id=?
2022-04-06 11:21:59.941 DEBUG 3480 --- [http-nio-8086-exec-1] com.kwok.mapper.TagMapper.tagCount       : ==> Parameters: 10(Integer)
2022-04-06 11:21:59.942 DEBUG 3480 --- [http-nio-8086-exec-1] com.kwok.mapper.TagMapper.tagCount       : <==      Total: 1
2022-04-06 11:21:59.942 DEBUG 3480 --- [http-nio-8086-exec-1] com.kwok.mapper.TagMapper.tagCount       : ==>  Preparing: select count(1) as count from blog_tag where tag_id=?
2022-04-06 11:21:59.943 DEBUG 3480 --- [http-nio-8086-exec-1] com.kwok.mapper.TagMapper.tagCount       : ==> Parameters: 9(Integer)
2022-04-06 11:21:59.943 DEBUG 3480 --- [http-nio-8086-exec-1] com.kwok.mapper.TagMapper.tagCount       : <==      Total: 1
2022-04-06 11:21:59.944 DEBUG 3480 --- [http-nio-8086-exec-1] com.kwok.mapper.TagMapper.tagCount       : ==>  Preparing: select count(1) as count from blog_tag where tag_id=?
2022-04-06 11:21:59.944 DEBUG 3480 --- [http-nio-8086-exec-1] com.kwok.mapper.TagMapper.tagCount       : ==> Parameters: 8(Integer)
2022-04-06 11:21:59.945 DEBUG 3480 --- [http-nio-8086-exec-1] com.kwok.mapper.TagMapper.tagCount       : <==      Total: 1
2022-04-06 11:21:59.946 DEBUG 3480 --- [http-nio-8086-exec-1] com.kwok.mapper.TagMapper.tagCount       : ==>  Preparing: select count(1) as count from blog_tag where tag_id=?
2022-04-06 11:21:59.946 DEBUG 3480 --- [http-nio-8086-exec-1] com.kwok.mapper.TagMapper.tagCount       : ==> Parameters: 7(Integer)
2022-04-06 11:21:59.947 DEBUG 3480 --- [http-nio-8086-exec-1] com.kwok.mapper.TagMapper.tagCount       : <==      Total: 1
2022-04-06 11:21:59.947 DEBUG 3480 --- [http-nio-8086-exec-1] com.kwok.mapper.TagMapper.tagCount       : ==>  Preparing: select count(1) as count from blog_tag where tag_id=?
2022-04-06 11:21:59.948 DEBUG 3480 --- [http-nio-8086-exec-1] com.kwok.mapper.TagMapper.tagCount       : ==> Parameters: 6(Integer)
2022-04-06 11:21:59.948 DEBUG 3480 --- [http-nio-8086-exec-1] com.kwok.mapper.TagMapper.tagCount       : <==      Total: 1
2022-04-06 11:21:59.949 DEBUG 3480 --- [http-nio-8086-exec-1] com.kwok.mapper.TagMapper.tagCount       : ==>  Preparing: select count(1) as count from blog_tag where tag_id=?
2022-04-06 11:21:59.949 DEBUG 3480 --- [http-nio-8086-exec-1] com.kwok.mapper.TagMapper.tagCount       : ==> Parameters: 5(Integer)
2022-04-06 11:21:59.950 DEBUG 3480 --- [http-nio-8086-exec-1] com.kwok.mapper.TagMapper.tagCount       : <==      Total: 1
2022-04-06 11:21:59.950 DEBUG 3480 --- [http-nio-8086-exec-1] com.kwok.mapper.TagMapper.tagCount       : ==>  Preparing: select count(1) as count from blog_tag where tag_id=?
2022-04-06 11:21:59.951 DEBUG 3480 --- [http-nio-8086-exec-1] com.kwok.mapper.TagMapper.tagCount       : ==> Parameters: 4(Integer)
2022-04-06 11:21:59.951 DEBUG 3480 --- [http-nio-8086-exec-1] com.kwok.mapper.TagMapper.tagCount       : <==      Total: 1
2022-04-06 11:21:59.952 DEBUG 3480 --- [http-nio-8086-exec-1] com.kwok.mapper.TagMapper.tagCount       : ==>  Preparing: select count(1) as count from blog_tag where tag_id=?
2022-04-06 11:21:59.952 DEBUG 3480 --- [http-nio-8086-exec-1] com.kwok.mapper.TagMapper.tagCount       : ==> Parameters: 3(Integer)
2022-04-06 11:21:59.953 DEBUG 3480 --- [http-nio-8086-exec-1] com.kwok.mapper.TagMapper.tagCount       : <==      Total: 1
2022-04-06 11:21:59.953 DEBUG 3480 --- [http-nio-8086-exec-1] com.kwok.mapper.TagMapper.tagCount       : ==>  Preparing: select count(1) as count from blog_tag where tag_id=?
2022-04-06 11:21:59.953 DEBUG 3480 --- [http-nio-8086-exec-1] com.kwok.mapper.TagMapper.tagCount       : ==> Parameters: 2(Integer)
2022-04-06 11:21:59.954 DEBUG 3480 --- [http-nio-8086-exec-1] com.kwok.mapper.TagMapper.tagCount       : <==      Total: 1
2022-04-06 11:21:59.955 DEBUG 3480 --- [http-nio-8086-exec-1] com.kwok.mapper.TagMapper.tagCount       : ==>  Preparing: select count(1) as count from blog_tag where tag_id=?
2022-04-06 11:21:59.955 DEBUG 3480 --- [http-nio-8086-exec-1] com.kwok.mapper.TagMapper.tagCount       : ==> Parameters: 1(Integer)
2022-04-06 11:21:59.956 DEBUG 3480 --- [http-nio-8086-exec-1] com.kwok.mapper.TagMapper.tagCount       : <==      Total: 1
2022-04-06 11:21:59.957 DEBUG 3480 --- [http-nio-8086-exec-1] c.k.m.BlogMapper.getBlogCountByTagId     : ==>  Preparing: select count(1) as count from blog_tag where tag_id = ?
2022-04-06 11:21:59.957 DEBUG 3480 --- [http-nio-8086-exec-1] c.k.m.BlogMapper.getBlogCountByTagId     : ==> Parameters: 14(Integer)
2022-04-06 11:21:59.958 DEBUG 3480 --- [http-nio-8086-exec-1] c.k.m.BlogMapper.getBlogCountByTagId     : <==      Total: 1
2022-04-06 11:21:59.958 DEBUG 3480 --- [http-nio-8086-exec-1] c.k.m.BlogMapper.getBlogListByTagId      : ==>  Preparing: select b.*,bt.tag_id,t.name from blog b,blog_tag bt,tag t where bt.blog_id=b.id and bt.tag_id=t.id and bt.tag_id=? order by b.id desc limit ?,?
2022-04-06 11:21:59.959 DEBUG 3480 --- [http-nio-8086-exec-1] c.k.m.BlogMapper.getBlogListByTagId      : ==> Parameters: 14(Integer), 0(Integer), 5(Integer)
2022-04-06 11:21:59.962 DEBUG 3480 --- [http-nio-8086-exec-1] c.k.m.BlogMapper.getBlogListByTagId      : <==      Total: 5
2022-04-06 11:21:59.962 DEBUG 3480 --- [http-nio-8086-exec-1] com.kwok.mapper.TypeMapper.getTypeById   : ==>  Preparing: select * from type where id = ?
2022-04-06 11:21:59.963 DEBUG 3480 --- [http-nio-8086-exec-1] com.kwok.mapper.TypeMapper.getTypeById   : ==> Parameters: 6(Integer)
2022-04-06 11:21:59.964 DEBUG 3480 --- [http-nio-8086-exec-1] com.kwok.mapper.TypeMapper.getTypeById   : <==      Total: 1
2022-04-06 11:21:59.964 DEBUG 3480 --- [http-nio-8086-exec-1] c.kwok.mapper.TagMapper.getTagsByBlogId  : ==>  Preparing: select t.* from tag t,blog_tag bt where t.id=bt.tag_id and bt.blog_id=?
2022-04-06 11:21:59.964 DEBUG 3480 --- [http-nio-8086-exec-1] c.kwok.mapper.TagMapper.getTagsByBlogId  : ==> Parameters: 66(Integer)
2022-04-06 11:21:59.965 DEBUG 3480 --- [http-nio-8086-exec-1] c.kwok.mapper.TagMapper.getTagsByBlogId  : <==      Total: 3
2022-04-06 11:21:59.966 DEBUG 3480 --- [http-nio-8086-exec-1] com.kwok.mapper.TypeMapper.getTypeById   : ==>  Preparing: select * from type where id = ?
2022-04-06 11:21:59.966 DEBUG 3480 --- [http-nio-8086-exec-1] com.kwok.mapper.TypeMapper.getTypeById   : ==> Parameters: 6(Integer)
2022-04-06 11:21:59.966 DEBUG 3480 --- [http-nio-8086-exec-1] com.kwok.mapper.TypeMapper.getTypeById   : <==      Total: 1
2022-04-06 11:21:59.967 DEBUG 3480 --- [http-nio-8086-exec-1] c.kwok.mapper.TagMapper.getTagsByBlogId  : ==>  Preparing: select t.* from tag t,blog_tag bt where t.id=bt.tag_id and bt.blog_id=?
2022-04-06 11:21:59.967 DEBUG 3480 --- [http-nio-8086-exec-1] c.kwok.mapper.TagMapper.getTagsByBlogId  : ==> Parameters: 65(Integer)
2022-04-06 11:21:59.967 DEBUG 3480 --- [http-nio-8086-exec-1] c.kwok.mapper.TagMapper.getTagsByBlogId  : <==      Total: 3
2022-04-06 11:21:59.968 DEBUG 3480 --- [http-nio-8086-exec-1] com.kwok.mapper.TypeMapper.getTypeById   : ==>  Preparing: select * from type where id = ?
2022-04-06 11:21:59.968 DEBUG 3480 --- [http-nio-8086-exec-1] com.kwok.mapper.TypeMapper.getTypeById   : ==> Parameters: 6(Integer)
2022-04-06 11:21:59.968 DEBUG 3480 --- [http-nio-8086-exec-1] com.kwok.mapper.TypeMapper.getTypeById   : <==      Total: 1
2022-04-06 11:21:59.969 DEBUG 3480 --- [http-nio-8086-exec-1] c.kwok.mapper.TagMapper.getTagsByBlogId  : ==>  Preparing: select t.* from tag t,blog_tag bt where t.id=bt.tag_id and bt.blog_id=?
2022-04-06 11:21:59.969 DEBUG 3480 --- [http-nio-8086-exec-1] c.kwok.mapper.TagMapper.getTagsByBlogId  : ==> Parameters: 64(Integer)
2022-04-06 11:21:59.969 DEBUG 3480 --- [http-nio-8086-exec-1] c.kwok.mapper.TagMapper.getTagsByBlogId  : <==      Total: 3
2022-04-06 11:21:59.970 DEBUG 3480 --- [http-nio-8086-exec-1] com.kwok.mapper.TypeMapper.getTypeById   : ==>  Preparing: select * from type where id = ?
2022-04-06 11:21:59.970 DEBUG 3480 --- [http-nio-8086-exec-1] com.kwok.mapper.TypeMapper.getTypeById   : ==> Parameters: 6(Integer)
2022-04-06 11:21:59.970 DEBUG 3480 --- [http-nio-8086-exec-1] com.kwok.mapper.TypeMapper.getTypeById   : <==      Total: 1
2022-04-06 11:21:59.971 DEBUG 3480 --- [http-nio-8086-exec-1] c.kwok.mapper.TagMapper.getTagsByBlogId  : ==>  Preparing: select t.* from tag t,blog_tag bt where t.id=bt.tag_id and bt.blog_id=?
2022-04-06 11:21:59.971 DEBUG 3480 --- [http-nio-8086-exec-1] c.kwok.mapper.TagMapper.getTagsByBlogId  : ==> Parameters: 63(Integer)
2022-04-06 11:21:59.971 DEBUG 3480 --- [http-nio-8086-exec-1] c.kwok.mapper.TagMapper.getTagsByBlogId  : <==      Total: 3
2022-04-06 11:21:59.972 DEBUG 3480 --- [http-nio-8086-exec-1] com.kwok.mapper.TypeMapper.getTypeById   : ==>  Preparing: select * from type where id = ?
2022-04-06 11:21:59.972 DEBUG 3480 --- [http-nio-8086-exec-1] com.kwok.mapper.TypeMapper.getTypeById   : ==> Parameters: 6(Integer)
2022-04-06 11:21:59.972 DEBUG 3480 --- [http-nio-8086-exec-1] com.kwok.mapper.TypeMapper.getTypeById   : <==      Total: 1
2022-04-06 11:21:59.973 DEBUG 3480 --- [http-nio-8086-exec-1] c.kwok.mapper.TagMapper.getTagsByBlogId  : ==>  Preparing: select t.* from tag t,blog_tag bt where t.id=bt.tag_id and bt.blog_id=?
2022-04-06 11:21:59.973 DEBUG 3480 --- [http-nio-8086-exec-1] c.kwok.mapper.TagMapper.getTagsByBlogId  : ==> Parameters: 62(Integer)
2022-04-06 11:21:59.973 DEBUG 3480 --- [http-nio-8086-exec-1] c.kwok.mapper.TagMapper.getTagsByBlogId  : <==      Total: 3
2022-04-06 11:21:59.974 DEBUG 3480 --- [http-nio-8086-exec-1] c.k.m.BlogMapper.getPreBlogsByTagId      : ==>  Preparing: select b.* from blog b,blog_tag bt where b.id = bt.blog_id and bt.tag_id=? and b.id > ?
2022-04-06 11:21:59.975 DEBUG 3480 --- [http-nio-8086-exec-1] c.k.m.BlogMapper.getPreBlogsByTagId      : ==> Parameters: 14(Integer), 66(Integer)
2022-04-06 11:21:59.975 DEBUG 3480 --- [http-nio-8086-exec-1] c.k.m.BlogMapper.getPreBlogsByTagId      : <==      Total: 0
2022-04-06 11:21:59.976 DEBUG 3480 --- [http-nio-8086-exec-1] c.k.m.BlogMapper.getNextBlogsByTagId     : ==>  Preparing: select b.* from blog b,blog_tag bt where b.id = bt.blog_id and bt.tag_id=? and ? > b.id
2022-04-06 11:21:59.976 DEBUG 3480 --- [http-nio-8086-exec-1] c.k.m.BlogMapper.getNextBlogsByTagId     : ==> Parameters: 14(Integer), 62(Integer)
2022-04-06 11:21:59.978 DEBUG 3480 --- [http-nio-8086-exec-1] c.k.m.BlogMapper.getNextBlogsByTagId     : <==      Total: 4
2022-04-06 11:21:59.979  INFO 3480 --- [http-nio-8086-exec-1] com.kwok.aspect.LogAspect                : Result : tags
2022-04-06 11:22:08.650  INFO 3480 --- [http-nio-8086-exec-8] com.kwok.aspect.LogAspect                : Request : {url='http://localhost:8086/archives', ip='0:0:0:0:0:0:0:1', classMethod='com.kwok.controller.ArchiveShowController.archives', args=[{}]}
2022-04-06 11:22:08.653 DEBUG 3480 --- [http-nio-8086-exec-8] c.kwok.mapper.BlogMapper.findGroupYear   : ==>  Preparing: select date_format(b.update_time,'%Y') as year from blog b group by year order by year desc
2022-04-06 11:22:08.653 DEBUG 3480 --- [http-nio-8086-exec-8] c.kwok.mapper.BlogMapper.findGroupYear   : ==> Parameters: 
2022-04-06 11:22:08.654 DEBUG 3480 --- [http-nio-8086-exec-8] c.kwok.mapper.BlogMapper.findGroupYear   : <==      Total: 1
2022-04-06 11:22:08.654 DEBUG 3480 --- [http-nio-8086-exec-8] c.kwok.mapper.BlogMapper.findBlogByYear  : ==>  Preparing: select * from blog b where date_format(b.update_time,'%Y') = ?
2022-04-06 11:22:08.654 DEBUG 3480 --- [http-nio-8086-exec-8] c.kwok.mapper.BlogMapper.findBlogByYear  : ==> Parameters: 2022(String)
2022-04-06 11:22:08.691 DEBUG 3480 --- [http-nio-8086-exec-8] c.kwok.mapper.BlogMapper.findBlogByYear  : <==      Total: 92
2022-04-06 11:22:08.692 DEBUG 3480 --- [http-nio-8086-exec-8] com.kwok.mapper.BlogMapper.getBlogCount  : ==>  Preparing: select count(1) as count from blog
2022-04-06 11:22:08.692 DEBUG 3480 --- [http-nio-8086-exec-8] com.kwok.mapper.BlogMapper.getBlogCount  : ==> Parameters: 
2022-04-06 11:22:08.694 DEBUG 3480 --- [http-nio-8086-exec-8] com.kwok.mapper.BlogMapper.getBlogCount  : <==      Total: 1
2022-04-06 11:22:08.694  INFO 3480 --- [http-nio-8086-exec-8] com.kwok.aspect.LogAspect                : Result : archives
2022-04-06 11:22:10.522  INFO 3480 --- [http-nio-8086-exec-6] com.kwok.aspect.LogAspect                : Request : {url='http://localhost:8086/about', ip='0:0:0:0:0:0:0:1', classMethod='com.kwok.controller.AboutShowController.archives', args=[]}
2022-04-06 11:22:10.524  INFO 3480 --- [http-nio-8086-exec-6] com.kwok.aspect.LogAspect                : Result : about
2022-04-06 11:22:16.584  INFO 3480 --- [http-nio-8086-exec-9] com.kwok.aspect.LogAspect                : Request : {url='http://localhost:8086/index', ip='0:0:0:0:0:0:0:1', classMethod='com.kwok.controller.IndexController.index', args=[org.apache.catalina.connector.RequestFacade@5e7b28ba, org.apache.catalina.connector.ResponseFacade@401d462b, {}]}
2022-04-06 11:22:16.584 DEBUG 3480 --- [http-nio-8086-exec-9] com.kwok.mapper.BlogMapper.getBlogCount  : ==>  Preparing: select count(1) as count from blog
2022-04-06 11:22:16.585 DEBUG 3480 --- [http-nio-8086-exec-9] com.kwok.mapper.BlogMapper.getBlogCount  : ==> Parameters: 
2022-04-06 11:22:16.586 DEBUG 3480 --- [http-nio-8086-exec-9] com.kwok.mapper.BlogMapper.getBlogCount  : <==      Total: 1
2022-04-06 11:22:16.587 DEBUG 3480 --- [http-nio-8086-exec-9] com.kwok.mapper.BlogMapper.getBlogList   : ==>  Preparing: select b.*,t.name as typeName from blog b,type t where b.type_id=t.id order by b.id desc limit ?,?
2022-04-06 11:22:16.587 DEBUG 3480 --- [http-nio-8086-exec-9] com.kwok.mapper.BlogMapper.getBlogList   : ==> Parameters: 0(Integer), 5(Integer)
2022-04-06 11:22:16.590 DEBUG 3480 --- [http-nio-8086-exec-9] com.kwok.mapper.BlogMapper.getBlogList   : <==      Total: 5
2022-04-06 11:22:16.590 DEBUG 3480 --- [http-nio-8086-exec-9] com.kwok.mapper.BlogMapper.getBlogById   : ==>  Preparing: select * from blog where id = ?
2022-04-06 11:22:16.590 DEBUG 3480 --- [http-nio-8086-exec-9] com.kwok.mapper.BlogMapper.getBlogById   : ==> Parameters: 93(Integer)
2022-04-06 11:22:16.591 DEBUG 3480 --- [http-nio-8086-exec-9] com.kwok.mapper.BlogMapper.getBlogById   : <==      Total: 0
2022-04-06 11:22:16.592 DEBUG 3480 --- [http-nio-8086-exec-9] com.kwok.mapper.BlogMapper.getBlogById   : ==>  Preparing: select * from blog where id = ?
2022-04-06 11:22:16.592 DEBUG 3480 --- [http-nio-8086-exec-9] com.kwok.mapper.BlogMapper.getBlogById   : ==> Parameters: 87(Integer)
2022-04-06 11:22:16.593 DEBUG 3480 --- [http-nio-8086-exec-9] com.kwok.mapper.BlogMapper.getBlogById   : <==      Total: 1
2022-04-06 11:22:16.593 DEBUG 3480 --- [http-nio-8086-exec-9] com.kwok.mapper.TagMapper.listTopTag     : ==>  Preparing: select tag.id,tag.name,tn.num from tag,(select tag_id,count(*) as num from blog_tag group by tag_id order by num desc) as tn where tag.id = tn.tag_id
2022-04-06 11:22:16.593 DEBUG 3480 --- [http-nio-8086-exec-9] com.kwok.mapper.TagMapper.listTopTag     : ==> Parameters: 
2022-04-06 11:22:16.594 DEBUG 3480 --- [http-nio-8086-exec-9] com.kwok.mapper.TagMapper.listTopTag     : <==      Total: 13
2022-04-06 11:22:16.595 DEBUG 3480 --- [http-nio-8086-exec-9] com.kwok.mapper.TypeMapper.listTopType   : ==>  Preparing: select type.id,type.name,tn.num from type,(select type_id,count(*) as num from blog group by type_id order by num desc) as tn where type.id = tn.type_id
2022-04-06 11:22:16.595 DEBUG 3480 --- [http-nio-8086-exec-9] com.kwok.mapper.TypeMapper.listTopType   : ==> Parameters: 
2022-04-06 11:22:16.596 DEBUG 3480 --- [http-nio-8086-exec-9] com.kwok.mapper.TypeMapper.listTopType   : <==      Total: 6
2022-04-06 11:22:16.596 DEBUG 3480 --- [http-nio-8086-exec-9] c.k.m.BlogMapper.listTopRecommendBlog    : ==>  Preparing: select * from blog where recommend = 1 order by update_time desc
2022-04-06 11:22:16.596 DEBUG 3480 --- [http-nio-8086-exec-9] c.k.m.BlogMapper.listTopRecommendBlog    : ==> Parameters: 
2022-04-06 11:22:16.599 DEBUG 3480 --- [http-nio-8086-exec-9] c.k.m.BlogMapper.listTopRecommendBlog    : <==      Total: 2
2022-04-06 11:22:16.600  INFO 3480 --- [http-nio-8086-exec-9] com.kwok.aspect.LogAspect                : Result : index
2022-04-06 11:22:23.922  INFO 3480 --- [http-nio-8086-exec-6] com.kwok.aspect.LogAspect                : Request : {url='http://localhost:8086/', ip='0:0:0:0:0:0:0:1', classMethod='com.kwok.controller.IndexController.enter', args=[{}]}
2022-04-06 11:22:23.923 DEBUG 3480 --- [http-nio-8086-exec-6] com.kwok.mapper.BlogMapper.listHotBlog   : ==>  Preparing: select * from blog order by views desc
2022-04-06 11:22:23.923 DEBUG 3480 --- [http-nio-8086-exec-6] com.kwok.mapper.BlogMapper.listHotBlog   : ==> Parameters: 
2022-04-06 11:22:23.959 DEBUG 3480 --- [http-nio-8086-exec-6] com.kwok.mapper.BlogMapper.listHotBlog   : <==      Total: 92
2022-04-06 11:22:23.959  INFO 3480 --- [http-nio-8086-exec-6] com.kwok.aspect.LogAspect                : Result : enter
2022-04-06 11:23:10.586  INFO 3480 --- [http-nio-8086-exec-3] com.kwok.aspect.LogAspect                : Request : {url='http://localhost:8086/blog/1', ip='0:0:0:0:0:0:0:1', classMethod='com.kwok.controller.IndexController.blog', args=[1, {}]}
2022-04-06 11:23:10.587 DEBUG 3480 --- [http-nio-8086-exec-3] com.kwok.mapper.BlogMapper.getBlogById   : ==>  Preparing: select * from blog where id = ?
2022-04-06 11:23:10.587 DEBUG 3480 --- [http-nio-8086-exec-3] com.kwok.mapper.BlogMapper.getBlogById   : ==> Parameters: 1(Integer)
2022-04-06 11:23:10.588 DEBUG 3480 --- [http-nio-8086-exec-3] com.kwok.mapper.BlogMapper.getBlogById   : <==      Total: 1
2022-04-06 11:23:10.588 DEBUG 3480 --- [http-nio-8086-exec-3] c.k.mapper.BlogMapper.updateBlogViews    : ==>  Preparing: update blog set views=? where id = ?
2022-04-06 11:23:10.589 DEBUG 3480 --- [http-nio-8086-exec-3] c.k.mapper.BlogMapper.updateBlogViews    : ==> Parameters: 28(Integer), 1(Integer)
2022-04-06 11:23:10.589 DEBUG 3480 --- [http-nio-8086-exec-3] c.k.mapper.BlogMapper.updateBlogViews    : <==    Updates: 1
2022-04-06 11:23:10.596 DEBUG 3480 --- [http-nio-8086-exec-3] com.kwok.mapper.BlogMapper.getBlogById   : ==>  Preparing: select * from blog where id = ?
2022-04-06 11:23:10.597 DEBUG 3480 --- [http-nio-8086-exec-3] com.kwok.mapper.BlogMapper.getBlogById   : ==> Parameters: 1(Integer)
2022-04-06 11:23:10.598 DEBUG 3480 --- [http-nio-8086-exec-3] com.kwok.mapper.BlogMapper.getBlogById   : <==      Total: 1
2022-04-06 11:23:10.602 DEBUG 3480 --- [http-nio-8086-exec-3] c.k.m.BlogtagMapper.getTagIdByBlogId     : ==>  Preparing: select * from blog_tag where blog_id = ?
2022-04-06 11:23:10.603 DEBUG 3480 --- [http-nio-8086-exec-3] c.k.m.BlogtagMapper.getTagIdByBlogId     : ==> Parameters: 1(Integer)
2022-04-06 11:23:10.604 DEBUG 3480 --- [http-nio-8086-exec-3] c.k.m.BlogtagMapper.getTagIdByBlogId     : <==      Total: 1
2022-04-06 11:23:10.604 DEBUG 3480 --- [http-nio-8086-exec-3] com.kwok.mapper.TagMapper.getShowTags    : ==>  Preparing: select * from tag where id in ( ? )
2022-04-06 11:23:10.604 DEBUG 3480 --- [http-nio-8086-exec-3] com.kwok.mapper.TagMapper.getShowTags    : ==> Parameters: 1(Integer)
2022-04-06 11:23:10.605 DEBUG 3480 --- [http-nio-8086-exec-3] com.kwok.mapper.TagMapper.getShowTags    : <==      Total: 1
2022-04-06 11:23:10.605  INFO 3480 --- [http-nio-8086-exec-3] com.kwok.aspect.LogAspect                : Result : blog
2022-04-06 11:23:11.047  INFO 3480 --- [http-nio-8086-exec-10] com.kwok.aspect.LogAspect                : Request : {url='http://localhost:8086/comments/1', ip='0:0:0:0:0:0:0:1', classMethod='com.kwok.controller.CommentController.comments', args=[1, {}]}
2022-04-06 11:23:11.048 DEBUG 3480 --- [http-nio-8086-exec-10] c.k.m.CommentMapper.listCommentByBlogId  : ==>  Preparing: select * from comment where blog_id = ? and parent_id = 0 order by creat_time asc
2022-04-06 11:23:11.048 DEBUG 3480 --- [http-nio-8086-exec-10] c.k.m.CommentMapper.listCommentByBlogId  : ==> Parameters: 1(Integer)
2022-04-06 11:23:11.049 DEBUG 3480 --- [http-nio-8086-exec-10] c.k.m.CommentMapper.listCommentByBlogId  : <==      Total: 1
2022-04-06 11:23:11.050 DEBUG 3480 --- [http-nio-8086-exec-10] c.k.m.CommentMapper.getParentComment     : ==>  Preparing: select * from comment where id = ?
2022-04-06 11:23:11.050 DEBUG 3480 --- [http-nio-8086-exec-10] c.k.m.CommentMapper.getParentComment     : ==> Parameters: 0(Integer)
2022-04-06 11:23:11.051 DEBUG 3480 --- [http-nio-8086-exec-10] c.k.m.CommentMapper.getParentComment     : <==      Total: 0
2022-04-06 11:23:11.051 DEBUG 3480 --- [http-nio-8086-exec-10] c.k.m.CommentMapper.searchReplyComments  : ==>  Preparing: select * from comment where parent_id = ? order by creat_time asc
2022-04-06 11:23:11.052 DEBUG 3480 --- [http-nio-8086-exec-10] c.k.m.CommentMapper.searchReplyComments  : ==> Parameters: 1(Integer)
2022-04-06 11:23:11.053 DEBUG 3480 --- [http-nio-8086-exec-10] c.k.m.CommentMapper.searchReplyComments  : <==      Total: 1
2022-04-06 11:23:11.053 DEBUG 3480 --- [http-nio-8086-exec-10] c.k.m.CommentMapper.getParentComment     : ==>  Preparing: select * from comment where id = ?
2022-04-06 11:23:11.053 DEBUG 3480 --- [http-nio-8086-exec-10] c.k.m.CommentMapper.getParentComment     : ==> Parameters: 1(Integer)
2022-04-06 11:23:11.054 DEBUG 3480 --- [http-nio-8086-exec-10] c.k.m.CommentMapper.getParentComment     : <==      Total: 1
2022-04-06 11:23:11.054 DEBUG 3480 --- [http-nio-8086-exec-10] c.k.m.CommentMapper.searchReplyComments  : ==>  Preparing: select * from comment where parent_id = ? order by creat_time asc
2022-04-06 11:23:11.054 DEBUG 3480 --- [http-nio-8086-exec-10] c.k.m.CommentMapper.searchReplyComments  : ==> Parameters: 2(Integer)
2022-04-06 11:23:11.055 DEBUG 3480 --- [http-nio-8086-exec-10] c.k.m.CommentMapper.searchReplyComments  : <==      Total: 0
2022-04-06 11:23:11.059  INFO 3480 --- [http-nio-8086-exec-10] com.kwok.aspect.LogAspect                : Result : blog :: commentList
2022-04-06 11:24:02.821  WARN 3480 --- [http-nio-8086-exec-6] o.a.c.util.SessionIdGeneratorBase        : Creation of SecureRandom instance for session ID generation using [SHA1PRNG] took [270] milliseconds.
2022-04-06 11:24:02.826 DEBUG 3480 --- [http-nio-8086-exec-6] c.k.m.U.findByUsernameAndPassword        : ==>  Preparing: select * from user where username = ? and password = ?
2022-04-06 11:24:02.826 DEBUG 3480 --- [http-nio-8086-exec-6] c.k.m.U.findByUsernameAndPassword        : ==> Parameters: kwok(String), 202cb962ac59075b964b07152d234b70(String)
2022-04-06 11:24:02.827 DEBUG 3480 --- [http-nio-8086-exec-6] c.k.m.U.findByUsernameAndPassword        : <==      Total: 1
2022-04-06 11:24:04.030 DEBUG 3480 --- [http-nio-8086-exec-10] com.kwok.mapper.TypeMapper.getTypeCount  : ==>  Preparing: select count(1) as count from type
2022-04-06 11:24:04.031 DEBUG 3480 --- [http-nio-8086-exec-10] com.kwok.mapper.TypeMapper.getTypeCount  : ==> Parameters: 
2022-04-06 11:24:04.031 DEBUG 3480 --- [http-nio-8086-exec-10] com.kwok.mapper.TypeMapper.getTypeCount  : <==      Total: 1
2022-04-06 11:24:04.032 DEBUG 3480 --- [http-nio-8086-exec-10] com.kwok.mapper.TypeMapper.getTypeList   : ==>  Preparing: select * from type order by id desc limit ?,?
2022-04-06 11:24:04.032 DEBUG 3480 --- [http-nio-8086-exec-10] com.kwok.mapper.TypeMapper.getTypeList   : ==> Parameters: 0(Integer), 5(Integer)
2022-04-06 11:24:04.033 DEBUG 3480 --- [http-nio-8086-exec-10] com.kwok.mapper.TypeMapper.getTypeList   : <==      Total: 5
2022-04-06 11:24:04.033 DEBUG 3480 --- [http-nio-8086-exec-10] com.kwok.mapper.TypeMapper.getTypeById   : ==>  Preparing: select * from type where id = ?
2022-04-06 11:24:04.033 DEBUG 3480 --- [http-nio-8086-exec-10] com.kwok.mapper.TypeMapper.getTypeById   : ==> Parameters: 8(Integer)
2022-04-06 11:24:04.033 DEBUG 3480 --- [http-nio-8086-exec-10] com.kwok.mapper.TypeMapper.getTypeById   : <==      Total: 0
2022-04-06 11:24:04.034 DEBUG 3480 --- [http-nio-8086-exec-10] com.kwok.mapper.TypeMapper.getTypeById   : ==>  Preparing: select * from type where id = ?
2022-04-06 11:24:04.034 DEBUG 3480 --- [http-nio-8086-exec-10] com.kwok.mapper.TypeMapper.getTypeById   : ==> Parameters: 2(Integer)
2022-04-06 11:24:04.034 DEBUG 3480 --- [http-nio-8086-exec-10] com.kwok.mapper.TypeMapper.getTypeById   : <==      Total: 1
2022-04-06 11:24:06.673 DEBUG 3480 --- [http-nio-8086-exec-5] com.kwok.mapper.BlogMapper.getBlogCount  : ==>  Preparing: select count(1) as count from blog
2022-04-06 11:24:06.673 DEBUG 3480 --- [http-nio-8086-exec-5] com.kwok.mapper.BlogMapper.getBlogCount  : ==> Parameters: 
2022-04-06 11:24:06.675 DEBUG 3480 --- [http-nio-8086-exec-5] com.kwok.mapper.BlogMapper.getBlogCount  : <==      Total: 1
2022-04-06 11:24:06.675 DEBUG 3480 --- [http-nio-8086-exec-5] com.kwok.mapper.BlogMapper.getBlogList   : ==>  Preparing: select b.*,t.name as typeName from blog b,type t where b.type_id=t.id order by b.id desc limit ?,?
2022-04-06 11:24:06.675 DEBUG 3480 --- [http-nio-8086-exec-5] com.kwok.mapper.BlogMapper.getBlogList   : ==> Parameters: 0(Integer), 5(Integer)
2022-04-06 11:24:06.678 DEBUG 3480 --- [http-nio-8086-exec-5] com.kwok.mapper.BlogMapper.getBlogList   : <==      Total: 5
2022-04-06 11:24:06.678 DEBUG 3480 --- [http-nio-8086-exec-5] com.kwok.mapper.BlogMapper.getBlogById   : ==>  Preparing: select * from blog where id = ?
2022-04-06 11:24:06.678 DEBUG 3480 --- [http-nio-8086-exec-5] com.kwok.mapper.BlogMapper.getBlogById   : ==> Parameters: 93(Integer)
2022-04-06 11:24:06.679 DEBUG 3480 --- [http-nio-8086-exec-5] com.kwok.mapper.BlogMapper.getBlogById   : <==      Total: 0
2022-04-06 11:24:06.679 DEBUG 3480 --- [http-nio-8086-exec-5] com.kwok.mapper.BlogMapper.getBlogById   : ==>  Preparing: select * from blog where id = ?
2022-04-06 11:24:06.679 DEBUG 3480 --- [http-nio-8086-exec-5] com.kwok.mapper.BlogMapper.getBlogById   : ==> Parameters: 87(Integer)
2022-04-06 11:24:06.680 DEBUG 3480 --- [http-nio-8086-exec-5] com.kwok.mapper.BlogMapper.getBlogById   : <==      Total: 1
2022-04-06 11:24:06.680 DEBUG 3480 --- [http-nio-8086-exec-5] com.kwok.mapper.TypeMapper.listType      : ==>  Preparing: select * from type order by id desc
2022-04-06 11:24:06.681 DEBUG 3480 --- [http-nio-8086-exec-5] com.kwok.mapper.TypeMapper.listType      : ==> Parameters: 
2022-04-06 11:24:06.681 DEBUG 3480 --- [http-nio-8086-exec-5] com.kwok.mapper.TypeMapper.listType      : <==      Total: 7
2022-04-06 11:24:10.257 DEBUG 3480 --- [http-nio-8086-exec-3] c.k.m.BlogMapper.getBlogSearchCount      : ==>  Preparing: select count(1) as count from blog WHERE recommend = ?
2022-04-06 11:24:10.257 DEBUG 3480 --- [http-nio-8086-exec-3] c.k.m.BlogMapper.getBlogSearchCount      : ==> Parameters: 1(Integer)
2022-04-06 11:24:10.258 DEBUG 3480 --- [http-nio-8086-exec-3] c.k.m.BlogMapper.getBlogSearchCount      : <==      Total: 1
2022-04-06 11:24:10.259 DEBUG 3480 --- [http-nio-8086-exec-3] c.k.mapper.BlogMapper.getSearchBlogList  : ==>  Preparing: select b.*,t.name as typeName from blog b,type t WHERE b.type_id=t.id and b.recommend = ? order by b.id desc limit ?,?
2022-04-06 11:24:10.259 DEBUG 3480 --- [http-nio-8086-exec-3] c.k.mapper.BlogMapper.getSearchBlogList  : ==> Parameters: 1(Integer), 0(Integer), 5(Integer)
2022-04-06 11:24:10.263 DEBUG 3480 --- [http-nio-8086-exec-3] c.k.mapper.BlogMapper.getSearchBlogList  : <==      Total: 2
2022-04-06 11:24:10.263 DEBUG 3480 --- [http-nio-8086-exec-3] com.kwok.mapper.BlogMapper.getBlogById   : ==>  Preparing: select * from blog where id = ?
2022-04-06 11:24:10.263 DEBUG 3480 --- [http-nio-8086-exec-3] com.kwok.mapper.BlogMapper.getBlogById   : ==> Parameters: 32(Integer)
2022-04-06 11:24:10.264 DEBUG 3480 --- [http-nio-8086-exec-3] com.kwok.mapper.BlogMapper.getBlogById   : <==      Total: 1
2022-04-06 11:24:10.265 DEBUG 3480 --- [http-nio-8086-exec-3] com.kwok.mapper.BlogMapper.getBlogById   : ==>  Preparing: select * from blog where id = ?
2022-04-06 11:24:10.265 DEBUG 3480 --- [http-nio-8086-exec-3] com.kwok.mapper.BlogMapper.getBlogById   : ==> Parameters: 0(Integer)
2022-04-06 11:24:10.266 DEBUG 3480 --- [http-nio-8086-exec-3] com.kwok.mapper.BlogMapper.getBlogById   : <==      Total: 0
2022-04-06 11:24:10.266 DEBUG 3480 --- [http-nio-8086-exec-3] com.kwok.mapper.TypeMapper.listType      : ==>  Preparing: select * from type order by id desc
2022-04-06 11:24:10.266 DEBUG 3480 --- [http-nio-8086-exec-3] com.kwok.mapper.TypeMapper.listType      : ==> Parameters: 
2022-04-06 11:24:10.267 DEBUG 3480 --- [http-nio-8086-exec-3] com.kwok.mapper.TypeMapper.listType      : <==      Total: 7
2022-04-06 11:24:49.739 DEBUG 3480 --- [http-nio-8086-exec-2] com.kwok.mapper.TypeMapper.listType      : ==>  Preparing: select * from type order by id desc
2022-04-06 11:24:49.739 DEBUG 3480 --- [http-nio-8086-exec-2] com.kwok.mapper.TypeMapper.listType      : ==> Parameters: 
2022-04-06 11:24:49.740 DEBUG 3480 --- [http-nio-8086-exec-2] com.kwok.mapper.TypeMapper.listType      : <==      Total: 7
2022-04-06 11:24:49.741 DEBUG 3480 --- [http-nio-8086-exec-2] com.kwok.mapper.TagMapper.listTag        : ==>  Preparing: select * from tag order by id desc
2022-04-06 11:24:49.741 DEBUG 3480 --- [http-nio-8086-exec-2] com.kwok.mapper.TagMapper.listTag        : ==> Parameters: 
2022-04-06 11:24:49.742 DEBUG 3480 --- [http-nio-8086-exec-2] com.kwok.mapper.TagMapper.listTag        : <==      Total: 14
2022-04-06 11:24:49.742 DEBUG 3480 --- [http-nio-8086-exec-2] com.kwok.mapper.BlogMapper.getBlogById   : ==>  Preparing: select * from blog where id = ?
2022-04-06 11:24:49.742 DEBUG 3480 --- [http-nio-8086-exec-2] com.kwok.mapper.BlogMapper.getBlogById   : ==> Parameters: 1(Integer)
2022-04-06 11:24:49.743 DEBUG 3480 --- [http-nio-8086-exec-2] com.kwok.mapper.BlogMapper.getBlogById   : <==      Total: 1
2022-04-06 11:24:49.744 DEBUG 3480 --- [http-nio-8086-exec-2] c.k.m.BlogtagMapper.getTagIdByBlogId     : ==>  Preparing: select * from blog_tag where blog_id = ?
2022-04-06 11:24:49.744 DEBUG 3480 --- [http-nio-8086-exec-2] c.k.m.BlogtagMapper.getTagIdByBlogId     : ==> Parameters: 1(Integer)
2022-04-06 11:24:49.744 DEBUG 3480 --- [http-nio-8086-exec-2] c.k.m.BlogtagMapper.getTagIdByBlogId     : <==      Total: 1
2022-04-06 11:27:25.432 DEBUG 3480 --- [http-nio-8086-exec-1] c.k.m.BlogtagMapper.deletePreBlogtag     : ==>  Preparing: delete from blog_tag where blog_id = ?
2022-04-06 11:27:25.432 DEBUG 3480 --- [http-nio-8086-exec-1] c.k.m.BlogtagMapper.deletePreBlogtag     : ==> Parameters: 1(Integer)
2022-04-06 11:27:25.433 DEBUG 3480 --- [http-nio-8086-exec-1] c.k.m.BlogtagMapper.deletePreBlogtag     : <==    Updates: 1
2022-04-06 11:27:25.433 DEBUG 3480 --- [http-nio-8086-exec-1] c.k.mapper.BlogtagMapper.getLastBlogtag  : ==>  Preparing: select * from blog_tag order by id desc limit 1
2022-04-06 11:27:25.434 DEBUG 3480 --- [http-nio-8086-exec-1] c.k.mapper.BlogtagMapper.getLastBlogtag  : ==> Parameters: 
2022-04-06 11:27:25.434 DEBUG 3480 --- [http-nio-8086-exec-1] c.k.mapper.BlogtagMapper.getLastBlogtag  : <==      Total: 1
2022-04-06 11:27:25.434 DEBUG 3480 --- [http-nio-8086-exec-1] c.kwok.mapper.BlogtagMapper.saveBlogtag  : ==>  Preparing: insert into blog_tag (id, blog_id, tag_id) values (?, ?,?)
2022-04-06 11:27:25.434 DEBUG 3480 --- [http-nio-8086-exec-1] c.kwok.mapper.BlogtagMapper.saveBlogtag  : ==> Parameters: 225(Integer), 1(Integer), 1(Integer)
2022-04-06 11:27:25.435 DEBUG 3480 --- [http-nio-8086-exec-1] c.kwok.mapper.BlogtagMapper.saveBlogtag  : <==    Updates: 1
2022-04-06 11:27:25.435 DEBUG 3480 --- [http-nio-8086-exec-1] com.kwok.mapper.BlogMapper.updateBlog    : ==>  Preparing: update blog set title=?,content=?,description=?, first_picture=?, flag=?,appreciation=?, share_statement=?,commentabled=?, published=?,recommend=?, update_time=?,type_id=? where id = ?
2022-04-06 11:27:25.438 DEBUG 3480 --- [http-nio-8086-exec-1] com.kwok.mapper.BlogMapper.updateBlog    : ==> Parameters: 关于我的这个小破站(String), ## 1. 前言

&emsp;&emsp;没错，俺就是博主，目前是上海理工大学研究生二年级学生！自读研以来，自学接触了很多编程和算法的东西，也不知道最后能不能用的上，但是我相信多了解多学习一定没坏处。

&emsp;&emsp;嘿嘿~ 其实最开始着手写这个个人网站项目的时候，本人还是个Java小菜鸡（现在成大菜鸡了），准确地说我是从前端转后端的，以及从Python转Java的。有始有终，这篇博客打算记录下自己这个小破站的成长记录。

## 2. 更新日志

&emsp;&emsp;域名：[www.kwokblog.top](http://www.kwokblog.top/)      技术路线：SpringBoot+Mybatis+semantic UI

| 版本号  |                         更新内容                         |    更新时间    | 是否启用 |
| :-----: | :------------------------------------------------------: | :------------: | :------: |
|  0.0.0  |                   完成前端所有页面内容                   | 2021年12月11日 |    是    |
|  0.0.1  |                  完成后端所有内容并上线                  | 2022年03月22日 |    是    |
|  0.0.2  |                  增加评论功能和归档功能                  | 2022年03月24日 |    是    |
|  0.0.3  | 增加‘关于我’页面背景雪花、树叶飘落，增加看板娘功能，鼠标点击特效 | 2022年03月25日 |    是    |
|  0.0.4  |         增加enter页面，添加动态特效，艺术字logo          | 2022年03月29日 |    是    |
|  0.0.5  |                      更新数据库数据                      |  2022年4月6日  |    是    |
| 待续... |                         待续...                          |    待续...     | 待续...  |

## 3. 前端


- jQuery框架：[jquery@3.2](https://cdn.jsdelivr.net/npm/jquery@3.2/dist/jquery.min.js)
- UI框架：[Semantic UI框架](https://semantic-ui.com/collections/breadcrumb.html)

- 其他工具或插件：[背景下载](https://www.toptal.com/designers/subtlepatterns/)，[动态CSS插件](https://animate.style/)，[目录生成插件](https://tscanlin.github.io/tocbot/)，[二维码生成插件](https://davidshimjs.github.io/qrcodejs/)，[平滑滚动插件](https://github.com/flesler/jquery.scrollTo)，[滚动侦测插件](http://imakewebthings.com/waypoints/)，[编辑Markdown插件](https://pandao.github.io/editor.md/)

## 4. 后端

- 核心框架：Spring Boot
- 持久层框架：MyBatis

- java版本：JDK11
- MySQL版本：8.0.25

- 其他依赖：aop，data-jpa，thymeleaf，jdbc，commonmark

## 5. 功能

#### 入口页面：

- 热门文章： 按照浏览次数来进行倒序排序展示，直接跳转具体blog页面
- 右侧菜单： 跳转首页，分类，后台，艺术签名展示

- 底部链接：关于，归档，作者github

#### 首页：

- 最新推荐： 按照发布时间来进行倒序排序展示
- 导航栏：首页、分类、标签、归档、关于我、后台管理，搜索查找

- 右边栏：分类、标签展示
- 底部栏：联系我、友情链接、站点信息

#### 博客详情页：

- 目录，留言，赞赏，联系

#### 分类：

- 根据类名搜索对应博客展示

#### 标签：

- 根据标签查找含有该标签的博客展示

#### 归档：

- 根据年份归纳博客

#### 关于我：

- 作者信息介绍

#### 后台管理页面：

- 登录功能
- 文章管理：

  - 文章筛选
  - 文章发布
  - 文章编辑
  - 文章删除

- 分类管理：
  - 分类的增删改查

- 标签管理：
  - 标签的增删改查

## 6. 项目线上部署

- 环境：腾讯云服务器，采用jar包部署，需要相关环境配置
- 域名购买，备案，映射

- 博客地址：[http://www.kwokblog.top](http://www.kwokblog.top/)
- 项目地址：[https://github.com/Hokwok/myblog](https://github.com/Hokwok/myblog)

### 参考：

- 李仁密老师：[博客教程](https://www.bilibili.com/video/BV1HE411N76x)(String), 嘿嘿~ 其实最开始着手写这个个人网站项目的时候，本人还是个Java小菜鸡（现在成大菜鸡了），准确地说我是从前端转后端的，以及从Python转Java的。有始有终(String), http://110.42.213.171:8080/blogimgs/1.png(String), 原创(String), true(Boolean), true(Boolean), true(Boolean), true(Boolean), true(Boolean), 2022-04-06 11:27:25.432(Timestamp), 1(Integer), 1(Integer)
2022-04-06 11:27:25.440 DEBUG 3480 --- [http-nio-8086-exec-1] com.kwok.mapper.BlogMapper.updateBlog    : <==    Updates: 1
2022-04-06 11:27:25.454 DEBUG 3480 --- [http-nio-8086-exec-9] com.kwok.mapper.BlogMapper.getBlogCount  : ==>  Preparing: select count(1) as count from blog
2022-04-06 11:27:25.454 DEBUG 3480 --- [http-nio-8086-exec-9] com.kwok.mapper.BlogMapper.getBlogCount  : ==> Parameters: 
2022-04-06 11:27:25.455 DEBUG 3480 --- [http-nio-8086-exec-9] com.kwok.mapper.BlogMapper.getBlogCount  : <==      Total: 1
2022-04-06 11:27:25.456 DEBUG 3480 --- [http-nio-8086-exec-9] com.kwok.mapper.BlogMapper.getBlogList   : ==>  Preparing: select b.*,t.name as typeName from blog b,type t where b.type_id=t.id order by b.id desc limit ?,?
2022-04-06 11:27:25.456 DEBUG 3480 --- [http-nio-8086-exec-9] com.kwok.mapper.BlogMapper.getBlogList   : ==> Parameters: 0(Integer), 5(Integer)
2022-04-06 11:27:25.458 DEBUG 3480 --- [http-nio-8086-exec-9] com.kwok.mapper.BlogMapper.getBlogList   : <==      Total: 5
2022-04-06 11:27:25.459 DEBUG 3480 --- [http-nio-8086-exec-9] com.kwok.mapper.BlogMapper.getBlogById   : ==>  Preparing: select * from blog where id = ?
2022-04-06 11:27:25.459 DEBUG 3480 --- [http-nio-8086-exec-9] com.kwok.mapper.BlogMapper.getBlogById   : ==> Parameters: 93(Integer)
2022-04-06 11:27:25.459 DEBUG 3480 --- [http-nio-8086-exec-9] com.kwok.mapper.BlogMapper.getBlogById   : <==      Total: 0
2022-04-06 11:27:25.460 DEBUG 3480 --- [http-nio-8086-exec-9] com.kwok.mapper.BlogMapper.getBlogById   : ==>  Preparing: select * from blog where id = ?
2022-04-06 11:27:25.460 DEBUG 3480 --- [http-nio-8086-exec-9] com.kwok.mapper.BlogMapper.getBlogById   : ==> Parameters: 87(Integer)
2022-04-06 11:27:25.461 DEBUG 3480 --- [http-nio-8086-exec-9] com.kwok.mapper.BlogMapper.getBlogById   : <==      Total: 1
2022-04-06 11:27:25.461 DEBUG 3480 --- [http-nio-8086-exec-9] com.kwok.mapper.TypeMapper.listType      : ==>  Preparing: select * from type order by id desc
2022-04-06 11:27:25.461 DEBUG 3480 --- [http-nio-8086-exec-9] com.kwok.mapper.TypeMapper.listType      : ==> Parameters: 
2022-04-06 11:27:25.462 DEBUG 3480 --- [http-nio-8086-exec-9] com.kwok.mapper.TypeMapper.listType      : <==      Total: 7
2022-04-06 11:27:26.918 DEBUG 3480 --- [http-nio-8086-exec-2] com.kwok.mapper.BlogMapper.getBlogCount  : ==>  Preparing: select count(1) as count from blog
2022-04-06 11:27:26.918 DEBUG 3480 --- [http-nio-8086-exec-2] com.kwok.mapper.BlogMapper.getBlogCount  : ==> Parameters: 
2022-04-06 11:27:26.920 DEBUG 3480 --- [http-nio-8086-exec-2] com.kwok.mapper.BlogMapper.getBlogCount  : <==      Total: 1
2022-04-06 11:27:26.920 DEBUG 3480 --- [http-nio-8086-exec-2] com.kwok.mapper.BlogMapper.getBlogList   : ==>  Preparing: select b.*,t.name as typeName from blog b,type t where b.type_id=t.id order by b.id desc limit ?,?
2022-04-06 11:27:26.920 DEBUG 3480 --- [http-nio-8086-exec-2] com.kwok.mapper.BlogMapper.getBlogList   : ==> Parameters: 0(Integer), 5(Integer)
2022-04-06 11:27:26.923 DEBUG 3480 --- [http-nio-8086-exec-2] com.kwok.mapper.BlogMapper.getBlogList   : <==      Total: 5
2022-04-06 11:27:26.924 DEBUG 3480 --- [http-nio-8086-exec-2] com.kwok.mapper.BlogMapper.getBlogById   : ==>  Preparing: select * from blog where id = ?
2022-04-06 11:27:26.924 DEBUG 3480 --- [http-nio-8086-exec-2] com.kwok.mapper.BlogMapper.getBlogById   : ==> Parameters: 93(Integer)
2022-04-06 11:27:26.924 DEBUG 3480 --- [http-nio-8086-exec-2] com.kwok.mapper.BlogMapper.getBlogById   : <==      Total: 0
2022-04-06 11:27:26.924 DEBUG 3480 --- [http-nio-8086-exec-2] com.kwok.mapper.BlogMapper.getBlogById   : ==>  Preparing: select * from blog where id = ?
2022-04-06 11:27:26.925 DEBUG 3480 --- [http-nio-8086-exec-2] com.kwok.mapper.BlogMapper.getBlogById   : ==> Parameters: 87(Integer)
2022-04-06 11:27:26.926 DEBUG 3480 --- [http-nio-8086-exec-2] com.kwok.mapper.BlogMapper.getBlogById   : <==      Total: 1
2022-04-06 11:27:26.926 DEBUG 3480 --- [http-nio-8086-exec-2] com.kwok.mapper.TypeMapper.listType      : ==>  Preparing: select * from type order by id desc
2022-04-06 11:27:26.926 DEBUG 3480 --- [http-nio-8086-exec-2] com.kwok.mapper.TypeMapper.listType      : ==> Parameters: 
2022-04-06 11:27:26.927 DEBUG 3480 --- [http-nio-8086-exec-2] com.kwok.mapper.TypeMapper.listType      : <==      Total: 7
2022-04-06 11:27:28.757  INFO 3480 --- [http-nio-8086-exec-9] com.kwok.aspect.LogAspect                : Request : {url='http://localhost:8086/blog/1', ip='0:0:0:0:0:0:0:1', classMethod='com.kwok.controller.IndexController.blog', args=[1, {}]}
2022-04-06 11:27:28.759 DEBUG 3480 --- [http-nio-8086-exec-9] com.kwok.mapper.BlogMapper.getBlogById   : ==>  Preparing: select * from blog where id = ?
2022-04-06 11:27:28.759 DEBUG 3480 --- [http-nio-8086-exec-9] com.kwok.mapper.BlogMapper.getBlogById   : ==> Parameters: 1(Integer)
2022-04-06 11:27:28.760 DEBUG 3480 --- [http-nio-8086-exec-9] com.kwok.mapper.BlogMapper.getBlogById   : <==      Total: 1
2022-04-06 11:27:28.760 DEBUG 3480 --- [http-nio-8086-exec-9] c.k.mapper.BlogMapper.updateBlogViews    : ==>  Preparing: update blog set views=? where id = ?
2022-04-06 11:27:28.760 DEBUG 3480 --- [http-nio-8086-exec-9] c.k.mapper.BlogMapper.updateBlogViews    : ==> Parameters: 29(Integer), 1(Integer)
2022-04-06 11:27:28.761 DEBUG 3480 --- [http-nio-8086-exec-9] c.k.mapper.BlogMapper.updateBlogViews    : <==    Updates: 1
2022-04-06 11:27:28.768 DEBUG 3480 --- [http-nio-8086-exec-9] com.kwok.mapper.BlogMapper.getBlogById   : ==>  Preparing: select * from blog where id = ?
2022-04-06 11:27:28.769 DEBUG 3480 --- [http-nio-8086-exec-9] com.kwok.mapper.BlogMapper.getBlogById   : ==> Parameters: 1(Integer)
2022-04-06 11:27:28.769 DEBUG 3480 --- [http-nio-8086-exec-9] com.kwok.mapper.BlogMapper.getBlogById   : <==      Total: 1
2022-04-06 11:27:28.771 DEBUG 3480 --- [http-nio-8086-exec-9] c.k.m.BlogtagMapper.getTagIdByBlogId     : ==>  Preparing: select * from blog_tag where blog_id = ?
2022-04-06 11:27:28.772 DEBUG 3480 --- [http-nio-8086-exec-9] c.k.m.BlogtagMapper.getTagIdByBlogId     : ==> Parameters: 1(Integer)
2022-04-06 11:27:28.772 DEBUG 3480 --- [http-nio-8086-exec-9] c.k.m.BlogtagMapper.getTagIdByBlogId     : <==      Total: 1
2022-04-06 11:27:28.773 DEBUG 3480 --- [http-nio-8086-exec-9] com.kwok.mapper.TagMapper.getShowTags    : ==>  Preparing: select * from tag where id in ( ? )
2022-04-06 11:27:28.773 DEBUG 3480 --- [http-nio-8086-exec-9] com.kwok.mapper.TagMapper.getShowTags    : ==> Parameters: 1(Integer)
2022-04-06 11:27:28.774 DEBUG 3480 --- [http-nio-8086-exec-9] com.kwok.mapper.TagMapper.getShowTags    : <==      Total: 1
2022-04-06 11:27:28.774  INFO 3480 --- [http-nio-8086-exec-9] com.kwok.aspect.LogAspect                : Result : blog
2022-04-06 11:27:29.161  INFO 3480 --- [http-nio-8086-exec-4] com.kwok.aspect.LogAspect                : Request : {url='http://localhost:8086/comments/1', ip='0:0:0:0:0:0:0:1', classMethod='com.kwok.controller.CommentController.comments', args=[1, {}]}
2022-04-06 11:27:29.161 DEBUG 3480 --- [http-nio-8086-exec-4] c.k.m.CommentMapper.listCommentByBlogId  : ==>  Preparing: select * from comment where blog_id = ? and parent_id = 0 order by creat_time asc
2022-04-06 11:27:29.162 DEBUG 3480 --- [http-nio-8086-exec-4] c.k.m.CommentMapper.listCommentByBlogId  : ==> Parameters: 1(Integer)
2022-04-06 11:27:29.163 DEBUG 3480 --- [http-nio-8086-exec-4] c.k.m.CommentMapper.listCommentByBlogId  : <==      Total: 1
2022-04-06 11:27:29.163 DEBUG 3480 --- [http-nio-8086-exec-4] c.k.m.CommentMapper.getParentComment     : ==>  Preparing: select * from comment where id = ?
2022-04-06 11:27:29.164 DEBUG 3480 --- [http-nio-8086-exec-4] c.k.m.CommentMapper.getParentComment     : ==> Parameters: 0(Integer)
2022-04-06 11:27:29.165 DEBUG 3480 --- [http-nio-8086-exec-4] c.k.m.CommentMapper.getParentComment     : <==      Total: 0
2022-04-06 11:27:29.165 DEBUG 3480 --- [http-nio-8086-exec-4] c.k.m.CommentMapper.searchReplyComments  : ==>  Preparing: select * from comment where parent_id = ? order by creat_time asc
2022-04-06 11:27:29.165 DEBUG 3480 --- [http-nio-8086-exec-4] c.k.m.CommentMapper.searchReplyComments  : ==> Parameters: 1(Integer)
2022-04-06 11:27:29.166 DEBUG 3480 --- [http-nio-8086-exec-4] c.k.m.CommentMapper.searchReplyComments  : <==      Total: 1
2022-04-06 11:27:29.167 DEBUG 3480 --- [http-nio-8086-exec-4] c.k.m.CommentMapper.getParentComment     : ==>  Preparing: select * from comment where id = ?
2022-04-06 11:27:29.167 DEBUG 3480 --- [http-nio-8086-exec-4] c.k.m.CommentMapper.getParentComment     : ==> Parameters: 1(Integer)
2022-04-06 11:27:29.168 DEBUG 3480 --- [http-nio-8086-exec-4] c.k.m.CommentMapper.getParentComment     : <==      Total: 1
2022-04-06 11:27:29.168 DEBUG 3480 --- [http-nio-8086-exec-4] c.k.m.CommentMapper.searchReplyComments  : ==>  Preparing: select * from comment where parent_id = ? order by creat_time asc
2022-04-06 11:27:29.168 DEBUG 3480 --- [http-nio-8086-exec-4] c.k.m.CommentMapper.searchReplyComments  : ==> Parameters: 2(Integer)
2022-04-06 11:27:29.169 DEBUG 3480 --- [http-nio-8086-exec-4] c.k.m.CommentMapper.searchReplyComments  : <==      Total: 0
2022-04-06 11:27:29.170  INFO 3480 --- [http-nio-8086-exec-4] com.kwok.aspect.LogAspect                : Result : blog :: commentList
2022-04-06 11:27:29.978  INFO 3480 --- [http-nio-8086-exec-1] com.kwok.aspect.LogAspect                : Request : {url='http://localhost:8086/index', ip='0:0:0:0:0:0:0:1', classMethod='com.kwok.controller.IndexController.index', args=[org.apache.catalina.connector.RequestFacade@5aab23cf, org.apache.catalina.connector.ResponseFacade@1a4403d1, {}]}
2022-04-06 11:27:29.979 DEBUG 3480 --- [http-nio-8086-exec-1] com.kwok.mapper.BlogMapper.getBlogCount  : ==>  Preparing: select count(1) as count from blog
2022-04-06 11:27:29.979 DEBUG 3480 --- [http-nio-8086-exec-1] com.kwok.mapper.BlogMapper.getBlogCount  : ==> Parameters: 
2022-04-06 11:27:29.981 DEBUG 3480 --- [http-nio-8086-exec-1] com.kwok.mapper.BlogMapper.getBlogCount  : <==      Total: 1
2022-04-06 11:27:29.981 DEBUG 3480 --- [http-nio-8086-exec-1] com.kwok.mapper.BlogMapper.getBlogList   : ==>  Preparing: select b.*,t.name as typeName from blog b,type t where b.type_id=t.id order by b.id desc limit ?,?
2022-04-06 11:27:29.981 DEBUG 3480 --- [http-nio-8086-exec-1] com.kwok.mapper.BlogMapper.getBlogList   : ==> Parameters: 0(Integer), 5(Integer)
2022-04-06 11:27:29.984 DEBUG 3480 --- [http-nio-8086-exec-1] com.kwok.mapper.BlogMapper.getBlogList   : <==      Total: 5
2022-04-06 11:27:29.984 DEBUG 3480 --- [http-nio-8086-exec-1] com.kwok.mapper.BlogMapper.getBlogById   : ==>  Preparing: select * from blog where id = ?
2022-04-06 11:27:29.984 DEBUG 3480 --- [http-nio-8086-exec-1] com.kwok.mapper.BlogMapper.getBlogById   : ==> Parameters: 93(Integer)
2022-04-06 11:27:29.985 DEBUG 3480 --- [http-nio-8086-exec-1] com.kwok.mapper.BlogMapper.getBlogById   : <==      Total: 0
2022-04-06 11:27:29.985 DEBUG 3480 --- [http-nio-8086-exec-1] com.kwok.mapper.BlogMapper.getBlogById   : ==>  Preparing: select * from blog where id = ?
2022-04-06 11:27:29.985 DEBUG 3480 --- [http-nio-8086-exec-1] com.kwok.mapper.BlogMapper.getBlogById   : ==> Parameters: 87(Integer)
2022-04-06 11:27:29.987 DEBUG 3480 --- [http-nio-8086-exec-1] com.kwok.mapper.BlogMapper.getBlogById   : <==      Total: 1
2022-04-06 11:27:29.987 DEBUG 3480 --- [http-nio-8086-exec-1] com.kwok.mapper.TagMapper.listTopTag     : ==>  Preparing: select tag.id,tag.name,tn.num from tag,(select tag_id,count(*) as num from blog_tag group by tag_id order by num desc) as tn where tag.id = tn.tag_id
2022-04-06 11:27:29.987 DEBUG 3480 --- [http-nio-8086-exec-1] com.kwok.mapper.TagMapper.listTopTag     : ==> Parameters: 
2022-04-06 11:27:29.988 DEBUG 3480 --- [http-nio-8086-exec-1] com.kwok.mapper.TagMapper.listTopTag     : <==      Total: 13
2022-04-06 11:27:29.988 DEBUG 3480 --- [http-nio-8086-exec-1] com.kwok.mapper.TypeMapper.listTopType   : ==>  Preparing: select type.id,type.name,tn.num from type,(select type_id,count(*) as num from blog group by type_id order by num desc) as tn where type.id = tn.type_id
2022-04-06 11:27:29.988 DEBUG 3480 --- [http-nio-8086-exec-1] com.kwok.mapper.TypeMapper.listTopType   : ==> Parameters: 
2022-04-06 11:27:29.989 DEBUG 3480 --- [http-nio-8086-exec-1] com.kwok.mapper.TypeMapper.listTopType   : <==      Total: 6
2022-04-06 11:27:29.990 DEBUG 3480 --- [http-nio-8086-exec-1] c.k.m.BlogMapper.listTopRecommendBlog    : ==>  Preparing: select * from blog where recommend = 1 order by update_time desc
2022-04-06 11:27:29.990 DEBUG 3480 --- [http-nio-8086-exec-1] c.k.m.BlogMapper.listTopRecommendBlog    : ==> Parameters: 
2022-04-06 11:27:29.992 DEBUG 3480 --- [http-nio-8086-exec-1] c.k.m.BlogMapper.listTopRecommendBlog    : <==      Total: 2
2022-04-06 11:27:29.993  INFO 3480 --- [http-nio-8086-exec-1] com.kwok.aspect.LogAspect                : Result : index
2022-04-06 11:27:35.182  INFO 3480 --- [http-nio-8086-exec-2] com.kwok.aspect.LogAspect                : Request : {url='http://localhost:8086/index', ip='0:0:0:0:0:0:0:1', classMethod='com.kwok.controller.IndexController.index', args=[org.apache.catalina.connector.RequestFacade@5e7b28ba, org.apache.catalina.connector.ResponseFacade@401d462b, {}]}
2022-04-06 11:27:35.183 DEBUG 3480 --- [http-nio-8086-exec-2] com.kwok.mapper.BlogMapper.getBlogCount  : ==>  Preparing: select count(1) as count from blog
2022-04-06 11:27:35.183 DEBUG 3480 --- [http-nio-8086-exec-2] com.kwok.mapper.BlogMapper.getBlogCount  : ==> Parameters: 
2022-04-06 11:27:35.184 DEBUG 3480 --- [http-nio-8086-exec-2] com.kwok.mapper.BlogMapper.getBlogCount  : <==      Total: 1
2022-04-06 11:27:35.185 DEBUG 3480 --- [http-nio-8086-exec-2] com.kwok.mapper.BlogMapper.getBlogList   : ==>  Preparing: select b.*,t.name as typeName from blog b,type t where b.type_id=t.id order by b.id desc limit ?,?
2022-04-06 11:27:35.185 DEBUG 3480 --- [http-nio-8086-exec-2] com.kwok.mapper.BlogMapper.getBlogList   : ==> Parameters: 0(Integer), 5(Integer)
2022-04-06 11:27:35.187 DEBUG 3480 --- [http-nio-8086-exec-2] com.kwok.mapper.BlogMapper.getBlogList   : <==      Total: 5
2022-04-06 11:27:35.187 DEBUG 3480 --- [http-nio-8086-exec-2] com.kwok.mapper.BlogMapper.getBlogById   : ==>  Preparing: select * from blog where id = ?
2022-04-06 11:27:35.188 DEBUG 3480 --- [http-nio-8086-exec-2] com.kwok.mapper.BlogMapper.getBlogById   : ==> Parameters: 93(Integer)
2022-04-06 11:27:35.188 DEBUG 3480 --- [http-nio-8086-exec-2] com.kwok.mapper.BlogMapper.getBlogById   : <==      Total: 0
2022-04-06 11:27:35.188 DEBUG 3480 --- [http-nio-8086-exec-2] com.kwok.mapper.BlogMapper.getBlogById   : ==>  Preparing: select * from blog where id = ?
2022-04-06 11:27:35.189 DEBUG 3480 --- [http-nio-8086-exec-2] com.kwok.mapper.BlogMapper.getBlogById   : ==> Parameters: 87(Integer)
2022-04-06 11:27:35.190 DEBUG 3480 --- [http-nio-8086-exec-2] com.kwok.mapper.BlogMapper.getBlogById   : <==      Total: 1
2022-04-06 11:27:35.190 DEBUG 3480 --- [http-nio-8086-exec-2] com.kwok.mapper.TagMapper.listTopTag     : ==>  Preparing: select tag.id,tag.name,tn.num from tag,(select tag_id,count(*) as num from blog_tag group by tag_id order by num desc) as tn where tag.id = tn.tag_id
2022-04-06 11:27:35.190 DEBUG 3480 --- [http-nio-8086-exec-2] com.kwok.mapper.TagMapper.listTopTag     : ==> Parameters: 
2022-04-06 11:27:35.191 DEBUG 3480 --- [http-nio-8086-exec-2] com.kwok.mapper.TagMapper.listTopTag     : <==      Total: 13
2022-04-06 11:27:35.191 DEBUG 3480 --- [http-nio-8086-exec-2] com.kwok.mapper.TypeMapper.listTopType   : ==>  Preparing: select type.id,type.name,tn.num from type,(select type_id,count(*) as num from blog group by type_id order by num desc) as tn where type.id = tn.type_id
2022-04-06 11:27:35.191 DEBUG 3480 --- [http-nio-8086-exec-2] com.kwok.mapper.TypeMapper.listTopType   : ==> Parameters: 
2022-04-06 11:27:35.192 DEBUG 3480 --- [http-nio-8086-exec-2] com.kwok.mapper.TypeMapper.listTopType   : <==      Total: 6
2022-04-06 11:27:35.192 DEBUG 3480 --- [http-nio-8086-exec-2] c.k.m.BlogMapper.listTopRecommendBlog    : ==>  Preparing: select * from blog where recommend = 1 order by update_time desc
2022-04-06 11:27:35.192 DEBUG 3480 --- [http-nio-8086-exec-2] c.k.m.BlogMapper.listTopRecommendBlog    : ==> Parameters: 
2022-04-06 11:27:35.195 DEBUG 3480 --- [http-nio-8086-exec-2] c.k.m.BlogMapper.listTopRecommendBlog    : <==      Total: 2
2022-04-06 11:27:35.195  INFO 3480 --- [http-nio-8086-exec-2] com.kwok.aspect.LogAspect                : Result : index
2022-04-06 11:27:39.738  INFO 3480 --- [http-nio-8086-exec-6] com.kwok.aspect.LogAspect                : Request : {url='http://localhost:8086/blog/1', ip='0:0:0:0:0:0:0:1', classMethod='com.kwok.controller.IndexController.blog', args=[1, {}]}
2022-04-06 11:27:39.739 DEBUG 3480 --- [http-nio-8086-exec-6] com.kwok.mapper.BlogMapper.getBlogById   : ==>  Preparing: select * from blog where id = ?
2022-04-06 11:27:39.739 DEBUG 3480 --- [http-nio-8086-exec-6] com.kwok.mapper.BlogMapper.getBlogById   : ==> Parameters: 1(Integer)
2022-04-06 11:27:39.740 DEBUG 3480 --- [http-nio-8086-exec-6] com.kwok.mapper.BlogMapper.getBlogById   : <==      Total: 1
2022-04-06 11:27:39.740 DEBUG 3480 --- [http-nio-8086-exec-6] c.k.mapper.BlogMapper.updateBlogViews    : ==>  Preparing: update blog set views=? where id = ?
2022-04-06 11:27:39.740 DEBUG 3480 --- [http-nio-8086-exec-6] c.k.mapper.BlogMapper.updateBlogViews    : ==> Parameters: 30(Integer), 1(Integer)
2022-04-06 11:27:39.742 DEBUG 3480 --- [http-nio-8086-exec-6] c.k.mapper.BlogMapper.updateBlogViews    : <==    Updates: 1
2022-04-06 11:27:39.749 DEBUG 3480 --- [http-nio-8086-exec-6] com.kwok.mapper.BlogMapper.getBlogById   : ==>  Preparing: select * from blog where id = ?
2022-04-06 11:27:39.749 DEBUG 3480 --- [http-nio-8086-exec-6] com.kwok.mapper.BlogMapper.getBlogById   : ==> Parameters: 1(Integer)
2022-04-06 11:27:39.750 DEBUG 3480 --- [http-nio-8086-exec-6] com.kwok.mapper.BlogMapper.getBlogById   : <==      Total: 1
2022-04-06 11:27:39.752 DEBUG 3480 --- [http-nio-8086-exec-6] c.k.m.BlogtagMapper.getTagIdByBlogId     : ==>  Preparing: select * from blog_tag where blog_id = ?
2022-04-06 11:27:39.752 DEBUG 3480 --- [http-nio-8086-exec-6] c.k.m.BlogtagMapper.getTagIdByBlogId     : ==> Parameters: 1(Integer)
2022-04-06 11:27:39.753 DEBUG 3480 --- [http-nio-8086-exec-6] c.k.m.BlogtagMapper.getTagIdByBlogId     : <==      Total: 1
2022-04-06 11:27:39.754 DEBUG 3480 --- [http-nio-8086-exec-6] com.kwok.mapper.TagMapper.getShowTags    : ==>  Preparing: select * from tag where id in ( ? )
2022-04-06 11:27:39.754 DEBUG 3480 --- [http-nio-8086-exec-6] com.kwok.mapper.TagMapper.getShowTags    : ==> Parameters: 1(Integer)
2022-04-06 11:27:39.754 DEBUG 3480 --- [http-nio-8086-exec-6] com.kwok.mapper.TagMapper.getShowTags    : <==      Total: 1
2022-04-06 11:27:39.754  INFO 3480 --- [http-nio-8086-exec-6] com.kwok.aspect.LogAspect                : Result : blog
2022-04-06 11:27:40.217  INFO 3480 --- [http-nio-8086-exec-10] com.kwok.aspect.LogAspect                : Request : {url='http://localhost:8086/comments/1', ip='0:0:0:0:0:0:0:1', classMethod='com.kwok.controller.CommentController.comments', args=[1, {}]}
2022-04-06 11:27:40.217 DEBUG 3480 --- [http-nio-8086-exec-10] c.k.m.CommentMapper.listCommentByBlogId  : ==>  Preparing: select * from comment where blog_id = ? and parent_id = 0 order by creat_time asc
2022-04-06 11:27:40.218 DEBUG 3480 --- [http-nio-8086-exec-10] c.k.m.CommentMapper.listCommentByBlogId  : ==> Parameters: 1(Integer)
2022-04-06 11:27:40.218 DEBUG 3480 --- [http-nio-8086-exec-10] c.k.m.CommentMapper.listCommentByBlogId  : <==      Total: 1
2022-04-06 11:27:40.219 DEBUG 3480 --- [http-nio-8086-exec-10] c.k.m.CommentMapper.getParentComment     : ==>  Preparing: select * from comment where id = ?
2022-04-06 11:27:40.219 DEBUG 3480 --- [http-nio-8086-exec-10] c.k.m.CommentMapper.getParentComment     : ==> Parameters: 0(Integer)
2022-04-06 11:27:40.220 DEBUG 3480 --- [http-nio-8086-exec-10] c.k.m.CommentMapper.getParentComment     : <==      Total: 0
2022-04-06 11:27:40.220 DEBUG 3480 --- [http-nio-8086-exec-10] c.k.m.CommentMapper.searchReplyComments  : ==>  Preparing: select * from comment where parent_id = ? order by creat_time asc
2022-04-06 11:27:40.220 DEBUG 3480 --- [http-nio-8086-exec-10] c.k.m.CommentMapper.searchReplyComments  : ==> Parameters: 1(Integer)
2022-04-06 11:27:40.221 DEBUG 3480 --- [http-nio-8086-exec-10] c.k.m.CommentMapper.searchReplyComments  : <==      Total: 1
2022-04-06 11:27:40.221 DEBUG 3480 --- [http-nio-8086-exec-10] c.k.m.CommentMapper.getParentComment     : ==>  Preparing: select * from comment where id = ?
2022-04-06 11:27:40.221 DEBUG 3480 --- [http-nio-8086-exec-10] c.k.m.CommentMapper.getParentComment     : ==> Parameters: 1(Integer)
2022-04-06 11:27:40.222 DEBUG 3480 --- [http-nio-8086-exec-10] c.k.m.CommentMapper.getParentComment     : <==      Total: 1
2022-04-06 11:27:40.222 DEBUG 3480 --- [http-nio-8086-exec-10] c.k.m.CommentMapper.searchReplyComments  : ==>  Preparing: select * from comment where parent_id = ? order by creat_time asc
2022-04-06 11:27:40.223 DEBUG 3480 --- [http-nio-8086-exec-10] c.k.m.CommentMapper.searchReplyComments  : ==> Parameters: 2(Integer)
2022-04-06 11:27:40.223 DEBUG 3480 --- [http-nio-8086-exec-10] c.k.m.CommentMapper.searchReplyComments  : <==      Total: 0
2022-04-06 11:27:40.224  INFO 3480 --- [http-nio-8086-exec-10] com.kwok.aspect.LogAspect                : Result : blog :: commentList
2022-04-06 11:28:00.780  INFO 3480 --- [http-nio-8086-exec-5] com.kwok.aspect.LogAspect                : Request : {url='http://localhost:8086/blog/1', ip='0:0:0:0:0:0:0:1', classMethod='com.kwok.controller.IndexController.blog', args=[1, {}]}
2022-04-06 11:28:00.781 DEBUG 3480 --- [http-nio-8086-exec-5] com.kwok.mapper.BlogMapper.getBlogById   : ==>  Preparing: select * from blog where id = ?
2022-04-06 11:28:00.782 DEBUG 3480 --- [http-nio-8086-exec-5] com.kwok.mapper.BlogMapper.getBlogById   : ==> Parameters: 1(Integer)
2022-04-06 11:28:00.782 DEBUG 3480 --- [http-nio-8086-exec-5] com.kwok.mapper.BlogMapper.getBlogById   : <==      Total: 1
2022-04-06 11:28:00.783 DEBUG 3480 --- [http-nio-8086-exec-5] c.k.mapper.BlogMapper.updateBlogViews    : ==>  Preparing: update blog set views=? where id = ?
2022-04-06 11:28:00.783 DEBUG 3480 --- [http-nio-8086-exec-5] c.k.mapper.BlogMapper.updateBlogViews    : ==> Parameters: 31(Integer), 1(Integer)
2022-04-06 11:28:00.783 DEBUG 3480 --- [http-nio-8086-exec-5] c.k.mapper.BlogMapper.updateBlogViews    : <==    Updates: 1
2022-04-06 11:28:00.790 DEBUG 3480 --- [http-nio-8086-exec-5] com.kwok.mapper.BlogMapper.getBlogById   : ==>  Preparing: select * from blog where id = ?
2022-04-06 11:28:00.790 DEBUG 3480 --- [http-nio-8086-exec-5] com.kwok.mapper.BlogMapper.getBlogById   : ==> Parameters: 1(Integer)
2022-04-06 11:28:00.791 DEBUG 3480 --- [http-nio-8086-exec-5] com.kwok.mapper.BlogMapper.getBlogById   : <==      Total: 1
2022-04-06 11:28:00.792 DEBUG 3480 --- [http-nio-8086-exec-5] c.k.m.BlogtagMapper.getTagIdByBlogId     : ==>  Preparing: select * from blog_tag where blog_id = ?
2022-04-06 11:28:00.792 DEBUG 3480 --- [http-nio-8086-exec-5] c.k.m.BlogtagMapper.getTagIdByBlogId     : ==> Parameters: 1(Integer)
2022-04-06 11:28:00.793 DEBUG 3480 --- [http-nio-8086-exec-5] c.k.m.BlogtagMapper.getTagIdByBlogId     : <==      Total: 1
2022-04-06 11:28:00.794 DEBUG 3480 --- [http-nio-8086-exec-5] com.kwok.mapper.TagMapper.getShowTags    : ==>  Preparing: select * from tag where id in ( ? )
2022-04-06 11:28:00.794 DEBUG 3480 --- [http-nio-8086-exec-5] com.kwok.mapper.TagMapper.getShowTags    : ==> Parameters: 1(Integer)
2022-04-06 11:28:00.795 DEBUG 3480 --- [http-nio-8086-exec-5] com.kwok.mapper.TagMapper.getShowTags    : <==      Total: 1
2022-04-06 11:28:00.795  INFO 3480 --- [http-nio-8086-exec-5] com.kwok.aspect.LogAspect                : Result : blog
2022-04-06 11:28:01.151  INFO 3480 --- [http-nio-8086-exec-2] com.kwok.aspect.LogAspect                : Request : {url='http://localhost:8086/comments/1', ip='0:0:0:0:0:0:0:1', classMethod='com.kwok.controller.CommentController.comments', args=[1, {}]}
2022-04-06 11:28:01.151 DEBUG 3480 --- [http-nio-8086-exec-2] c.k.m.CommentMapper.listCommentByBlogId  : ==>  Preparing: select * from comment where blog_id = ? and parent_id = 0 order by creat_time asc
2022-04-06 11:28:01.152 DEBUG 3480 --- [http-nio-8086-exec-2] c.k.m.CommentMapper.listCommentByBlogId  : ==> Parameters: 1(Integer)
2022-04-06 11:28:01.153 DEBUG 3480 --- [http-nio-8086-exec-2] c.k.m.CommentMapper.listCommentByBlogId  : <==      Total: 1
2022-04-06 11:28:01.153 DEBUG 3480 --- [http-nio-8086-exec-2] c.k.m.CommentMapper.getParentComment     : ==>  Preparing: select * from comment where id = ?
2022-04-06 11:28:01.153 DEBUG 3480 --- [http-nio-8086-exec-2] c.k.m.CommentMapper.getParentComment     : ==> Parameters: 0(Integer)
2022-04-06 11:28:01.154 DEBUG 3480 --- [http-nio-8086-exec-2] c.k.m.CommentMapper.getParentComment     : <==      Total: 0
2022-04-06 11:28:01.154 DEBUG 3480 --- [http-nio-8086-exec-2] c.k.m.CommentMapper.searchReplyComments  : ==>  Preparing: select * from comment where parent_id = ? order by creat_time asc
2022-04-06 11:28:01.154 DEBUG 3480 --- [http-nio-8086-exec-2] c.k.m.CommentMapper.searchReplyComments  : ==> Parameters: 1(Integer)
2022-04-06 11:28:01.155 DEBUG 3480 --- [http-nio-8086-exec-2] c.k.m.CommentMapper.searchReplyComments  : <==      Total: 1
2022-04-06 11:28:01.155 DEBUG 3480 --- [http-nio-8086-exec-2] c.k.m.CommentMapper.getParentComment     : ==>  Preparing: select * from comment where id = ?
2022-04-06 11:28:01.155 DEBUG 3480 --- [http-nio-8086-exec-2] c.k.m.CommentMapper.getParentComment     : ==> Parameters: 1(Integer)
2022-04-06 11:28:01.156 DEBUG 3480 --- [http-nio-8086-exec-2] c.k.m.CommentMapper.getParentComment     : <==      Total: 1
2022-04-06 11:28:01.156 DEBUG 3480 --- [http-nio-8086-exec-2] c.k.m.CommentMapper.searchReplyComments  : ==>  Preparing: select * from comment where parent_id = ? order by creat_time asc
2022-04-06 11:28:01.156 DEBUG 3480 --- [http-nio-8086-exec-2] c.k.m.CommentMapper.searchReplyComments  : ==> Parameters: 2(Integer)
2022-04-06 11:28:01.157 DEBUG 3480 --- [http-nio-8086-exec-2] c.k.m.CommentMapper.searchReplyComments  : <==      Total: 0
2022-04-06 11:28:01.158  INFO 3480 --- [http-nio-8086-exec-2] com.kwok.aspect.LogAspect                : Result : blog :: commentList
2022-04-06 11:29:55.085  INFO 3480 --- [http-nio-8086-exec-1] com.kwok.aspect.LogAspect                : Request : {url='http://localhost:8086/index', ip='0:0:0:0:0:0:0:1', classMethod='com.kwok.controller.IndexController.index', args=[org.apache.catalina.connector.RequestFacade@78f772d3, org.apache.catalina.connector.ResponseFacade@5aab1707, {}]}
2022-04-06 11:29:55.085 DEBUG 3480 --- [http-nio-8086-exec-1] com.kwok.mapper.BlogMapper.getBlogCount  : ==>  Preparing: select count(1) as count from blog
2022-04-06 11:29:55.085 DEBUG 3480 --- [http-nio-8086-exec-1] com.kwok.mapper.BlogMapper.getBlogCount  : ==> Parameters: 
2022-04-06 11:29:55.087 DEBUG 3480 --- [http-nio-8086-exec-1] com.kwok.mapper.BlogMapper.getBlogCount  : <==      Total: 1
2022-04-06 11:29:55.088 DEBUG 3480 --- [http-nio-8086-exec-1] com.kwok.mapper.BlogMapper.getBlogList   : ==>  Preparing: select b.*,t.name as typeName from blog b,type t where b.type_id=t.id order by b.id desc limit ?,?
2022-04-06 11:29:55.088 DEBUG 3480 --- [http-nio-8086-exec-1] com.kwok.mapper.BlogMapper.getBlogList   : ==> Parameters: 0(Integer), 5(Integer)
2022-04-06 11:29:55.090 DEBUG 3480 --- [http-nio-8086-exec-1] com.kwok.mapper.BlogMapper.getBlogList   : <==      Total: 5
2022-04-06 11:29:55.091 DEBUG 3480 --- [http-nio-8086-exec-1] com.kwok.mapper.BlogMapper.getBlogById   : ==>  Preparing: select * from blog where id = ?
2022-04-06 11:29:55.091 DEBUG 3480 --- [http-nio-8086-exec-1] com.kwok.mapper.BlogMapper.getBlogById   : ==> Parameters: 93(Integer)
2022-04-06 11:29:55.091 DEBUG 3480 --- [http-nio-8086-exec-1] com.kwok.mapper.BlogMapper.getBlogById   : <==      Total: 0
2022-04-06 11:29:55.092 DEBUG 3480 --- [http-nio-8086-exec-1] com.kwok.mapper.BlogMapper.getBlogById   : ==>  Preparing: select * from blog where id = ?
2022-04-06 11:29:55.092 DEBUG 3480 --- [http-nio-8086-exec-1] com.kwok.mapper.BlogMapper.getBlogById   : ==> Parameters: 87(Integer)
2022-04-06 11:29:55.093 DEBUG 3480 --- [http-nio-8086-exec-1] com.kwok.mapper.BlogMapper.getBlogById   : <==      Total: 1
2022-04-06 11:29:55.093 DEBUG 3480 --- [http-nio-8086-exec-1] com.kwok.mapper.TagMapper.listTopTag     : ==>  Preparing: select tag.id,tag.name,tn.num from tag,(select tag_id,count(*) as num from blog_tag group by tag_id order by num desc) as tn where tag.id = tn.tag_id
2022-04-06 11:29:55.093 DEBUG 3480 --- [http-nio-8086-exec-1] com.kwok.mapper.TagMapper.listTopTag     : ==> Parameters: 
2022-04-06 11:29:55.094 DEBUG 3480 --- [http-nio-8086-exec-1] com.kwok.mapper.TagMapper.listTopTag     : <==      Total: 13
2022-04-06 11:29:55.094 DEBUG 3480 --- [http-nio-8086-exec-1] com.kwok.mapper.TypeMapper.listTopType   : ==>  Preparing: select type.id,type.name,tn.num from type,(select type_id,count(*) as num from blog group by type_id order by num desc) as tn where type.id = tn.type_id
2022-04-06 11:29:55.094 DEBUG 3480 --- [http-nio-8086-exec-1] com.kwok.mapper.TypeMapper.listTopType   : ==> Parameters: 
2022-04-06 11:29:55.095 DEBUG 3480 --- [http-nio-8086-exec-1] com.kwok.mapper.TypeMapper.listTopType   : <==      Total: 6
2022-04-06 11:29:55.095 DEBUG 3480 --- [http-nio-8086-exec-1] c.k.m.BlogMapper.listTopRecommendBlog    : ==>  Preparing: select * from blog where recommend = 1 order by update_time desc
2022-04-06 11:29:55.095 DEBUG 3480 --- [http-nio-8086-exec-1] c.k.m.BlogMapper.listTopRecommendBlog    : ==> Parameters: 
2022-04-06 11:29:55.098 DEBUG 3480 --- [http-nio-8086-exec-1] c.k.m.BlogMapper.listTopRecommendBlog    : <==      Total: 2
2022-04-06 11:29:55.098  INFO 3480 --- [http-nio-8086-exec-1] com.kwok.aspect.LogAspect                : Result : index
2022-04-06 11:30:03.257  INFO 3480 --- [http-nio-8086-exec-7] com.kwok.aspect.LogAspect                : Request : {url='http://localhost:8086/types/-1', ip='0:0:0:0:0:0:0:1', classMethod='com.kwok.controller.TypeShowController.types', args=[-1, org.apache.catalina.connector.RequestFacade@4828a8cb, {}]}
2022-04-06 11:30:03.258 DEBUG 3480 --- [http-nio-8086-exec-7] com.kwok.mapper.TypeMapper.listType      : ==>  Preparing: select * from type order by id desc
2022-04-06 11:30:03.258 DEBUG 3480 --- [http-nio-8086-exec-7] com.kwok.mapper.TypeMapper.listType      : ==> Parameters: 
2022-04-06 11:30:03.259 DEBUG 3480 --- [http-nio-8086-exec-7] com.kwok.mapper.TypeMapper.listType      : <==      Total: 7
2022-04-06 11:30:03.259 DEBUG 3480 --- [http-nio-8086-exec-7] c.k.m.BlogMapper.getBlogCountByTypeId    : ==>  Preparing: select count(1) as count from blog where type_id = ?
2022-04-06 11:30:03.259 DEBUG 3480 --- [http-nio-8086-exec-7] c.k.m.BlogMapper.getBlogCountByTypeId    : ==> Parameters: 7(Integer)
2022-04-06 11:30:03.260 DEBUG 3480 --- [http-nio-8086-exec-7] c.k.m.BlogMapper.getBlogCountByTypeId    : <==      Total: 1
2022-04-06 11:30:03.260 DEBUG 3480 --- [http-nio-8086-exec-7] c.k.m.BlogMapper.getBlogCountByTypeId    : ==>  Preparing: select count(1) as count from blog where type_id = ?
2022-04-06 11:30:03.260 DEBUG 3480 --- [http-nio-8086-exec-7] c.k.m.BlogMapper.getBlogCountByTypeId    : ==> Parameters: 6(Integer)
2022-04-06 11:30:03.261 DEBUG 3480 --- [http-nio-8086-exec-7] c.k.m.BlogMapper.getBlogCountByTypeId    : <==      Total: 1
2022-04-06 11:30:03.261 DEBUG 3480 --- [http-nio-8086-exec-7] c.k.m.BlogMapper.getBlogCountByTypeId    : ==>  Preparing: select count(1) as count from blog where type_id = ?
2022-04-06 11:30:03.261 DEBUG 3480 --- [http-nio-8086-exec-7] c.k.m.BlogMapper.getBlogCountByTypeId    : ==> Parameters: 5(Integer)
2022-04-06 11:30:03.262 DEBUG 3480 --- [http-nio-8086-exec-7] c.k.m.BlogMapper.getBlogCountByTypeId    : <==      Total: 1
2022-04-06 11:30:03.262 DEBUG 3480 --- [http-nio-8086-exec-7] c.k.m.BlogMapper.getBlogCountByTypeId    : ==>  Preparing: select count(1) as count from blog where type_id = ?
2022-04-06 11:30:03.262 DEBUG 3480 --- [http-nio-8086-exec-7] c.k.m.BlogMapper.getBlogCountByTypeId    : ==> Parameters: 4(Integer)
2022-04-06 11:30:03.263 DEBUG 3480 --- [http-nio-8086-exec-7] c.k.m.BlogMapper.getBlogCountByTypeId    : <==      Total: 1
2022-04-06 11:30:03.263 DEBUG 3480 --- [http-nio-8086-exec-7] c.k.m.BlogMapper.getBlogCountByTypeId    : ==>  Preparing: select count(1) as count from blog where type_id = ?
2022-04-06 11:30:03.263 DEBUG 3480 --- [http-nio-8086-exec-7] c.k.m.BlogMapper.getBlogCountByTypeId    : ==> Parameters: 3(Integer)
2022-04-06 11:30:03.264 DEBUG 3480 --- [http-nio-8086-exec-7] c.k.m.BlogMapper.getBlogCountByTypeId    : <==      Total: 1
2022-04-06 11:30:03.264 DEBUG 3480 --- [http-nio-8086-exec-7] c.k.m.BlogMapper.getBlogCountByTypeId    : ==>  Preparing: select count(1) as count from blog where type_id = ?
2022-04-06 11:30:03.264 DEBUG 3480 --- [http-nio-8086-exec-7] c.k.m.BlogMapper.getBlogCountByTypeId    : ==> Parameters: 2(Integer)
2022-04-06 11:30:03.265 DEBUG 3480 --- [http-nio-8086-exec-7] c.k.m.BlogMapper.getBlogCountByTypeId    : <==      Total: 1
2022-04-06 11:30:03.265 DEBUG 3480 --- [http-nio-8086-exec-7] c.k.m.BlogMapper.getBlogCountByTypeId    : ==>  Preparing: select count(1) as count from blog where type_id = ?
2022-04-06 11:30:03.265 DEBUG 3480 --- [http-nio-8086-exec-7] c.k.m.BlogMapper.getBlogCountByTypeId    : ==> Parameters: 1(Integer)
2022-04-06 11:30:03.266 DEBUG 3480 --- [http-nio-8086-exec-7] c.k.m.BlogMapper.getBlogCountByTypeId    : <==      Total: 1
2022-04-06 11:30:03.267 DEBUG 3480 --- [http-nio-8086-exec-7] c.k.m.BlogMapper.getBlogCountByTypeId    : ==>  Preparing: select count(1) as count from blog where type_id = ?
2022-04-06 11:30:03.267 DEBUG 3480 --- [http-nio-8086-exec-7] c.k.m.BlogMapper.getBlogCountByTypeId    : ==> Parameters: 7(Integer)
2022-04-06 11:30:03.267 DEBUG 3480 --- [http-nio-8086-exec-7] c.k.m.BlogMapper.getBlogCountByTypeId    : <==      Total: 1
2022-04-06 11:30:03.267 DEBUG 3480 --- [http-nio-8086-exec-7] c.k.m.BlogMapper.getBlogListByTypeId     : ==>  Preparing: select b.*,t.name as typeName from blog b,type t where b.type_id=t.id and b.type_id=? order by b.id desc limit ?,?
2022-04-06 11:30:03.268 DEBUG 3480 --- [http-nio-8086-exec-7] c.k.m.BlogMapper.getBlogListByTypeId     : ==> Parameters: 7(Integer), 0(Integer), 5(Integer)
2022-04-06 11:30:03.270 DEBUG 3480 --- [http-nio-8086-exec-7] c.k.m.BlogMapper.getBlogListByTypeId     : <==      Total: 5
2022-04-06 11:30:03.271 DEBUG 3480 --- [http-nio-8086-exec-7] c.k.mapper.BlogMapper.getPreBlogsById    : ==>  Preparing: select * from blog where type_id=? and id > ?
2022-04-06 11:30:03.271 DEBUG 3480 --- [http-nio-8086-exec-7] c.k.mapper.BlogMapper.getPreBlogsById    : ==> Parameters: 7(Integer), 89(Integer)
2022-04-06 11:30:03.272 DEBUG 3480 --- [http-nio-8086-exec-7] c.k.mapper.BlogMapper.getPreBlogsById    : <==      Total: 0
2022-04-06 11:30:03.272 DEBUG 3480 --- [http-nio-8086-exec-7] c.k.mapper.BlogMapper.getNextBlogsById   : ==>  Preparing: select * from blog where type_id=? and ? > id
2022-04-06 11:30:03.272 DEBUG 3480 --- [http-nio-8086-exec-7] c.k.mapper.BlogMapper.getNextBlogsById   : ==> Parameters: 7(Integer), 85(Integer)
2022-04-06 11:30:03.274 DEBUG 3480 --- [http-nio-8086-exec-7] c.k.mapper.BlogMapper.getNextBlogsById   : <==      Total: 2
2022-04-06 11:30:03.274  INFO 3480 --- [http-nio-8086-exec-7] com.kwok.aspect.LogAspect                : Result : types
2022-04-06 11:30:08.276  INFO 3480 --- [http-nio-8086-exec-10] com.kwok.aspect.LogAspect                : Request : {url='http://localhost:8086/types/4', ip='0:0:0:0:0:0:0:1', classMethod='com.kwok.controller.TypeShowController.types', args=[4, org.apache.catalina.connector.RequestFacade@5e7b28ba, {}]}
2022-04-06 11:30:08.277 DEBUG 3480 --- [http-nio-8086-exec-10] com.kwok.mapper.TypeMapper.listType      : ==>  Preparing: select * from type order by id desc
2022-04-06 11:30:08.277 DEBUG 3480 --- [http-nio-8086-exec-10] com.kwok.mapper.TypeMapper.listType      : ==> Parameters: 
2022-04-06 11:30:08.278 DEBUG 3480 --- [http-nio-8086-exec-10] com.kwok.mapper.TypeMapper.listType      : <==      Total: 7
2022-04-06 11:30:08.278 DEBUG 3480 --- [http-nio-8086-exec-10] c.k.m.BlogMapper.getBlogCountByTypeId    : ==>  Preparing: select count(1) as count from blog where type_id = ?
2022-04-06 11:30:08.278 DEBUG 3480 --- [http-nio-8086-exec-10] c.k.m.BlogMapper.getBlogCountByTypeId    : ==> Parameters: 7(Integer)
2022-04-06 11:30:08.279 DEBUG 3480 --- [http-nio-8086-exec-10] c.k.m.BlogMapper.getBlogCountByTypeId    : <==      Total: 1
2022-04-06 11:30:08.279 DEBUG 3480 --- [http-nio-8086-exec-10] c.k.m.BlogMapper.getBlogCountByTypeId    : ==>  Preparing: select count(1) as count from blog where type_id = ?
2022-04-06 11:30:08.279 DEBUG 3480 --- [http-nio-8086-exec-10] c.k.m.BlogMapper.getBlogCountByTypeId    : ==> Parameters: 6(Integer)
2022-04-06 11:30:08.280 DEBUG 3480 --- [http-nio-8086-exec-10] c.k.m.BlogMapper.getBlogCountByTypeId    : <==      Total: 1
2022-04-06 11:30:08.280 DEBUG 3480 --- [http-nio-8086-exec-10] c.k.m.BlogMapper.getBlogCountByTypeId    : ==>  Preparing: select count(1) as count from blog where type_id = ?
2022-04-06 11:30:08.280 DEBUG 3480 --- [http-nio-8086-exec-10] c.k.m.BlogMapper.getBlogCountByTypeId    : ==> Parameters: 5(Integer)
2022-04-06 11:30:08.281 DEBUG 3480 --- [http-nio-8086-exec-10] c.k.m.BlogMapper.getBlogCountByTypeId    : <==      Total: 1
2022-04-06 11:30:08.281 DEBUG 3480 --- [http-nio-8086-exec-10] c.k.m.BlogMapper.getBlogCountByTypeId    : ==>  Preparing: select count(1) as count from blog where type_id = ?
2022-04-06 11:30:08.281 DEBUG 3480 --- [http-nio-8086-exec-10] c.k.m.BlogMapper.getBlogCountByTypeId    : ==> Parameters: 4(Integer)
2022-04-06 11:30:08.282 DEBUG 3480 --- [http-nio-8086-exec-10] c.k.m.BlogMapper.getBlogCountByTypeId    : <==      Total: 1
2022-04-06 11:30:08.282 DEBUG 3480 --- [http-nio-8086-exec-10] c.k.m.BlogMapper.getBlogCountByTypeId    : ==>  Preparing: select count(1) as count from blog where type_id = ?
2022-04-06 11:30:08.282 DEBUG 3480 --- [http-nio-8086-exec-10] c.k.m.BlogMapper.getBlogCountByTypeId    : ==> Parameters: 3(Integer)
2022-04-06 11:30:08.282 DEBUG 3480 --- [http-nio-8086-exec-10] c.k.m.BlogMapper.getBlogCountByTypeId    : <==      Total: 1
2022-04-06 11:30:08.283 DEBUG 3480 --- [http-nio-8086-exec-10] c.k.m.BlogMapper.getBlogCountByTypeId    : ==>  Preparing: select count(1) as count from blog where type_id = ?
2022-04-06 11:30:08.283 DEBUG 3480 --- [http-nio-8086-exec-10] c.k.m.BlogMapper.getBlogCountByTypeId    : ==> Parameters: 2(Integer)
2022-04-06 11:30:08.283 DEBUG 3480 --- [http-nio-8086-exec-10] c.k.m.BlogMapper.getBlogCountByTypeId    : <==      Total: 1
2022-04-06 11:30:08.283 DEBUG 3480 --- [http-nio-8086-exec-10] c.k.m.BlogMapper.getBlogCountByTypeId    : ==>  Preparing: select count(1) as count from blog where type_id = ?
2022-04-06 11:30:08.283 DEBUG 3480 --- [http-nio-8086-exec-10] c.k.m.BlogMapper.getBlogCountByTypeId    : ==> Parameters: 1(Integer)
2022-04-06 11:30:08.284 DEBUG 3480 --- [http-nio-8086-exec-10] c.k.m.BlogMapper.getBlogCountByTypeId    : <==      Total: 1
2022-04-06 11:30:08.284 DEBUG 3480 --- [http-nio-8086-exec-10] c.k.m.BlogMapper.getBlogCountByTypeId    : ==>  Preparing: select count(1) as count from blog where type_id = ?
2022-04-06 11:30:08.284 DEBUG 3480 --- [http-nio-8086-exec-10] c.k.m.BlogMapper.getBlogCountByTypeId    : ==> Parameters: 4(Integer)
2022-04-06 11:30:08.285 DEBUG 3480 --- [http-nio-8086-exec-10] c.k.m.BlogMapper.getBlogCountByTypeId    : <==      Total: 1
2022-04-06 11:30:08.285 DEBUG 3480 --- [http-nio-8086-exec-10] c.k.m.BlogMapper.getBlogListByTypeId     : ==>  Preparing: select b.*,t.name as typeName from blog b,type t where b.type_id=t.id and b.type_id=? order by b.id desc limit ?,?
2022-04-06 11:30:08.285 DEBUG 3480 --- [http-nio-8086-exec-10] c.k.m.BlogMapper.getBlogListByTypeId     : ==> Parameters: 4(Integer), 0(Integer), 5(Integer)
2022-04-06 11:30:08.290 DEBUG 3480 --- [http-nio-8086-exec-10] c.k.m.BlogMapper.getBlogListByTypeId     : <==      Total: 5
2022-04-06 11:30:08.291 DEBUG 3480 --- [http-nio-8086-exec-10] c.k.mapper.BlogMapper.getPreBlogsById    : ==>  Preparing: select * from blog where type_id=? and id > ?
2022-04-06 11:30:08.291 DEBUG 3480 --- [http-nio-8086-exec-10] c.k.mapper.BlogMapper.getPreBlogsById    : ==> Parameters: 4(Integer), 17(Integer)
2022-04-06 11:30:08.292 DEBUG 3480 --- [http-nio-8086-exec-10] c.k.mapper.BlogMapper.getPreBlogsById    : <==      Total: 0
2022-04-06 11:30:08.292 DEBUG 3480 --- [http-nio-8086-exec-10] c.k.mapper.BlogMapper.getNextBlogsById   : ==>  Preparing: select * from blog where type_id=? and ? > id
2022-04-06 11:30:08.293 DEBUG 3480 --- [http-nio-8086-exec-10] c.k.mapper.BlogMapper.getNextBlogsById   : ==> Parameters: 4(Integer), 13(Integer)
2022-04-06 11:30:08.295 DEBUG 3480 --- [http-nio-8086-exec-10] c.k.mapper.BlogMapper.getNextBlogsById   : <==      Total: 4
2022-04-06 11:30:08.296  INFO 3480 --- [http-nio-8086-exec-10] com.kwok.aspect.LogAspect                : Result : types
2022-04-06 11:30:10.401  INFO 3480 --- [http-nio-8086-exec-3] com.kwok.aspect.LogAspect                : Request : {url='http://localhost:8086/types/6', ip='0:0:0:0:0:0:0:1', classMethod='com.kwok.controller.TypeShowController.types', args=[6, org.apache.catalina.connector.RequestFacade@5275f048, {}]}
2022-04-06 11:30:10.402 DEBUG 3480 --- [http-nio-8086-exec-3] com.kwok.mapper.TypeMapper.listType      : ==>  Preparing: select * from type order by id desc
2022-04-06 11:30:10.402 DEBUG 3480 --- [http-nio-8086-exec-3] com.kwok.mapper.TypeMapper.listType      : ==> Parameters: 
2022-04-06 11:30:10.403 DEBUG 3480 --- [http-nio-8086-exec-3] com.kwok.mapper.TypeMapper.listType      : <==      Total: 7
2022-04-06 11:30:10.404 DEBUG 3480 --- [http-nio-8086-exec-3] c.k.m.BlogMapper.getBlogCountByTypeId    : ==>  Preparing: select count(1) as count from blog where type_id = ?
2022-04-06 11:30:10.404 DEBUG 3480 --- [http-nio-8086-exec-3] c.k.m.BlogMapper.getBlogCountByTypeId    : ==> Parameters: 7(Integer)
2022-04-06 11:30:10.405 DEBUG 3480 --- [http-nio-8086-exec-3] c.k.m.BlogMapper.getBlogCountByTypeId    : <==      Total: 1
2022-04-06 11:30:10.405 DEBUG 3480 --- [http-nio-8086-exec-3] c.k.m.BlogMapper.getBlogCountByTypeId    : ==>  Preparing: select count(1) as count from blog where type_id = ?
2022-04-06 11:30:10.405 DEBUG 3480 --- [http-nio-8086-exec-3] c.k.m.BlogMapper.getBlogCountByTypeId    : ==> Parameters: 6(Integer)
2022-04-06 11:30:10.406 DEBUG 3480 --- [http-nio-8086-exec-3] c.k.m.BlogMapper.getBlogCountByTypeId    : <==      Total: 1
2022-04-06 11:30:10.406 DEBUG 3480 --- [http-nio-8086-exec-3] c.k.m.BlogMapper.getBlogCountByTypeId    : ==>  Preparing: select count(1) as count from blog where type_id = ?
2022-04-06 11:30:10.406 DEBUG 3480 --- [http-nio-8086-exec-3] c.k.m.BlogMapper.getBlogCountByTypeId    : ==> Parameters: 5(Integer)
2022-04-06 11:30:10.407 DEBUG 3480 --- [http-nio-8086-exec-3] c.k.m.BlogMapper.getBlogCountByTypeId    : <==      Total: 1
2022-04-06 11:30:10.407 DEBUG 3480 --- [http-nio-8086-exec-3] c.k.m.BlogMapper.getBlogCountByTypeId    : ==>  Preparing: select count(1) as count from blog where type_id = ?
2022-04-06 11:30:10.407 DEBUG 3480 --- [http-nio-8086-exec-3] c.k.m.BlogMapper.getBlogCountByTypeId    : ==> Parameters: 4(Integer)
2022-04-06 11:30:10.408 DEBUG 3480 --- [http-nio-8086-exec-3] c.k.m.BlogMapper.getBlogCountByTypeId    : <==      Total: 1
2022-04-06 11:30:10.408 DEBUG 3480 --- [http-nio-8086-exec-3] c.k.m.BlogMapper.getBlogCountByTypeId    : ==>  Preparing: select count(1) as count from blog where type_id = ?
2022-04-06 11:30:10.408 DEBUG 3480 --- [http-nio-8086-exec-3] c.k.m.BlogMapper.getBlogCountByTypeId    : ==> Parameters: 3(Integer)
2022-04-06 11:30:10.408 DEBUG 3480 --- [http-nio-8086-exec-3] c.k.m.BlogMapper.getBlogCountByTypeId    : <==      Total: 1
2022-04-06 11:30:10.409 DEBUG 3480 --- [http-nio-8086-exec-3] c.k.m.BlogMapper.getBlogCountByTypeId    : ==>  Preparing: select count(1) as count from blog where type_id = ?
2022-04-06 11:30:10.409 DEBUG 3480 --- [http-nio-8086-exec-3] c.k.m.BlogMapper.getBlogCountByTypeId    : ==> Parameters: 2(Integer)
2022-04-06 11:30:10.409 DEBUG 3480 --- [http-nio-8086-exec-3] c.k.m.BlogMapper.getBlogCountByTypeId    : <==      Total: 1
2022-04-06 11:30:10.409 DEBUG 3480 --- [http-nio-8086-exec-3] c.k.m.BlogMapper.getBlogCountByTypeId    : ==>  Preparing: select count(1) as count from blog where type_id = ?
2022-04-06 11:30:10.409 DEBUG 3480 --- [http-nio-8086-exec-3] c.k.m.BlogMapper.getBlogCountByTypeId    : ==> Parameters: 1(Integer)
2022-04-06 11:30:10.410 DEBUG 3480 --- [http-nio-8086-exec-3] c.k.m.BlogMapper.getBlogCountByTypeId    : <==      Total: 1
2022-04-06 11:30:10.410 DEBUG 3480 --- [http-nio-8086-exec-3] c.k.m.BlogMapper.getBlogCountByTypeId    : ==>  Preparing: select count(1) as count from blog where type_id = ?
2022-04-06 11:30:10.410 DEBUG 3480 --- [http-nio-8086-exec-3] c.k.m.BlogMapper.getBlogCountByTypeId    : ==> Parameters: 6(Integer)
2022-04-06 11:30:10.411 DEBUG 3480 --- [http-nio-8086-exec-3] c.k.m.BlogMapper.getBlogCountByTypeId    : <==      Total: 1
2022-04-06 11:30:10.411 DEBUG 3480 --- [http-nio-8086-exec-3] c.k.m.BlogMapper.getBlogListByTypeId     : ==>  Preparing: select b.*,t.name as typeName from blog b,type t where b.type_id=t.id and b.type_id=? order by b.id desc limit ?,?
2022-04-06 11:30:10.411 DEBUG 3480 --- [http-nio-8086-exec-3] c.k.m.BlogMapper.getBlogListByTypeId     : ==> Parameters: 6(Integer), 0(Integer), 5(Integer)
2022-04-06 11:30:10.415 DEBUG 3480 --- [http-nio-8086-exec-3] c.k.m.BlogMapper.getBlogListByTypeId     : <==      Total: 5
2022-04-06 11:30:10.415 DEBUG 3480 --- [http-nio-8086-exec-3] c.k.mapper.BlogMapper.getPreBlogsById    : ==>  Preparing: select * from blog where type_id=? and id > ?
2022-04-06 11:30:10.415 DEBUG 3480 --- [http-nio-8086-exec-3] c.k.mapper.BlogMapper.getPreBlogsById    : ==> Parameters: 6(Integer), 82(Integer)
2022-04-06 11:30:10.416 DEBUG 3480 --- [http-nio-8086-exec-3] c.k.mapper.BlogMapper.getPreBlogsById    : <==      Total: 0
2022-04-06 11:30:10.416 DEBUG 3480 --- [http-nio-8086-exec-3] c.k.mapper.BlogMapper.getNextBlogsById   : ==>  Preparing: select * from blog where type_id=? and ? > id
2022-04-06 11:30:10.416 DEBUG 3480 --- [http-nio-8086-exec-3] c.k.mapper.BlogMapper.getNextBlogsById   : ==> Parameters: 6(Integer), 78(Integer)
2022-04-06 11:30:10.435 DEBUG 3480 --- [http-nio-8086-exec-3] c.k.mapper.BlogMapper.getNextBlogsById   : <==      Total: 60
2022-04-06 11:30:10.435  INFO 3480 --- [http-nio-8086-exec-3] com.kwok.aspect.LogAspect                : Result : types
2022-04-06 11:30:16.869  INFO 3480 --- [http-nio-8086-exec-5] com.kwok.aspect.LogAspect                : Request : {url='http://localhost:8086/types/topage', ip='0:0:0:0:0:0:0:1', classMethod='com.kwok.controller.TypeShowController.searchTopage', args=[org.apache.catalina.connector.RequestFacade@5275f048, org.apache.catalina.connector.ResponseFacade@7845c041, {}]}
2022-04-06 11:30:16.870 DEBUG 3480 --- [http-nio-8086-exec-5] com.kwok.mapper.TypeMapper.listType      : ==>  Preparing: select * from type order by id desc
2022-04-06 11:30:16.870 DEBUG 3480 --- [http-nio-8086-exec-5] com.kwok.mapper.TypeMapper.listType      : ==> Parameters: 
2022-04-06 11:30:16.871 DEBUG 3480 --- [http-nio-8086-exec-5] com.kwok.mapper.TypeMapper.listType      : <==      Total: 7
2022-04-06 11:30:16.871 DEBUG 3480 --- [http-nio-8086-exec-5] c.k.m.BlogMapper.getBlogCountByTypeId    : ==>  Preparing: select count(1) as count from blog where type_id = ?
2022-04-06 11:30:16.871 DEBUG 3480 --- [http-nio-8086-exec-5] c.k.m.BlogMapper.getBlogCountByTypeId    : ==> Parameters: 7(Integer)
2022-04-06 11:30:16.871 DEBUG 3480 --- [http-nio-8086-exec-5] c.k.m.BlogMapper.getBlogCountByTypeId    : <==      Total: 1
2022-04-06 11:30:16.872 DEBUG 3480 --- [http-nio-8086-exec-5] c.k.m.BlogMapper.getBlogCountByTypeId    : ==>  Preparing: select count(1) as count from blog where type_id = ?
2022-04-06 11:30:16.872 DEBUG 3480 --- [http-nio-8086-exec-5] c.k.m.BlogMapper.getBlogCountByTypeId    : ==> Parameters: 6(Integer)
2022-04-06 11:30:16.872 DEBUG 3480 --- [http-nio-8086-exec-5] c.k.m.BlogMapper.getBlogCountByTypeId    : <==      Total: 1
2022-04-06 11:30:16.872 DEBUG 3480 --- [http-nio-8086-exec-5] c.k.m.BlogMapper.getBlogCountByTypeId    : ==>  Preparing: select count(1) as count from blog where type_id = ?
2022-04-06 11:30:16.872 DEBUG 3480 --- [http-nio-8086-exec-5] c.k.m.BlogMapper.getBlogCountByTypeId    : ==> Parameters: 5(Integer)
2022-04-06 11:30:16.873 DEBUG 3480 --- [http-nio-8086-exec-5] c.k.m.BlogMapper.getBlogCountByTypeId    : <==      Total: 1
2022-04-06 11:30:16.873 DEBUG 3480 --- [http-nio-8086-exec-5] c.k.m.BlogMapper.getBlogCountByTypeId    : ==>  Preparing: select count(1) as count from blog where type_id = ?
2022-04-06 11:30:16.873 DEBUG 3480 --- [http-nio-8086-exec-5] c.k.m.BlogMapper.getBlogCountByTypeId    : ==> Parameters: 4(Integer)
2022-04-06 11:30:16.873 DEBUG 3480 --- [http-nio-8086-exec-5] c.k.m.BlogMapper.getBlogCountByTypeId    : <==      Total: 1
2022-04-06 11:30:16.873 DEBUG 3480 --- [http-nio-8086-exec-5] c.k.m.BlogMapper.getBlogCountByTypeId    : ==>  Preparing: select count(1) as count from blog where type_id = ?
2022-04-06 11:30:16.874 DEBUG 3480 --- [http-nio-8086-exec-5] c.k.m.BlogMapper.getBlogCountByTypeId    : ==> Parameters: 3(Integer)
2022-04-06 11:30:16.874 DEBUG 3480 --- [http-nio-8086-exec-5] c.k.m.BlogMapper.getBlogCountByTypeId    : <==      Total: 1
2022-04-06 11:30:16.874 DEBUG 3480 --- [http-nio-8086-exec-5] c.k.m.BlogMapper.getBlogCountByTypeId    : ==>  Preparing: select count(1) as count from blog where type_id = ?
2022-04-06 11:30:16.874 DEBUG 3480 --- [http-nio-8086-exec-5] c.k.m.BlogMapper.getBlogCountByTypeId    : ==> Parameters: 2(Integer)
2022-04-06 11:30:16.875 DEBUG 3480 --- [http-nio-8086-exec-5] c.k.m.BlogMapper.getBlogCountByTypeId    : <==      Total: 1
2022-04-06 11:30:16.875 DEBUG 3480 --- [http-nio-8086-exec-5] c.k.m.BlogMapper.getBlogCountByTypeId    : ==>  Preparing: select count(1) as count from blog where type_id = ?
2022-04-06 11:30:16.875 DEBUG 3480 --- [http-nio-8086-exec-5] c.k.m.BlogMapper.getBlogCountByTypeId    : ==> Parameters: 1(Integer)
2022-04-06 11:30:16.875 DEBUG 3480 --- [http-nio-8086-exec-5] c.k.m.BlogMapper.getBlogCountByTypeId    : <==      Total: 1
2022-04-06 11:30:16.875 DEBUG 3480 --- [http-nio-8086-exec-5] c.k.m.BlogMapper.getBlogCountByTypeId    : ==>  Preparing: select count(1) as count from blog where type_id = ?
2022-04-06 11:30:16.875 DEBUG 3480 --- [http-nio-8086-exec-5] c.k.m.BlogMapper.getBlogCountByTypeId    : ==> Parameters: 6(Integer)
2022-04-06 11:30:16.876 DEBUG 3480 --- [http-nio-8086-exec-5] c.k.m.BlogMapper.getBlogCountByTypeId    : <==      Total: 1
2022-04-06 11:30:16.876 DEBUG 3480 --- [http-nio-8086-exec-5] c.k.m.BlogMapper.getBlogListByTypeId     : ==>  Preparing: select b.*,t.name as typeName from blog b,type t where b.type_id=t.id and b.type_id=? order by b.id desc limit ?,?
2022-04-06 11:30:16.876 DEBUG 3480 --- [http-nio-8086-exec-5] c.k.m.BlogMapper.getBlogListByTypeId     : ==> Parameters: 6(Integer), 5(Integer), 5(Integer)
2022-04-06 11:30:16.879 DEBUG 3480 --- [http-nio-8086-exec-5] c.k.m.BlogMapper.getBlogListByTypeId     : <==      Total: 5
2022-04-06 11:30:16.879 DEBUG 3480 --- [http-nio-8086-exec-5] c.k.mapper.BlogMapper.getPreBlogsById    : ==>  Preparing: select * from blog where type_id=? and id > ?
2022-04-06 11:30:16.879 DEBUG 3480 --- [http-nio-8086-exec-5] c.k.mapper.BlogMapper.getPreBlogsById    : ==> Parameters: 6(Integer), 77(Integer)
2022-04-06 11:30:16.883 DEBUG 3480 --- [http-nio-8086-exec-5] c.k.mapper.BlogMapper.getPreBlogsById    : <==      Total: 5
2022-04-06 11:30:16.883 DEBUG 3480 --- [http-nio-8086-exec-5] c.k.mapper.BlogMapper.getNextBlogsById   : ==>  Preparing: select * from blog where type_id=? and ? > id
2022-04-06 11:30:16.883 DEBUG 3480 --- [http-nio-8086-exec-5] c.k.mapper.BlogMapper.getNextBlogsById   : ==> Parameters: 6(Integer), 73(Integer)
2022-04-06 11:30:16.899 DEBUG 3480 --- [http-nio-8086-exec-5] c.k.mapper.BlogMapper.getNextBlogsById   : <==      Total: 55
2022-04-06 11:30:16.899  INFO 3480 --- [http-nio-8086-exec-5] com.kwok.aspect.LogAspect                : Result : types :: blogList
2022-04-06 11:30:25.194  INFO 3480 --- [http-nio-8086-exec-10] com.kwok.aspect.LogAspect                : Request : {url='http://localhost:8086/tags/-1', ip='0:0:0:0:0:0:0:1', classMethod='com.kwok.controller.TagShowController.tags', args=[-1, org.apache.catalina.connector.RequestFacade@5275f048, {}]}
2022-04-06 11:30:25.194 DEBUG 3480 --- [http-nio-8086-exec-10] com.kwok.mapper.TagMapper.listTag        : ==>  Preparing: select * from tag order by id desc
2022-04-06 11:30:25.195 DEBUG 3480 --- [http-nio-8086-exec-10] com.kwok.mapper.TagMapper.listTag        : ==> Parameters: 
2022-04-06 11:30:25.196 DEBUG 3480 --- [http-nio-8086-exec-10] com.kwok.mapper.TagMapper.listTag        : <==      Total: 14
2022-04-06 11:30:25.196 DEBUG 3480 --- [http-nio-8086-exec-10] com.kwok.mapper.TagMapper.tagCount       : ==>  Preparing: select count(1) as count from blog_tag where tag_id=?
2022-04-06 11:30:25.196 DEBUG 3480 --- [http-nio-8086-exec-10] com.kwok.mapper.TagMapper.tagCount       : ==> Parameters: 14(Integer)
2022-04-06 11:30:25.196 DEBUG 3480 --- [http-nio-8086-exec-10] com.kwok.mapper.TagMapper.tagCount       : <==      Total: 1
2022-04-06 11:30:25.197 DEBUG 3480 --- [http-nio-8086-exec-10] com.kwok.mapper.TagMapper.tagCount       : ==>  Preparing: select count(1) as count from blog_tag where tag_id=?
2022-04-06 11:30:25.197 DEBUG 3480 --- [http-nio-8086-exec-10] com.kwok.mapper.TagMapper.tagCount       : ==> Parameters: 13(Integer)
2022-04-06 11:30:25.198 DEBUG 3480 --- [http-nio-8086-exec-10] com.kwok.mapper.TagMapper.tagCount       : <==      Total: 1
2022-04-06 11:30:25.198 DEBUG 3480 --- [http-nio-8086-exec-10] com.kwok.mapper.TagMapper.tagCount       : ==>  Preparing: select count(1) as count from blog_tag where tag_id=?
2022-04-06 11:30:25.198 DEBUG 3480 --- [http-nio-8086-exec-10] com.kwok.mapper.TagMapper.tagCount       : ==> Parameters: 12(Integer)
2022-04-06 11:30:25.198 DEBUG 3480 --- [http-nio-8086-exec-10] com.kwok.mapper.TagMapper.tagCount       : <==      Total: 1
2022-04-06 11:30:25.198 DEBUG 3480 --- [http-nio-8086-exec-10] com.kwok.mapper.TagMapper.tagCount       : ==>  Preparing: select count(1) as count from blog_tag where tag_id=?
2022-04-06 11:30:25.199 DEBUG 3480 --- [http-nio-8086-exec-10] com.kwok.mapper.TagMapper.tagCount       : ==> Parameters: 11(Integer)
2022-04-06 11:30:25.199 DEBUG 3480 --- [http-nio-8086-exec-10] com.kwok.mapper.TagMapper.tagCount       : <==      Total: 1
2022-04-06 11:30:25.199 DEBUG 3480 --- [http-nio-8086-exec-10] com.kwok.mapper.TagMapper.tagCount       : ==>  Preparing: select count(1) as count from blog_tag where tag_id=?
2022-04-06 11:30:25.199 DEBUG 3480 --- [http-nio-8086-exec-10] com.kwok.mapper.TagMapper.tagCount       : ==> Parameters: 10(Integer)
2022-04-06 11:30:25.200 DEBUG 3480 --- [http-nio-8086-exec-10] com.kwok.mapper.TagMapper.tagCount       : <==      Total: 1
2022-04-06 11:30:25.200 DEBUG 3480 --- [http-nio-8086-exec-10] com.kwok.mapper.TagMapper.tagCount       : ==>  Preparing: select count(1) as count from blog_tag where tag_id=?
2022-04-06 11:30:25.200 DEBUG 3480 --- [http-nio-8086-exec-10] com.kwok.mapper.TagMapper.tagCount       : ==> Parameters: 9(Integer)
2022-04-06 11:30:25.201 DEBUG 3480 --- [http-nio-8086-exec-10] com.kwok.mapper.TagMapper.tagCount       : <==      Total: 1
2022-04-06 11:30:25.201 DEBUG 3480 --- [http-nio-8086-exec-10] com.kwok.mapper.TagMapper.tagCount       : ==>  Preparing: select count(1) as count from blog_tag where tag_id=?
2022-04-06 11:30:25.201 DEBUG 3480 --- [http-nio-8086-exec-10] com.kwok.mapper.TagMapper.tagCount       : ==> Parameters: 8(Integer)
2022-04-06 11:30:25.202 DEBUG 3480 --- [http-nio-8086-exec-10] com.kwok.mapper.TagMapper.tagCount       : <==      Total: 1
2022-04-06 11:30:25.203 DEBUG 3480 --- [http-nio-8086-exec-10] com.kwok.mapper.TagMapper.tagCount       : ==>  Preparing: select count(1) as count from blog_tag where tag_id=?
2022-04-06 11:30:25.203 DEBUG 3480 --- [http-nio-8086-exec-10] com.kwok.mapper.TagMapper.tagCount       : ==> Parameters: 7(Integer)
2022-04-06 11:30:25.204 DEBUG 3480 --- [http-nio-8086-exec-10] com.kwok.mapper.TagMapper.tagCount       : <==      Total: 1
2022-04-06 11:30:25.204 DEBUG 3480 --- [http-nio-8086-exec-10] com.kwok.mapper.TagMapper.tagCount       : ==>  Preparing: select count(1) as count from blog_tag where tag_id=?
2022-04-06 11:30:25.204 DEBUG 3480 --- [http-nio-8086-exec-10] com.kwok.mapper.TagMapper.tagCount       : ==> Parameters: 6(Integer)
2022-04-06 11:30:25.204 DEBUG 3480 --- [http-nio-8086-exec-10] com.kwok.mapper.TagMapper.tagCount       : <==      Total: 1
2022-04-06 11:30:25.205 DEBUG 3480 --- [http-nio-8086-exec-10] com.kwok.mapper.TagMapper.tagCount       : ==>  Preparing: select count(1) as count from blog_tag where tag_id=?
2022-04-06 11:30:25.205 DEBUG 3480 --- [http-nio-8086-exec-10] com.kwok.mapper.TagMapper.tagCount       : ==> Parameters: 5(Integer)
2022-04-06 11:30:25.205 DEBUG 3480 --- [http-nio-8086-exec-10] com.kwok.mapper.TagMapper.tagCount       : <==      Total: 1
2022-04-06 11:30:25.205 DEBUG 3480 --- [http-nio-8086-exec-10] com.kwok.mapper.TagMapper.tagCount       : ==>  Preparing: select count(1) as count from blog_tag where tag_id=?
2022-04-06 11:30:25.205 DEBUG 3480 --- [http-nio-8086-exec-10] com.kwok.mapper.TagMapper.tagCount       : ==> Parameters: 4(Integer)
2022-04-06 11:30:25.206 DEBUG 3480 --- [http-nio-8086-exec-10] com.kwok.mapper.TagMapper.tagCount       : <==      Total: 1
2022-04-06 11:30:25.206 DEBUG 3480 --- [http-nio-8086-exec-10] com.kwok.mapper.TagMapper.tagCount       : ==>  Preparing: select count(1) as count from blog_tag where tag_id=?
2022-04-06 11:30:25.206 DEBUG 3480 --- [http-nio-8086-exec-10] com.kwok.mapper.TagMapper.tagCount       : ==> Parameters: 3(Integer)
2022-04-06 11:30:25.207 DEBUG 3480 --- [http-nio-8086-exec-10] com.kwok.mapper.TagMapper.tagCount       : <==      Total: 1
2022-04-06 11:30:25.207 DEBUG 3480 --- [http-nio-8086-exec-10] com.kwok.mapper.TagMapper.tagCount       : ==>  Preparing: select count(1) as count from blog_tag where tag_id=?
2022-04-06 11:30:25.207 DEBUG 3480 --- [http-nio-8086-exec-10] com.kwok.mapper.TagMapper.tagCount       : ==> Parameters: 2(Integer)
2022-04-06 11:30:25.208 DEBUG 3480 --- [http-nio-8086-exec-10] com.kwok.mapper.TagMapper.tagCount       : <==      Total: 1
2022-04-06 11:30:25.208 DEBUG 3480 --- [http-nio-8086-exec-10] com.kwok.mapper.TagMapper.tagCount       : ==>  Preparing: select count(1) as count from blog_tag where tag_id=?
2022-04-06 11:30:25.208 DEBUG 3480 --- [http-nio-8086-exec-10] com.kwok.mapper.TagMapper.tagCount       : ==> Parameters: 1(Integer)
2022-04-06 11:30:25.208 DEBUG 3480 --- [http-nio-8086-exec-10] com.kwok.mapper.TagMapper.tagCount       : <==      Total: 1
2022-04-06 11:30:25.209 DEBUG 3480 --- [http-nio-8086-exec-10] c.k.m.BlogMapper.getBlogCountByTagId     : ==>  Preparing: select count(1) as count from blog_tag where tag_id = ?
2022-04-06 11:30:25.209 DEBUG 3480 --- [http-nio-8086-exec-10] c.k.m.BlogMapper.getBlogCountByTagId     : ==> Parameters: 14(Integer)
2022-04-06 11:30:25.209 DEBUG 3480 --- [http-nio-8086-exec-10] c.k.m.BlogMapper.getBlogCountByTagId     : <==      Total: 1
2022-04-06 11:30:25.209 DEBUG 3480 --- [http-nio-8086-exec-10] c.k.m.BlogMapper.getBlogListByTagId      : ==>  Preparing: select b.*,bt.tag_id,t.name from blog b,blog_tag bt,tag t where bt.blog_id=b.id and bt.tag_id=t.id and bt.tag_id=? order by b.id desc limit ?,?
2022-04-06 11:30:25.209 DEBUG 3480 --- [http-nio-8086-exec-10] c.k.m.BlogMapper.getBlogListByTagId      : ==> Parameters: 14(Integer), 0(Integer), 5(Integer)
2022-04-06 11:30:25.212 DEBUG 3480 --- [http-nio-8086-exec-10] c.k.m.BlogMapper.getBlogListByTagId      : <==      Total: 5
2022-04-06 11:30:25.213 DEBUG 3480 --- [http-nio-8086-exec-10] com.kwok.mapper.TypeMapper.getTypeById   : ==>  Preparing: select * from type where id = ?
2022-04-06 11:30:25.213 DEBUG 3480 --- [http-nio-8086-exec-10] com.kwok.mapper.TypeMapper.getTypeById   : ==> Parameters: 6(Integer)
2022-04-06 11:30:25.213 DEBUG 3480 --- [http-nio-8086-exec-10] com.kwok.mapper.TypeMapper.getTypeById   : <==      Total: 1
2022-04-06 11:30:25.213 DEBUG 3480 --- [http-nio-8086-exec-10] c.kwok.mapper.TagMapper.getTagsByBlogId  : ==>  Preparing: select t.* from tag t,blog_tag bt where t.id=bt.tag_id and bt.blog_id=?
2022-04-06 11:30:25.214 DEBUG 3480 --- [http-nio-8086-exec-10] c.kwok.mapper.TagMapper.getTagsByBlogId  : ==> Parameters: 66(Integer)
2022-04-06 11:30:25.214 DEBUG 3480 --- [http-nio-8086-exec-10] c.kwok.mapper.TagMapper.getTagsByBlogId  : <==      Total: 3
2022-04-06 11:30:25.215 DEBUG 3480 --- [http-nio-8086-exec-10] com.kwok.mapper.TypeMapper.getTypeById   : ==>  Preparing: select * from type where id = ?
2022-04-06 11:30:25.215 DEBUG 3480 --- [http-nio-8086-exec-10] com.kwok.mapper.TypeMapper.getTypeById   : ==> Parameters: 6(Integer)
2022-04-06 11:30:25.215 DEBUG 3480 --- [http-nio-8086-exec-10] com.kwok.mapper.TypeMapper.getTypeById   : <==      Total: 1
2022-04-06 11:30:25.215 DEBUG 3480 --- [http-nio-8086-exec-10] c.kwok.mapper.TagMapper.getTagsByBlogId  : ==>  Preparing: select t.* from tag t,blog_tag bt where t.id=bt.tag_id and bt.blog_id=?
2022-04-06 11:30:25.216 DEBUG 3480 --- [http-nio-8086-exec-10] c.kwok.mapper.TagMapper.getTagsByBlogId  : ==> Parameters: 65(Integer)
2022-04-06 11:30:25.216 DEBUG 3480 --- [http-nio-8086-exec-10] c.kwok.mapper.TagMapper.getTagsByBlogId  : <==      Total: 3
2022-04-06 11:30:25.217 DEBUG 3480 --- [http-nio-8086-exec-10] com.kwok.mapper.TypeMapper.getTypeById   : ==>  Preparing: select * from type where id = ?
2022-04-06 11:30:25.217 DEBUG 3480 --- [http-nio-8086-exec-10] com.kwok.mapper.TypeMapper.getTypeById   : ==> Parameters: 6(Integer)
2022-04-06 11:30:25.217 DEBUG 3480 --- [http-nio-8086-exec-10] com.kwok.mapper.TypeMapper.getTypeById   : <==      Total: 1
2022-04-06 11:30:25.218 DEBUG 3480 --- [http-nio-8086-exec-10] c.kwok.mapper.TagMapper.getTagsByBlogId  : ==>  Preparing: select t.* from tag t,blog_tag bt where t.id=bt.tag_id and bt.blog_id=?
2022-04-06 11:30:25.218 DEBUG 3480 --- [http-nio-8086-exec-10] c.kwok.mapper.TagMapper.getTagsByBlogId  : ==> Parameters: 64(Integer)
2022-04-06 11:30:25.219 DEBUG 3480 --- [http-nio-8086-exec-10] c.kwok.mapper.TagMapper.getTagsByBlogId  : <==      Total: 3
2022-04-06 11:30:25.219 DEBUG 3480 --- [http-nio-8086-exec-10] com.kwok.mapper.TypeMapper.getTypeById   : ==>  Preparing: select * from type where id = ?
2022-04-06 11:30:25.219 DEBUG 3480 --- [http-nio-8086-exec-10] com.kwok.mapper.TypeMapper.getTypeById   : ==> Parameters: 6(Integer)
2022-04-06 11:30:25.220 DEBUG 3480 --- [http-nio-8086-exec-10] com.kwok.mapper.TypeMapper.getTypeById   : <==      Total: 1
2022-04-06 11:30:25.220 DEBUG 3480 --- [http-nio-8086-exec-10] c.kwok.mapper.TagMapper.getTagsByBlogId  : ==>  Preparing: select t.* from tag t,blog_tag bt where t.id=bt.tag_id and bt.blog_id=?
2022-04-06 11:30:25.220 DEBUG 3480 --- [http-nio-8086-exec-10] c.kwok.mapper.TagMapper.getTagsByBlogId  : ==> Parameters: 63(Integer)
2022-04-06 11:30:25.221 DEBUG 3480 --- [http-nio-8086-exec-10] c.kwok.mapper.TagMapper.getTagsByBlogId  : <==      Total: 3
2022-04-06 11:30:25.221 DEBUG 3480 --- [http-nio-8086-exec-10] com.kwok.mapper.TypeMapper.getTypeById   : ==>  Preparing: select * from type where id = ?
2022-04-06 11:30:25.221 DEBUG 3480 --- [http-nio-8086-exec-10] com.kwok.mapper.TypeMapper.getTypeById   : ==> Parameters: 6(Integer)
2022-04-06 11:30:25.222 DEBUG 3480 --- [http-nio-8086-exec-10] com.kwok.mapper.TypeMapper.getTypeById   : <==      Total: 1
2022-04-06 11:30:25.222 DEBUG 3480 --- [http-nio-8086-exec-10] c.kwok.mapper.TagMapper.getTagsByBlogId  : ==>  Preparing: select t.* from tag t,blog_tag bt where t.id=bt.tag_id and bt.blog_id=?
2022-04-06 11:30:25.222 DEBUG 3480 --- [http-nio-8086-exec-10] c.kwok.mapper.TagMapper.getTagsByBlogId  : ==> Parameters: 62(Integer)
2022-04-06 11:30:25.223 DEBUG 3480 --- [http-nio-8086-exec-10] c.kwok.mapper.TagMapper.getTagsByBlogId  : <==      Total: 3
2022-04-06 11:30:25.223 DEBUG 3480 --- [http-nio-8086-exec-10] c.k.m.BlogMapper.getPreBlogsByTagId      : ==>  Preparing: select b.* from blog b,blog_tag bt where b.id = bt.blog_id and bt.tag_id=? and b.id > ?
2022-04-06 11:30:25.223 DEBUG 3480 --- [http-nio-8086-exec-10] c.k.m.BlogMapper.getPreBlogsByTagId      : ==> Parameters: 14(Integer), 66(Integer)
2022-04-06 11:30:25.224 DEBUG 3480 --- [http-nio-8086-exec-10] c.k.m.BlogMapper.getPreBlogsByTagId      : <==      Total: 0
2022-04-06 11:30:25.224 DEBUG 3480 --- [http-nio-8086-exec-10] c.k.m.BlogMapper.getNextBlogsByTagId     : ==>  Preparing: select b.* from blog b,blog_tag bt where b.id = bt.blog_id and bt.tag_id=? and ? > b.id
2022-04-06 11:30:25.224 DEBUG 3480 --- [http-nio-8086-exec-10] c.k.m.BlogMapper.getNextBlogsByTagId     : ==> Parameters: 14(Integer), 62(Integer)
2022-04-06 11:30:25.225 DEBUG 3480 --- [http-nio-8086-exec-10] c.k.m.BlogMapper.getNextBlogsByTagId     : <==      Total: 4
2022-04-06 11:30:25.226  INFO 3480 --- [http-nio-8086-exec-10] com.kwok.aspect.LogAspect                : Result : tags
2022-04-06 11:30:27.665  INFO 3480 --- [http-nio-8086-exec-4] com.kwok.aspect.LogAspect                : Request : {url='http://localhost:8086/tags/12', ip='0:0:0:0:0:0:0:1', classMethod='com.kwok.controller.TagShowController.tags', args=[12, org.apache.catalina.connector.RequestFacade@60811cc4, {}]}
2022-04-06 11:30:27.666 DEBUG 3480 --- [http-nio-8086-exec-4] com.kwok.mapper.TagMapper.listTag        : ==>  Preparing: select * from tag order by id desc
2022-04-06 11:30:27.666 DEBUG 3480 --- [http-nio-8086-exec-4] com.kwok.mapper.TagMapper.listTag        : ==> Parameters: 
2022-04-06 11:30:27.667 DEBUG 3480 --- [http-nio-8086-exec-4] com.kwok.mapper.TagMapper.listTag        : <==      Total: 14
2022-04-06 11:30:27.667 DEBUG 3480 --- [http-nio-8086-exec-4] com.kwok.mapper.TagMapper.tagCount       : ==>  Preparing: select count(1) as count from blog_tag where tag_id=?
2022-04-06 11:30:27.667 DEBUG 3480 --- [http-nio-8086-exec-4] com.kwok.mapper.TagMapper.tagCount       : ==> Parameters: 14(Integer)
2022-04-06 11:30:27.668 DEBUG 3480 --- [http-nio-8086-exec-4] com.kwok.mapper.TagMapper.tagCount       : <==      Total: 1
2022-04-06 11:30:27.669 DEBUG 3480 --- [http-nio-8086-exec-4] com.kwok.mapper.TagMapper.tagCount       : ==>  Preparing: select count(1) as count from blog_tag where tag_id=?
2022-04-06 11:30:27.669 DEBUG 3480 --- [http-nio-8086-exec-4] com.kwok.mapper.TagMapper.tagCount       : ==> Parameters: 13(Integer)
2022-04-06 11:30:27.670 DEBUG 3480 --- [http-nio-8086-exec-4] com.kwok.mapper.TagMapper.tagCount       : <==      Total: 1
2022-04-06 11:30:27.670 DEBUG 3480 --- [http-nio-8086-exec-4] com.kwok.mapper.TagMapper.tagCount       : ==>  Preparing: select count(1) as count from blog_tag where tag_id=?
2022-04-06 11:30:27.670 DEBUG 3480 --- [http-nio-8086-exec-4] com.kwok.mapper.TagMapper.tagCount       : ==> Parameters: 12(Integer)
2022-04-06 11:30:27.671 DEBUG 3480 --- [http-nio-8086-exec-4] com.kwok.mapper.TagMapper.tagCount       : <==      Total: 1
2022-04-06 11:30:27.671 DEBUG 3480 --- [http-nio-8086-exec-4] com.kwok.mapper.TagMapper.tagCount       : ==>  Preparing: select count(1) as count from blog_tag where tag_id=?
2022-04-06 11:30:27.671 DEBUG 3480 --- [http-nio-8086-exec-4] com.kwok.mapper.TagMapper.tagCount       : ==> Parameters: 11(Integer)
2022-04-06 11:30:27.672 DEBUG 3480 --- [http-nio-8086-exec-4] com.kwok.mapper.TagMapper.tagCount       : <==      Total: 1
2022-04-06 11:30:27.672 DEBUG 3480 --- [http-nio-8086-exec-4] com.kwok.mapper.TagMapper.tagCount       : ==>  Preparing: select count(1) as count from blog_tag where tag_id=?
2022-04-06 11:30:27.672 DEBUG 3480 --- [http-nio-8086-exec-4] com.kwok.mapper.TagMapper.tagCount       : ==> Parameters: 10(Integer)
2022-04-06 11:30:27.672 DEBUG 3480 --- [http-nio-8086-exec-4] com.kwok.mapper.TagMapper.tagCount       : <==      Total: 1
2022-04-06 11:30:27.673 DEBUG 3480 --- [http-nio-8086-exec-4] com.kwok.mapper.TagMapper.tagCount       : ==>  Preparing: select count(1) as count from blog_tag where tag_id=?
2022-04-06 11:30:27.673 DEBUG 3480 --- [http-nio-8086-exec-4] com.kwok.mapper.TagMapper.tagCount       : ==> Parameters: 9(Integer)
2022-04-06 11:30:27.673 DEBUG 3480 --- [http-nio-8086-exec-4] com.kwok.mapper.TagMapper.tagCount       : <==      Total: 1
2022-04-06 11:30:27.674 DEBUG 3480 --- [http-nio-8086-exec-4] com.kwok.mapper.TagMapper.tagCount       : ==>  Preparing: select count(1) as count from blog_tag where tag_id=?
2022-04-06 11:30:27.674 DEBUG 3480 --- [http-nio-8086-exec-4] com.kwok.mapper.TagMapper.tagCount       : ==> Parameters: 8(Integer)
2022-04-06 11:30:27.674 DEBUG 3480 --- [http-nio-8086-exec-4] com.kwok.mapper.TagMapper.tagCount       : <==      Total: 1
2022-04-06 11:30:27.674 DEBUG 3480 --- [http-nio-8086-exec-4] com.kwok.mapper.TagMapper.tagCount       : ==>  Preparing: select count(1) as count from blog_tag where tag_id=?
2022-04-06 11:30:27.675 DEBUG 3480 --- [http-nio-8086-exec-4] com.kwok.mapper.TagMapper.tagCount       : ==> Parameters: 7(Integer)
2022-04-06 11:30:27.675 DEBUG 3480 --- [http-nio-8086-exec-4] com.kwok.mapper.TagMapper.tagCount       : <==      Total: 1
2022-04-06 11:30:27.676 DEBUG 3480 --- [http-nio-8086-exec-4] com.kwok.mapper.TagMapper.tagCount       : ==>  Preparing: select count(1) as count from blog_tag where tag_id=?
2022-04-06 11:30:27.676 DEBUG 3480 --- [http-nio-8086-exec-4] com.kwok.mapper.TagMapper.tagCount       : ==> Parameters: 6(Integer)
2022-04-06 11:30:27.676 DEBUG 3480 --- [http-nio-8086-exec-4] com.kwok.mapper.TagMapper.tagCount       : <==      Total: 1
2022-04-06 11:30:27.677 DEBUG 3480 --- [http-nio-8086-exec-4] com.kwok.mapper.TagMapper.tagCount       : ==>  Preparing: select count(1) as count from blog_tag where tag_id=?
2022-04-06 11:30:27.677 DEBUG 3480 --- [http-nio-8086-exec-4] com.kwok.mapper.TagMapper.tagCount       : ==> Parameters: 5(Integer)
2022-04-06 11:30:27.678 DEBUG 3480 --- [http-nio-8086-exec-4] com.kwok.mapper.TagMapper.tagCount       : <==      Total: 1
2022-04-06 11:30:27.678 DEBUG 3480 --- [http-nio-8086-exec-4] com.kwok.mapper.TagMapper.tagCount       : ==>  Preparing: select count(1) as count from blog_tag where tag_id=?
2022-04-06 11:30:27.678 DEBUG 3480 --- [http-nio-8086-exec-4] com.kwok.mapper.TagMapper.tagCount       : ==> Parameters: 4(Integer)
2022-04-06 11:30:27.679 DEBUG 3480 --- [http-nio-8086-exec-4] com.kwok.mapper.TagMapper.tagCount       : <==      Total: 1
2022-04-06 11:30:27.679 DEBUG 3480 --- [http-nio-8086-exec-4] com.kwok.mapper.TagMapper.tagCount       : ==>  Preparing: select count(1) as count from blog_tag where tag_id=?
2022-04-06 11:30:27.679 DEBUG 3480 --- [http-nio-8086-exec-4] com.kwok.mapper.TagMapper.tagCount       : ==> Parameters: 3(Integer)
2022-04-06 11:30:27.680 DEBUG 3480 --- [http-nio-8086-exec-4] com.kwok.mapper.TagMapper.tagCount       : <==      Total: 1
2022-04-06 11:30:27.680 DEBUG 3480 --- [http-nio-8086-exec-4] com.kwok.mapper.TagMapper.tagCount       : ==>  Preparing: select count(1) as count from blog_tag where tag_id=?
2022-04-06 11:30:27.681 DEBUG 3480 --- [http-nio-8086-exec-4] com.kwok.mapper.TagMapper.tagCount       : ==> Parameters: 2(Integer)
2022-04-06 11:30:27.681 DEBUG 3480 --- [http-nio-8086-exec-4] com.kwok.mapper.TagMapper.tagCount       : <==      Total: 1
2022-04-06 11:30:27.682 DEBUG 3480 --- [http-nio-8086-exec-4] com.kwok.mapper.TagMapper.tagCount       : ==>  Preparing: select count(1) as count from blog_tag where tag_id=?
2022-04-06 11:30:27.682 DEBUG 3480 --- [http-nio-8086-exec-4] com.kwok.mapper.TagMapper.tagCount       : ==> Parameters: 1(Integer)
2022-04-06 11:30:27.682 DEBUG 3480 --- [http-nio-8086-exec-4] com.kwok.mapper.TagMapper.tagCount       : <==      Total: 1
2022-04-06 11:30:27.683 DEBUG 3480 --- [http-nio-8086-exec-4] c.k.m.BlogMapper.getBlogCountByTagId     : ==>  Preparing: select count(1) as count from blog_tag where tag_id = ?
2022-04-06 11:30:27.683 DEBUG 3480 --- [http-nio-8086-exec-4] c.k.m.BlogMapper.getBlogCountByTagId     : ==> Parameters: 12(Integer)
2022-04-06 11:30:27.684 DEBUG 3480 --- [http-nio-8086-exec-4] c.k.m.BlogMapper.getBlogCountByTagId     : <==      Total: 1
2022-04-06 11:30:27.684 DEBUG 3480 --- [http-nio-8086-exec-4] c.k.m.BlogMapper.getBlogListByTagId      : ==>  Preparing: select b.*,bt.tag_id,t.name from blog b,blog_tag bt,tag t where bt.blog_id=b.id and bt.tag_id=t.id and bt.tag_id=? order by b.id desc limit ?,?
2022-04-06 11:30:27.684 DEBUG 3480 --- [http-nio-8086-exec-4] c.k.m.BlogMapper.getBlogListByTagId      : ==> Parameters: 12(Integer), 0(Integer), 5(Integer)
2022-04-06 11:30:27.687 DEBUG 3480 --- [http-nio-8086-exec-4] c.k.m.BlogMapper.getBlogListByTagId      : <==      Total: 5
2022-04-06 11:30:27.687 DEBUG 3480 --- [http-nio-8086-exec-4] com.kwok.mapper.TypeMapper.getTypeById   : ==>  Preparing: select * from type where id = ?
2022-04-06 11:30:27.687 DEBUG 3480 --- [http-nio-8086-exec-4] com.kwok.mapper.TypeMapper.getTypeById   : ==> Parameters: 6(Integer)
2022-04-06 11:30:27.688 DEBUG 3480 --- [http-nio-8086-exec-4] com.kwok.mapper.TypeMapper.getTypeById   : <==      Total: 1
2022-04-06 11:30:27.688 DEBUG 3480 --- [http-nio-8086-exec-4] c.kwok.mapper.TagMapper.getTagsByBlogId  : ==>  Preparing: select t.* from tag t,blog_tag bt where t.id=bt.tag_id and bt.blog_id=?
2022-04-06 11:30:27.688 DEBUG 3480 --- [http-nio-8086-exec-4] c.kwok.mapper.TagMapper.getTagsByBlogId  : ==> Parameters: 56(Integer)
2022-04-06 11:30:27.689 DEBUG 3480 --- [http-nio-8086-exec-4] c.kwok.mapper.TagMapper.getTagsByBlogId  : <==      Total: 3
2022-04-06 11:30:27.690 DEBUG 3480 --- [http-nio-8086-exec-4] com.kwok.mapper.TypeMapper.getTypeById   : ==>  Preparing: select * from type where id = ?
2022-04-06 11:30:27.690 DEBUG 3480 --- [http-nio-8086-exec-4] com.kwok.mapper.TypeMapper.getTypeById   : ==> Parameters: 6(Integer)
2022-04-06 11:30:27.690 DEBUG 3480 --- [http-nio-8086-exec-4] com.kwok.mapper.TypeMapper.getTypeById   : <==      Total: 1
2022-04-06 11:30:27.690 DEBUG 3480 --- [http-nio-8086-exec-4] c.kwok.mapper.TagMapper.getTagsByBlogId  : ==>  Preparing: select t.* from tag t,blog_tag bt where t.id=bt.tag_id and bt.blog_id=?
2022-04-06 11:30:27.691 DEBUG 3480 --- [http-nio-8086-exec-4] c.kwok.mapper.TagMapper.getTagsByBlogId  : ==> Parameters: 44(Integer)
2022-04-06 11:30:27.691 DEBUG 3480 --- [http-nio-8086-exec-4] c.kwok.mapper.TagMapper.getTagsByBlogId  : <==      Total: 2
2022-04-06 11:30:27.691 DEBUG 3480 --- [http-nio-8086-exec-4] com.kwok.mapper.TypeMapper.getTypeById   : ==>  Preparing: select * from type where id = ?
2022-04-06 11:30:27.691 DEBUG 3480 --- [http-nio-8086-exec-4] com.kwok.mapper.TypeMapper.getTypeById   : ==> Parameters: 6(Integer)
2022-04-06 11:30:27.692 DEBUG 3480 --- [http-nio-8086-exec-4] com.kwok.mapper.TypeMapper.getTypeById   : <==      Total: 1
2022-04-06 11:30:27.692 DEBUG 3480 --- [http-nio-8086-exec-4] c.kwok.mapper.TagMapper.getTagsByBlogId  : ==>  Preparing: select t.* from tag t,blog_tag bt where t.id=bt.tag_id and bt.blog_id=?
2022-04-06 11:30:27.692 DEBUG 3480 --- [http-nio-8086-exec-4] c.kwok.mapper.TagMapper.getTagsByBlogId  : ==> Parameters: 43(Integer)
2022-04-06 11:30:27.693 DEBUG 3480 --- [http-nio-8086-exec-4] c.kwok.mapper.TagMapper.getTagsByBlogId  : <==      Total: 2
2022-04-06 11:30:27.693 DEBUG 3480 --- [http-nio-8086-exec-4] com.kwok.mapper.TypeMapper.getTypeById   : ==>  Preparing: select * from type where id = ?
2022-04-06 11:30:27.693 DEBUG 3480 --- [http-nio-8086-exec-4] com.kwok.mapper.TypeMapper.getTypeById   : ==> Parameters: 6(Integer)
2022-04-06 11:30:27.694 DEBUG 3480 --- [http-nio-8086-exec-4] com.kwok.mapper.TypeMapper.getTypeById   : <==      Total: 1
2022-04-06 11:30:27.694 DEBUG 3480 --- [http-nio-8086-exec-4] c.kwok.mapper.TagMapper.getTagsByBlogId  : ==>  Preparing: select t.* from tag t,blog_tag bt where t.id=bt.tag_id and bt.blog_id=?
2022-04-06 11:30:27.694 DEBUG 3480 --- [http-nio-8086-exec-4] c.kwok.mapper.TagMapper.getTagsByBlogId  : ==> Parameters: 42(Integer)
2022-04-06 11:30:27.694 DEBUG 3480 --- [http-nio-8086-exec-4] c.kwok.mapper.TagMapper.getTagsByBlogId  : <==      Total: 2
2022-04-06 11:30:27.695 DEBUG 3480 --- [http-nio-8086-exec-4] com.kwok.mapper.TypeMapper.getTypeById   : ==>  Preparing: select * from type where id = ?
2022-04-06 11:30:27.695 DEBUG 3480 --- [http-nio-8086-exec-4] com.kwok.mapper.TypeMapper.getTypeById   : ==> Parameters: 6(Integer)
2022-04-06 11:30:27.695 DEBUG 3480 --- [http-nio-8086-exec-4] com.kwok.mapper.TypeMapper.getTypeById   : <==      Total: 1
2022-04-06 11:30:27.695 DEBUG 3480 --- [http-nio-8086-exec-4] c.kwok.mapper.TagMapper.getTagsByBlogId  : ==>  Preparing: select t.* from tag t,blog_tag bt where t.id=bt.tag_id and bt.blog_id=?
2022-04-06 11:30:27.696 DEBUG 3480 --- [http-nio-8086-exec-4] c.kwok.mapper.TagMapper.getTagsByBlogId  : ==> Parameters: 41(Integer)
2022-04-06 11:30:27.696 DEBUG 3480 --- [http-nio-8086-exec-4] c.kwok.mapper.TagMapper.getTagsByBlogId  : <==      Total: 2
2022-04-06 11:30:27.696 DEBUG 3480 --- [http-nio-8086-exec-4] c.k.m.BlogMapper.getPreBlogsByTagId      : ==>  Preparing: select b.* from blog b,blog_tag bt where b.id = bt.blog_id and bt.tag_id=? and b.id > ?
2022-04-06 11:30:27.696 DEBUG 3480 --- [http-nio-8086-exec-4] c.k.m.BlogMapper.getPreBlogsByTagId      : ==> Parameters: 12(Integer), 56(Integer)
2022-04-06 11:30:27.697 DEBUG 3480 --- [http-nio-8086-exec-4] c.k.m.BlogMapper.getPreBlogsByTagId      : <==      Total: 0
2022-04-06 11:30:27.697 DEBUG 3480 --- [http-nio-8086-exec-4] c.k.m.BlogMapper.getNextBlogsByTagId     : ==>  Preparing: select b.* from blog b,blog_tag bt where b.id = bt.blog_id and bt.tag_id=? and ? > b.id
2022-04-06 11:30:27.697 DEBUG 3480 --- [http-nio-8086-exec-4] c.k.m.BlogMapper.getNextBlogsByTagId     : ==> Parameters: 12(Integer), 41(Integer)
2022-04-06 11:30:27.700 DEBUG 3480 --- [http-nio-8086-exec-4] c.k.m.BlogMapper.getNextBlogsByTagId     : <==      Total: 9
2022-04-06 11:30:27.700  INFO 3480 --- [http-nio-8086-exec-4] com.kwok.aspect.LogAspect                : Result : tags
2022-04-06 11:30:33.628  INFO 3480 --- [http-nio-8086-exec-2] com.kwok.aspect.LogAspect                : Request : {url='http://localhost:8086/tags/topage', ip='0:0:0:0:0:0:0:1', classMethod='com.kwok.controller.TagShowController.searchTopage', args=[org.apache.catalina.connector.RequestFacade@4828a8cb, org.apache.catalina.connector.ResponseFacade@4c173516, {}]}
2022-04-06 11:30:33.629 DEBUG 3480 --- [http-nio-8086-exec-2] com.kwok.mapper.TagMapper.listTag        : ==>  Preparing: select * from tag order by id desc
2022-04-06 11:30:33.629 DEBUG 3480 --- [http-nio-8086-exec-2] com.kwok.mapper.TagMapper.listTag        : ==> Parameters: 
2022-04-06 11:30:33.630 DEBUG 3480 --- [http-nio-8086-exec-2] com.kwok.mapper.TagMapper.listTag        : <==      Total: 14
2022-04-06 11:30:33.630 DEBUG 3480 --- [http-nio-8086-exec-2] com.kwok.mapper.TagMapper.tagCount       : ==>  Preparing: select count(1) as count from blog_tag where tag_id=?
2022-04-06 11:30:33.630 DEBUG 3480 --- [http-nio-8086-exec-2] com.kwok.mapper.TagMapper.tagCount       : ==> Parameters: 14(Integer)
2022-04-06 11:30:33.630 DEBUG 3480 --- [http-nio-8086-exec-2] com.kwok.mapper.TagMapper.tagCount       : <==      Total: 1
2022-04-06 11:30:33.630 DEBUG 3480 --- [http-nio-8086-exec-2] com.kwok.mapper.TagMapper.tagCount       : ==>  Preparing: select count(1) as count from blog_tag where tag_id=?
2022-04-06 11:30:33.630 DEBUG 3480 --- [http-nio-8086-exec-2] com.kwok.mapper.TagMapper.tagCount       : ==> Parameters: 13(Integer)
2022-04-06 11:30:33.631 DEBUG 3480 --- [http-nio-8086-exec-2] com.kwok.mapper.TagMapper.tagCount       : <==      Total: 1
2022-04-06 11:30:33.631 DEBUG 3480 --- [http-nio-8086-exec-2] com.kwok.mapper.TagMapper.tagCount       : ==>  Preparing: select count(1) as count from blog_tag where tag_id=?
2022-04-06 11:30:33.631 DEBUG 3480 --- [http-nio-8086-exec-2] com.kwok.mapper.TagMapper.tagCount       : ==> Parameters: 12(Integer)
2022-04-06 11:30:33.631 DEBUG 3480 --- [http-nio-8086-exec-2] com.kwok.mapper.TagMapper.tagCount       : <==      Total: 1
2022-04-06 11:30:33.632 DEBUG 3480 --- [http-nio-8086-exec-2] com.kwok.mapper.TagMapper.tagCount       : ==>  Preparing: select count(1) as count from blog_tag where tag_id=?
2022-04-06 11:30:33.632 DEBUG 3480 --- [http-nio-8086-exec-2] com.kwok.mapper.TagMapper.tagCount       : ==> Parameters: 11(Integer)
2022-04-06 11:30:33.632 DEBUG 3480 --- [http-nio-8086-exec-2] com.kwok.mapper.TagMapper.tagCount       : <==      Total: 1
2022-04-06 11:30:33.632 DEBUG 3480 --- [http-nio-8086-exec-2] com.kwok.mapper.TagMapper.tagCount       : ==>  Preparing: select count(1) as count from blog_tag where tag_id=?
2022-04-06 11:30:33.632 DEBUG 3480 --- [http-nio-8086-exec-2] com.kwok.mapper.TagMapper.tagCount       : ==> Parameters: 10(Integer)
2022-04-06 11:30:33.633 DEBUG 3480 --- [http-nio-8086-exec-2] com.kwok.mapper.TagMapper.tagCount       : <==      Total: 1
2022-04-06 11:30:33.633 DEBUG 3480 --- [http-nio-8086-exec-2] com.kwok.mapper.TagMapper.tagCount       : ==>  Preparing: select count(1) as count from blog_tag where tag_id=?
2022-04-06 11:30:33.633 DEBUG 3480 --- [http-nio-8086-exec-2] com.kwok.mapper.TagMapper.tagCount       : ==> Parameters: 9(Integer)
2022-04-06 11:30:33.633 DEBUG 3480 --- [http-nio-8086-exec-2] com.kwok.mapper.TagMapper.tagCount       : <==      Total: 1
2022-04-06 11:30:33.633 DEBUG 3480 --- [http-nio-8086-exec-2] com.kwok.mapper.TagMapper.tagCount       : ==>  Preparing: select count(1) as count from blog_tag where tag_id=?
2022-04-06 11:30:33.633 DEBUG 3480 --- [http-nio-8086-exec-2] com.kwok.mapper.TagMapper.tagCount       : ==> Parameters: 8(Integer)
2022-04-06 11:30:33.634 DEBUG 3480 --- [http-nio-8086-exec-2] com.kwok.mapper.TagMapper.tagCount       : <==      Total: 1
2022-04-06 11:30:33.634 DEBUG 3480 --- [http-nio-8086-exec-2] com.kwok.mapper.TagMapper.tagCount       : ==>  Preparing: select count(1) as count from blog_tag where tag_id=?
2022-04-06 11:30:33.634 DEBUG 3480 --- [http-nio-8086-exec-2] com.kwok.mapper.TagMapper.tagCount       : ==> Parameters: 7(Integer)
2022-04-06 11:30:33.635 DEBUG 3480 --- [http-nio-8086-exec-2] com.kwok.mapper.TagMapper.tagCount       : <==      Total: 1
2022-04-06 11:30:33.635 DEBUG 3480 --- [http-nio-8086-exec-2] com.kwok.mapper.TagMapper.tagCount       : ==>  Preparing: select count(1) as count from blog_tag where tag_id=?
2022-04-06 11:30:33.635 DEBUG 3480 --- [http-nio-8086-exec-2] com.kwok.mapper.TagMapper.tagCount       : ==> Parameters: 6(Integer)
2022-04-06 11:30:33.636 DEBUG 3480 --- [http-nio-8086-exec-2] com.kwok.mapper.TagMapper.tagCount       : <==      Total: 1
2022-04-06 11:30:33.636 DEBUG 3480 --- [http-nio-8086-exec-2] com.kwok.mapper.TagMapper.tagCount       : ==>  Preparing: select count(1) as count from blog_tag where tag_id=?
2022-04-06 11:30:33.636 DEBUG 3480 --- [http-nio-8086-exec-2] com.kwok.mapper.TagMapper.tagCount       : ==> Parameters: 5(Integer)
2022-04-06 11:30:33.637 DEBUG 3480 --- [http-nio-8086-exec-2] com.kwok.mapper.TagMapper.tagCount       : <==      Total: 1
2022-04-06 11:30:33.637 DEBUG 3480 --- [http-nio-8086-exec-2] com.kwok.mapper.TagMapper.tagCount       : ==>  Preparing: select count(1) as count from blog_tag where tag_id=?
2022-04-06 11:30:33.637 DEBUG 3480 --- [http-nio-8086-exec-2] com.kwok.mapper.TagMapper.tagCount       : ==> Parameters: 4(Integer)
2022-04-06 11:30:33.637 DEBUG 3480 --- [http-nio-8086-exec-2] com.kwok.mapper.TagMapper.tagCount       : <==      Total: 1
2022-04-06 11:30:33.638 DEBUG 3480 --- [http-nio-8086-exec-2] com.kwok.mapper.TagMapper.tagCount       : ==>  Preparing: select count(1) as count from blog_tag where tag_id=?
2022-04-06 11:30:33.638 DEBUG 3480 --- [http-nio-8086-exec-2] com.kwok.mapper.TagMapper.tagCount       : ==> Parameters: 3(Integer)
2022-04-06 11:30:33.638 DEBUG 3480 --- [http-nio-8086-exec-2] com.kwok.mapper.TagMapper.tagCount       : <==      Total: 1
2022-04-06 11:30:33.638 DEBUG 3480 --- [http-nio-8086-exec-2] com.kwok.mapper.TagMapper.tagCount       : ==>  Preparing: select count(1) as count from blog_tag where tag_id=?
2022-04-06 11:30:33.639 DEBUG 3480 --- [http-nio-8086-exec-2] com.kwok.mapper.TagMapper.tagCount       : ==> Parameters: 2(Integer)
2022-04-06 11:30:33.639 DEBUG 3480 --- [http-nio-8086-exec-2] com.kwok.mapper.TagMapper.tagCount       : <==      Total: 1
2022-04-06 11:30:33.639 DEBUG 3480 --- [http-nio-8086-exec-2] com.kwok.mapper.TagMapper.tagCount       : ==>  Preparing: select count(1) as count from blog_tag where tag_id=?
2022-04-06 11:30:33.639 DEBUG 3480 --- [http-nio-8086-exec-2] com.kwok.mapper.TagMapper.tagCount       : ==> Parameters: 1(Integer)
2022-04-06 11:30:33.640 DEBUG 3480 --- [http-nio-8086-exec-2] com.kwok.mapper.TagMapper.tagCount       : <==      Total: 1
2022-04-06 11:30:33.640 DEBUG 3480 --- [http-nio-8086-exec-2] c.k.m.BlogMapper.getBlogCountByTagId     : ==>  Preparing: select count(1) as count from blog_tag where tag_id = ?
2022-04-06 11:30:33.640 DEBUG 3480 --- [http-nio-8086-exec-2] c.k.m.BlogMapper.getBlogCountByTagId     : ==> Parameters: 12(Integer)
2022-04-06 11:30:33.641 DEBUG 3480 --- [http-nio-8086-exec-2] c.k.m.BlogMapper.getBlogCountByTagId     : <==      Total: 1
2022-04-06 11:30:33.641 DEBUG 3480 --- [http-nio-8086-exec-2] c.k.m.BlogMapper.getBlogListByTagId      : ==>  Preparing: select b.*,bt.tag_id,t.name from blog b,blog_tag bt,tag t where bt.blog_id=b.id and bt.tag_id=t.id and bt.tag_id=? order by b.id desc limit ?,?
2022-04-06 11:30:33.641 DEBUG 3480 --- [http-nio-8086-exec-2] c.k.m.BlogMapper.getBlogListByTagId      : ==> Parameters: 12(Integer), 5(Integer), 5(Integer)
2022-04-06 11:30:33.642 DEBUG 3480 --- [http-nio-8086-exec-2] c.k.m.BlogMapper.getBlogListByTagId      : <==      Total: 5
2022-04-06 11:30:33.643 DEBUG 3480 --- [http-nio-8086-exec-2] com.kwok.mapper.TypeMapper.getTypeById   : ==>  Preparing: select * from type where id = ?
2022-04-06 11:30:33.643 DEBUG 3480 --- [http-nio-8086-exec-2] com.kwok.mapper.TypeMapper.getTypeById   : ==> Parameters: 6(Integer)
2022-04-06 11:30:33.643 DEBUG 3480 --- [http-nio-8086-exec-2] com.kwok.mapper.TypeMapper.getTypeById   : <==      Total: 1
2022-04-06 11:30:33.644 DEBUG 3480 --- [http-nio-8086-exec-2] c.kwok.mapper.TagMapper.getTagsByBlogId  : ==>  Preparing: select t.* from tag t,blog_tag bt where t.id=bt.tag_id and bt.blog_id=?
2022-04-06 11:30:33.644 DEBUG 3480 --- [http-nio-8086-exec-2] c.kwok.mapper.TagMapper.getTagsByBlogId  : ==> Parameters: 40(Integer)
2022-04-06 11:30:33.644 DEBUG 3480 --- [http-nio-8086-exec-2] c.kwok.mapper.TagMapper.getTagsByBlogId  : <==      Total: 2
2022-04-06 11:30:33.644 DEBUG 3480 --- [http-nio-8086-exec-2] com.kwok.mapper.TypeMapper.getTypeById   : ==>  Preparing: select * from type where id = ?
2022-04-06 11:30:33.644 DEBUG 3480 --- [http-nio-8086-exec-2] com.kwok.mapper.TypeMapper.getTypeById   : ==> Parameters: 6(Integer)
2022-04-06 11:30:33.645 DEBUG 3480 --- [http-nio-8086-exec-2] com.kwok.mapper.TypeMapper.getTypeById   : <==      Total: 1
2022-04-06 11:30:33.645 DEBUG 3480 --- [http-nio-8086-exec-2] c.kwok.mapper.TagMapper.getTagsByBlogId  : ==>  Preparing: select t.* from tag t,blog_tag bt where t.id=bt.tag_id and bt.blog_id=?
2022-04-06 11:30:33.645 DEBUG 3480 --- [http-nio-8086-exec-2] c.kwok.mapper.TagMapper.getTagsByBlogId  : ==> Parameters: 39(Integer)
2022-04-06 11:30:33.646 DEBUG 3480 --- [http-nio-8086-exec-2] c.kwok.mapper.TagMapper.getTagsByBlogId  : <==      Total: 2
2022-04-06 11:30:33.646 DEBUG 3480 --- [http-nio-8086-exec-2] com.kwok.mapper.TypeMapper.getTypeById   : ==>  Preparing: select * from type where id = ?
2022-04-06 11:30:33.646 DEBUG 3480 --- [http-nio-8086-exec-2] com.kwok.mapper.TypeMapper.getTypeById   : ==> Parameters: 6(Integer)
2022-04-06 11:30:33.646 DEBUG 3480 --- [http-nio-8086-exec-2] com.kwok.mapper.TypeMapper.getTypeById   : <==      Total: 1
2022-04-06 11:30:33.647 DEBUG 3480 --- [http-nio-8086-exec-2] c.kwok.mapper.TagMapper.getTagsByBlogId  : ==>  Preparing: select t.* from tag t,blog_tag bt where t.id=bt.tag_id and bt.blog_id=?
2022-04-06 11:30:33.647 DEBUG 3480 --- [http-nio-8086-exec-2] c.kwok.mapper.TagMapper.getTagsByBlogId  : ==> Parameters: 38(Integer)
2022-04-06 11:30:33.647 DEBUG 3480 --- [http-nio-8086-exec-2] c.kwok.mapper.TagMapper.getTagsByBlogId  : <==      Total: 2
2022-04-06 11:30:33.647 DEBUG 3480 --- [http-nio-8086-exec-2] com.kwok.mapper.TypeMapper.getTypeById   : ==>  Preparing: select * from type where id = ?
2022-04-06 11:30:33.647 DEBUG 3480 --- [http-nio-8086-exec-2] com.kwok.mapper.TypeMapper.getTypeById   : ==> Parameters: 6(Integer)
2022-04-06 11:30:33.648 DEBUG 3480 --- [http-nio-8086-exec-2] com.kwok.mapper.TypeMapper.getTypeById   : <==      Total: 1
2022-04-06 11:30:33.648 DEBUG 3480 --- [http-nio-8086-exec-2] c.kwok.mapper.TagMapper.getTagsByBlogId  : ==>  Preparing: select t.* from tag t,blog_tag bt where t.id=bt.tag_id and bt.blog_id=?
2022-04-06 11:30:33.648 DEBUG 3480 --- [http-nio-8086-exec-2] c.kwok.mapper.TagMapper.getTagsByBlogId  : ==> Parameters: 37(Integer)
2022-04-06 11:30:33.648 DEBUG 3480 --- [http-nio-8086-exec-2] c.kwok.mapper.TagMapper.getTagsByBlogId  : <==      Total: 2
2022-04-06 11:30:33.648 DEBUG 3480 --- [http-nio-8086-exec-2] com.kwok.mapper.TypeMapper.getTypeById   : ==>  Preparing: select * from type where id = ?
2022-04-06 11:30:33.649 DEBUG 3480 --- [http-nio-8086-exec-2] com.kwok.mapper.TypeMapper.getTypeById   : ==> Parameters: 6(Integer)
2022-04-06 11:30:33.649 DEBUG 3480 --- [http-nio-8086-exec-2] com.kwok.mapper.TypeMapper.getTypeById   : <==      Total: 1
2022-04-06 11:30:33.649 DEBUG 3480 --- [http-nio-8086-exec-2] c.kwok.mapper.TagMapper.getTagsByBlogId  : ==>  Preparing: select t.* from tag t,blog_tag bt where t.id=bt.tag_id and bt.blog_id=?
2022-04-06 11:30:33.649 DEBUG 3480 --- [http-nio-8086-exec-2] c.kwok.mapper.TagMapper.getTagsByBlogId  : ==> Parameters: 36(Integer)
2022-04-06 11:30:33.650 DEBUG 3480 --- [http-nio-8086-exec-2] c.kwok.mapper.TagMapper.getTagsByBlogId  : <==      Total: 2
2022-04-06 11:30:33.650 DEBUG 3480 --- [http-nio-8086-exec-2] c.k.m.BlogMapper.getPreBlogsByTagId      : ==>  Preparing: select b.* from blog b,blog_tag bt where b.id = bt.blog_id and bt.tag_id=? and b.id > ?
2022-04-06 11:30:33.650 DEBUG 3480 --- [http-nio-8086-exec-2] c.k.m.BlogMapper.getPreBlogsByTagId      : ==> Parameters: 12(Integer), 40(Integer)
2022-04-06 11:30:33.652 DEBUG 3480 --- [http-nio-8086-exec-2] c.k.m.BlogMapper.getPreBlogsByTagId      : <==      Total: 5
2022-04-06 11:30:33.652 DEBUG 3480 --- [http-nio-8086-exec-2] c.k.m.BlogMapper.getNextBlogsByTagId     : ==>  Preparing: select b.* from blog b,blog_tag bt where b.id = bt.blog_id and bt.tag_id=? and ? > b.id
2022-04-06 11:30:33.652 DEBUG 3480 --- [http-nio-8086-exec-2] c.k.m.BlogMapper.getNextBlogsByTagId     : ==> Parameters: 12(Integer), 36(Integer)
2022-04-06 11:30:33.654 DEBUG 3480 --- [http-nio-8086-exec-2] c.k.m.BlogMapper.getNextBlogsByTagId     : <==      Total: 4
2022-04-06 11:30:33.654  INFO 3480 --- [http-nio-8086-exec-2] com.kwok.aspect.LogAspect                : Result : tags :: blogList
2022-04-06 11:30:41.139  INFO 3480 --- [http-nio-8086-exec-8] com.kwok.aspect.LogAspect                : Request : {url='http://localhost:8086/tags/topage', ip='0:0:0:0:0:0:0:1', classMethod='com.kwok.controller.TagShowController.searchTopage', args=[org.apache.catalina.connector.RequestFacade@4828a8cb, org.apache.catalina.connector.ResponseFacade@4c173516, {}]}
2022-04-06 11:30:41.140 DEBUG 3480 --- [http-nio-8086-exec-8] com.kwok.mapper.TagMapper.listTag        : ==>  Preparing: select * from tag order by id desc
2022-04-06 11:30:41.140 DEBUG 3480 --- [http-nio-8086-exec-8] com.kwok.mapper.TagMapper.listTag        : ==> Parameters: 
2022-04-06 11:30:41.141 DEBUG 3480 --- [http-nio-8086-exec-8] com.kwok.mapper.TagMapper.listTag        : <==      Total: 14
2022-04-06 11:30:41.141 DEBUG 3480 --- [http-nio-8086-exec-8] com.kwok.mapper.TagMapper.tagCount       : ==>  Preparing: select count(1) as count from blog_tag where tag_id=?
2022-04-06 11:30:41.141 DEBUG 3480 --- [http-nio-8086-exec-8] com.kwok.mapper.TagMapper.tagCount       : ==> Parameters: 14(Integer)
2022-04-06 11:30:41.142 DEBUG 3480 --- [http-nio-8086-exec-8] com.kwok.mapper.TagMapper.tagCount       : <==      Total: 1
2022-04-06 11:30:41.142 DEBUG 3480 --- [http-nio-8086-exec-8] com.kwok.mapper.TagMapper.tagCount       : ==>  Preparing: select count(1) as count from blog_tag where tag_id=?
2022-04-06 11:30:41.142 DEBUG 3480 --- [http-nio-8086-exec-8] com.kwok.mapper.TagMapper.tagCount       : ==> Parameters: 13(Integer)
2022-04-06 11:30:41.142 DEBUG 3480 --- [http-nio-8086-exec-8] com.kwok.mapper.TagMapper.tagCount       : <==      Total: 1
2022-04-06 11:30:41.142 DEBUG 3480 --- [http-nio-8086-exec-8] com.kwok.mapper.TagMapper.tagCount       : ==>  Preparing: select count(1) as count from blog_tag where tag_id=?
2022-04-06 11:30:41.142 DEBUG 3480 --- [http-nio-8086-exec-8] com.kwok.mapper.TagMapper.tagCount       : ==> Parameters: 12(Integer)
2022-04-06 11:30:41.143 DEBUG 3480 --- [http-nio-8086-exec-8] com.kwok.mapper.TagMapper.tagCount       : <==      Total: 1
2022-04-06 11:30:41.143 DEBUG 3480 --- [http-nio-8086-exec-8] com.kwok.mapper.TagMapper.tagCount       : ==>  Preparing: select count(1) as count from blog_tag where tag_id=?
2022-04-06 11:30:41.143 DEBUG 3480 --- [http-nio-8086-exec-8] com.kwok.mapper.TagMapper.tagCount       : ==> Parameters: 11(Integer)
2022-04-06 11:30:41.143 DEBUG 3480 --- [http-nio-8086-exec-8] com.kwok.mapper.TagMapper.tagCount       : <==      Total: 1
2022-04-06 11:30:41.143 DEBUG 3480 --- [http-nio-8086-exec-8] com.kwok.mapper.TagMapper.tagCount       : ==>  Preparing: select count(1) as count from blog_tag where tag_id=?
2022-04-06 11:30:41.144 DEBUG 3480 --- [http-nio-8086-exec-8] com.kwok.mapper.TagMapper.tagCount       : ==> Parameters: 10(Integer)
2022-04-06 11:30:41.144 DEBUG 3480 --- [http-nio-8086-exec-8] com.kwok.mapper.TagMapper.tagCount       : <==      Total: 1
2022-04-06 11:30:41.144 DEBUG 3480 --- [http-nio-8086-exec-8] com.kwok.mapper.TagMapper.tagCount       : ==>  Preparing: select count(1) as count from blog_tag where tag_id=?
2022-04-06 11:30:41.144 DEBUG 3480 --- [http-nio-8086-exec-8] com.kwok.mapper.TagMapper.tagCount       : ==> Parameters: 9(Integer)
2022-04-06 11:30:41.145 DEBUG 3480 --- [http-nio-8086-exec-8] com.kwok.mapper.TagMapper.tagCount       : <==      Total: 1
2022-04-06 11:30:41.145 DEBUG 3480 --- [http-nio-8086-exec-8] com.kwok.mapper.TagMapper.tagCount       : ==>  Preparing: select count(1) as count from blog_tag where tag_id=?
2022-04-06 11:30:41.145 DEBUG 3480 --- [http-nio-8086-exec-8] com.kwok.mapper.TagMapper.tagCount       : ==> Parameters: 8(Integer)
2022-04-06 11:30:41.145 DEBUG 3480 --- [http-nio-8086-exec-8] com.kwok.mapper.TagMapper.tagCount       : <==      Total: 1
2022-04-06 11:30:41.145 DEBUG 3480 --- [http-nio-8086-exec-8] com.kwok.mapper.TagMapper.tagCount       : ==>  Preparing: select count(1) as count from blog_tag where tag_id=?
2022-04-06 11:30:41.145 DEBUG 3480 --- [http-nio-8086-exec-8] com.kwok.mapper.TagMapper.tagCount       : ==> Parameters: 7(Integer)
2022-04-06 11:30:41.146 DEBUG 3480 --- [http-nio-8086-exec-8] com.kwok.mapper.TagMapper.tagCount       : <==      Total: 1
2022-04-06 11:30:41.146 DEBUG 3480 --- [http-nio-8086-exec-8] com.kwok.mapper.TagMapper.tagCount       : ==>  Preparing: select count(1) as count from blog_tag where tag_id=?
2022-04-06 11:30:41.146 DEBUG 3480 --- [http-nio-8086-exec-8] com.kwok.mapper.TagMapper.tagCount       : ==> Parameters: 6(Integer)
2022-04-06 11:30:41.146 DEBUG 3480 --- [http-nio-8086-exec-8] com.kwok.mapper.TagMapper.tagCount       : <==      Total: 1
2022-04-06 11:30:41.146 DEBUG 3480 --- [http-nio-8086-exec-8] com.kwok.mapper.TagMapper.tagCount       : ==>  Preparing: select count(1) as count from blog_tag where tag_id=?
2022-04-06 11:30:41.146 DEBUG 3480 --- [http-nio-8086-exec-8] com.kwok.mapper.TagMapper.tagCount       : ==> Parameters: 5(Integer)
2022-04-06 11:30:41.147 DEBUG 3480 --- [http-nio-8086-exec-8] com.kwok.mapper.TagMapper.tagCount       : <==      Total: 1
2022-04-06 11:30:41.147 DEBUG 3480 --- [http-nio-8086-exec-8] com.kwok.mapper.TagMapper.tagCount       : ==>  Preparing: select count(1) as count from blog_tag where tag_id=?
2022-04-06 11:30:41.147 DEBUG 3480 --- [http-nio-8086-exec-8] com.kwok.mapper.TagMapper.tagCount       : ==> Parameters: 4(Integer)
2022-04-06 11:30:41.147 DEBUG 3480 --- [http-nio-8086-exec-8] com.kwok.mapper.TagMapper.tagCount       : <==      Total: 1
2022-04-06 11:30:41.148 DEBUG 3480 --- [http-nio-8086-exec-8] com.kwok.mapper.TagMapper.tagCount       : ==>  Preparing: select count(1) as count from blog_tag where tag_id=?
2022-04-06 11:30:41.148 DEBUG 3480 --- [http-nio-8086-exec-8] com.kwok.mapper.TagMapper.tagCount       : ==> Parameters: 3(Integer)
2022-04-06 11:30:41.148 DEBUG 3480 --- [http-nio-8086-exec-8] com.kwok.mapper.TagMapper.tagCount       : <==      Total: 1
2022-04-06 11:30:41.148 DEBUG 3480 --- [http-nio-8086-exec-8] com.kwok.mapper.TagMapper.tagCount       : ==>  Preparing: select count(1) as count from blog_tag where tag_id=?
2022-04-06 11:30:41.148 DEBUG 3480 --- [http-nio-8086-exec-8] com.kwok.mapper.TagMapper.tagCount       : ==> Parameters: 2(Integer)
2022-04-06 11:30:41.149 DEBUG 3480 --- [http-nio-8086-exec-8] com.kwok.mapper.TagMapper.tagCount       : <==      Total: 1
2022-04-06 11:30:41.149 DEBUG 3480 --- [http-nio-8086-exec-8] com.kwok.mapper.TagMapper.tagCount       : ==>  Preparing: select count(1) as count from blog_tag where tag_id=?
2022-04-06 11:30:41.149 DEBUG 3480 --- [http-nio-8086-exec-8] com.kwok.mapper.TagMapper.tagCount       : ==> Parameters: 1(Integer)
2022-04-06 11:30:41.150 DEBUG 3480 --- [http-nio-8086-exec-8] com.kwok.mapper.TagMapper.tagCount       : <==      Total: 1
2022-04-06 11:30:41.150 DEBUG 3480 --- [http-nio-8086-exec-8] c.k.m.BlogMapper.getBlogCountByTagId     : ==>  Preparing: select count(1) as count from blog_tag where tag_id = ?
2022-04-06 11:30:41.150 DEBUG 3480 --- [http-nio-8086-exec-8] c.k.m.BlogMapper.getBlogCountByTagId     : ==> Parameters: 12(Integer)
2022-04-06 11:30:41.151 DEBUG 3480 --- [http-nio-8086-exec-8] c.k.m.BlogMapper.getBlogCountByTagId     : <==      Total: 1
2022-04-06 11:30:41.151 DEBUG 3480 --- [http-nio-8086-exec-8] c.k.m.BlogMapper.getBlogListByTagId      : ==>  Preparing: select b.*,bt.tag_id,t.name from blog b,blog_tag bt,tag t where bt.blog_id=b.id and bt.tag_id=t.id and bt.tag_id=? order by b.id desc limit ?,?
2022-04-06 11:30:41.151 DEBUG 3480 --- [http-nio-8086-exec-8] c.k.m.BlogMapper.getBlogListByTagId      : ==> Parameters: 12(Integer), 10(Integer), 5(Integer)
2022-04-06 11:30:41.153 DEBUG 3480 --- [http-nio-8086-exec-8] c.k.m.BlogMapper.getBlogListByTagId      : <==      Total: 4
2022-04-06 11:30:41.153 DEBUG 3480 --- [http-nio-8086-exec-8] com.kwok.mapper.TypeMapper.getTypeById   : ==>  Preparing: select * from type where id = ?
2022-04-06 11:30:41.153 DEBUG 3480 --- [http-nio-8086-exec-8] com.kwok.mapper.TypeMapper.getTypeById   : ==> Parameters: 6(Integer)
2022-04-06 11:30:41.154 DEBUG 3480 --- [http-nio-8086-exec-8] com.kwok.mapper.TypeMapper.getTypeById   : <==      Total: 1
2022-04-06 11:30:41.154 DEBUG 3480 --- [http-nio-8086-exec-8] c.kwok.mapper.TagMapper.getTagsByBlogId  : ==>  Preparing: select t.* from tag t,blog_tag bt where t.id=bt.tag_id and bt.blog_id=?
2022-04-06 11:30:41.154 DEBUG 3480 --- [http-nio-8086-exec-8] c.kwok.mapper.TagMapper.getTagsByBlogId  : ==> Parameters: 35(Integer)
2022-04-06 11:30:41.155 DEBUG 3480 --- [http-nio-8086-exec-8] c.kwok.mapper.TagMapper.getTagsByBlogId  : <==      Total: 2
2022-04-06 11:30:41.155 DEBUG 3480 --- [http-nio-8086-exec-8] com.kwok.mapper.TypeMapper.getTypeById   : ==>  Preparing: select * from type where id = ?
2022-04-06 11:30:41.155 DEBUG 3480 --- [http-nio-8086-exec-8] com.kwok.mapper.TypeMapper.getTypeById   : ==> Parameters: 6(Integer)
2022-04-06 11:30:41.156 DEBUG 3480 --- [http-nio-8086-exec-8] com.kwok.mapper.TypeMapper.getTypeById   : <==      Total: 1
2022-04-06 11:30:41.156 DEBUG 3480 --- [http-nio-8086-exec-8] c.kwok.mapper.TagMapper.getTagsByBlogId  : ==>  Preparing: select t.* from tag t,blog_tag bt where t.id=bt.tag_id and bt.blog_id=?
2022-04-06 11:30:41.156 DEBUG 3480 --- [http-nio-8086-exec-8] c.kwok.mapper.TagMapper.getTagsByBlogId  : ==> Parameters: 34(Integer)
2022-04-06 11:30:41.156 DEBUG 3480 --- [http-nio-8086-exec-8] c.kwok.mapper.TagMapper.getTagsByBlogId  : <==      Total: 2
2022-04-06 11:30:41.156 DEBUG 3480 --- [http-nio-8086-exec-8] com.kwok.mapper.TypeMapper.getTypeById   : ==>  Preparing: select * from type where id = ?
2022-04-06 11:30:41.156 DEBUG 3480 --- [http-nio-8086-exec-8] com.kwok.mapper.TypeMapper.getTypeById   : ==> Parameters: 6(Integer)
2022-04-06 11:30:41.157 DEBUG 3480 --- [http-nio-8086-exec-8] com.kwok.mapper.TypeMapper.getTypeById   : <==      Total: 1
2022-04-06 11:30:41.157 DEBUG 3480 --- [http-nio-8086-exec-8] c.kwok.mapper.TagMapper.getTagsByBlogId  : ==>  Preparing: select t.* from tag t,blog_tag bt where t.id=bt.tag_id and bt.blog_id=?
2022-04-06 11:30:41.157 DEBUG 3480 --- [http-nio-8086-exec-8] c.kwok.mapper.TagMapper.getTagsByBlogId  : ==> Parameters: 33(Integer)
2022-04-06 11:30:41.157 DEBUG 3480 --- [http-nio-8086-exec-8] c.kwok.mapper.TagMapper.getTagsByBlogId  : <==      Total: 2
2022-04-06 11:30:41.158 DEBUG 3480 --- [http-nio-8086-exec-8] com.kwok.mapper.TypeMapper.getTypeById   : ==>  Preparing: select * from type where id = ?
2022-04-06 11:30:41.158 DEBUG 3480 --- [http-nio-8086-exec-8] com.kwok.mapper.TypeMapper.getTypeById   : ==> Parameters: 6(Integer)
2022-04-06 11:30:41.158 DEBUG 3480 --- [http-nio-8086-exec-8] com.kwok.mapper.TypeMapper.getTypeById   : <==      Total: 1
2022-04-06 11:30:41.158 DEBUG 3480 --- [http-nio-8086-exec-8] c.kwok.mapper.TagMapper.getTagsByBlogId  : ==>  Preparing: select t.* from tag t,blog_tag bt where t.id=bt.tag_id and bt.blog_id=?
2022-04-06 11:30:41.158 DEBUG 3480 --- [http-nio-8086-exec-8] c.kwok.mapper.TagMapper.getTagsByBlogId  : ==> Parameters: 32(Integer)
2022-04-06 11:30:41.159 DEBUG 3480 --- [http-nio-8086-exec-8] c.kwok.mapper.TagMapper.getTagsByBlogId  : <==      Total: 2
2022-04-06 11:30:41.159 DEBUG 3480 --- [http-nio-8086-exec-8] c.k.m.BlogMapper.getPreBlogsByTagId      : ==>  Preparing: select b.* from blog b,blog_tag bt where b.id = bt.blog_id and bt.tag_id=? and b.id > ?
2022-04-06 11:30:41.159 DEBUG 3480 --- [http-nio-8086-exec-8] c.k.m.BlogMapper.getPreBlogsByTagId      : ==> Parameters: 12(Integer), 35(Integer)
2022-04-06 11:30:41.161 DEBUG 3480 --- [http-nio-8086-exec-8] c.k.m.BlogMapper.getPreBlogsByTagId      : <==      Total: 10
2022-04-06 11:30:41.161 DEBUG 3480 --- [http-nio-8086-exec-8] c.k.m.BlogMapper.getNextBlogsByTagId     : ==>  Preparing: select b.* from blog b,blog_tag bt where b.id = bt.blog_id and bt.tag_id=? and ? > b.id
2022-04-06 11:30:41.162 DEBUG 3480 --- [http-nio-8086-exec-8] c.k.m.BlogMapper.getNextBlogsByTagId     : ==> Parameters: 12(Integer), 32(Integer)
2022-04-06 11:30:41.163 DEBUG 3480 --- [http-nio-8086-exec-8] c.k.m.BlogMapper.getNextBlogsByTagId     : <==      Total: 0
2022-04-06 11:30:41.163  INFO 3480 --- [http-nio-8086-exec-8] com.kwok.aspect.LogAspect                : Result : tags :: blogList
2022-04-06 11:30:44.951  INFO 3480 --- [http-nio-8086-exec-9] com.kwok.aspect.LogAspect                : Request : {url='http://localhost:8086/blog/34', ip='0:0:0:0:0:0:0:1', classMethod='com.kwok.controller.IndexController.blog', args=[34, {}]}
2022-04-06 11:30:44.952 DEBUG 3480 --- [http-nio-8086-exec-9] com.kwok.mapper.BlogMapper.getBlogById   : ==>  Preparing: select * from blog where id = ?
2022-04-06 11:30:44.952 DEBUG 3480 --- [http-nio-8086-exec-9] com.kwok.mapper.BlogMapper.getBlogById   : ==> Parameters: 34(Integer)
2022-04-06 11:30:44.954 DEBUG 3480 --- [http-nio-8086-exec-9] com.kwok.mapper.BlogMapper.getBlogById   : <==      Total: 1
2022-04-06 11:30:44.954 DEBUG 3480 --- [http-nio-8086-exec-9] c.k.mapper.BlogMapper.updateBlogViews    : ==>  Preparing: update blog set views=? where id = ?
2022-04-06 11:30:44.954 DEBUG 3480 --- [http-nio-8086-exec-9] c.k.mapper.BlogMapper.updateBlogViews    : ==> Parameters: 2(Integer), 34(Integer)
2022-04-06 11:30:44.955 DEBUG 3480 --- [http-nio-8086-exec-9] c.k.mapper.BlogMapper.updateBlogViews    : <==    Updates: 1
2022-04-06 11:30:44.962 DEBUG 3480 --- [http-nio-8086-exec-9] com.kwok.mapper.BlogMapper.getBlogById   : ==>  Preparing: select * from blog where id = ?
2022-04-06 11:30:44.962 DEBUG 3480 --- [http-nio-8086-exec-9] com.kwok.mapper.BlogMapper.getBlogById   : ==> Parameters: 34(Integer)
2022-04-06 11:30:44.963 DEBUG 3480 --- [http-nio-8086-exec-9] com.kwok.mapper.BlogMapper.getBlogById   : <==      Total: 1
2022-04-06 11:30:44.965 DEBUG 3480 --- [http-nio-8086-exec-9] c.k.m.BlogtagMapper.getTagIdByBlogId     : ==>  Preparing: select * from blog_tag where blog_id = ?
2022-04-06 11:30:44.966 DEBUG 3480 --- [http-nio-8086-exec-9] c.k.m.BlogtagMapper.getTagIdByBlogId     : ==> Parameters: 34(Integer)
2022-04-06 11:30:44.967 DEBUG 3480 --- [http-nio-8086-exec-9] c.k.m.BlogtagMapper.getTagIdByBlogId     : <==      Total: 2
2022-04-06 11:30:44.967 DEBUG 3480 --- [http-nio-8086-exec-9] com.kwok.mapper.TagMapper.getShowTags    : ==>  Preparing: select * from tag where id in ( ? , ? )
2022-04-06 11:30:44.967 DEBUG 3480 --- [http-nio-8086-exec-9] com.kwok.mapper.TagMapper.getShowTags    : ==> Parameters: 12(Integer), 4(Integer)
2022-04-06 11:30:44.968 DEBUG 3480 --- [http-nio-8086-exec-9] com.kwok.mapper.TagMapper.getShowTags    : <==      Total: 2
2022-04-06 11:30:44.968  INFO 3480 --- [http-nio-8086-exec-9] com.kwok.aspect.LogAspect                : Result : blog
2022-04-06 11:30:45.441  INFO 3480 --- [http-nio-8086-exec-3] com.kwok.aspect.LogAspect                : Request : {url='http://localhost:8086/comments/34', ip='0:0:0:0:0:0:0:1', classMethod='com.kwok.controller.CommentController.comments', args=[34, {}]}
2022-04-06 11:30:45.441 DEBUG 3480 --- [http-nio-8086-exec-3] c.k.m.CommentMapper.listCommentByBlogId  : ==>  Preparing: select * from comment where blog_id = ? and parent_id = 0 order by creat_time asc
2022-04-06 11:30:45.441 DEBUG 3480 --- [http-nio-8086-exec-3] c.k.m.CommentMapper.listCommentByBlogId  : ==> Parameters: 34(Integer)
2022-04-06 11:30:45.442 DEBUG 3480 --- [http-nio-8086-exec-3] c.k.m.CommentMapper.listCommentByBlogId  : <==      Total: 0
2022-04-06 11:30:45.442  INFO 3480 --- [http-nio-8086-exec-3] com.kwok.aspect.LogAspect                : Result : blog :: commentList
2022-04-06 11:31:23.654  INFO 3480 --- [http-nio-8086-exec-5] com.kwok.aspect.LogAspect                : Request : {url='http://localhost:8086/tags/topage', ip='0:0:0:0:0:0:0:1', classMethod='com.kwok.controller.TagShowController.searchTopage', args=[org.apache.catalina.connector.RequestFacade@60811cc4, org.apache.catalina.connector.ResponseFacade@723759f7, {}]}
2022-04-06 11:31:23.654 DEBUG 3480 --- [http-nio-8086-exec-5] com.kwok.mapper.TagMapper.listTag        : ==>  Preparing: select * from tag order by id desc
2022-04-06 11:31:23.654 DEBUG 3480 --- [http-nio-8086-exec-5] com.kwok.mapper.TagMapper.listTag        : ==> Parameters: 
2022-04-06 11:31:23.655 DEBUG 3480 --- [http-nio-8086-exec-5] com.kwok.mapper.TagMapper.listTag        : <==      Total: 14
2022-04-06 11:31:23.655 DEBUG 3480 --- [http-nio-8086-exec-5] com.kwok.mapper.TagMapper.tagCount       : ==>  Preparing: select count(1) as count from blog_tag where tag_id=?
2022-04-06 11:31:23.655 DEBUG 3480 --- [http-nio-8086-exec-5] com.kwok.mapper.TagMapper.tagCount       : ==> Parameters: 14(Integer)
2022-04-06 11:31:23.656 DEBUG 3480 --- [http-nio-8086-exec-5] com.kwok.mapper.TagMapper.tagCount       : <==      Total: 1
2022-04-06 11:31:23.656 DEBUG 3480 --- [http-nio-8086-exec-5] com.kwok.mapper.TagMapper.tagCount       : ==>  Preparing: select count(1) as count from blog_tag where tag_id=?
2022-04-06 11:31:23.656 DEBUG 3480 --- [http-nio-8086-exec-5] com.kwok.mapper.TagMapper.tagCount       : ==> Parameters: 13(Integer)
2022-04-06 11:31:23.657 DEBUG 3480 --- [http-nio-8086-exec-5] com.kwok.mapper.TagMapper.tagCount       : <==      Total: 1
2022-04-06 11:31:23.657 DEBUG 3480 --- [http-nio-8086-exec-5] com.kwok.mapper.TagMapper.tagCount       : ==>  Preparing: select count(1) as count from blog_tag where tag_id=?
2022-04-06 11:31:23.657 DEBUG 3480 --- [http-nio-8086-exec-5] com.kwok.mapper.TagMapper.tagCount       : ==> Parameters: 12(Integer)
2022-04-06 11:31:23.657 DEBUG 3480 --- [http-nio-8086-exec-5] com.kwok.mapper.TagMapper.tagCount       : <==      Total: 1
2022-04-06 11:31:23.657 DEBUG 3480 --- [http-nio-8086-exec-5] com.kwok.mapper.TagMapper.tagCount       : ==>  Preparing: select count(1) as count from blog_tag where tag_id=?
2022-04-06 11:31:23.657 DEBUG 3480 --- [http-nio-8086-exec-5] com.kwok.mapper.TagMapper.tagCount       : ==> Parameters: 11(Integer)
2022-04-06 11:31:23.658 DEBUG 3480 --- [http-nio-8086-exec-5] com.kwok.mapper.TagMapper.tagCount       : <==      Total: 1
2022-04-06 11:31:23.658 DEBUG 3480 --- [http-nio-8086-exec-5] com.kwok.mapper.TagMapper.tagCount       : ==>  Preparing: select count(1) as count from blog_tag where tag_id=?
2022-04-06 11:31:23.658 DEBUG 3480 --- [http-nio-8086-exec-5] com.kwok.mapper.TagMapper.tagCount       : ==> Parameters: 10(Integer)
2022-04-06 11:31:23.658 DEBUG 3480 --- [http-nio-8086-exec-5] com.kwok.mapper.TagMapper.tagCount       : <==      Total: 1
2022-04-06 11:31:23.658 DEBUG 3480 --- [http-nio-8086-exec-5] com.kwok.mapper.TagMapper.tagCount       : ==>  Preparing: select count(1) as count from blog_tag where tag_id=?
2022-04-06 11:31:23.658 DEBUG 3480 --- [http-nio-8086-exec-5] com.kwok.mapper.TagMapper.tagCount       : ==> Parameters: 9(Integer)
2022-04-06 11:31:23.659 DEBUG 3480 --- [http-nio-8086-exec-5] com.kwok.mapper.TagMapper.tagCount       : <==      Total: 1
2022-04-06 11:31:23.659 DEBUG 3480 --- [http-nio-8086-exec-5] com.kwok.mapper.TagMapper.tagCount       : ==>  Preparing: select count(1) as count from blog_tag where tag_id=?
2022-04-06 11:31:23.659 DEBUG 3480 --- [http-nio-8086-exec-5] com.kwok.mapper.TagMapper.tagCount       : ==> Parameters: 8(Integer)
2022-04-06 11:31:23.659 DEBUG 3480 --- [http-nio-8086-exec-5] com.kwok.mapper.TagMapper.tagCount       : <==      Total: 1
2022-04-06 11:31:23.659 DEBUG 3480 --- [http-nio-8086-exec-5] com.kwok.mapper.TagMapper.tagCount       : ==>  Preparing: select count(1) as count from blog_tag where tag_id=?
2022-04-06 11:31:23.660 DEBUG 3480 --- [http-nio-8086-exec-5] com.kwok.mapper.TagMapper.tagCount       : ==> Parameters: 7(Integer)
2022-04-06 11:31:23.660 DEBUG 3480 --- [http-nio-8086-exec-5] com.kwok.mapper.TagMapper.tagCount       : <==      Total: 1
2022-04-06 11:31:23.660 DEBUG 3480 --- [http-nio-8086-exec-5] com.kwok.mapper.TagMapper.tagCount       : ==>  Preparing: select count(1) as count from blog_tag where tag_id=?
2022-04-06 11:31:23.660 DEBUG 3480 --- [http-nio-8086-exec-5] com.kwok.mapper.TagMapper.tagCount       : ==> Parameters: 6(Integer)
2022-04-06 11:31:23.660 DEBUG 3480 --- [http-nio-8086-exec-5] com.kwok.mapper.TagMapper.tagCount       : <==      Total: 1
2022-04-06 11:31:23.661 DEBUG 3480 --- [http-nio-8086-exec-5] com.kwok.mapper.TagMapper.tagCount       : ==>  Preparing: select count(1) as count from blog_tag where tag_id=?
2022-04-06 11:31:23.661 DEBUG 3480 --- [http-nio-8086-exec-5] com.kwok.mapper.TagMapper.tagCount       : ==> Parameters: 5(Integer)
2022-04-06 11:31:23.661 DEBUG 3480 --- [http-nio-8086-exec-5] com.kwok.mapper.TagMapper.tagCount       : <==      Total: 1
2022-04-06 11:31:23.661 DEBUG 3480 --- [http-nio-8086-exec-5] com.kwok.mapper.TagMapper.tagCount       : ==>  Preparing: select count(1) as count from blog_tag where tag_id=?
2022-04-06 11:31:23.661 DEBUG 3480 --- [http-nio-8086-exec-5] com.kwok.mapper.TagMapper.tagCount       : ==> Parameters: 4(Integer)
2022-04-06 11:31:23.662 DEBUG 3480 --- [http-nio-8086-exec-5] com.kwok.mapper.TagMapper.tagCount       : <==      Total: 1
2022-04-06 11:31:23.662 DEBUG 3480 --- [http-nio-8086-exec-5] com.kwok.mapper.TagMapper.tagCount       : ==>  Preparing: select count(1) as count from blog_tag where tag_id=?
2022-04-06 11:31:23.662 DEBUG 3480 --- [http-nio-8086-exec-5] com.kwok.mapper.TagMapper.tagCount       : ==> Parameters: 3(Integer)
2022-04-06 11:31:23.662 DEBUG 3480 --- [http-nio-8086-exec-5] com.kwok.mapper.TagMapper.tagCount       : <==      Total: 1
2022-04-06 11:31:23.662 DEBUG 3480 --- [http-nio-8086-exec-5] com.kwok.mapper.TagMapper.tagCount       : ==>  Preparing: select count(1) as count from blog_tag where tag_id=?
2022-04-06 11:31:23.662 DEBUG 3480 --- [http-nio-8086-exec-5] com.kwok.mapper.TagMapper.tagCount       : ==> Parameters: 2(Integer)
2022-04-06 11:31:23.663 DEBUG 3480 --- [http-nio-8086-exec-5] com.kwok.mapper.TagMapper.tagCount       : <==      Total: 1
2022-04-06 11:31:23.663 DEBUG 3480 --- [http-nio-8086-exec-5] com.kwok.mapper.TagMapper.tagCount       : ==>  Preparing: select count(1) as count from blog_tag where tag_id=?
2022-04-06 11:31:23.663 DEBUG 3480 --- [http-nio-8086-exec-5] com.kwok.mapper.TagMapper.tagCount       : ==> Parameters: 1(Integer)
2022-04-06 11:31:23.663 DEBUG 3480 --- [http-nio-8086-exec-5] com.kwok.mapper.TagMapper.tagCount       : <==      Total: 1
2022-04-06 11:31:23.663 DEBUG 3480 --- [http-nio-8086-exec-5] c.k.m.BlogMapper.getBlogCountByTagId     : ==>  Preparing: select count(1) as count from blog_tag where tag_id = ?
2022-04-06 11:31:23.663 DEBUG 3480 --- [http-nio-8086-exec-5] c.k.m.BlogMapper.getBlogCountByTagId     : ==> Parameters: 12(Integer)
2022-04-06 11:31:23.664 DEBUG 3480 --- [http-nio-8086-exec-5] c.k.m.BlogMapper.getBlogCountByTagId     : <==      Total: 1
2022-04-06 11:31:23.664 DEBUG 3480 --- [http-nio-8086-exec-5] c.k.m.BlogMapper.getBlogListByTagId      : ==>  Preparing: select b.*,bt.tag_id,t.name from blog b,blog_tag bt,tag t where bt.blog_id=b.id and bt.tag_id=t.id and bt.tag_id=? order by b.id desc limit ?,?
2022-04-06 11:31:23.664 DEBUG 3480 --- [http-nio-8086-exec-5] c.k.m.BlogMapper.getBlogListByTagId      : ==> Parameters: 12(Integer), 5(Integer), 5(Integer)
2022-04-06 11:31:23.666 DEBUG 3480 --- [http-nio-8086-exec-5] c.k.m.BlogMapper.getBlogListByTagId      : <==      Total: 5
2022-04-06 11:31:23.666 DEBUG 3480 --- [http-nio-8086-exec-5] com.kwok.mapper.TypeMapper.getTypeById   : ==>  Preparing: select * from type where id = ?
2022-04-06 11:31:23.666 DEBUG 3480 --- [http-nio-8086-exec-5] com.kwok.mapper.TypeMapper.getTypeById   : ==> Parameters: 6(Integer)
2022-04-06 11:31:23.667 DEBUG 3480 --- [http-nio-8086-exec-5] com.kwok.mapper.TypeMapper.getTypeById   : <==      Total: 1
2022-04-06 11:31:23.667 DEBUG 3480 --- [http-nio-8086-exec-5] c.kwok.mapper.TagMapper.getTagsByBlogId  : ==>  Preparing: select t.* from tag t,blog_tag bt where t.id=bt.tag_id and bt.blog_id=?
2022-04-06 11:31:23.667 DEBUG 3480 --- [http-nio-8086-exec-5] c.kwok.mapper.TagMapper.getTagsByBlogId  : ==> Parameters: 40(Integer)
2022-04-06 11:31:23.667 DEBUG 3480 --- [http-nio-8086-exec-5] c.kwok.mapper.TagMapper.getTagsByBlogId  : <==      Total: 2
2022-04-06 11:31:23.667 DEBUG 3480 --- [http-nio-8086-exec-5] com.kwok.mapper.TypeMapper.getTypeById   : ==>  Preparing: select * from type where id = ?
2022-04-06 11:31:23.667 DEBUG 3480 --- [http-nio-8086-exec-5] com.kwok.mapper.TypeMapper.getTypeById   : ==> Parameters: 6(Integer)
2022-04-06 11:31:23.668 DEBUG 3480 --- [http-nio-8086-exec-5] com.kwok.mapper.TypeMapper.getTypeById   : <==      Total: 1
2022-04-06 11:31:23.668 DEBUG 3480 --- [http-nio-8086-exec-5] c.kwok.mapper.TagMapper.getTagsByBlogId  : ==>  Preparing: select t.* from tag t,blog_tag bt where t.id=bt.tag_id and bt.blog_id=?
2022-04-06 11:31:23.668 DEBUG 3480 --- [http-nio-8086-exec-5] c.kwok.mapper.TagMapper.getTagsByBlogId  : ==> Parameters: 39(Integer)
2022-04-06 11:31:23.668 DEBUG 3480 --- [http-nio-8086-exec-5] c.kwok.mapper.TagMapper.getTagsByBlogId  : <==      Total: 2
2022-04-06 11:31:23.669 DEBUG 3480 --- [http-nio-8086-exec-5] com.kwok.mapper.TypeMapper.getTypeById   : ==>  Preparing: select * from type where id = ?
2022-04-06 11:31:23.669 DEBUG 3480 --- [http-nio-8086-exec-5] com.kwok.mapper.TypeMapper.getTypeById   : ==> Parameters: 6(Integer)
2022-04-06 11:31:23.669 DEBUG 3480 --- [http-nio-8086-exec-5] com.kwok.mapper.TypeMapper.getTypeById   : <==      Total: 1
2022-04-06 11:31:23.669 DEBUG 3480 --- [http-nio-8086-exec-5] c.kwok.mapper.TagMapper.getTagsByBlogId  : ==>  Preparing: select t.* from tag t,blog_tag bt where t.id=bt.tag_id and bt.blog_id=?
2022-04-06 11:31:23.669 DEBUG 3480 --- [http-nio-8086-exec-5] c.kwok.mapper.TagMapper.getTagsByBlogId  : ==> Parameters: 38(Integer)
2022-04-06 11:31:23.669 DEBUG 3480 --- [http-nio-8086-exec-5] c.kwok.mapper.TagMapper.getTagsByBlogId  : <==      Total: 2
2022-04-06 11:31:23.670 DEBUG 3480 --- [http-nio-8086-exec-5] com.kwok.mapper.TypeMapper.getTypeById   : ==>  Preparing: select * from type where id = ?
2022-04-06 11:31:23.670 DEBUG 3480 --- [http-nio-8086-exec-5] com.kwok.mapper.TypeMapper.getTypeById   : ==> Parameters: 6(Integer)
2022-04-06 11:31:23.670 DEBUG 3480 --- [http-nio-8086-exec-5] com.kwok.mapper.TypeMapper.getTypeById   : <==      Total: 1
2022-04-06 11:31:23.670 DEBUG 3480 --- [http-nio-8086-exec-5] c.kwok.mapper.TagMapper.getTagsByBlogId  : ==>  Preparing: select t.* from tag t,blog_tag bt where t.id=bt.tag_id and bt.blog_id=?
2022-04-06 11:31:23.670 DEBUG 3480 --- [http-nio-8086-exec-5] c.kwok.mapper.TagMapper.getTagsByBlogId  : ==> Parameters: 37(Integer)
2022-04-06 11:31:23.671 DEBUG 3480 --- [http-nio-8086-exec-5] c.kwok.mapper.TagMapper.getTagsByBlogId  : <==      Total: 2
2022-04-06 11:31:23.671 DEBUG 3480 --- [http-nio-8086-exec-5] com.kwok.mapper.TypeMapper.getTypeById   : ==>  Preparing: select * from type where id = ?
2022-04-06 11:31:23.671 DEBUG 3480 --- [http-nio-8086-exec-5] com.kwok.mapper.TypeMapper.getTypeById   : ==> Parameters: 6(Integer)
2022-04-06 11:31:23.671 DEBUG 3480 --- [http-nio-8086-exec-5] com.kwok.mapper.TypeMapper.getTypeById   : <==      Total: 1
2022-04-06 11:31:23.672 DEBUG 3480 --- [http-nio-8086-exec-5] c.kwok.mapper.TagMapper.getTagsByBlogId  : ==>  Preparing: select t.* from tag t,blog_tag bt where t.id=bt.tag_id and bt.blog_id=?
2022-04-06 11:31:23.672 DEBUG 3480 --- [http-nio-8086-exec-5] c.kwok.mapper.TagMapper.getTagsByBlogId  : ==> Parameters: 36(Integer)
2022-04-06 11:31:23.672 DEBUG 3480 --- [http-nio-8086-exec-5] c.kwok.mapper.TagMapper.getTagsByBlogId  : <==      Total: 2
2022-04-06 11:31:23.672 DEBUG 3480 --- [http-nio-8086-exec-5] c.k.m.BlogMapper.getPreBlogsByTagId      : ==>  Preparing: select b.* from blog b,blog_tag bt where b.id = bt.blog_id and bt.tag_id=? and b.id > ?
2022-04-06 11:31:23.672 DEBUG 3480 --- [http-nio-8086-exec-5] c.k.m.BlogMapper.getPreBlogsByTagId      : ==> Parameters: 12(Integer), 40(Integer)
2022-04-06 11:31:23.674 DEBUG 3480 --- [http-nio-8086-exec-5] c.k.m.BlogMapper.getPreBlogsByTagId      : <==      Total: 5
2022-04-06 11:31:23.675 DEBUG 3480 --- [http-nio-8086-exec-5] c.k.m.BlogMapper.getNextBlogsByTagId     : ==>  Preparing: select b.* from blog b,blog_tag bt where b.id = bt.blog_id and bt.tag_id=? and ? > b.id
2022-04-06 11:31:23.675 DEBUG 3480 --- [http-nio-8086-exec-5] c.k.m.BlogMapper.getNextBlogsByTagId     : ==> Parameters: 12(Integer), 36(Integer)
2022-04-06 11:31:23.676 DEBUG 3480 --- [http-nio-8086-exec-5] c.k.m.BlogMapper.getNextBlogsByTagId     : <==      Total: 4
2022-04-06 11:31:23.677  INFO 3480 --- [http-nio-8086-exec-5] com.kwok.aspect.LogAspect                : Result : tags :: blogList
2022-04-06 11:31:32.180  INFO 3480 --- [http-nio-8086-exec-1] com.kwok.aspect.LogAspect                : Request : {url='http://localhost:8086/tags/topage', ip='0:0:0:0:0:0:0:1', classMethod='com.kwok.controller.TagShowController.searchTopage', args=[org.apache.catalina.connector.RequestFacade@60811cc4, org.apache.catalina.connector.ResponseFacade@723759f7, {}]}
2022-04-06 11:31:32.181 DEBUG 3480 --- [http-nio-8086-exec-1] com.kwok.mapper.TagMapper.listTag        : ==>  Preparing: select * from tag order by id desc
2022-04-06 11:31:32.181 DEBUG 3480 --- [http-nio-8086-exec-1] com.kwok.mapper.TagMapper.listTag        : ==> Parameters: 
2022-04-06 11:31:32.182 DEBUG 3480 --- [http-nio-8086-exec-1] com.kwok.mapper.TagMapper.listTag        : <==      Total: 14
2022-04-06 11:31:32.182 DEBUG 3480 --- [http-nio-8086-exec-1] com.kwok.mapper.TagMapper.tagCount       : ==>  Preparing: select count(1) as count from blog_tag where tag_id=?
2022-04-06 11:31:32.183 DEBUG 3480 --- [http-nio-8086-exec-1] com.kwok.mapper.TagMapper.tagCount       : ==> Parameters: 14(Integer)
2022-04-06 11:31:32.183 DEBUG 3480 --- [http-nio-8086-exec-1] com.kwok.mapper.TagMapper.tagCount       : <==      Total: 1
2022-04-06 11:31:32.183 DEBUG 3480 --- [http-nio-8086-exec-1] com.kwok.mapper.TagMapper.tagCount       : ==>  Preparing: select count(1) as count from blog_tag where tag_id=?
2022-04-06 11:31:32.184 DEBUG 3480 --- [http-nio-8086-exec-1] com.kwok.mapper.TagMapper.tagCount       : ==> Parameters: 13(Integer)
2022-04-06 11:31:32.184 DEBUG 3480 --- [http-nio-8086-exec-1] com.kwok.mapper.TagMapper.tagCount       : <==      Total: 1
2022-04-06 11:31:32.184 DEBUG 3480 --- [http-nio-8086-exec-1] com.kwok.mapper.TagMapper.tagCount       : ==>  Preparing: select count(1) as count from blog_tag where tag_id=?
2022-04-06 11:31:32.184 DEBUG 3480 --- [http-nio-8086-exec-1] com.kwok.mapper.TagMapper.tagCount       : ==> Parameters: 12(Integer)
2022-04-06 11:31:32.185 DEBUG 3480 --- [http-nio-8086-exec-1] com.kwok.mapper.TagMapper.tagCount       : <==      Total: 1
2022-04-06 11:31:32.185 DEBUG 3480 --- [http-nio-8086-exec-1] com.kwok.mapper.TagMapper.tagCount       : ==>  Preparing: select count(1) as count from blog_tag where tag_id=?
2022-04-06 11:31:32.185 DEBUG 3480 --- [http-nio-8086-exec-1] com.kwok.mapper.TagMapper.tagCount       : ==> Parameters: 11(Integer)
2022-04-06 11:31:32.185 DEBUG 3480 --- [http-nio-8086-exec-1] com.kwok.mapper.TagMapper.tagCount       : <==      Total: 1
2022-04-06 11:31:32.185 DEBUG 3480 --- [http-nio-8086-exec-1] com.kwok.mapper.TagMapper.tagCount       : ==>  Preparing: select count(1) as count from blog_tag where tag_id=?
2022-04-06 11:31:32.186 DEBUG 3480 --- [http-nio-8086-exec-1] com.kwok.mapper.TagMapper.tagCount       : ==> Parameters: 10(Integer)
2022-04-06 11:31:32.186 DEBUG 3480 --- [http-nio-8086-exec-1] com.kwok.mapper.TagMapper.tagCount       : <==      Total: 1
2022-04-06 11:31:32.186 DEBUG 3480 --- [http-nio-8086-exec-1] com.kwok.mapper.TagMapper.tagCount       : ==>  Preparing: select count(1) as count from blog_tag where tag_id=?
2022-04-06 11:31:32.186 DEBUG 3480 --- [http-nio-8086-exec-1] com.kwok.mapper.TagMapper.tagCount       : ==> Parameters: 9(Integer)
2022-04-06 11:31:32.186 DEBUG 3480 --- [http-nio-8086-exec-1] com.kwok.mapper.TagMapper.tagCount       : <==      Total: 1
2022-04-06 11:31:32.187 DEBUG 3480 --- [http-nio-8086-exec-1] com.kwok.mapper.TagMapper.tagCount       : ==>  Preparing: select count(1) as count from blog_tag where tag_id=?
2022-04-06 11:31:32.187 DEBUG 3480 --- [http-nio-8086-exec-1] com.kwok.mapper.TagMapper.tagCount       : ==> Parameters: 8(Integer)
2022-04-06 11:31:32.187 DEBUG 3480 --- [http-nio-8086-exec-1] com.kwok.mapper.TagMapper.tagCount       : <==      Total: 1
2022-04-06 11:31:32.187 DEBUG 3480 --- [http-nio-8086-exec-1] com.kwok.mapper.TagMapper.tagCount       : ==>  Preparing: select count(1) as count from blog_tag where tag_id=?
2022-04-06 11:31:32.187 DEBUG 3480 --- [http-nio-8086-exec-1] com.kwok.mapper.TagMapper.tagCount       : ==> Parameters: 7(Integer)
2022-04-06 11:31:32.187 DEBUG 3480 --- [http-nio-8086-exec-1] com.kwok.mapper.TagMapper.tagCount       : <==      Total: 1
2022-04-06 11:31:32.188 DEBUG 3480 --- [http-nio-8086-exec-1] com.kwok.mapper.TagMapper.tagCount       : ==>  Preparing: select count(1) as count from blog_tag where tag_id=?
2022-04-06 11:31:32.188 DEBUG 3480 --- [http-nio-8086-exec-1] com.kwok.mapper.TagMapper.tagCount       : ==> Parameters: 6(Integer)
2022-04-06 11:31:32.188 DEBUG 3480 --- [http-nio-8086-exec-1] com.kwok.mapper.TagMapper.tagCount       : <==      Total: 1
2022-04-06 11:31:32.188 DEBUG 3480 --- [http-nio-8086-exec-1] com.kwok.mapper.TagMapper.tagCount       : ==>  Preparing: select count(1) as count from blog_tag where tag_id=?
2022-04-06 11:31:32.188 DEBUG 3480 --- [http-nio-8086-exec-1] com.kwok.mapper.TagMapper.tagCount       : ==> Parameters: 5(Integer)
2022-04-06 11:31:32.188 DEBUG 3480 --- [http-nio-8086-exec-1] com.kwok.mapper.TagMapper.tagCount       : <==      Total: 1
2022-04-06 11:31:32.189 DEBUG 3480 --- [http-nio-8086-exec-1] com.kwok.mapper.TagMapper.tagCount       : ==>  Preparing: select count(1) as count from blog_tag where tag_id=?
2022-04-06 11:31:32.189 DEBUG 3480 --- [http-nio-8086-exec-1] com.kwok.mapper.TagMapper.tagCount       : ==> Parameters: 4(Integer)
2022-04-06 11:31:32.189 DEBUG 3480 --- [http-nio-8086-exec-1] com.kwok.mapper.TagMapper.tagCount       : <==      Total: 1
2022-04-06 11:31:32.189 DEBUG 3480 --- [http-nio-8086-exec-1] com.kwok.mapper.TagMapper.tagCount       : ==>  Preparing: select count(1) as count from blog_tag where tag_id=?
2022-04-06 11:31:32.189 DEBUG 3480 --- [http-nio-8086-exec-1] com.kwok.mapper.TagMapper.tagCount       : ==> Parameters: 3(Integer)
2022-04-06 11:31:32.190 DEBUG 3480 --- [http-nio-8086-exec-1] com.kwok.mapper.TagMapper.tagCount       : <==      Total: 1
2022-04-06 11:31:32.190 DEBUG 3480 --- [http-nio-8086-exec-1] com.kwok.mapper.TagMapper.tagCount       : ==>  Preparing: select count(1) as count from blog_tag where tag_id=?
2022-04-06 11:31:32.191 DEBUG 3480 --- [http-nio-8086-exec-1] com.kwok.mapper.TagMapper.tagCount       : ==> Parameters: 2(Integer)
2022-04-06 11:31:32.191 DEBUG 3480 --- [http-nio-8086-exec-1] com.kwok.mapper.TagMapper.tagCount       : <==      Total: 1
2022-04-06 11:31:32.191 DEBUG 3480 --- [http-nio-8086-exec-1] com.kwok.mapper.TagMapper.tagCount       : ==>  Preparing: select count(1) as count from blog_tag where tag_id=?
2022-04-06 11:31:32.191 DEBUG 3480 --- [http-nio-8086-exec-1] com.kwok.mapper.TagMapper.tagCount       : ==> Parameters: 1(Integer)
2022-04-06 11:31:32.192 DEBUG 3480 --- [http-nio-8086-exec-1] com.kwok.mapper.TagMapper.tagCount       : <==      Total: 1
2022-04-06 11:31:32.192 DEBUG 3480 --- [http-nio-8086-exec-1] c.k.m.BlogMapper.getBlogCountByTagId     : ==>  Preparing: select count(1) as count from blog_tag where tag_id = ?
2022-04-06 11:31:32.192 DEBUG 3480 --- [http-nio-8086-exec-1] c.k.m.BlogMapper.getBlogCountByTagId     : ==> Parameters: 12(Integer)
2022-04-06 11:31:32.193 DEBUG 3480 --- [http-nio-8086-exec-1] c.k.m.BlogMapper.getBlogCountByTagId     : <==      Total: 1
2022-04-06 11:31:32.193 DEBUG 3480 --- [http-nio-8086-exec-1] c.k.m.BlogMapper.getBlogListByTagId      : ==>  Preparing: select b.*,bt.tag_id,t.name from blog b,blog_tag bt,tag t where bt.blog_id=b.id and bt.tag_id=t.id and bt.tag_id=? order by b.id desc limit ?,?
2022-04-06 11:31:32.193 DEBUG 3480 --- [http-nio-8086-exec-1] c.k.m.BlogMapper.getBlogListByTagId      : ==> Parameters: 12(Integer), 10(Integer), 5(Integer)
2022-04-06 11:31:32.195 DEBUG 3480 --- [http-nio-8086-exec-1] c.k.m.BlogMapper.getBlogListByTagId      : <==      Total: 4
2022-04-06 11:31:32.195 DEBUG 3480 --- [http-nio-8086-exec-1] com.kwok.mapper.TypeMapper.getTypeById   : ==>  Preparing: select * from type where id = ?
2022-04-06 11:31:32.195 DEBUG 3480 --- [http-nio-8086-exec-1] com.kwok.mapper.TypeMapper.getTypeById   : ==> Parameters: 6(Integer)
2022-04-06 11:31:32.196 DEBUG 3480 --- [http-nio-8086-exec-1] com.kwok.mapper.TypeMapper.getTypeById   : <==      Total: 1
2022-04-06 11:31:32.196 DEBUG 3480 --- [http-nio-8086-exec-1] c.kwok.mapper.TagMapper.getTagsByBlogId  : ==>  Preparing: select t.* from tag t,blog_tag bt where t.id=bt.tag_id and bt.blog_id=?
2022-04-06 11:31:32.196 DEBUG 3480 --- [http-nio-8086-exec-1] c.kwok.mapper.TagMapper.getTagsByBlogId  : ==> Parameters: 35(Integer)
2022-04-06 11:31:32.197 DEBUG 3480 --- [http-nio-8086-exec-1] c.kwok.mapper.TagMapper.getTagsByBlogId  : <==      Total: 2
2022-04-06 11:31:32.197 DEBUG 3480 --- [http-nio-8086-exec-1] com.kwok.mapper.TypeMapper.getTypeById   : ==>  Preparing: select * from type where id = ?
2022-04-06 11:31:32.197 DEBUG 3480 --- [http-nio-8086-exec-1] com.kwok.mapper.TypeMapper.getTypeById   : ==> Parameters: 6(Integer)
2022-04-06 11:31:32.197 DEBUG 3480 --- [http-nio-8086-exec-1] com.kwok.mapper.TypeMapper.getTypeById   : <==      Total: 1
2022-04-06 11:31:32.197 DEBUG 3480 --- [http-nio-8086-exec-1] c.kwok.mapper.TagMapper.getTagsByBlogId  : ==>  Preparing: select t.* from tag t,blog_tag bt where t.id=bt.tag_id and bt.blog_id=?
2022-04-06 11:31:32.198 DEBUG 3480 --- [http-nio-8086-exec-1] c.kwok.mapper.TagMapper.getTagsByBlogId  : ==> Parameters: 34(Integer)
2022-04-06 11:31:32.199 DEBUG 3480 --- [http-nio-8086-exec-1] c.kwok.mapper.TagMapper.getTagsByBlogId  : <==      Total: 2
2022-04-06 11:31:32.199 DEBUG 3480 --- [http-nio-8086-exec-1] com.kwok.mapper.TypeMapper.getTypeById   : ==>  Preparing: select * from type where id = ?
2022-04-06 11:31:32.199 DEBUG 3480 --- [http-nio-8086-exec-1] com.kwok.mapper.TypeMapper.getTypeById   : ==> Parameters: 6(Integer)
2022-04-06 11:31:32.200 DEBUG 3480 --- [http-nio-8086-exec-1] com.kwok.mapper.TypeMapper.getTypeById   : <==      Total: 1
2022-04-06 11:31:32.200 DEBUG 3480 --- [http-nio-8086-exec-1] c.kwok.mapper.TagMapper.getTagsByBlogId  : ==>  Preparing: select t.* from tag t,blog_tag bt where t.id=bt.tag_id and bt.blog_id=?
2022-04-06 11:31:32.200 DEBUG 3480 --- [http-nio-8086-exec-1] c.kwok.mapper.TagMapper.getTagsByBlogId  : ==> Parameters: 33(Integer)
2022-04-06 11:31:32.201 DEBUG 3480 --- [http-nio-8086-exec-1] c.kwok.mapper.TagMapper.getTagsByBlogId  : <==      Total: 2
2022-04-06 11:31:32.201 DEBUG 3480 --- [http-nio-8086-exec-1] com.kwok.mapper.TypeMapper.getTypeById   : ==>  Preparing: select * from type where id = ?
2022-04-06 11:31:32.201 DEBUG 3480 --- [http-nio-8086-exec-1] com.kwok.mapper.TypeMapper.getTypeById   : ==> Parameters: 6(Integer)
2022-04-06 11:31:32.201 DEBUG 3480 --- [http-nio-8086-exec-1] com.kwok.mapper.TypeMapper.getTypeById   : <==      Total: 1
2022-04-06 11:31:32.202 DEBUG 3480 --- [http-nio-8086-exec-1] c.kwok.mapper.TagMapper.getTagsByBlogId  : ==>  Preparing: select t.* from tag t,blog_tag bt where t.id=bt.tag_id and bt.blog_id=?
2022-04-06 11:31:32.202 DEBUG 3480 --- [http-nio-8086-exec-1] c.kwok.mapper.TagMapper.getTagsByBlogId  : ==> Parameters: 32(Integer)
2022-04-06 11:31:32.202 DEBUG 3480 --- [http-nio-8086-exec-1] c.kwok.mapper.TagMapper.getTagsByBlogId  : <==      Total: 2
2022-04-06 11:31:32.202 DEBUG 3480 --- [http-nio-8086-exec-1] c.k.m.BlogMapper.getPreBlogsByTagId      : ==>  Preparing: select b.* from blog b,blog_tag bt where b.id = bt.blog_id and bt.tag_id=? and b.id > ?
2022-04-06 11:31:32.202 DEBUG 3480 --- [http-nio-8086-exec-1] c.k.m.BlogMapper.getPreBlogsByTagId      : ==> Parameters: 12(Integer), 35(Integer)
2022-04-06 11:31:32.205 DEBUG 3480 --- [http-nio-8086-exec-1] c.k.m.BlogMapper.getPreBlogsByTagId      : <==      Total: 10
2022-04-06 11:31:32.205 DEBUG 3480 --- [http-nio-8086-exec-1] c.k.m.BlogMapper.getNextBlogsByTagId     : ==>  Preparing: select b.* from blog b,blog_tag bt where b.id = bt.blog_id and bt.tag_id=? and ? > b.id
2022-04-06 11:31:32.205 DEBUG 3480 --- [http-nio-8086-exec-1] c.k.m.BlogMapper.getNextBlogsByTagId     : ==> Parameters: 12(Integer), 32(Integer)
2022-04-06 11:31:32.206 DEBUG 3480 --- [http-nio-8086-exec-1] c.k.m.BlogMapper.getNextBlogsByTagId     : <==      Total: 0
2022-04-06 11:31:32.206  INFO 3480 --- [http-nio-8086-exec-1] com.kwok.aspect.LogAspect                : Result : tags :: blogList
2022-04-06 11:32:43.062  INFO 3480 --- [http-nio-8086-exec-7] com.kwok.aspect.LogAspect                : Request : {url='http://localhost:8086/', ip='0:0:0:0:0:0:0:1', classMethod='com.kwok.controller.IndexController.enter', args=[{}]}
2022-04-06 11:32:43.062 DEBUG 3480 --- [http-nio-8086-exec-7] com.kwok.mapper.BlogMapper.listHotBlog   : ==>  Preparing: select * from blog order by views desc
2022-04-06 11:32:43.063 DEBUG 3480 --- [http-nio-8086-exec-7] com.kwok.mapper.BlogMapper.listHotBlog   : ==> Parameters: 
2022-04-06 11:32:43.098 DEBUG 3480 --- [http-nio-8086-exec-7] com.kwok.mapper.BlogMapper.listHotBlog   : <==      Total: 92
2022-04-06 11:32:43.098  INFO 3480 --- [http-nio-8086-exec-7] com.kwok.aspect.LogAspect                : Result : enter
2022-04-06 11:32:54.417  INFO 3480 --- [http-nio-8086-exec-3] com.kwok.aspect.LogAspect                : Request : {url='http://localhost:8086/index', ip='0:0:0:0:0:0:0:1', classMethod='com.kwok.controller.IndexController.index', args=[org.apache.catalina.connector.RequestFacade@78f772d3, org.apache.catalina.connector.ResponseFacade@5aab1707, {}]}
2022-04-06 11:32:54.418 DEBUG 3480 --- [http-nio-8086-exec-3] com.kwok.mapper.BlogMapper.getBlogCount  : ==>  Preparing: select count(1) as count from blog
2022-04-06 11:32:54.418 DEBUG 3480 --- [http-nio-8086-exec-3] com.kwok.mapper.BlogMapper.getBlogCount  : ==> Parameters: 
2022-04-06 11:32:54.419 DEBUG 3480 --- [http-nio-8086-exec-3] com.kwok.mapper.BlogMapper.getBlogCount  : <==      Total: 1
2022-04-06 11:32:54.419 DEBUG 3480 --- [http-nio-8086-exec-3] com.kwok.mapper.BlogMapper.getBlogList   : ==>  Preparing: select b.*,t.name as typeName from blog b,type t where b.type_id=t.id order by b.id desc limit ?,?
2022-04-06 11:32:54.420 DEBUG 3480 --- [http-nio-8086-exec-3] com.kwok.mapper.BlogMapper.getBlogList   : ==> Parameters: 0(Integer), 5(Integer)
2022-04-06 11:32:54.422 DEBUG 3480 --- [http-nio-8086-exec-3] com.kwok.mapper.BlogMapper.getBlogList   : <==      Total: 5
2022-04-06 11:32:54.422 DEBUG 3480 --- [http-nio-8086-exec-3] com.kwok.mapper.BlogMapper.getBlogById   : ==>  Preparing: select * from blog where id = ?
2022-04-06 11:32:54.422 DEBUG 3480 --- [http-nio-8086-exec-3] com.kwok.mapper.BlogMapper.getBlogById   : ==> Parameters: 93(Integer)
2022-04-06 11:32:54.422 DEBUG 3480 --- [http-nio-8086-exec-3] com.kwok.mapper.BlogMapper.getBlogById   : <==      Total: 0
2022-04-06 11:32:54.422 DEBUG 3480 --- [http-nio-8086-exec-3] com.kwok.mapper.BlogMapper.getBlogById   : ==>  Preparing: select * from blog where id = ?
2022-04-06 11:32:54.423 DEBUG 3480 --- [http-nio-8086-exec-3] com.kwok.mapper.BlogMapper.getBlogById   : ==> Parameters: 87(Integer)
2022-04-06 11:32:54.423 DEBUG 3480 --- [http-nio-8086-exec-3] com.kwok.mapper.BlogMapper.getBlogById   : <==      Total: 1
2022-04-06 11:32:54.423 DEBUG 3480 --- [http-nio-8086-exec-3] com.kwok.mapper.TagMapper.listTopTag     : ==>  Preparing: select tag.id,tag.name,tn.num from tag,(select tag_id,count(*) as num from blog_tag group by tag_id order by num desc) as tn where tag.id = tn.tag_id
2022-04-06 11:32:54.424 DEBUG 3480 --- [http-nio-8086-exec-3] com.kwok.mapper.TagMapper.listTopTag     : ==> Parameters: 
2022-04-06 11:32:54.425 DEBUG 3480 --- [http-nio-8086-exec-3] com.kwok.mapper.TagMapper.listTopTag     : <==      Total: 13
2022-04-06 11:32:54.425 DEBUG 3480 --- [http-nio-8086-exec-3] com.kwok.mapper.TypeMapper.listTopType   : ==>  Preparing: select type.id,type.name,tn.num from type,(select type_id,count(*) as num from blog group by type_id order by num desc) as tn where type.id = tn.type_id
2022-04-06 11:32:54.425 DEBUG 3480 --- [http-nio-8086-exec-3] com.kwok.mapper.TypeMapper.listTopType   : ==> Parameters: 
2022-04-06 11:32:54.425 DEBUG 3480 --- [http-nio-8086-exec-3] com.kwok.mapper.TypeMapper.listTopType   : <==      Total: 6
2022-04-06 11:32:54.426 DEBUG 3480 --- [http-nio-8086-exec-3] c.k.m.BlogMapper.listTopRecommendBlog    : ==>  Preparing: select * from blog where recommend = 1 order by update_time desc
2022-04-06 11:32:54.426 DEBUG 3480 --- [http-nio-8086-exec-3] c.k.m.BlogMapper.listTopRecommendBlog    : ==> Parameters: 
2022-04-06 11:32:54.428 DEBUG 3480 --- [http-nio-8086-exec-3] c.k.m.BlogMapper.listTopRecommendBlog    : <==      Total: 2
2022-04-06 11:32:54.429  INFO 3480 --- [http-nio-8086-exec-3] com.kwok.aspect.LogAspect                : Result : index
2022-04-06 11:32:56.692  INFO 3480 --- [http-nio-8086-exec-8] com.kwok.aspect.LogAspect                : Request : {url='http://localhost:8086/tags/-1', ip='0:0:0:0:0:0:0:1', classMethod='com.kwok.controller.TagShowController.tags', args=[-1, org.apache.catalina.connector.RequestFacade@4828a8cb, {}]}
2022-04-06 11:32:56.692 DEBUG 3480 --- [http-nio-8086-exec-8] com.kwok.mapper.TagMapper.listTag        : ==>  Preparing: select * from tag order by id desc
2022-04-06 11:32:56.692 DEBUG 3480 --- [http-nio-8086-exec-8] com.kwok.mapper.TagMapper.listTag        : ==> Parameters: 
2022-04-06 11:32:56.693 DEBUG 3480 --- [http-nio-8086-exec-8] com.kwok.mapper.TagMapper.listTag        : <==      Total: 14
2022-04-06 11:32:56.693 DEBUG 3480 --- [http-nio-8086-exec-8] com.kwok.mapper.TagMapper.tagCount       : ==>  Preparing: select count(1) as count from blog_tag where tag_id=?
2022-04-06 11:32:56.693 DEBUG 3480 --- [http-nio-8086-exec-8] com.kwok.mapper.TagMapper.tagCount       : ==> Parameters: 14(Integer)
2022-04-06 11:32:56.694 DEBUG 3480 --- [http-nio-8086-exec-8] com.kwok.mapper.TagMapper.tagCount       : <==      Total: 1
2022-04-06 11:32:56.694 DEBUG 3480 --- [http-nio-8086-exec-8] com.kwok.mapper.TagMapper.tagCount       : ==>  Preparing: select count(1) as count from blog_tag where tag_id=?
2022-04-06 11:32:56.694 DEBUG 3480 --- [http-nio-8086-exec-8] com.kwok.mapper.TagMapper.tagCount       : ==> Parameters: 13(Integer)
2022-04-06 11:32:56.695 DEBUG 3480 --- [http-nio-8086-exec-8] com.kwok.mapper.TagMapper.tagCount       : <==      Total: 1
2022-04-06 11:32:56.695 DEBUG 3480 --- [http-nio-8086-exec-8] com.kwok.mapper.TagMapper.tagCount       : ==>  Preparing: select count(1) as count from blog_tag where tag_id=?
2022-04-06 11:32:56.696 DEBUG 3480 --- [http-nio-8086-exec-8] com.kwok.mapper.TagMapper.tagCount       : ==> Parameters: 12(Integer)
2022-04-06 11:32:56.696 DEBUG 3480 --- [http-nio-8086-exec-8] com.kwok.mapper.TagMapper.tagCount       : <==      Total: 1
2022-04-06 11:32:56.696 DEBUG 3480 --- [http-nio-8086-exec-8] com.kwok.mapper.TagMapper.tagCount       : ==>  Preparing: select count(1) as count from blog_tag where tag_id=?
2022-04-06 11:32:56.696 DEBUG 3480 --- [http-nio-8086-exec-8] com.kwok.mapper.TagMapper.tagCount       : ==> Parameters: 11(Integer)
2022-04-06 11:32:56.697 DEBUG 3480 --- [http-nio-8086-exec-8] com.kwok.mapper.TagMapper.tagCount       : <==      Total: 1
2022-04-06 11:32:56.697 DEBUG 3480 --- [http-nio-8086-exec-8] com.kwok.mapper.TagMapper.tagCount       : ==>  Preparing: select count(1) as count from blog_tag where tag_id=?
2022-04-06 11:32:56.697 DEBUG 3480 --- [http-nio-8086-exec-8] com.kwok.mapper.TagMapper.tagCount       : ==> Parameters: 10(Integer)
2022-04-06 11:32:56.698 DEBUG 3480 --- [http-nio-8086-exec-8] com.kwok.mapper.TagMapper.tagCount       : <==      Total: 1
2022-04-06 11:32:56.698 DEBUG 3480 --- [http-nio-8086-exec-8] com.kwok.mapper.TagMapper.tagCount       : ==>  Preparing: select count(1) as count from blog_tag where tag_id=?
2022-04-06 11:32:56.698 DEBUG 3480 --- [http-nio-8086-exec-8] com.kwok.mapper.TagMapper.tagCount       : ==> Parameters: 9(Integer)
2022-04-06 11:32:56.699 DEBUG 3480 --- [http-nio-8086-exec-8] com.kwok.mapper.TagMapper.tagCount       : <==      Total: 1
2022-04-06 11:32:56.699 DEBUG 3480 --- [http-nio-8086-exec-8] com.kwok.mapper.TagMapper.tagCount       : ==>  Preparing: select count(1) as count from blog_tag where tag_id=?
2022-04-06 11:32:56.699 DEBUG 3480 --- [http-nio-8086-exec-8] com.kwok.mapper.TagMapper.tagCount       : ==> Parameters: 8(Integer)
2022-04-06 11:32:56.700 DEBUG 3480 --- [http-nio-8086-exec-8] com.kwok.mapper.TagMapper.tagCount       : <==      Total: 1
2022-04-06 11:32:56.700 DEBUG 3480 --- [http-nio-8086-exec-8] com.kwok.mapper.TagMapper.tagCount       : ==>  Preparing: select count(1) as count from blog_tag where tag_id=?
2022-04-06 11:32:56.700 DEBUG 3480 --- [http-nio-8086-exec-8] com.kwok.mapper.TagMapper.tagCount       : ==> Parameters: 7(Integer)
2022-04-06 11:32:56.700 DEBUG 3480 --- [http-nio-8086-exec-8] com.kwok.mapper.TagMapper.tagCount       : <==      Total: 1
2022-04-06 11:32:56.700 DEBUG 3480 --- [http-nio-8086-exec-8] com.kwok.mapper.TagMapper.tagCount       : ==>  Preparing: select count(1) as count from blog_tag where tag_id=?
2022-04-06 11:32:56.701 DEBUG 3480 --- [http-nio-8086-exec-8] com.kwok.mapper.TagMapper.tagCount       : ==> Parameters: 6(Integer)
2022-04-06 11:32:56.701 DEBUG 3480 --- [http-nio-8086-exec-8] com.kwok.mapper.TagMapper.tagCount       : <==      Total: 1
2022-04-06 11:32:56.701 DEBUG 3480 --- [http-nio-8086-exec-8] com.kwok.mapper.TagMapper.tagCount       : ==>  Preparing: select count(1) as count from blog_tag where tag_id=?
2022-04-06 11:32:56.701 DEBUG 3480 --- [http-nio-8086-exec-8] com.kwok.mapper.TagMapper.tagCount       : ==> Parameters: 5(Integer)
2022-04-06 11:32:56.702 DEBUG 3480 --- [http-nio-8086-exec-8] com.kwok.mapper.TagMapper.tagCount       : <==      Total: 1
2022-04-06 11:32:56.702 DEBUG 3480 --- [http-nio-8086-exec-8] com.kwok.mapper.TagMapper.tagCount       : ==>  Preparing: select count(1) as count from blog_tag where tag_id=?
2022-04-06 11:32:56.702 DEBUG 3480 --- [http-nio-8086-exec-8] com.kwok.mapper.TagMapper.tagCount       : ==> Parameters: 4(Integer)
2022-04-06 11:32:56.702 DEBUG 3480 --- [http-nio-8086-exec-8] com.kwok.mapper.TagMapper.tagCount       : <==      Total: 1
2022-04-06 11:32:56.702 DEBUG 3480 --- [http-nio-8086-exec-8] com.kwok.mapper.TagMapper.tagCount       : ==>  Preparing: select count(1) as count from blog_tag where tag_id=?
2022-04-06 11:32:56.702 DEBUG 3480 --- [http-nio-8086-exec-8] com.kwok.mapper.TagMapper.tagCount       : ==> Parameters: 3(Integer)
2022-04-06 11:32:56.703 DEBUG 3480 --- [http-nio-8086-exec-8] com.kwok.mapper.TagMapper.tagCount       : <==      Total: 1
2022-04-06 11:32:56.703 DEBUG 3480 --- [http-nio-8086-exec-8] com.kwok.mapper.TagMapper.tagCount       : ==>  Preparing: select count(1) as count from blog_tag where tag_id=?
2022-04-06 11:32:56.703 DEBUG 3480 --- [http-nio-8086-exec-8] com.kwok.mapper.TagMapper.tagCount       : ==> Parameters: 2(Integer)
2022-04-06 11:32:56.704 DEBUG 3480 --- [http-nio-8086-exec-8] com.kwok.mapper.TagMapper.tagCount       : <==      Total: 1
2022-04-06 11:32:56.704 DEBUG 3480 --- [http-nio-8086-exec-8] com.kwok.mapper.TagMapper.tagCount       : ==>  Preparing: select count(1) as count from blog_tag where tag_id=?
2022-04-06 11:32:56.704 DEBUG 3480 --- [http-nio-8086-exec-8] com.kwok.mapper.TagMapper.tagCount       : ==> Parameters: 1(Integer)
2022-04-06 11:32:56.705 DEBUG 3480 --- [http-nio-8086-exec-8] com.kwok.mapper.TagMapper.tagCount       : <==      Total: 1
2022-04-06 11:32:56.705 DEBUG 3480 --- [http-nio-8086-exec-8] c.k.m.BlogMapper.getBlogCountByTagId     : ==>  Preparing: select count(1) as count from blog_tag where tag_id = ?
2022-04-06 11:32:56.705 DEBUG 3480 --- [http-nio-8086-exec-8] c.k.m.BlogMapper.getBlogCountByTagId     : ==> Parameters: 14(Integer)
2022-04-06 11:32:56.705 DEBUG 3480 --- [http-nio-8086-exec-8] c.k.m.BlogMapper.getBlogCountByTagId     : <==      Total: 1
2022-04-06 11:32:56.706 DEBUG 3480 --- [http-nio-8086-exec-8] c.k.m.BlogMapper.getBlogListByTagId      : ==>  Preparing: select b.*,bt.tag_id,t.name from blog b,blog_tag bt,tag t where bt.blog_id=b.id and bt.tag_id=t.id and bt.tag_id=? order by b.id desc limit ?,?
2022-04-06 11:32:56.706 DEBUG 3480 --- [http-nio-8086-exec-8] c.k.m.BlogMapper.getBlogListByTagId      : ==> Parameters: 14(Integer), 0(Integer), 5(Integer)
2022-04-06 11:32:56.708 DEBUG 3480 --- [http-nio-8086-exec-8] c.k.m.BlogMapper.getBlogListByTagId      : <==      Total: 5
2022-04-06 11:32:56.708 DEBUG 3480 --- [http-nio-8086-exec-8] com.kwok.mapper.TypeMapper.getTypeById   : ==>  Preparing: select * from type where id = ?
2022-04-06 11:32:56.709 DEBUG 3480 --- [http-nio-8086-exec-8] com.kwok.mapper.TypeMapper.getTypeById   : ==> Parameters: 6(Integer)
2022-04-06 11:32:56.709 DEBUG 3480 --- [http-nio-8086-exec-8] com.kwok.mapper.TypeMapper.getTypeById   : <==      Total: 1
2022-04-06 11:32:56.709 DEBUG 3480 --- [http-nio-8086-exec-8] c.kwok.mapper.TagMapper.getTagsByBlogId  : ==>  Preparing: select t.* from tag t,blog_tag bt where t.id=bt.tag_id and bt.blog_id=?
2022-04-06 11:32:56.709 DEBUG 3480 --- [http-nio-8086-exec-8] c.kwok.mapper.TagMapper.getTagsByBlogId  : ==> Parameters: 66(Integer)
2022-04-06 11:32:56.710 DEBUG 3480 --- [http-nio-8086-exec-8] c.kwok.mapper.TagMapper.getTagsByBlogId  : <==      Total: 3
2022-04-06 11:32:56.710 DEBUG 3480 --- [http-nio-8086-exec-8] com.kwok.mapper.TypeMapper.getTypeById   : ==>  Preparing: select * from type where id = ?
2022-04-06 11:32:56.710 DEBUG 3480 --- [http-nio-8086-exec-8] com.kwok.mapper.TypeMapper.getTypeById   : ==> Parameters: 6(Integer)
2022-04-06 11:32:56.711 DEBUG 3480 --- [http-nio-8086-exec-8] com.kwok.mapper.TypeMapper.getTypeById   : <==      Total: 1
2022-04-06 11:32:56.711 DEBUG 3480 --- [http-nio-8086-exec-8] c.kwok.mapper.TagMapper.getTagsByBlogId  : ==>  Preparing: select t.* from tag t,blog_tag bt where t.id=bt.tag_id and bt.blog_id=?
2022-04-06 11:32:56.711 DEBUG 3480 --- [http-nio-8086-exec-8] c.kwok.mapper.TagMapper.getTagsByBlogId  : ==> Parameters: 65(Integer)
2022-04-06 11:32:56.712 DEBUG 3480 --- [http-nio-8086-exec-8] c.kwok.mapper.TagMapper.getTagsByBlogId  : <==      Total: 3
2022-04-06 11:32:56.712 DEBUG 3480 --- [http-nio-8086-exec-8] com.kwok.mapper.TypeMapper.getTypeById   : ==>  Preparing: select * from type where id = ?
2022-04-06 11:32:56.712 DEBUG 3480 --- [http-nio-8086-exec-8] com.kwok.mapper.TypeMapper.getTypeById   : ==> Parameters: 6(Integer)
2022-04-06 11:32:56.713 DEBUG 3480 --- [http-nio-8086-exec-8] com.kwok.mapper.TypeMapper.getTypeById   : <==      Total: 1
2022-04-06 11:32:56.713 DEBUG 3480 --- [http-nio-8086-exec-8] c.kwok.mapper.TagMapper.getTagsByBlogId  : ==>  Preparing: select t.* from tag t,blog_tag bt where t.id=bt.tag_id and bt.blog_id=?
2022-04-06 11:32:56.713 DEBUG 3480 --- [http-nio-8086-exec-8] c.kwok.mapper.TagMapper.getTagsByBlogId  : ==> Parameters: 64(Integer)
2022-04-06 11:32:56.713 DEBUG 3480 --- [http-nio-8086-exec-8] c.kwok.mapper.TagMapper.getTagsByBlogId  : <==      Total: 3
2022-04-06 11:32:56.714 DEBUG 3480 --- [http-nio-8086-exec-8] com.kwok.mapper.TypeMapper.getTypeById   : ==>  Preparing: select * from type where id = ?
2022-04-06 11:32:56.714 DEBUG 3480 --- [http-nio-8086-exec-8] com.kwok.mapper.TypeMapper.getTypeById   : ==> Parameters: 6(Integer)
2022-04-06 11:32:56.715 DEBUG 3480 --- [http-nio-8086-exec-8] com.kwok.mapper.TypeMapper.getTypeById   : <==      Total: 1
2022-04-06 11:32:56.715 DEBUG 3480 --- [http-nio-8086-exec-8] c.kwok.mapper.TagMapper.getTagsByBlogId  : ==>  Preparing: select t.* from tag t,blog_tag bt where t.id=bt.tag_id and bt.blog_id=?
2022-04-06 11:32:56.715 DEBUG 3480 --- [http-nio-8086-exec-8] c.kwok.mapper.TagMapper.getTagsByBlogId  : ==> Parameters: 63(Integer)
2022-04-06 11:32:56.715 DEBUG 3480 --- [http-nio-8086-exec-8] c.kwok.mapper.TagMapper.getTagsByBlogId  : <==      Total: 3
2022-04-06 11:32:56.715 DEBUG 3480 --- [http-nio-8086-exec-8] com.kwok.mapper.TypeMapper.getTypeById   : ==>  Preparing: select * from type where id = ?
2022-04-06 11:32:56.715 DEBUG 3480 --- [http-nio-8086-exec-8] com.kwok.mapper.TypeMapper.getTypeById   : ==> Parameters: 6(Integer)
2022-04-06 11:32:56.716 DEBUG 3480 --- [http-nio-8086-exec-8] com.kwok.mapper.TypeMapper.getTypeById   : <==      Total: 1
2022-04-06 11:32:56.716 DEBUG 3480 --- [http-nio-8086-exec-8] c.kwok.mapper.TagMapper.getTagsByBlogId  : ==>  Preparing: select t.* from tag t,blog_tag bt where t.id=bt.tag_id and bt.blog_id=?
2022-04-06 11:32:56.716 DEBUG 3480 --- [http-nio-8086-exec-8] c.kwok.mapper.TagMapper.getTagsByBlogId  : ==> Parameters: 62(Integer)
2022-04-06 11:32:56.716 DEBUG 3480 --- [http-nio-8086-exec-8] c.kwok.mapper.TagMapper.getTagsByBlogId  : <==      Total: 3
2022-04-06 11:32:56.716 DEBUG 3480 --- [http-nio-8086-exec-8] c.k.m.BlogMapper.getPreBlogsByTagId      : ==>  Preparing: select b.* from blog b,blog_tag bt where b.id = bt.blog_id and bt.tag_id=? and b.id > ?
2022-04-06 11:32:56.716 DEBUG 3480 --- [http-nio-8086-exec-8] c.k.m.BlogMapper.getPreBlogsByTagId      : ==> Parameters: 14(Integer), 66(Integer)
2022-04-06 11:32:56.717 DEBUG 3480 --- [http-nio-8086-exec-8] c.k.m.BlogMapper.getPreBlogsByTagId      : <==      Total: 0
2022-04-06 11:32:56.717 DEBUG 3480 --- [http-nio-8086-exec-8] c.k.m.BlogMapper.getNextBlogsByTagId     : ==>  Preparing: select b.* from blog b,blog_tag bt where b.id = bt.blog_id and bt.tag_id=? and ? > b.id
2022-04-06 11:32:56.717 DEBUG 3480 --- [http-nio-8086-exec-8] c.k.m.BlogMapper.getNextBlogsByTagId     : ==> Parameters: 14(Integer), 62(Integer)
2022-04-06 11:32:56.718 DEBUG 3480 --- [http-nio-8086-exec-8] c.k.m.BlogMapper.getNextBlogsByTagId     : <==      Total: 4
2022-04-06 11:32:56.718  INFO 3480 --- [http-nio-8086-exec-8] com.kwok.aspect.LogAspect                : Result : tags
2022-04-06 11:32:59.235  INFO 3480 --- [http-nio-8086-exec-7] com.kwok.aspect.LogAspect                : Request : {url='http://localhost:8086/tags/2', ip='0:0:0:0:0:0:0:1', classMethod='com.kwok.controller.TagShowController.tags', args=[2, org.apache.catalina.connector.RequestFacade@4828a8cb, {}]}
2022-04-06 11:32:59.235 DEBUG 3480 --- [http-nio-8086-exec-7] com.kwok.mapper.TagMapper.listTag        : ==>  Preparing: select * from tag order by id desc
2022-04-06 11:32:59.235 DEBUG 3480 --- [http-nio-8086-exec-7] com.kwok.mapper.TagMapper.listTag        : ==> Parameters: 
2022-04-06 11:32:59.236 DEBUG 3480 --- [http-nio-8086-exec-7] com.kwok.mapper.TagMapper.listTag        : <==      Total: 14
2022-04-06 11:32:59.236 DEBUG 3480 --- [http-nio-8086-exec-7] com.kwok.mapper.TagMapper.tagCount       : ==>  Preparing: select count(1) as count from blog_tag where tag_id=?
2022-04-06 11:32:59.236 DEBUG 3480 --- [http-nio-8086-exec-7] com.kwok.mapper.TagMapper.tagCount       : ==> Parameters: 14(Integer)
2022-04-06 11:32:59.237 DEBUG 3480 --- [http-nio-8086-exec-7] com.kwok.mapper.TagMapper.tagCount       : <==      Total: 1
2022-04-06 11:32:59.237 DEBUG 3480 --- [http-nio-8086-exec-7] com.kwok.mapper.TagMapper.tagCount       : ==>  Preparing: select count(1) as count from blog_tag where tag_id=?
2022-04-06 11:32:59.237 DEBUG 3480 --- [http-nio-8086-exec-7] com.kwok.mapper.TagMapper.tagCount       : ==> Parameters: 13(Integer)
2022-04-06 11:32:59.238 DEBUG 3480 --- [http-nio-8086-exec-7] com.kwok.mapper.TagMapper.tagCount       : <==      Total: 1
2022-04-06 11:32:59.238 DEBUG 3480 --- [http-nio-8086-exec-7] com.kwok.mapper.TagMapper.tagCount       : ==>  Preparing: select count(1) as count from blog_tag where tag_id=?
2022-04-06 11:32:59.238 DEBUG 3480 --- [http-nio-8086-exec-7] com.kwok.mapper.TagMapper.tagCount       : ==> Parameters: 12(Integer)
2022-04-06 11:32:59.238 DEBUG 3480 --- [http-nio-8086-exec-7] com.kwok.mapper.TagMapper.tagCount       : <==      Total: 1
2022-04-06 11:32:59.238 DEBUG 3480 --- [http-nio-8086-exec-7] com.kwok.mapper.TagMapper.tagCount       : ==>  Preparing: select count(1) as count from blog_tag where tag_id=?
2022-04-06 11:32:59.239 DEBUG 3480 --- [http-nio-8086-exec-7] com.kwok.mapper.TagMapper.tagCount       : ==> Parameters: 11(Integer)
2022-04-06 11:32:59.239 DEBUG 3480 --- [http-nio-8086-exec-7] com.kwok.mapper.TagMapper.tagCount       : <==      Total: 1
2022-04-06 11:32:59.239 DEBUG 3480 --- [http-nio-8086-exec-7] com.kwok.mapper.TagMapper.tagCount       : ==>  Preparing: select count(1) as count from blog_tag where tag_id=?
2022-04-06 11:32:59.239 DEBUG 3480 --- [http-nio-8086-exec-7] com.kwok.mapper.TagMapper.tagCount       : ==> Parameters: 10(Integer)
2022-04-06 11:32:59.239 DEBUG 3480 --- [http-nio-8086-exec-7] com.kwok.mapper.TagMapper.tagCount       : <==      Total: 1
2022-04-06 11:32:59.239 DEBUG 3480 --- [http-nio-8086-exec-7] com.kwok.mapper.TagMapper.tagCount       : ==>  Preparing: select count(1) as count from blog_tag where tag_id=?
2022-04-06 11:32:59.239 DEBUG 3480 --- [http-nio-8086-exec-7] com.kwok.mapper.TagMapper.tagCount       : ==> Parameters: 9(Integer)
2022-04-06 11:32:59.240 DEBUG 3480 --- [http-nio-8086-exec-7] com.kwok.mapper.TagMapper.tagCount       : <==      Total: 1
2022-04-06 11:32:59.240 DEBUG 3480 --- [http-nio-8086-exec-7] com.kwok.mapper.TagMapper.tagCount       : ==>  Preparing: select count(1) as count from blog_tag where tag_id=?
2022-04-06 11:32:59.240 DEBUG 3480 --- [http-nio-8086-exec-7] com.kwok.mapper.TagMapper.tagCount       : ==> Parameters: 8(Integer)
2022-04-06 11:32:59.240 DEBUG 3480 --- [http-nio-8086-exec-7] com.kwok.mapper.TagMapper.tagCount       : <==      Total: 1
2022-04-06 11:32:59.240 DEBUG 3480 --- [http-nio-8086-exec-7] com.kwok.mapper.TagMapper.tagCount       : ==>  Preparing: select count(1) as count from blog_tag where tag_id=?
2022-04-06 11:32:59.240 DEBUG 3480 --- [http-nio-8086-exec-7] com.kwok.mapper.TagMapper.tagCount       : ==> Parameters: 7(Integer)
2022-04-06 11:32:59.241 DEBUG 3480 --- [http-nio-8086-exec-7] com.kwok.mapper.TagMapper.tagCount       : <==      Total: 1
2022-04-06 11:32:59.241 DEBUG 3480 --- [http-nio-8086-exec-7] com.kwok.mapper.TagMapper.tagCount       : ==>  Preparing: select count(1) as count from blog_tag where tag_id=?
2022-04-06 11:32:59.241 DEBUG 3480 --- [http-nio-8086-exec-7] com.kwok.mapper.TagMapper.tagCount       : ==> Parameters: 6(Integer)
2022-04-06 11:32:59.241 DEBUG 3480 --- [http-nio-8086-exec-7] com.kwok.mapper.TagMapper.tagCount       : <==      Total: 1
2022-04-06 11:32:59.241 DEBUG 3480 --- [http-nio-8086-exec-7] com.kwok.mapper.TagMapper.tagCount       : ==>  Preparing: select count(1) as count from blog_tag where tag_id=?
2022-04-06 11:32:59.241 DEBUG 3480 --- [http-nio-8086-exec-7] com.kwok.mapper.TagMapper.tagCount       : ==> Parameters: 5(Integer)
2022-04-06 11:32:59.242 DEBUG 3480 --- [http-nio-8086-exec-7] com.kwok.mapper.TagMapper.tagCount       : <==      Total: 1
2022-04-06 11:32:59.242 DEBUG 3480 --- [http-nio-8086-exec-7] com.kwok.mapper.TagMapper.tagCount       : ==>  Preparing: select count(1) as count from blog_tag where tag_id=?
2022-04-06 11:32:59.242 DEBUG 3480 --- [http-nio-8086-exec-7] com.kwok.mapper.TagMapper.tagCount       : ==> Parameters: 4(Integer)
2022-04-06 11:32:59.242 DEBUG 3480 --- [http-nio-8086-exec-7] com.kwok.mapper.TagMapper.tagCount       : <==      Total: 1
2022-04-06 11:32:59.242 DEBUG 3480 --- [http-nio-8086-exec-7] com.kwok.mapper.TagMapper.tagCount       : ==>  Preparing: select count(1) as count from blog_tag where tag_id=?
2022-04-06 11:32:59.242 DEBUG 3480 --- [http-nio-8086-exec-7] com.kwok.mapper.TagMapper.tagCount       : ==> Parameters: 3(Integer)
2022-04-06 11:32:59.243 DEBUG 3480 --- [http-nio-8086-exec-7] com.kwok.mapper.TagMapper.tagCount       : <==      Total: 1
2022-04-06 11:32:59.244 DEBUG 3480 --- [http-nio-8086-exec-7] com.kwok.mapper.TagMapper.tagCount       : ==>  Preparing: select count(1) as count from blog_tag where tag_id=?
2022-04-06 11:32:59.244 DEBUG 3480 --- [http-nio-8086-exec-7] com.kwok.mapper.TagMapper.tagCount       : ==> Parameters: 2(Integer)
2022-04-06 11:32:59.244 DEBUG 3480 --- [http-nio-8086-exec-7] com.kwok.mapper.TagMapper.tagCount       : <==      Total: 1
2022-04-06 11:32:59.244 DEBUG 3480 --- [http-nio-8086-exec-7] com.kwok.mapper.TagMapper.tagCount       : ==>  Preparing: select count(1) as count from blog_tag where tag_id=?
2022-04-06 11:32:59.245 DEBUG 3480 --- [http-nio-8086-exec-7] com.kwok.mapper.TagMapper.tagCount       : ==> Parameters: 1(Integer)
2022-04-06 11:32:59.245 DEBUG 3480 --- [http-nio-8086-exec-7] com.kwok.mapper.TagMapper.tagCount       : <==      Total: 1
2022-04-06 11:32:59.245 DEBUG 3480 --- [http-nio-8086-exec-7] c.k.m.BlogMapper.getBlogCountByTagId     : ==>  Preparing: select count(1) as count from blog_tag where tag_id = ?
2022-04-06 11:32:59.245 DEBUG 3480 --- [http-nio-8086-exec-7] c.k.m.BlogMapper.getBlogCountByTagId     : ==> Parameters: 2(Integer)
2022-04-06 11:32:59.245 DEBUG 3480 --- [http-nio-8086-exec-7] c.k.m.BlogMapper.getBlogCountByTagId     : <==      Total: 1
2022-04-06 11:32:59.246 DEBUG 3480 --- [http-nio-8086-exec-7] c.k.m.BlogMapper.getBlogListByTagId      : ==>  Preparing: select b.*,bt.tag_id,t.name from blog b,blog_tag bt,tag t where bt.blog_id=b.id and bt.tag_id=t.id and bt.tag_id=? order by b.id desc limit ?,?
2022-04-06 11:32:59.246 DEBUG 3480 --- [http-nio-8086-exec-7] c.k.m.BlogMapper.getBlogListByTagId      : ==> Parameters: 2(Integer), 0(Integer), 5(Integer)
2022-04-06 11:32:59.250 DEBUG 3480 --- [http-nio-8086-exec-7] c.k.m.BlogMapper.getBlogListByTagId      : <==      Total: 5
2022-04-06 11:32:59.250 DEBUG 3480 --- [http-nio-8086-exec-7] com.kwok.mapper.TypeMapper.getTypeById   : ==>  Preparing: select * from type where id = ?
2022-04-06 11:32:59.250 DEBUG 3480 --- [http-nio-8086-exec-7] com.kwok.mapper.TypeMapper.getTypeById   : ==> Parameters: 6(Integer)
2022-04-06 11:32:59.250 DEBUG 3480 --- [http-nio-8086-exec-7] com.kwok.mapper.TypeMapper.getTypeById   : <==      Total: 1
2022-04-06 11:32:59.251 DEBUG 3480 --- [http-nio-8086-exec-7] c.kwok.mapper.TagMapper.getTagsByBlogId  : ==>  Preparing: select t.* from tag t,blog_tag bt where t.id=bt.tag_id and bt.blog_id=?
2022-04-06 11:32:59.251 DEBUG 3480 --- [http-nio-8086-exec-7] c.kwok.mapper.TagMapper.getTagsByBlogId  : ==> Parameters: 82(Integer)
2022-04-06 11:32:59.251 DEBUG 3480 --- [http-nio-8086-exec-7] c.kwok.mapper.TagMapper.getTagsByBlogId  : <==      Total: 3
2022-04-06 11:32:59.252 DEBUG 3480 --- [http-nio-8086-exec-7] com.kwok.mapper.TypeMapper.getTypeById   : ==>  Preparing: select * from type where id = ?
2022-04-06 11:32:59.252 DEBUG 3480 --- [http-nio-8086-exec-7] com.kwok.mapper.TypeMapper.getTypeById   : ==> Parameters: 6(Integer)
2022-04-06 11:32:59.252 DEBUG 3480 --- [http-nio-8086-exec-7] com.kwok.mapper.TypeMapper.getTypeById   : <==      Total: 1
2022-04-06 11:32:59.252 DEBUG 3480 --- [http-nio-8086-exec-7] c.kwok.mapper.TagMapper.getTagsByBlogId  : ==>  Preparing: select t.* from tag t,blog_tag bt where t.id=bt.tag_id and bt.blog_id=?
2022-04-06 11:32:59.252 DEBUG 3480 --- [http-nio-8086-exec-7] c.kwok.mapper.TagMapper.getTagsByBlogId  : ==> Parameters: 81(Integer)
2022-04-06 11:32:59.253 DEBUG 3480 --- [http-nio-8086-exec-7] c.kwok.mapper.TagMapper.getTagsByBlogId  : <==      Total: 3
2022-04-06 11:32:59.253 DEBUG 3480 --- [http-nio-8086-exec-7] com.kwok.mapper.TypeMapper.getTypeById   : ==>  Preparing: select * from type where id = ?
2022-04-06 11:32:59.253 DEBUG 3480 --- [http-nio-8086-exec-7] com.kwok.mapper.TypeMapper.getTypeById   : ==> Parameters: 6(Integer)
2022-04-06 11:32:59.254 DEBUG 3480 --- [http-nio-8086-exec-7] com.kwok.mapper.TypeMapper.getTypeById   : <==      Total: 1
2022-04-06 11:32:59.254 DEBUG 3480 --- [http-nio-8086-exec-7] c.kwok.mapper.TagMapper.getTagsByBlogId  : ==>  Preparing: select t.* from tag t,blog_tag bt where t.id=bt.tag_id and bt.blog_id=?
2022-04-06 11:32:59.254 DEBUG 3480 --- [http-nio-8086-exec-7] c.kwok.mapper.TagMapper.getTagsByBlogId  : ==> Parameters: 80(Integer)
2022-04-06 11:32:59.254 DEBUG 3480 --- [http-nio-8086-exec-7] c.kwok.mapper.TagMapper.getTagsByBlogId  : <==      Total: 3
2022-04-06 11:32:59.254 DEBUG 3480 --- [http-nio-8086-exec-7] com.kwok.mapper.TypeMapper.getTypeById   : ==>  Preparing: select * from type where id = ?
2022-04-06 11:32:59.255 DEBUG 3480 --- [http-nio-8086-exec-7] com.kwok.mapper.TypeMapper.getTypeById   : ==> Parameters: 6(Integer)
2022-04-06 11:32:59.255 DEBUG 3480 --- [http-nio-8086-exec-7] com.kwok.mapper.TypeMapper.getTypeById   : <==      Total: 1
2022-04-06 11:32:59.255 DEBUG 3480 --- [http-nio-8086-exec-7] c.kwok.mapper.TagMapper.getTagsByBlogId  : ==>  Preparing: select t.* from tag t,blog_tag bt where t.id=bt.tag_id and bt.blog_id=?
2022-04-06 11:32:59.255 DEBUG 3480 --- [http-nio-8086-exec-7] c.kwok.mapper.TagMapper.getTagsByBlogId  : ==> Parameters: 79(Integer)
2022-04-06 11:32:59.256 DEBUG 3480 --- [http-nio-8086-exec-7] c.kwok.mapper.TagMapper.getTagsByBlogId  : <==      Total: 3
2022-04-06 11:32:59.256 DEBUG 3480 --- [http-nio-8086-exec-7] com.kwok.mapper.TypeMapper.getTypeById   : ==>  Preparing: select * from type where id = ?
2022-04-06 11:32:59.256 DEBUG 3480 --- [http-nio-8086-exec-7] com.kwok.mapper.TypeMapper.getTypeById   : ==> Parameters: 6(Integer)
2022-04-06 11:32:59.256 DEBUG 3480 --- [http-nio-8086-exec-7] com.kwok.mapper.TypeMapper.getTypeById   : <==      Total: 1
2022-04-06 11:32:59.256 DEBUG 3480 --- [http-nio-8086-exec-7] c.kwok.mapper.TagMapper.getTagsByBlogId  : ==>  Preparing: select t.* from tag t,blog_tag bt where t.id=bt.tag_id and bt.blog_id=?
2022-04-06 11:32:59.256 DEBUG 3480 --- [http-nio-8086-exec-7] c.kwok.mapper.TagMapper.getTagsByBlogId  : ==> Parameters: 78(Integer)
2022-04-06 11:32:59.257 DEBUG 3480 --- [http-nio-8086-exec-7] c.kwok.mapper.TagMapper.getTagsByBlogId  : <==      Total: 3
2022-04-06 11:32:59.257 DEBUG 3480 --- [http-nio-8086-exec-7] c.k.m.BlogMapper.getPreBlogsByTagId      : ==>  Preparing: select b.* from blog b,blog_tag bt where b.id = bt.blog_id and bt.tag_id=? and b.id > ?
2022-04-06 11:32:59.257 DEBUG 3480 --- [http-nio-8086-exec-7] c.k.m.BlogMapper.getPreBlogsByTagId      : ==> Parameters: 2(Integer), 82(Integer)
2022-04-06 11:32:59.258 DEBUG 3480 --- [http-nio-8086-exec-7] c.k.m.BlogMapper.getPreBlogsByTagId      : <==      Total: 0
2022-04-06 11:32:59.258 DEBUG 3480 --- [http-nio-8086-exec-7] c.k.m.BlogMapper.getNextBlogsByTagId     : ==>  Preparing: select b.* from blog b,blog_tag bt where b.id = bt.blog_id and bt.tag_id=? and ? > b.id
2022-04-06 11:32:59.258 DEBUG 3480 --- [http-nio-8086-exec-7] c.k.m.BlogMapper.getNextBlogsByTagId     : ==> Parameters: 2(Integer), 78(Integer)
2022-04-06 11:32:59.264 DEBUG 3480 --- [http-nio-8086-exec-7] c.k.m.BlogMapper.getNextBlogsByTagId     : <==      Total: 11
2022-04-06 11:32:59.264  INFO 3480 --- [http-nio-8086-exec-7] com.kwok.aspect.LogAspect                : Result : tags
2022-04-06 11:33:04.047  INFO 3480 --- [http-nio-8086-exec-10] com.kwok.aspect.LogAspect                : Request : {url='http://localhost:8086/blog/80', ip='0:0:0:0:0:0:0:1', classMethod='com.kwok.controller.IndexController.blog', args=[80, {}]}
2022-04-06 11:33:04.048 DEBUG 3480 --- [http-nio-8086-exec-10] com.kwok.mapper.BlogMapper.getBlogById   : ==>  Preparing: select * from blog where id = ?
2022-04-06 11:33:04.048 DEBUG 3480 --- [http-nio-8086-exec-10] com.kwok.mapper.BlogMapper.getBlogById   : ==> Parameters: 80(Integer)
2022-04-06 11:33:04.050 DEBUG 3480 --- [http-nio-8086-exec-10] com.kwok.mapper.BlogMapper.getBlogById   : <==      Total: 1
2022-04-06 11:33:04.050 DEBUG 3480 --- [http-nio-8086-exec-10] c.k.mapper.BlogMapper.updateBlogViews    : ==>  Preparing: update blog set views=? where id = ?
2022-04-06 11:33:04.050 DEBUG 3480 --- [http-nio-8086-exec-10] c.k.mapper.BlogMapper.updateBlogViews    : ==> Parameters: 3(Integer), 80(Integer)
2022-04-06 11:33:04.050 DEBUG 3480 --- [http-nio-8086-exec-10] c.k.mapper.BlogMapper.updateBlogViews    : <==    Updates: 1
2022-04-06 11:33:04.053 DEBUG 3480 --- [http-nio-8086-exec-10] com.kwok.mapper.BlogMapper.getBlogById   : ==>  Preparing: select * from blog where id = ?
2022-04-06 11:33:04.054 DEBUG 3480 --- [http-nio-8086-exec-10] com.kwok.mapper.BlogMapper.getBlogById   : ==> Parameters: 80(Integer)
2022-04-06 11:33:04.055 DEBUG 3480 --- [http-nio-8086-exec-10] com.kwok.mapper.BlogMapper.getBlogById   : <==      Total: 1
2022-04-06 11:33:04.057 DEBUG 3480 --- [http-nio-8086-exec-10] c.k.m.BlogtagMapper.getTagIdByBlogId     : ==>  Preparing: select * from blog_tag where blog_id = ?
2022-04-06 11:33:04.057 DEBUG 3480 --- [http-nio-8086-exec-10] c.k.m.BlogtagMapper.getTagIdByBlogId     : ==> Parameters: 80(Integer)
2022-04-06 11:33:04.058 DEBUG 3480 --- [http-nio-8086-exec-10] c.k.m.BlogtagMapper.getTagIdByBlogId     : <==      Total: 3
2022-04-06 11:33:04.059 DEBUG 3480 --- [http-nio-8086-exec-10] com.kwok.mapper.TagMapper.getShowTags    : ==>  Preparing: select * from tag where id in ( ? , ? , ? )
2022-04-06 11:33:04.059 DEBUG 3480 --- [http-nio-8086-exec-10] com.kwok.mapper.TagMapper.getShowTags    : ==> Parameters: 11(Integer), 2(Integer), 4(Integer)
2022-04-06 11:33:04.060 DEBUG 3480 --- [http-nio-8086-exec-10] com.kwok.mapper.TagMapper.getShowTags    : <==      Total: 3
2022-04-06 11:33:04.060  INFO 3480 --- [http-nio-8086-exec-10] com.kwok.aspect.LogAspect                : Result : blog
2022-04-06 11:33:04.591  INFO 3480 --- [http-nio-8086-exec-5] com.kwok.aspect.LogAspect                : Request : {url='http://localhost:8086/comments/80', ip='0:0:0:0:0:0:0:1', classMethod='com.kwok.controller.CommentController.comments', args=[80, {}]}
2022-04-06 11:33:04.591 DEBUG 3480 --- [http-nio-8086-exec-5] c.k.m.CommentMapper.listCommentByBlogId  : ==>  Preparing: select * from comment where blog_id = ? and parent_id = 0 order by creat_time asc
2022-04-06 11:33:04.591 DEBUG 3480 --- [http-nio-8086-exec-5] c.k.m.CommentMapper.listCommentByBlogId  : ==> Parameters: 80(Integer)
2022-04-06 11:33:04.592 DEBUG 3480 --- [http-nio-8086-exec-5] c.k.m.CommentMapper.listCommentByBlogId  : <==      Total: 0
2022-04-06 11:33:04.592  INFO 3480 --- [http-nio-8086-exec-5] com.kwok.aspect.LogAspect                : Result : blog :: commentList
2022-04-06 11:33:30.453  INFO 3480 --- [http-nio-8086-exec-6] com.kwok.aspect.LogAspect                : Request : {url='http://localhost:8086/tags/topage', ip='0:0:0:0:0:0:0:1', classMethod='com.kwok.controller.TagShowController.searchTopage', args=[org.apache.catalina.connector.RequestFacade@78f772d3, org.apache.catalina.connector.ResponseFacade@5aab1707, {}]}
2022-04-06 11:33:30.453 DEBUG 3480 --- [http-nio-8086-exec-6] com.kwok.mapper.TagMapper.listTag        : ==>  Preparing: select * from tag order by id desc
2022-04-06 11:33:30.454 DEBUG 3480 --- [http-nio-8086-exec-6] com.kwok.mapper.TagMapper.listTag        : ==> Parameters: 
2022-04-06 11:33:30.454 DEBUG 3480 --- [http-nio-8086-exec-6] com.kwok.mapper.TagMapper.listTag        : <==      Total: 14
2022-04-06 11:33:30.454 DEBUG 3480 --- [http-nio-8086-exec-6] com.kwok.mapper.TagMapper.tagCount       : ==>  Preparing: select count(1) as count from blog_tag where tag_id=?
2022-04-06 11:33:30.455 DEBUG 3480 --- [http-nio-8086-exec-6] com.kwok.mapper.TagMapper.tagCount       : ==> Parameters: 14(Integer)
2022-04-06 11:33:30.455 DEBUG 3480 --- [http-nio-8086-exec-6] com.kwok.mapper.TagMapper.tagCount       : <==      Total: 1
2022-04-06 11:33:30.455 DEBUG 3480 --- [http-nio-8086-exec-6] com.kwok.mapper.TagMapper.tagCount       : ==>  Preparing: select count(1) as count from blog_tag where tag_id=?
2022-04-06 11:33:30.455 DEBUG 3480 --- [http-nio-8086-exec-6] com.kwok.mapper.TagMapper.tagCount       : ==> Parameters: 13(Integer)
2022-04-06 11:33:30.456 DEBUG 3480 --- [http-nio-8086-exec-6] com.kwok.mapper.TagMapper.tagCount       : <==      Total: 1
2022-04-06 11:33:30.456 DEBUG 3480 --- [http-nio-8086-exec-6] com.kwok.mapper.TagMapper.tagCount       : ==>  Preparing: select count(1) as count from blog_tag where tag_id=?
2022-04-06 11:33:30.456 DEBUG 3480 --- [http-nio-8086-exec-6] com.kwok.mapper.TagMapper.tagCount       : ==> Parameters: 12(Integer)
2022-04-06 11:33:30.456 DEBUG 3480 --- [http-nio-8086-exec-6] com.kwok.mapper.TagMapper.tagCount       : <==      Total: 1
2022-04-06 11:33:30.456 DEBUG 3480 --- [http-nio-8086-exec-6] com.kwok.mapper.TagMapper.tagCount       : ==>  Preparing: select count(1) as count from blog_tag where tag_id=?
2022-04-06 11:33:30.456 DEBUG 3480 --- [http-nio-8086-exec-6] com.kwok.mapper.TagMapper.tagCount       : ==> Parameters: 11(Integer)
2022-04-06 11:33:30.457 DEBUG 3480 --- [http-nio-8086-exec-6] com.kwok.mapper.TagMapper.tagCount       : <==      Total: 1
2022-04-06 11:33:30.457 DEBUG 3480 --- [http-nio-8086-exec-6] com.kwok.mapper.TagMapper.tagCount       : ==>  Preparing: select count(1) as count from blog_tag where tag_id=?
2022-04-06 11:33:30.457 DEBUG 3480 --- [http-nio-8086-exec-6] com.kwok.mapper.TagMapper.tagCount       : ==> Parameters: 10(Integer)
2022-04-06 11:33:30.457 DEBUG 3480 --- [http-nio-8086-exec-6] com.kwok.mapper.TagMapper.tagCount       : <==      Total: 1
2022-04-06 11:33:30.458 DEBUG 3480 --- [http-nio-8086-exec-6] com.kwok.mapper.TagMapper.tagCount       : ==>  Preparing: select count(1) as count from blog_tag where tag_id=?
2022-04-06 11:33:30.458 DEBUG 3480 --- [http-nio-8086-exec-6] com.kwok.mapper.TagMapper.tagCount       : ==> Parameters: 9(Integer)
2022-04-06 11:33:30.458 DEBUG 3480 --- [http-nio-8086-exec-6] com.kwok.mapper.TagMapper.tagCount       : <==      Total: 1
2022-04-06 11:33:30.458 DEBUG 3480 --- [http-nio-8086-exec-6] com.kwok.mapper.TagMapper.tagCount       : ==>  Preparing: select count(1) as count from blog_tag where tag_id=?
2022-04-06 11:33:30.458 DEBUG 3480 --- [http-nio-8086-exec-6] com.kwok.mapper.TagMapper.tagCount       : ==> Parameters: 8(Integer)
2022-04-06 11:33:30.459 DEBUG 3480 --- [http-nio-8086-exec-6] com.kwok.mapper.TagMapper.tagCount       : <==      Total: 1
2022-04-06 11:33:30.460 DEBUG 3480 --- [http-nio-8086-exec-6] com.kwok.mapper.TagMapper.tagCount       : ==>  Preparing: select count(1) as count from blog_tag where tag_id=?
2022-04-06 11:33:30.460 DEBUG 3480 --- [http-nio-8086-exec-6] com.kwok.mapper.TagMapper.tagCount       : ==> Parameters: 7(Integer)
2022-04-06 11:33:30.460 DEBUG 3480 --- [http-nio-8086-exec-6] com.kwok.mapper.TagMapper.tagCount       : <==      Total: 1
2022-04-06 11:33:30.460 DEBUG 3480 --- [http-nio-8086-exec-6] com.kwok.mapper.TagMapper.tagCount       : ==>  Preparing: select count(1) as count from blog_tag where tag_id=?
2022-04-06 11:33:30.461 DEBUG 3480 --- [http-nio-8086-exec-6] com.kwok.mapper.TagMapper.tagCount       : ==> Parameters: 6(Integer)
2022-04-06 11:33:30.461 DEBUG 3480 --- [http-nio-8086-exec-6] com.kwok.mapper.TagMapper.tagCount       : <==      Total: 1
2022-04-06 11:33:30.461 DEBUG 3480 --- [http-nio-8086-exec-6] com.kwok.mapper.TagMapper.tagCount       : ==>  Preparing: select count(1) as count from blog_tag where tag_id=?
2022-04-06 11:33:30.461 DEBUG 3480 --- [http-nio-8086-exec-6] com.kwok.mapper.TagMapper.tagCount       : ==> Parameters: 5(Integer)
2022-04-06 11:33:30.462 DEBUG 3480 --- [http-nio-8086-exec-6] com.kwok.mapper.TagMapper.tagCount       : <==      Total: 1
2022-04-06 11:33:30.462 DEBUG 3480 --- [http-nio-8086-exec-6] com.kwok.mapper.TagMapper.tagCount       : ==>  Preparing: select count(1) as count from blog_tag where tag_id=?
2022-04-06 11:33:30.462 DEBUG 3480 --- [http-nio-8086-exec-6] com.kwok.mapper.TagMapper.tagCount       : ==> Parameters: 4(Integer)
2022-04-06 11:33:30.463 DEBUG 3480 --- [http-nio-8086-exec-6] com.kwok.mapper.TagMapper.tagCount       : <==      Total: 1
2022-04-06 11:33:30.463 DEBUG 3480 --- [http-nio-8086-exec-6] com.kwok.mapper.TagMapper.tagCount       : ==>  Preparing: select count(1) as count from blog_tag where tag_id=?
2022-04-06 11:33:30.463 DEBUG 3480 --- [http-nio-8086-exec-6] com.kwok.mapper.TagMapper.tagCount       : ==> Parameters: 3(Integer)
2022-04-06 11:33:30.463 DEBUG 3480 --- [http-nio-8086-exec-6] com.kwok.mapper.TagMapper.tagCount       : <==      Total: 1
2022-04-06 11:33:30.463 DEBUG 3480 --- [http-nio-8086-exec-6] com.kwok.mapper.TagMapper.tagCount       : ==>  Preparing: select count(1) as count from blog_tag where tag_id=?
2022-04-06 11:33:30.463 DEBUG 3480 --- [http-nio-8086-exec-6] com.kwok.mapper.TagMapper.tagCount       : ==> Parameters: 2(Integer)
2022-04-06 11:33:30.464 DEBUG 3480 --- [http-nio-8086-exec-6] com.kwok.mapper.TagMapper.tagCount       : <==      Total: 1
2022-04-06 11:33:30.464 DEBUG 3480 --- [http-nio-8086-exec-6] com.kwok.mapper.TagMapper.tagCount       : ==>  Preparing: select count(1) as count from blog_tag where tag_id=?
2022-04-06 11:33:30.464 DEBUG 3480 --- [http-nio-8086-exec-6] com.kwok.mapper.TagMapper.tagCount       : ==> Parameters: 1(Integer)
2022-04-06 11:33:30.464 DEBUG 3480 --- [http-nio-8086-exec-6] com.kwok.mapper.TagMapper.tagCount       : <==      Total: 1
2022-04-06 11:33:30.464 DEBUG 3480 --- [http-nio-8086-exec-6] c.k.m.BlogMapper.getBlogCountByTagId     : ==>  Preparing: select count(1) as count from blog_tag where tag_id = ?
2022-04-06 11:33:30.464 DEBUG 3480 --- [http-nio-8086-exec-6] c.k.m.BlogMapper.getBlogCountByTagId     : ==> Parameters: 2(Integer)
2022-04-06 11:33:30.465 DEBUG 3480 --- [http-nio-8086-exec-6] c.k.m.BlogMapper.getBlogCountByTagId     : <==      Total: 1
2022-04-06 11:33:30.465 DEBUG 3480 --- [http-nio-8086-exec-6] c.k.m.BlogMapper.getBlogListByTagId      : ==>  Preparing: select b.*,bt.tag_id,t.name from blog b,blog_tag bt,tag t where bt.blog_id=b.id and bt.tag_id=t.id and bt.tag_id=? order by b.id desc limit ?,?
2022-04-06 11:33:30.465 DEBUG 3480 --- [http-nio-8086-exec-6] c.k.m.BlogMapper.getBlogListByTagId      : ==> Parameters: 2(Integer), 5(Integer), 5(Integer)
2022-04-06 11:33:30.467 DEBUG 3480 --- [http-nio-8086-exec-6] c.k.m.BlogMapper.getBlogListByTagId      : <==      Total: 5
2022-04-06 11:33:30.467 DEBUG 3480 --- [http-nio-8086-exec-6] com.kwok.mapper.TypeMapper.getTypeById   : ==>  Preparing: select * from type where id = ?
2022-04-06 11:33:30.467 DEBUG 3480 --- [http-nio-8086-exec-6] com.kwok.mapper.TypeMapper.getTypeById   : ==> Parameters: 6(Integer)
2022-04-06 11:33:30.468 DEBUG 3480 --- [http-nio-8086-exec-6] com.kwok.mapper.TypeMapper.getTypeById   : <==      Total: 1
2022-04-06 11:33:30.468 DEBUG 3480 --- [http-nio-8086-exec-6] c.kwok.mapper.TagMapper.getTagsByBlogId  : ==>  Preparing: select t.* from tag t,blog_tag bt where t.id=bt.tag_id and bt.blog_id=?
2022-04-06 11:33:30.468 DEBUG 3480 --- [http-nio-8086-exec-6] c.kwok.mapper.TagMapper.getTagsByBlogId  : ==> Parameters: 77(Integer)
2022-04-06 11:33:30.468 DEBUG 3480 --- [http-nio-8086-exec-6] c.kwok.mapper.TagMapper.getTagsByBlogId  : <==      Total: 3
2022-04-06 11:33:30.468 DEBUG 3480 --- [http-nio-8086-exec-6] com.kwok.mapper.TypeMapper.getTypeById   : ==>  Preparing: select * from type where id = ?
2022-04-06 11:33:30.469 DEBUG 3480 --- [http-nio-8086-exec-6] com.kwok.mapper.TypeMapper.getTypeById   : ==> Parameters: 6(Integer)
2022-04-06 11:33:30.469 DEBUG 3480 --- [http-nio-8086-exec-6] com.kwok.mapper.TypeMapper.getTypeById   : <==      Total: 1
2022-04-06 11:33:30.469 DEBUG 3480 --- [http-nio-8086-exec-6] c.kwok.mapper.TagMapper.getTagsByBlogId  : ==>  Preparing: select t.* from tag t,blog_tag bt where t.id=bt.tag_id and bt.blog_id=?
2022-04-06 11:33:30.469 DEBUG 3480 --- [http-nio-8086-exec-6] c.kwok.mapper.TagMapper.getTagsByBlogId  : ==> Parameters: 76(Integer)
2022-04-06 11:33:30.470 DEBUG 3480 --- [http-nio-8086-exec-6] c.kwok.mapper.TagMapper.getTagsByBlogId  : <==      Total: 3
2022-04-06 11:33:30.470 DEBUG 3480 --- [http-nio-8086-exec-6] com.kwok.mapper.TypeMapper.getTypeById   : ==>  Preparing: select * from type where id = ?
2022-04-06 11:33:30.470 DEBUG 3480 --- [http-nio-8086-exec-6] com.kwok.mapper.TypeMapper.getTypeById   : ==> Parameters: 6(Integer)
2022-04-06 11:33:30.470 DEBUG 3480 --- [http-nio-8086-exec-6] com.kwok.mapper.TypeMapper.getTypeById   : <==      Total: 1
2022-04-06 11:33:30.471 DEBUG 3480 --- [http-nio-8086-exec-6] c.kwok.mapper.TagMapper.getTagsByBlogId  : ==>  Preparing: select t.* from tag t,blog_tag bt where t.id=bt.tag_id and bt.blog_id=?
2022-04-06 11:33:30.471 DEBUG 3480 --- [http-nio-8086-exec-6] c.kwok.mapper.TagMapper.getTagsByBlogId  : ==> Parameters: 75(Integer)
2022-04-06 11:33:30.471 DEBUG 3480 --- [http-nio-8086-exec-6] c.kwok.mapper.TagMapper.getTagsByBlogId  : <==      Total: 3
2022-04-06 11:33:30.472 DEBUG 3480 --- [http-nio-8086-exec-6] com.kwok.mapper.TypeMapper.getTypeById   : ==>  Preparing: select * from type where id = ?
2022-04-06 11:33:30.472 DEBUG 3480 --- [http-nio-8086-exec-6] com.kwok.mapper.TypeMapper.getTypeById   : ==> Parameters: 6(Integer)
2022-04-06 11:33:30.472 DEBUG 3480 --- [http-nio-8086-exec-6] com.kwok.mapper.TypeMapper.getTypeById   : <==      Total: 1
2022-04-06 11:33:30.472 DEBUG 3480 --- [http-nio-8086-exec-6] c.kwok.mapper.TagMapper.getTagsByBlogId  : ==>  Preparing: select t.* from tag t,blog_tag bt where t.id=bt.tag_id and bt.blog_id=?
2022-04-06 11:33:30.472 DEBUG 3480 --- [http-nio-8086-exec-6] c.kwok.mapper.TagMapper.getTagsByBlogId  : ==> Parameters: 74(Integer)
2022-04-06 11:33:30.473 DEBUG 3480 --- [http-nio-8086-exec-6] c.kwok.mapper.TagMapper.getTagsByBlogId  : <==      Total: 3
2022-04-06 11:33:30.473 DEBUG 3480 --- [http-nio-8086-exec-6] com.kwok.mapper.TypeMapper.getTypeById   : ==>  Preparing: select * from type where id = ?
2022-04-06 11:33:30.473 DEBUG 3480 --- [http-nio-8086-exec-6] com.kwok.mapper.TypeMapper.getTypeById   : ==> Parameters: 6(Integer)
2022-04-06 11:33:30.473 DEBUG 3480 --- [http-nio-8086-exec-6] com.kwok.mapper.TypeMapper.getTypeById   : <==      Total: 1
2022-04-06 11:33:30.473 DEBUG 3480 --- [http-nio-8086-exec-6] c.kwok.mapper.TagMapper.getTagsByBlogId  : ==>  Preparing: select t.* from tag t,blog_tag bt where t.id=bt.tag_id and bt.blog_id=?
2022-04-06 11:33:30.473 DEBUG 3480 --- [http-nio-8086-exec-6] c.kwok.mapper.TagMapper.getTagsByBlogId  : ==> Parameters: 73(Integer)
2022-04-06 11:33:30.474 DEBUG 3480 --- [http-nio-8086-exec-6] c.kwok.mapper.TagMapper.getTagsByBlogId  : <==      Total: 3
2022-04-06 11:33:30.474 DEBUG 3480 --- [http-nio-8086-exec-6] c.k.m.BlogMapper.getPreBlogsByTagId      : ==>  Preparing: select b.* from blog b,blog_tag bt where b.id = bt.blog_id and bt.tag_id=? and b.id > ?
2022-04-06 11:33:30.474 DEBUG 3480 --- [http-nio-8086-exec-6] c.k.m.BlogMapper.getPreBlogsByTagId      : ==> Parameters: 2(Integer), 77(Integer)
2022-04-06 11:33:30.477 DEBUG 3480 --- [http-nio-8086-exec-6] c.k.m.BlogMapper.getPreBlogsByTagId      : <==      Total: 5
2022-04-06 11:33:30.478 DEBUG 3480 --- [http-nio-8086-exec-6] c.k.m.BlogMapper.getNextBlogsByTagId     : ==>  Preparing: select b.* from blog b,blog_tag bt where b.id = bt.blog_id and bt.tag_id=? and ? > b.id
2022-04-06 11:33:30.478 DEBUG 3480 --- [http-nio-8086-exec-6] c.k.m.BlogMapper.getNextBlogsByTagId     : ==> Parameters: 2(Integer), 73(Integer)
2022-04-06 11:33:30.481 DEBUG 3480 --- [http-nio-8086-exec-6] c.k.m.BlogMapper.getNextBlogsByTagId     : <==      Total: 6
2022-04-06 11:33:30.481  INFO 3480 --- [http-nio-8086-exec-6] com.kwok.aspect.LogAspect                : Result : tags :: blogList
2022-04-06 11:33:35.548  INFO 3480 --- [http-nio-8086-exec-7] com.kwok.aspect.LogAspect                : Request : {url='http://localhost:8086/tags/topage', ip='0:0:0:0:0:0:0:1', classMethod='com.kwok.controller.TagShowController.searchTopage', args=[org.apache.catalina.connector.RequestFacade@78f772d3, org.apache.catalina.connector.ResponseFacade@5aab1707, {}]}
2022-04-06 11:33:35.548 DEBUG 3480 --- [http-nio-8086-exec-7] com.kwok.mapper.TagMapper.listTag        : ==>  Preparing: select * from tag order by id desc
2022-04-06 11:33:35.548 DEBUG 3480 --- [http-nio-8086-exec-7] com.kwok.mapper.TagMapper.listTag        : ==> Parameters: 
2022-04-06 11:33:35.549 DEBUG 3480 --- [http-nio-8086-exec-7] com.kwok.mapper.TagMapper.listTag        : <==      Total: 14
2022-04-06 11:33:35.549 DEBUG 3480 --- [http-nio-8086-exec-7] com.kwok.mapper.TagMapper.tagCount       : ==>  Preparing: select count(1) as count from blog_tag where tag_id=?
2022-04-06 11:33:35.549 DEBUG 3480 --- [http-nio-8086-exec-7] com.kwok.mapper.TagMapper.tagCount       : ==> Parameters: 14(Integer)
2022-04-06 11:33:35.550 DEBUG 3480 --- [http-nio-8086-exec-7] com.kwok.mapper.TagMapper.tagCount       : <==      Total: 1
2022-04-06 11:33:35.550 DEBUG 3480 --- [http-nio-8086-exec-7] com.kwok.mapper.TagMapper.tagCount       : ==>  Preparing: select count(1) as count from blog_tag where tag_id=?
2022-04-06 11:33:35.550 DEBUG 3480 --- [http-nio-8086-exec-7] com.kwok.mapper.TagMapper.tagCount       : ==> Parameters: 13(Integer)
2022-04-06 11:33:35.550 DEBUG 3480 --- [http-nio-8086-exec-7] com.kwok.mapper.TagMapper.tagCount       : <==      Total: 1
2022-04-06 11:33:35.550 DEBUG 3480 --- [http-nio-8086-exec-7] com.kwok.mapper.TagMapper.tagCount       : ==>  Preparing: select count(1) as count from blog_tag where tag_id=?
2022-04-06 11:33:35.550 DEBUG 3480 --- [http-nio-8086-exec-7] com.kwok.mapper.TagMapper.tagCount       : ==> Parameters: 12(Integer)
2022-04-06 11:33:35.551 DEBUG 3480 --- [http-nio-8086-exec-7] com.kwok.mapper.TagMapper.tagCount       : <==      Total: 1
2022-04-06 11:33:35.551 DEBUG 3480 --- [http-nio-8086-exec-7] com.kwok.mapper.TagMapper.tagCount       : ==>  Preparing: select count(1) as count from blog_tag where tag_id=?
2022-04-06 11:33:35.551 DEBUG 3480 --- [http-nio-8086-exec-7] com.kwok.mapper.TagMapper.tagCount       : ==> Parameters: 11(Integer)
2022-04-06 11:33:35.551 DEBUG 3480 --- [http-nio-8086-exec-7] com.kwok.mapper.TagMapper.tagCount       : <==      Total: 1
2022-04-06 11:33:35.551 DEBUG 3480 --- [http-nio-8086-exec-7] com.kwok.mapper.TagMapper.tagCount       : ==>  Preparing: select count(1) as count from blog_tag where tag_id=?
2022-04-06 11:33:35.552 DEBUG 3480 --- [http-nio-8086-exec-7] com.kwok.mapper.TagMapper.tagCount       : ==> Parameters: 10(Integer)
2022-04-06 11:33:35.552 DEBUG 3480 --- [http-nio-8086-exec-7] com.kwok.mapper.TagMapper.tagCount       : <==      Total: 1
2022-04-06 11:33:35.552 DEBUG 3480 --- [http-nio-8086-exec-7] com.kwok.mapper.TagMapper.tagCount       : ==>  Preparing: select count(1) as count from blog_tag where tag_id=?
2022-04-06 11:33:35.552 DEBUG 3480 --- [http-nio-8086-exec-7] com.kwok.mapper.TagMapper.tagCount       : ==> Parameters: 9(Integer)
2022-04-06 11:33:35.552 DEBUG 3480 --- [http-nio-8086-exec-7] com.kwok.mapper.TagMapper.tagCount       : <==      Total: 1
2022-04-06 11:33:35.553 DEBUG 3480 --- [http-nio-8086-exec-7] com.kwok.mapper.TagMapper.tagCount       : ==>  Preparing: select count(1) as count from blog_tag where tag_id=?
2022-04-06 11:33:35.553 DEBUG 3480 --- [http-nio-8086-exec-7] com.kwok.mapper.TagMapper.tagCount       : ==> Parameters: 8(Integer)
2022-04-06 11:33:35.553 DEBUG 3480 --- [http-nio-8086-exec-7] com.kwok.mapper.TagMapper.tagCount       : <==      Total: 1
2022-04-06 11:33:35.553 DEBUG 3480 --- [http-nio-8086-exec-7] com.kwok.mapper.TagMapper.tagCount       : ==>  Preparing: select count(1) as count from blog_tag where tag_id=?
2022-04-06 11:33:35.553 DEBUG 3480 --- [http-nio-8086-exec-7] com.kwok.mapper.TagMapper.tagCount       : ==> Parameters: 7(Integer)
2022-04-06 11:33:35.554 DEBUG 3480 --- [http-nio-8086-exec-7] com.kwok.mapper.TagMapper.tagCount       : <==      Total: 1
2022-04-06 11:33:35.554 DEBUG 3480 --- [http-nio-8086-exec-7] com.kwok.mapper.TagMapper.tagCount       : ==>  Preparing: select count(1) as count from blog_tag where tag_id=?
2022-04-06 11:33:35.554 DEBUG 3480 --- [http-nio-8086-exec-7] com.kwok.mapper.TagMapper.tagCount       : ==> Parameters: 6(Integer)
2022-04-06 11:33:35.554 DEBUG 3480 --- [http-nio-8086-exec-7] com.kwok.mapper.TagMapper.tagCount       : <==      Total: 1
2022-04-06 11:33:35.554 DEBUG 3480 --- [http-nio-8086-exec-7] com.kwok.mapper.TagMapper.tagCount       : ==>  Preparing: select count(1) as count from blog_tag where tag_id=?
2022-04-06 11:33:35.554 DEBUG 3480 --- [http-nio-8086-exec-7] com.kwok.mapper.TagMapper.tagCount       : ==> Parameters: 5(Integer)
2022-04-06 11:33:35.554 DEBUG 3480 --- [http-nio-8086-exec-7] com.kwok.mapper.TagMapper.tagCount       : <==      Total: 1
2022-04-06 11:33:35.555 DEBUG 3480 --- [http-nio-8086-exec-7] com.kwok.mapper.TagMapper.tagCount       : ==>  Preparing: select count(1) as count from blog_tag where tag_id=?
2022-04-06 11:33:35.555 DEBUG 3480 --- [http-nio-8086-exec-7] com.kwok.mapper.TagMapper.tagCount       : ==> Parameters: 4(Integer)
2022-04-06 11:33:35.555 DEBUG 3480 --- [http-nio-8086-exec-7] com.kwok.mapper.TagMapper.tagCount       : <==      Total: 1
2022-04-06 11:33:35.555 DEBUG 3480 --- [http-nio-8086-exec-7] com.kwok.mapper.TagMapper.tagCount       : ==>  Preparing: select count(1) as count from blog_tag where tag_id=?
2022-04-06 11:33:35.555 DEBUG 3480 --- [http-nio-8086-exec-7] com.kwok.mapper.TagMapper.tagCount       : ==> Parameters: 3(Integer)
2022-04-06 11:33:35.556 DEBUG 3480 --- [http-nio-8086-exec-7] com.kwok.mapper.TagMapper.tagCount       : <==      Total: 1
2022-04-06 11:33:35.556 DEBUG 3480 --- [http-nio-8086-exec-7] com.kwok.mapper.TagMapper.tagCount       : ==>  Preparing: select count(1) as count from blog_tag where tag_id=?
2022-04-06 11:33:35.556 DEBUG 3480 --- [http-nio-8086-exec-7] com.kwok.mapper.TagMapper.tagCount       : ==> Parameters: 2(Integer)
2022-04-06 11:33:35.556 DEBUG 3480 --- [http-nio-8086-exec-7] com.kwok.mapper.TagMapper.tagCount       : <==      Total: 1
2022-04-06 11:33:35.556 DEBUG 3480 --- [http-nio-8086-exec-7] com.kwok.mapper.TagMapper.tagCount       : ==>  Preparing: select count(1) as count from blog_tag where tag_id=?
2022-04-06 11:33:35.557 DEBUG 3480 --- [http-nio-8086-exec-7] com.kwok.mapper.TagMapper.tagCount       : ==> Parameters: 1(Integer)
2022-04-06 11:33:35.557 DEBUG 3480 --- [http-nio-8086-exec-7] com.kwok.mapper.TagMapper.tagCount       : <==      Total: 1
2022-04-06 11:33:35.557 DEBUG 3480 --- [http-nio-8086-exec-7] c.k.m.BlogMapper.getBlogCountByTagId     : ==>  Preparing: select count(1) as count from blog_tag where tag_id = ?
2022-04-06 11:33:35.557 DEBUG 3480 --- [http-nio-8086-exec-7] c.k.m.BlogMapper.getBlogCountByTagId     : ==> Parameters: 2(Integer)
2022-04-06 11:33:35.558 DEBUG 3480 --- [http-nio-8086-exec-7] c.k.m.BlogMapper.getBlogCountByTagId     : <==      Total: 1
2022-04-06 11:33:35.558 DEBUG 3480 --- [http-nio-8086-exec-7] c.k.m.BlogMapper.getBlogListByTagId      : ==>  Preparing: select b.*,bt.tag_id,t.name from blog b,blog_tag bt,tag t where bt.blog_id=b.id and bt.tag_id=t.id and bt.tag_id=? order by b.id desc limit ?,?
2022-04-06 11:33:35.559 DEBUG 3480 --- [http-nio-8086-exec-7] c.k.m.BlogMapper.getBlogListByTagId      : ==> Parameters: 2(Integer), 10(Integer), 5(Integer)
2022-04-06 11:33:35.562 DEBUG 3480 --- [http-nio-8086-exec-7] c.k.m.BlogMapper.getBlogListByTagId      : <==      Total: 5
2022-04-06 11:33:35.562 DEBUG 3480 --- [http-nio-8086-exec-7] com.kwok.mapper.TypeMapper.getTypeById   : ==>  Preparing: select * from type where id = ?
2022-04-06 11:33:35.562 DEBUG 3480 --- [http-nio-8086-exec-7] com.kwok.mapper.TypeMapper.getTypeById   : ==> Parameters: 6(Integer)
2022-04-06 11:33:35.563 DEBUG 3480 --- [http-nio-8086-exec-7] com.kwok.mapper.TypeMapper.getTypeById   : <==      Total: 1
2022-04-06 11:33:35.563 DEBUG 3480 --- [http-nio-8086-exec-7] c.kwok.mapper.TagMapper.getTagsByBlogId  : ==>  Preparing: select t.* from tag t,blog_tag bt where t.id=bt.tag_id and bt.blog_id=?
2022-04-06 11:33:35.563 DEBUG 3480 --- [http-nio-8086-exec-7] c.kwok.mapper.TagMapper.getTagsByBlogId  : ==> Parameters: 72(Integer)
2022-04-06 11:33:35.564 DEBUG 3480 --- [http-nio-8086-exec-7] c.kwok.mapper.TagMapper.getTagsByBlogId  : <==      Total: 3
2022-04-06 11:33:35.564 DEBUG 3480 --- [http-nio-8086-exec-7] com.kwok.mapper.TypeMapper.getTypeById   : ==>  Preparing: select * from type where id = ?
2022-04-06 11:33:35.564 DEBUG 3480 --- [http-nio-8086-exec-7] com.kwok.mapper.TypeMapper.getTypeById   : ==> Parameters: 6(Integer)
2022-04-06 11:33:35.565 DEBUG 3480 --- [http-nio-8086-exec-7] com.kwok.mapper.TypeMapper.getTypeById   : <==      Total: 1
2022-04-06 11:33:35.565 DEBUG 3480 --- [http-nio-8086-exec-7] c.kwok.mapper.TagMapper.getTagsByBlogId  : ==>  Preparing: select t.* from tag t,blog_tag bt where t.id=bt.tag_id and bt.blog_id=?
2022-04-06 11:33:35.565 DEBUG 3480 --- [http-nio-8086-exec-7] c.kwok.mapper.TagMapper.getTagsByBlogId  : ==> Parameters: 71(Integer)
2022-04-06 11:33:35.565 DEBUG 3480 --- [http-nio-8086-exec-7] c.kwok.mapper.TagMapper.getTagsByBlogId  : <==      Total: 3
2022-04-06 11:33:35.565 DEBUG 3480 --- [http-nio-8086-exec-7] com.kwok.mapper.TypeMapper.getTypeById   : ==>  Preparing: select * from type where id = ?
2022-04-06 11:33:35.566 DEBUG 3480 --- [http-nio-8086-exec-7] com.kwok.mapper.TypeMapper.getTypeById   : ==> Parameters: 6(Integer)
2022-04-06 11:33:35.566 DEBUG 3480 --- [http-nio-8086-exec-7] com.kwok.mapper.TypeMapper.getTypeById   : <==      Total: 1
2022-04-06 11:33:35.566 DEBUG 3480 --- [http-nio-8086-exec-7] c.kwok.mapper.TagMapper.getTagsByBlogId  : ==>  Preparing: select t.* from tag t,blog_tag bt where t.id=bt.tag_id and bt.blog_id=?
2022-04-06 11:33:35.566 DEBUG 3480 --- [http-nio-8086-exec-7] c.kwok.mapper.TagMapper.getTagsByBlogId  : ==> Parameters: 70(Integer)
2022-04-06 11:33:35.567 DEBUG 3480 --- [http-nio-8086-exec-7] c.kwok.mapper.TagMapper.getTagsByBlogId  : <==      Total: 3
2022-04-06 11:33:35.567 DEBUG 3480 --- [http-nio-8086-exec-7] com.kwok.mapper.TypeMapper.getTypeById   : ==>  Preparing: select * from type where id = ?
2022-04-06 11:33:35.567 DEBUG 3480 --- [http-nio-8086-exec-7] com.kwok.mapper.TypeMapper.getTypeById   : ==> Parameters: 6(Integer)
2022-04-06 11:33:35.568 DEBUG 3480 --- [http-nio-8086-exec-7] com.kwok.mapper.TypeMapper.getTypeById   : <==      Total: 1
2022-04-06 11:33:35.568 DEBUG 3480 --- [http-nio-8086-exec-7] c.kwok.mapper.TagMapper.getTagsByBlogId  : ==>  Preparing: select t.* from tag t,blog_tag bt where t.id=bt.tag_id and bt.blog_id=?
2022-04-06 11:33:35.568 DEBUG 3480 --- [http-nio-8086-exec-7] c.kwok.mapper.TagMapper.getTagsByBlogId  : ==> Parameters: 69(Integer)
2022-04-06 11:33:35.568 DEBUG 3480 --- [http-nio-8086-exec-7] c.kwok.mapper.TagMapper.getTagsByBlogId  : <==      Total: 3
2022-04-06 11:33:35.569 DEBUG 3480 --- [http-nio-8086-exec-7] com.kwok.mapper.TypeMapper.getTypeById   : ==>  Preparing: select * from type where id = ?
2022-04-06 11:33:35.569 DEBUG 3480 --- [http-nio-8086-exec-7] com.kwok.mapper.TypeMapper.getTypeById   : ==> Parameters: 6(Integer)
2022-04-06 11:33:35.569 DEBUG 3480 --- [http-nio-8086-exec-7] com.kwok.mapper.TypeMapper.getTypeById   : <==      Total: 1
2022-04-06 11:33:35.569 DEBUG 3480 --- [http-nio-8086-exec-7] c.kwok.mapper.TagMapper.getTagsByBlogId  : ==>  Preparing: select t.* from tag t,blog_tag bt where t.id=bt.tag_id and bt.blog_id=?
2022-04-06 11:33:35.569 DEBUG 3480 --- [http-nio-8086-exec-7] c.kwok.mapper.TagMapper.getTagsByBlogId  : ==> Parameters: 68(Integer)
2022-04-06 11:33:35.570 DEBUG 3480 --- [http-nio-8086-exec-7] c.kwok.mapper.TagMapper.getTagsByBlogId  : <==      Total: 3
2022-04-06 11:33:35.570 DEBUG 3480 --- [http-nio-8086-exec-7] c.k.m.BlogMapper.getPreBlogsByTagId      : ==>  Preparing: select b.* from blog b,blog_tag bt where b.id = bt.blog_id and bt.tag_id=? and b.id > ?
2022-04-06 11:33:35.570 DEBUG 3480 --- [http-nio-8086-exec-7] c.k.m.BlogMapper.getPreBlogsByTagId      : ==> Parameters: 2(Integer), 72(Integer)
2022-04-06 11:33:35.576 DEBUG 3480 --- [http-nio-8086-exec-7] c.k.m.BlogMapper.getPreBlogsByTagId      : <==      Total: 10
2022-04-06 11:33:35.576 DEBUG 3480 --- [http-nio-8086-exec-7] c.k.m.BlogMapper.getNextBlogsByTagId     : ==>  Preparing: select b.* from blog b,blog_tag bt where b.id = bt.blog_id and bt.tag_id=? and ? > b.id
2022-04-06 11:33:35.576 DEBUG 3480 --- [http-nio-8086-exec-7] c.k.m.BlogMapper.getNextBlogsByTagId     : ==> Parameters: 2(Integer), 68(Integer)
2022-04-06 11:33:35.577 DEBUG 3480 --- [http-nio-8086-exec-7] c.k.m.BlogMapper.getNextBlogsByTagId     : <==      Total: 1
2022-04-06 11:33:35.578  INFO 3480 --- [http-nio-8086-exec-7] com.kwok.aspect.LogAspect                : Result : tags :: blogList
2022-04-06 11:33:42.092  INFO 3480 --- [http-nio-8086-exec-1] com.kwok.aspect.LogAspect                : Request : {url='http://localhost:8086/blog/72', ip='0:0:0:0:0:0:0:1', classMethod='com.kwok.controller.IndexController.blog', args=[72, {}]}
2022-04-06 11:33:42.093 DEBUG 3480 --- [http-nio-8086-exec-1] com.kwok.mapper.BlogMapper.getBlogById   : ==>  Preparing: select * from blog where id = ?
2022-04-06 11:33:42.093 DEBUG 3480 --- [http-nio-8086-exec-1] com.kwok.mapper.BlogMapper.getBlogById   : ==> Parameters: 72(Integer)
2022-04-06 11:33:42.094 DEBUG 3480 --- [http-nio-8086-exec-1] com.kwok.mapper.BlogMapper.getBlogById   : <==      Total: 1
2022-04-06 11:33:42.095 DEBUG 3480 --- [http-nio-8086-exec-1] c.k.mapper.BlogMapper.updateBlogViews    : ==>  Preparing: update blog set views=? where id = ?
2022-04-06 11:33:42.095 DEBUG 3480 --- [http-nio-8086-exec-1] c.k.mapper.BlogMapper.updateBlogViews    : ==> Parameters: 3(Integer), 72(Integer)
2022-04-06 11:33:42.097 DEBUG 3480 --- [http-nio-8086-exec-1] c.k.mapper.BlogMapper.updateBlogViews    : <==    Updates: 1
2022-04-06 11:33:42.101 DEBUG 3480 --- [http-nio-8086-exec-1] com.kwok.mapper.BlogMapper.getBlogById   : ==>  Preparing: select * from blog where id = ?
2022-04-06 11:33:42.101 DEBUG 3480 --- [http-nio-8086-exec-1] com.kwok.mapper.BlogMapper.getBlogById   : ==> Parameters: 72(Integer)
2022-04-06 11:33:42.103 DEBUG 3480 --- [http-nio-8086-exec-1] com.kwok.mapper.BlogMapper.getBlogById   : <==      Total: 1
2022-04-06 11:33:42.105 DEBUG 3480 --- [http-nio-8086-exec-1] c.k.m.BlogtagMapper.getTagIdByBlogId     : ==>  Preparing: select * from blog_tag where blog_id = ?
2022-04-06 11:33:42.105 DEBUG 3480 --- [http-nio-8086-exec-1] c.k.m.BlogtagMapper.getTagIdByBlogId     : ==> Parameters: 72(Integer)
2022-04-06 11:33:42.106 DEBUG 3480 --- [http-nio-8086-exec-1] c.k.m.BlogtagMapper.getTagIdByBlogId     : <==      Total: 3
2022-04-06 11:33:42.107 DEBUG 3480 --- [http-nio-8086-exec-1] com.kwok.mapper.TagMapper.getShowTags    : ==>  Preparing: select * from tag where id in ( ? , ? , ? )
2022-04-06 11:33:42.107 DEBUG 3480 --- [http-nio-8086-exec-1] com.kwok.mapper.TagMapper.getShowTags    : ==> Parameters: 11(Integer), 2(Integer), 4(Integer)
2022-04-06 11:33:42.108 DEBUG 3480 --- [http-nio-8086-exec-1] com.kwok.mapper.TagMapper.getShowTags    : <==      Total: 3
2022-04-06 11:33:42.108  INFO 3480 --- [http-nio-8086-exec-1] com.kwok.aspect.LogAspect                : Result : blog
2022-04-06 11:33:42.670  INFO 3480 --- [http-nio-8086-exec-5] com.kwok.aspect.LogAspect                : Request : {url='http://localhost:8086/comments/72', ip='0:0:0:0:0:0:0:1', classMethod='com.kwok.controller.CommentController.comments', args=[72, {}]}
2022-04-06 11:33:42.670 DEBUG 3480 --- [http-nio-8086-exec-5] c.k.m.CommentMapper.listCommentByBlogId  : ==>  Preparing: select * from comment where blog_id = ? and parent_id = 0 order by creat_time asc
2022-04-06 11:33:42.670 DEBUG 3480 --- [http-nio-8086-exec-5] c.k.m.CommentMapper.listCommentByBlogId  : ==> Parameters: 72(Integer)
2022-04-06 11:33:42.671 DEBUG 3480 --- [http-nio-8086-exec-5] c.k.m.CommentMapper.listCommentByBlogId  : <==      Total: 0
2022-04-06 11:33:42.671  INFO 3480 --- [http-nio-8086-exec-5] com.kwok.aspect.LogAspect                : Result : blog :: commentList
2022-04-06 11:33:59.127  INFO 3480 --- [http-nio-8086-exec-2] com.kwok.aspect.LogAspect                : Request : {url='http://localhost:8086/blog/72', ip='0:0:0:0:0:0:0:1', classMethod='com.kwok.controller.IndexController.blog', args=[72, {}]}
2022-04-06 11:33:59.128 DEBUG 3480 --- [http-nio-8086-exec-2] com.kwok.mapper.BlogMapper.getBlogById   : ==>  Preparing: select * from blog where id = ?
2022-04-06 11:33:59.128 DEBUG 3480 --- [http-nio-8086-exec-2] com.kwok.mapper.BlogMapper.getBlogById   : ==> Parameters: 72(Integer)
2022-04-06 11:33:59.129 DEBUG 3480 --- [http-nio-8086-exec-2] com.kwok.mapper.BlogMapper.getBlogById   : <==      Total: 1
2022-04-06 11:33:59.129 DEBUG 3480 --- [http-nio-8086-exec-2] c.k.mapper.BlogMapper.updateBlogViews    : ==>  Preparing: update blog set views=? where id = ?
2022-04-06 11:33:59.129 DEBUG 3480 --- [http-nio-8086-exec-2] c.k.mapper.BlogMapper.updateBlogViews    : ==> Parameters: 4(Integer), 72(Integer)
2022-04-06 11:33:59.130 DEBUG 3480 --- [http-nio-8086-exec-2] c.k.mapper.BlogMapper.updateBlogViews    : <==    Updates: 1
2022-04-06 11:33:59.132 DEBUG 3480 --- [http-nio-8086-exec-2] com.kwok.mapper.BlogMapper.getBlogById   : ==>  Preparing: select * from blog where id = ?
2022-04-06 11:33:59.133 DEBUG 3480 --- [http-nio-8086-exec-2] com.kwok.mapper.BlogMapper.getBlogById   : ==> Parameters: 72(Integer)
2022-04-06 11:33:59.134 DEBUG 3480 --- [http-nio-8086-exec-2] com.kwok.mapper.BlogMapper.getBlogById   : <==      Total: 1
2022-04-06 11:33:59.135 DEBUG 3480 --- [http-nio-8086-exec-2] c.k.m.BlogtagMapper.getTagIdByBlogId     : ==>  Preparing: select * from blog_tag where blog_id = ?
2022-04-06 11:33:59.135 DEBUG 3480 --- [http-nio-8086-exec-2] c.k.m.BlogtagMapper.getTagIdByBlogId     : ==> Parameters: 72(Integer)
2022-04-06 11:33:59.136 DEBUG 3480 --- [http-nio-8086-exec-2] c.k.m.BlogtagMapper.getTagIdByBlogId     : <==      Total: 3
2022-04-06 11:33:59.136 DEBUG 3480 --- [http-nio-8086-exec-2] com.kwok.mapper.TagMapper.getShowTags    : ==>  Preparing: select * from tag where id in ( ? , ? , ? )
2022-04-06 11:33:59.136 DEBUG 3480 --- [http-nio-8086-exec-2] com.kwok.mapper.TagMapper.getShowTags    : ==> Parameters: 11(Integer), 2(Integer), 4(Integer)
2022-04-06 11:33:59.137 DEBUG 3480 --- [http-nio-8086-exec-2] com.kwok.mapper.TagMapper.getShowTags    : <==      Total: 3
2022-04-06 11:33:59.137  INFO 3480 --- [http-nio-8086-exec-2] com.kwok.aspect.LogAspect                : Result : blog
2022-04-06 11:33:59.520  INFO 3480 --- [http-nio-8086-exec-4] com.kwok.aspect.LogAspect                : Request : {url='http://localhost:8086/comments/72', ip='0:0:0:0:0:0:0:1', classMethod='com.kwok.controller.CommentController.comments', args=[72, {}]}
2022-04-06 11:33:59.520 DEBUG 3480 --- [http-nio-8086-exec-4] c.k.m.CommentMapper.listCommentByBlogId  : ==>  Preparing: select * from comment where blog_id = ? and parent_id = 0 order by creat_time asc
2022-04-06 11:33:59.520 DEBUG 3480 --- [http-nio-8086-exec-4] c.k.m.CommentMapper.listCommentByBlogId  : ==> Parameters: 72(Integer)
2022-04-06 11:33:59.521 DEBUG 3480 --- [http-nio-8086-exec-4] c.k.m.CommentMapper.listCommentByBlogId  : <==      Total: 0
2022-04-06 11:33:59.521  INFO 3480 --- [http-nio-8086-exec-4] com.kwok.aspect.LogAspect                : Result : blog :: commentList
2022-04-06 11:35:22.334  INFO 3480 --- [http-nio-8086-exec-2] com.kwok.aspect.LogAspect                : Request : {url='http://localhost:8086/', ip='0:0:0:0:0:0:0:1', classMethod='com.kwok.controller.IndexController.enter', args=[{}]}
2022-04-06 11:35:22.335 DEBUG 3480 --- [http-nio-8086-exec-2] com.kwok.mapper.BlogMapper.listHotBlog   : ==>  Preparing: select * from blog order by views desc
2022-04-06 11:35:22.335 DEBUG 3480 --- [http-nio-8086-exec-2] com.kwok.mapper.BlogMapper.listHotBlog   : ==> Parameters: 
2022-04-06 11:35:22.370 DEBUG 3480 --- [http-nio-8086-exec-2] com.kwok.mapper.BlogMapper.listHotBlog   : <==      Total: 92
2022-04-06 11:35:22.370  INFO 3480 --- [http-nio-8086-exec-2] com.kwok.aspect.LogAspect                : Result : enter
2022-04-06 11:35:40.493  INFO 3480 --- [http-nio-8086-exec-8] com.kwok.aspect.LogAspect                : Request : {url='http://localhost:8086/', ip='0:0:0:0:0:0:0:1', classMethod='com.kwok.controller.IndexController.enter', args=[{}]}
2022-04-06 11:35:40.494 DEBUG 3480 --- [http-nio-8086-exec-8] com.kwok.mapper.BlogMapper.listHotBlog   : ==>  Preparing: select * from blog order by views desc
2022-04-06 11:35:40.494 DEBUG 3480 --- [http-nio-8086-exec-8] com.kwok.mapper.BlogMapper.listHotBlog   : ==> Parameters: 
2022-04-06 11:35:40.529 DEBUG 3480 --- [http-nio-8086-exec-8] com.kwok.mapper.BlogMapper.listHotBlog   : <==      Total: 92
2022-04-06 11:35:40.529  INFO 3480 --- [http-nio-8086-exec-8] com.kwok.aspect.LogAspect                : Result : enter
2022-04-06 11:35:44.766  INFO 3480 --- [http-nio-8086-exec-6] com.kwok.aspect.LogAspect                : Request : {url='http://localhost:8086/', ip='0:0:0:0:0:0:0:1', classMethod='com.kwok.controller.IndexController.enter', args=[{}]}
2022-04-06 11:35:44.767 DEBUG 3480 --- [http-nio-8086-exec-6] com.kwok.mapper.BlogMapper.listHotBlog   : ==>  Preparing: select * from blog order by views desc
2022-04-06 11:35:44.767 DEBUG 3480 --- [http-nio-8086-exec-6] com.kwok.mapper.BlogMapper.listHotBlog   : ==> Parameters: 
2022-04-06 11:35:44.802 DEBUG 3480 --- [http-nio-8086-exec-6] com.kwok.mapper.BlogMapper.listHotBlog   : <==      Total: 92
2022-04-06 11:35:44.802  INFO 3480 --- [http-nio-8086-exec-6] com.kwok.aspect.LogAspect                : Result : enter
2022-04-06 11:36:10.722  INFO 3480 --- [http-nio-8086-exec-2] com.kwok.aspect.LogAspect                : Request : {url='http://localhost:8086/about', ip='0:0:0:0:0:0:0:1', classMethod='com.kwok.controller.AboutShowController.archives', args=[]}
2022-04-06 11:36:10.722  INFO 3480 --- [http-nio-8086-exec-2] com.kwok.aspect.LogAspect                : Result : about
2022-04-06 11:37:26.844  INFO 12628 --- [restartedMain] com.kwok.MyblogApplication               : Starting MyblogApplication using Java 11.0.6 on LAPTOP-RAL81HPH with PID 12628 (E:\a-IdeaProjects\JavaWebProjects\myblog\target\classes started by Mr Kwok in E:\a-IdeaProjects\JavaWebProjects\myblog)
2022-04-06 11:37:26.845 DEBUG 12628 --- [restartedMain] com.kwok.MyblogApplication               : Running with Spring Boot v2.6.1, Spring v5.3.13
2022-04-06 11:37:26.845  INFO 12628 --- [restartedMain] com.kwok.MyblogApplication               : The following profiles are active: dev
2022-04-06 11:37:26.889  INFO 12628 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2022-04-06 11:37:26.889  INFO 12628 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2022-04-06 11:37:27.405  INFO 12628 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-04-06 11:37:27.418  INFO 12628 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 8 ms. Found 0 JPA repository interfaces.
2022-04-06 11:37:27.936  INFO 12628 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8086 (http)
2022-04-06 11:37:27.943  INFO 12628 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2022-04-06 11:37:27.943  INFO 12628 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.55]
2022-04-06 11:37:28.004  INFO 12628 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2022-04-06 11:37:28.004  INFO 12628 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1115 ms
2022-04-06 11:37:28.139  INFO 12628 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2022-04-06 11:37:28.346  INFO 12628 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2022-04-06 11:37:28.378  INFO 12628 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2022-04-06 11:37:28.415  INFO 12628 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.1.Final
2022-04-06 11:37:28.498  INFO 12628 --- [restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-04-06 11:37:28.562  INFO 12628 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2022-04-06 11:37:28.653  INFO 12628 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-04-06 11:37:28.659  INFO 12628 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-04-06 11:37:28.969  WARN 12628 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-04-06 11:37:29.226  INFO 12628 --- [restartedMain] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page template: index
2022-04-06 11:37:29.490  INFO 12628 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2022-04-06 11:37:29.533  INFO 12628 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-04-06 11:37:29.534  INFO 12628 --- [restartedMain] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2022-04-06 11:37:29.534  INFO 12628 --- [restartedMain] o.s.web.servlet.DispatcherServlet        : Completed initialization in 0 ms
2022-04-06 11:37:29.535  INFO 12628 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8086 (http) with context path ''
2022-04-06 11:37:29.545  INFO 12628 --- [restartedMain] com.kwok.MyblogApplication               : Started MyblogApplication in 3.148 seconds (JVM running for 4.185)
2022-04-06 11:37:32.441  INFO 12628 --- [http-nio-8086-exec-1] com.kwok.aspect.LogAspect                : Request : {url='http://localhost:8086/blog/72', ip='0:0:0:0:0:0:0:1', classMethod='com.kwok.controller.IndexController.blog', args=[72, {}]}
2022-04-06 11:37:32.473 DEBUG 12628 --- [http-nio-8086-exec-1] com.kwok.mapper.BlogMapper.getBlogById   : ==>  Preparing: select * from blog where id = ?
2022-04-06 11:37:32.491 DEBUG 12628 --- [http-nio-8086-exec-1] com.kwok.mapper.BlogMapper.getBlogById   : ==> Parameters: 72(Integer)
2022-04-06 11:37:32.508 DEBUG 12628 --- [http-nio-8086-exec-1] com.kwok.mapper.BlogMapper.getBlogById   : <==      Total: 1
2022-04-06 11:37:32.510 DEBUG 12628 --- [http-nio-8086-exec-1] c.k.mapper.BlogMapper.updateBlogViews    : ==>  Preparing: update blog set views=? where id = ?
2022-04-06 11:37:32.510 DEBUG 12628 --- [http-nio-8086-exec-1] c.k.mapper.BlogMapper.updateBlogViews    : ==> Parameters: 21(Integer), 72(Integer)
2022-04-06 11:37:32.513 DEBUG 12628 --- [http-nio-8086-exec-1] c.k.mapper.BlogMapper.updateBlogViews    : <==    Updates: 1
2022-04-06 11:37:32.524 DEBUG 12628 --- [http-nio-8086-exec-1] com.kwok.mapper.BlogMapper.getBlogById   : ==>  Preparing: select * from blog where id = ?
2022-04-06 11:37:32.524 DEBUG 12628 --- [http-nio-8086-exec-1] com.kwok.mapper.BlogMapper.getBlogById   : ==> Parameters: 72(Integer)
2022-04-06 11:37:32.527 DEBUG 12628 --- [http-nio-8086-exec-1] com.kwok.mapper.BlogMapper.getBlogById   : <==      Total: 1
2022-04-06 11:37:32.562 DEBUG 12628 --- [http-nio-8086-exec-1] c.k.m.BlogtagMapper.getTagIdByBlogId     : ==>  Preparing: select * from blog_tag where blog_id = ?
2022-04-06 11:37:32.563 DEBUG 12628 --- [http-nio-8086-exec-1] c.k.m.BlogtagMapper.getTagIdByBlogId     : ==> Parameters: 72(Integer)
2022-04-06 11:37:32.564 DEBUG 12628 --- [http-nio-8086-exec-1] c.k.m.BlogtagMapper.getTagIdByBlogId     : <==      Total: 3
2022-04-06 11:37:32.576 DEBUG 12628 --- [http-nio-8086-exec-1] com.kwok.mapper.TagMapper.getShowTags    : ==>  Preparing: select * from tag where id in ( ? , ? , ? )
2022-04-06 11:37:32.576 DEBUG 12628 --- [http-nio-8086-exec-1] com.kwok.mapper.TagMapper.getShowTags    : ==> Parameters: 11(Integer), 2(Integer), 4(Integer)
2022-04-06 11:37:32.578 DEBUG 12628 --- [http-nio-8086-exec-1] com.kwok.mapper.TagMapper.getShowTags    : <==      Total: 3
2022-04-06 11:37:32.578  INFO 12628 --- [http-nio-8086-exec-1] com.kwok.aspect.LogAspect                : Result : blog
2022-04-06 11:37:33.251  INFO 12628 --- [http-nio-8086-exec-2] com.kwok.aspect.LogAspect                : Request : {url='http://localhost:8086/comments/72', ip='0:0:0:0:0:0:0:1', classMethod='com.kwok.controller.CommentController.comments', args=[72, {}]}
2022-04-06 11:37:33.255 DEBUG 12628 --- [http-nio-8086-exec-2] c.k.m.CommentMapper.listCommentByBlogId  : ==>  Preparing: select * from comment where blog_id = ? and parent_id = 0 order by creat_time asc
2022-04-06 11:37:33.256 DEBUG 12628 --- [http-nio-8086-exec-2] c.k.m.CommentMapper.listCommentByBlogId  : ==> Parameters: 72(Integer)
2022-04-06 11:37:33.257 DEBUG 12628 --- [http-nio-8086-exec-2] c.k.m.CommentMapper.listCommentByBlogId  : <==      Total: 0
2022-04-06 11:37:33.258  INFO 12628 --- [http-nio-8086-exec-2] com.kwok.aspect.LogAspect                : Result : blog :: commentList
2022-04-06 11:37:34.903  INFO 12628 --- [http-nio-8086-exec-6] com.kwok.aspect.LogAspect                : Request : {url='http://localhost:8086/blog/80', ip='0:0:0:0:0:0:0:1', classMethod='com.kwok.controller.IndexController.blog', args=[80, {}]}
2022-04-06 11:37:34.904 DEBUG 12628 --- [http-nio-8086-exec-6] com.kwok.mapper.BlogMapper.getBlogById   : ==>  Preparing: select * from blog where id = ?
2022-04-06 11:37:34.905 DEBUG 12628 --- [http-nio-8086-exec-6] com.kwok.mapper.BlogMapper.getBlogById   : ==> Parameters: 80(Integer)
2022-04-06 11:37:34.908 DEBUG 12628 --- [http-nio-8086-exec-6] com.kwok.mapper.BlogMapper.getBlogById   : <==      Total: 1
2022-04-06 11:37:34.908 DEBUG 12628 --- [http-nio-8086-exec-6] c.k.mapper.BlogMapper.updateBlogViews    : ==>  Preparing: update blog set views=? where id = ?
2022-04-06 11:37:34.908 DEBUG 12628 --- [http-nio-8086-exec-6] c.k.mapper.BlogMapper.updateBlogViews    : ==> Parameters: 4(Integer), 80(Integer)
2022-04-06 11:37:34.909 DEBUG 12628 --- [http-nio-8086-exec-6] c.k.mapper.BlogMapper.updateBlogViews    : <==    Updates: 1
2022-04-06 11:37:34.916 DEBUG 12628 --- [http-nio-8086-exec-6] com.kwok.mapper.BlogMapper.getBlogById   : ==>  Preparing: select * from blog where id = ?
2022-04-06 11:37:34.917 DEBUG 12628 --- [http-nio-8086-exec-6] com.kwok.mapper.BlogMapper.getBlogById   : ==> Parameters: 80(Integer)
2022-04-06 11:37:34.919 DEBUG 12628 --- [http-nio-8086-exec-6] com.kwok.mapper.BlogMapper.getBlogById   : <==      Total: 1
2022-04-06 11:37:34.923 DEBUG 12628 --- [http-nio-8086-exec-6] c.k.m.BlogtagMapper.getTagIdByBlogId     : ==>  Preparing: select * from blog_tag where blog_id = ?
2022-04-06 11:37:34.924 DEBUG 12628 --- [http-nio-8086-exec-6] c.k.m.BlogtagMapper.getTagIdByBlogId     : ==> Parameters: 80(Integer)
2022-04-06 11:37:34.925 DEBUG 12628 --- [http-nio-8086-exec-6] c.k.m.BlogtagMapper.getTagIdByBlogId     : <==      Total: 3
2022-04-06 11:37:34.925 DEBUG 12628 --- [http-nio-8086-exec-6] com.kwok.mapper.TagMapper.getShowTags    : ==>  Preparing: select * from tag where id in ( ? , ? , ? )
2022-04-06 11:37:34.926 DEBUG 12628 --- [http-nio-8086-exec-6] com.kwok.mapper.TagMapper.getShowTags    : ==> Parameters: 11(Integer), 2(Integer), 4(Integer)
2022-04-06 11:37:34.927 DEBUG 12628 --- [http-nio-8086-exec-6] com.kwok.mapper.TagMapper.getShowTags    : <==      Total: 3
2022-04-06 11:37:34.927  INFO 12628 --- [http-nio-8086-exec-6] com.kwok.aspect.LogAspect                : Result : blog
2022-04-06 11:37:35.366  INFO 12628 --- [http-nio-8086-exec-9] com.kwok.aspect.LogAspect                : Request : {url='http://localhost:8086/comments/80', ip='0:0:0:0:0:0:0:1', classMethod='com.kwok.controller.CommentController.comments', args=[80, {}]}
2022-04-06 11:37:35.366 DEBUG 12628 --- [http-nio-8086-exec-9] c.k.m.CommentMapper.listCommentByBlogId  : ==>  Preparing: select * from comment where blog_id = ? and parent_id = 0 order by creat_time asc
2022-04-06 11:37:35.366 DEBUG 12628 --- [http-nio-8086-exec-9] c.k.m.CommentMapper.listCommentByBlogId  : ==> Parameters: 80(Integer)
2022-04-06 11:37:35.367 DEBUG 12628 --- [http-nio-8086-exec-9] c.k.m.CommentMapper.listCommentByBlogId  : <==      Total: 0
2022-04-06 11:37:35.368  INFO 12628 --- [http-nio-8086-exec-9] com.kwok.aspect.LogAspect                : Result : blog :: commentList
2022-04-06 11:37:41.572  INFO 12628 --- [http-nio-8086-exec-3] com.kwok.aspect.LogAspect                : Request : {url='http://localhost:8086/about', ip='0:0:0:0:0:0:0:1', classMethod='com.kwok.controller.AboutShowController.archives', args=[]}
2022-04-06 11:37:41.573  INFO 12628 --- [http-nio-8086-exec-3] com.kwok.aspect.LogAspect                : Result : about
2022-04-06 11:38:22.655  INFO 17844 --- [restartedMain] com.kwok.MyblogApplication               : Starting MyblogApplication using Java 11.0.6 on LAPTOP-RAL81HPH with PID 17844 (E:\a-IdeaProjects\JavaWebProjects\myblog\target\classes started by Mr Kwok in E:\a-IdeaProjects\JavaWebProjects\myblog)
2022-04-06 11:38:22.655 DEBUG 17844 --- [restartedMain] com.kwok.MyblogApplication               : Running with Spring Boot v2.6.1, Spring v5.3.13
2022-04-06 11:38:22.656  INFO 17844 --- [restartedMain] com.kwok.MyblogApplication               : The following profiles are active: dev
2022-04-06 11:38:22.689  INFO 17844 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2022-04-06 11:38:22.689  INFO 17844 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2022-04-06 11:38:23.173  INFO 17844 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-04-06 11:38:23.186  INFO 17844 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 7 ms. Found 0 JPA repository interfaces.
2022-04-06 11:38:23.700  INFO 17844 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8086 (http)
2022-04-06 11:38:23.708  INFO 17844 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2022-04-06 11:38:23.708  INFO 17844 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.55]
2022-04-06 11:38:23.774  INFO 17844 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2022-04-06 11:38:23.774  INFO 17844 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1084 ms
2022-04-06 11:38:23.899  INFO 17844 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2022-04-06 11:38:24.107  INFO 17844 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2022-04-06 11:38:24.138  INFO 17844 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2022-04-06 11:38:24.162  INFO 17844 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.1.Final
2022-04-06 11:38:24.239  INFO 17844 --- [restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-04-06 11:38:24.304  INFO 17844 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2022-04-06 11:38:24.393  INFO 17844 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-04-06 11:38:24.399  INFO 17844 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-04-06 11:38:24.696  WARN 17844 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-04-06 11:38:24.933  INFO 17844 --- [restartedMain] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page template: index
2022-04-06 11:38:25.190  INFO 17844 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2022-04-06 11:38:25.234  INFO 17844 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-04-06 11:38:25.234  INFO 17844 --- [restartedMain] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2022-04-06 11:38:25.238  INFO 17844 --- [restartedMain] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms
2022-04-06 11:38:25.239  INFO 17844 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8086 (http) with context path ''
2022-04-06 11:38:25.249  INFO 17844 --- [restartedMain] com.kwok.MyblogApplication               : Started MyblogApplication in 3.066 seconds (JVM running for 4.051)
2022-04-06 11:38:31.071  INFO 17844 --- [http-nio-8086-exec-1] com.kwok.aspect.LogAspect                : Request : {url='http://localhost:8086/about', ip='0:0:0:0:0:0:0:1', classMethod='com.kwok.controller.AboutShowController.archives', args=[]}
2022-04-06 11:38:31.082  INFO 17844 --- [http-nio-8086-exec-1] com.kwok.aspect.LogAspect                : Result : about
2022-04-06 11:38:59.630  INFO 19428 --- [restartedMain] com.kwok.MyblogApplication               : Starting MyblogApplication using Java 11.0.6 on LAPTOP-RAL81HPH with PID 19428 (E:\a-IdeaProjects\JavaWebProjects\myblog\target\classes started by Mr Kwok in E:\a-IdeaProjects\JavaWebProjects\myblog)
2022-04-06 11:38:59.631 DEBUG 19428 --- [restartedMain] com.kwok.MyblogApplication               : Running with Spring Boot v2.6.1, Spring v5.3.13
2022-04-06 11:38:59.632  INFO 19428 --- [restartedMain] com.kwok.MyblogApplication               : The following profiles are active: dev
2022-04-06 11:38:59.672  INFO 19428 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2022-04-06 11:38:59.672  INFO 19428 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2022-04-06 11:39:00.332  INFO 19428 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-04-06 11:39:00.346  INFO 19428 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 9 ms. Found 0 JPA repository interfaces.
2022-04-06 11:39:00.940  INFO 19428 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8086 (http)
2022-04-06 11:39:00.948  INFO 19428 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2022-04-06 11:39:00.949  INFO 19428 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.55]
2022-04-06 11:39:01.011  INFO 19428 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2022-04-06 11:39:01.011  INFO 19428 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1338 ms
2022-04-06 11:39:01.149  INFO 19428 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2022-04-06 11:39:01.362  INFO 19428 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2022-04-06 11:39:01.394  INFO 19428 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2022-04-06 11:39:01.422  INFO 19428 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.1.Final
2022-04-06 11:39:01.510  INFO 19428 --- [restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-04-06 11:39:01.575  INFO 19428 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2022-04-06 11:39:01.669  INFO 19428 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-04-06 11:39:01.676  INFO 19428 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-04-06 11:39:02.007  WARN 19428 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-04-06 11:39:02.257  INFO 19428 --- [restartedMain] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page template: index
2022-04-06 11:39:02.553  INFO 19428 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2022-04-06 11:39:02.597  INFO 19428 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-04-06 11:39:02.601  INFO 19428 --- [restartedMain] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2022-04-06 11:39:02.602  INFO 19428 --- [restartedMain] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2022-04-06 11:39:02.602  INFO 19428 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8086 (http) with context path ''
2022-04-06 11:39:02.612  INFO 19428 --- [restartedMain] com.kwok.MyblogApplication               : Started MyblogApplication in 3.398 seconds (JVM running for 4.334)
2022-04-06 11:39:09.106  INFO 19428 --- [http-nio-8086-exec-1] com.kwok.aspect.LogAspect                : Request : {url='http://localhost:8086/index', ip='0:0:0:0:0:0:0:1', classMethod='com.kwok.controller.IndexController.index', args=[org.apache.catalina.connector.RequestFacade@1b1faa7b, org.apache.catalina.connector.ResponseFacade@f4a65fa, {}]}
2022-04-06 11:39:09.136 DEBUG 19428 --- [http-nio-8086-exec-1] com.kwok.mapper.BlogMapper.getBlogCount  : ==>  Preparing: select count(1) as count from blog
2022-04-06 11:39:09.154 DEBUG 19428 --- [http-nio-8086-exec-1] com.kwok.mapper.BlogMapper.getBlogCount  : ==> Parameters: 
2022-04-06 11:39:09.171 DEBUG 19428 --- [http-nio-8086-exec-1] com.kwok.mapper.BlogMapper.getBlogCount  : <==      Total: 1
2022-04-06 11:39:09.173 DEBUG 19428 --- [http-nio-8086-exec-1] com.kwok.mapper.BlogMapper.getBlogList   : ==>  Preparing: select b.*,t.name as typeName from blog b,type t where b.type_id=t.id order by b.id desc limit ?,?
2022-04-06 11:39:09.174 DEBUG 19428 --- [http-nio-8086-exec-1] com.kwok.mapper.BlogMapper.getBlogList   : ==> Parameters: 0(Integer), 5(Integer)
2022-04-06 11:39:09.184 DEBUG 19428 --- [http-nio-8086-exec-1] com.kwok.mapper.BlogMapper.getBlogList   : <==      Total: 5
2022-04-06 11:39:09.185 DEBUG 19428 --- [http-nio-8086-exec-1] com.kwok.mapper.BlogMapper.getBlogById   : ==>  Preparing: select * from blog where id = ?
2022-04-06 11:39:09.185 DEBUG 19428 --- [http-nio-8086-exec-1] com.kwok.mapper.BlogMapper.getBlogById   : ==> Parameters: 93(Integer)
2022-04-06 11:39:09.186 DEBUG 19428 --- [http-nio-8086-exec-1] com.kwok.mapper.BlogMapper.getBlogById   : <==      Total: 0
2022-04-06 11:39:09.187 DEBUG 19428 --- [http-nio-8086-exec-1] com.kwok.mapper.BlogMapper.getBlogById   : ==>  Preparing: select * from blog where id = ?
2022-04-06 11:39:09.187 DEBUG 19428 --- [http-nio-8086-exec-1] com.kwok.mapper.BlogMapper.getBlogById   : ==> Parameters: 87(Integer)
2022-04-06 11:39:09.189 DEBUG 19428 --- [http-nio-8086-exec-1] com.kwok.mapper.BlogMapper.getBlogById   : <==      Total: 1
2022-04-06 11:39:09.194 DEBUG 19428 --- [http-nio-8086-exec-1] com.kwok.mapper.TagMapper.listTopTag     : ==>  Preparing: select tag.id,tag.name,tn.num from tag,(select tag_id,count(*) as num from blog_tag group by tag_id order by num desc) as tn where tag.id = tn.tag_id
2022-04-06 11:39:09.194 DEBUG 19428 --- [http-nio-8086-exec-1] com.kwok.mapper.TagMapper.listTopTag     : ==> Parameters: 
2022-04-06 11:39:09.196 DEBUG 19428 --- [http-nio-8086-exec-1] com.kwok.mapper.TagMapper.listTopTag     : <==      Total: 13
2022-04-06 11:39:09.199 DEBUG 19428 --- [http-nio-8086-exec-1] com.kwok.mapper.TypeMapper.listTopType   : ==>  Preparing: select type.id,type.name,tn.num from type,(select type_id,count(*) as num from blog group by type_id order by num desc) as tn where type.id = tn.type_id
2022-04-06 11:39:09.200 DEBUG 19428 --- [http-nio-8086-exec-1] com.kwok.mapper.TypeMapper.listTopType   : ==> Parameters: 
2022-04-06 11:39:09.201 DEBUG 19428 --- [http-nio-8086-exec-1] com.kwok.mapper.TypeMapper.listTopType   : <==      Total: 6
2022-04-06 11:39:09.202 DEBUG 19428 --- [http-nio-8086-exec-1] c.k.m.BlogMapper.listTopRecommendBlog    : ==>  Preparing: select * from blog where recommend = 1 order by update_time desc
2022-04-06 11:39:09.202 DEBUG 19428 --- [http-nio-8086-exec-1] c.k.m.BlogMapper.listTopRecommendBlog    : ==> Parameters: 
2022-04-06 11:39:09.208 DEBUG 19428 --- [http-nio-8086-exec-1] c.k.m.BlogMapper.listTopRecommendBlog    : <==      Total: 2
2022-04-06 11:39:09.209  INFO 19428 --- [http-nio-8086-exec-1] com.kwok.aspect.LogAspect                : Result : index
2022-04-06 11:39:19.599  INFO 19428 --- [http-nio-8086-exec-7] com.kwok.aspect.LogAspect                : Request : {url='http://localhost:8086/tags/-1', ip='0:0:0:0:0:0:0:1', classMethod='com.kwok.controller.TagShowController.tags', args=[-1, org.apache.catalina.connector.RequestFacade@33bb32d9, {}]}
2022-04-06 11:39:19.602 DEBUG 19428 --- [http-nio-8086-exec-7] com.kwok.mapper.TagMapper.listTag        : ==>  Preparing: select * from tag order by id desc
2022-04-06 11:39:19.602 DEBUG 19428 --- [http-nio-8086-exec-7] com.kwok.mapper.TagMapper.listTag        : ==> Parameters: 
2022-04-06 11:39:19.604 DEBUG 19428 --- [http-nio-8086-exec-7] com.kwok.mapper.TagMapper.listTag        : <==      Total: 14
2022-04-06 11:39:19.605 DEBUG 19428 --- [http-nio-8086-exec-7] com.kwok.mapper.TagMapper.tagCount       : ==>  Preparing: select count(1) as count from blog_tag where tag_id=?
2022-04-06 11:39:19.605 DEBUG 19428 --- [http-nio-8086-exec-7] com.kwok.mapper.TagMapper.tagCount       : ==> Parameters: 14(Integer)
2022-04-06 11:39:19.606 DEBUG 19428 --- [http-nio-8086-exec-7] com.kwok.mapper.TagMapper.tagCount       : <==      Total: 1
2022-04-06 11:39:19.606 DEBUG 19428 --- [http-nio-8086-exec-7] com.kwok.mapper.TagMapper.tagCount       : ==>  Preparing: select count(1) as count from blog_tag where tag_id=?
2022-04-06 11:39:19.607 DEBUG 19428 --- [http-nio-8086-exec-7] com.kwok.mapper.TagMapper.tagCount       : ==> Parameters: 13(Integer)
2022-04-06 11:39:19.608 DEBUG 19428 --- [http-nio-8086-exec-7] com.kwok.mapper.TagMapper.tagCount       : <==      Total: 1
2022-04-06 11:39:19.608 DEBUG 19428 --- [http-nio-8086-exec-7] com.kwok.mapper.TagMapper.tagCount       : ==>  Preparing: select count(1) as count from blog_tag where tag_id=?
2022-04-06 11:39:19.609 DEBUG 19428 --- [http-nio-8086-exec-7] com.kwok.mapper.TagMapper.tagCount       : ==> Parameters: 12(Integer)
2022-04-06 11:39:19.610 DEBUG 19428 --- [http-nio-8086-exec-7] com.kwok.mapper.TagMapper.tagCount       : <==      Total: 1
2022-04-06 11:39:19.610 DEBUG 19428 --- [http-nio-8086-exec-7] com.kwok.mapper.TagMapper.tagCount       : ==>  Preparing: select count(1) as count from blog_tag where tag_id=?
2022-04-06 11:39:19.611 DEBUG 19428 --- [http-nio-8086-exec-7] com.kwok.mapper.TagMapper.tagCount       : ==> Parameters: 11(Integer)
2022-04-06 11:39:19.612 DEBUG 19428 --- [http-nio-8086-exec-7] com.kwok.mapper.TagMapper.tagCount       : <==      Total: 1
2022-04-06 11:39:19.612 DEBUG 19428 --- [http-nio-8086-exec-7] com.kwok.mapper.TagMapper.tagCount       : ==>  Preparing: select count(1) as count from blog_tag where tag_id=?
2022-04-06 11:39:19.612 DEBUG 19428 --- [http-nio-8086-exec-7] com.kwok.mapper.TagMapper.tagCount       : ==> Parameters: 10(Integer)
2022-04-06 11:39:19.613 DEBUG 19428 --- [http-nio-8086-exec-7] com.kwok.mapper.TagMapper.tagCount       : <==      Total: 1
2022-04-06 11:39:19.614 DEBUG 19428 --- [http-nio-8086-exec-7] com.kwok.mapper.TagMapper.tagCount       : ==>  Preparing: select count(1) as count from blog_tag where tag_id=?
2022-04-06 11:39:19.614 DEBUG 19428 --- [http-nio-8086-exec-7] com.kwok.mapper.TagMapper.tagCount       : ==> Parameters: 9(Integer)
2022-04-06 11:39:19.615 DEBUG 19428 --- [http-nio-8086-exec-7] com.kwok.mapper.TagMapper.tagCount       : <==      Total: 1
2022-04-06 11:39:19.616 DEBUG 19428 --- [http-nio-8086-exec-7] com.kwok.mapper.TagMapper.tagCount       : ==>  Preparing: select count(1) as count from blog_tag where tag_id=?
2022-04-06 11:39:19.616 DEBUG 19428 --- [http-nio-8086-exec-7] com.kwok.mapper.TagMapper.tagCount       : ==> Parameters: 8(Integer)
2022-04-06 11:39:19.617 DEBUG 19428 --- [http-nio-8086-exec-7] com.kwok.mapper.TagMapper.tagCount       : <==      Total: 1
2022-04-06 11:39:19.618 DEBUG 19428 --- [http-nio-8086-exec-7] com.kwok.mapper.TagMapper.tagCount       : ==>  Preparing: select count(1) as count from blog_tag where tag_id=?
2022-04-06 11:39:19.618 DEBUG 19428 --- [http-nio-8086-exec-7] com.kwok.mapper.TagMapper.tagCount       : ==> Parameters: 7(Integer)
2022-04-06 11:39:19.620 DEBUG 19428 --- [http-nio-8086-exec-7] com.kwok.mapper.TagMapper.tagCount       : <==      Total: 1
2022-04-06 11:39:19.621 DEBUG 19428 --- [http-nio-8086-exec-7] com.kwok.mapper.TagMapper.tagCount       : ==>  Preparing: select count(1) as count from blog_tag where tag_id=?
2022-04-06 11:39:19.622 DEBUG 19428 --- [http-nio-8086-exec-7] com.kwok.mapper.TagMapper.tagCount       : ==> Parameters: 6(Integer)
2022-04-06 11:39:19.623 DEBUG 19428 --- [http-nio-8086-exec-7] com.kwok.mapper.TagMapper.tagCount       : <==      Total: 1
2022-04-06 11:39:19.624 DEBUG 19428 --- [http-nio-8086-exec-7] com.kwok.mapper.TagMapper.tagCount       : ==>  Preparing: select count(1) as count from blog_tag where tag_id=?
2022-04-06 11:39:19.624 DEBUG 19428 --- [http-nio-8086-exec-7] com.kwok.mapper.TagMapper.tagCount       : ==> Parameters: 5(Integer)
2022-04-06 11:39:19.625 DEBUG 19428 --- [http-nio-8086-exec-7] com.kwok.mapper.TagMapper.tagCount       : <==      Total: 1
2022-04-06 11:39:19.625 DEBUG 19428 --- [http-nio-8086-exec-7] com.kwok.mapper.TagMapper.tagCount       : ==>  Preparing: select count(1) as count from blog_tag where tag_id=?
2022-04-06 11:39:19.626 DEBUG 19428 --- [http-nio-8086-exec-7] com.kwok.mapper.TagMapper.tagCount       : ==> Parameters: 4(Integer)
2022-04-06 11:39:19.627 DEBUG 19428 --- [http-nio-8086-exec-7] com.kwok.mapper.TagMapper.tagCount       : <==      Total: 1
2022-04-06 11:39:19.627 DEBUG 19428 --- [http-nio-8086-exec-7] com.kwok.mapper.TagMapper.tagCount       : ==>  Preparing: select count(1) as count from blog_tag where tag_id=?
2022-04-06 11:39:19.628 DEBUG 19428 --- [http-nio-8086-exec-7] com.kwok.mapper.TagMapper.tagCount       : ==> Parameters: 3(Integer)
2022-04-06 11:39:19.629 DEBUG 19428 --- [http-nio-8086-exec-7] com.kwok.mapper.TagMapper.tagCount       : <==      Total: 1
2022-04-06 11:39:19.631 DEBUG 19428 --- [http-nio-8086-exec-7] com.kwok.mapper.TagMapper.tagCount       : ==>  Preparing: select count(1) as count from blog_tag where tag_id=?
2022-04-06 11:39:19.631 DEBUG 19428 --- [http-nio-8086-exec-7] com.kwok.mapper.TagMapper.tagCount       : ==> Parameters: 2(Integer)
2022-04-06 11:39:19.632 DEBUG 19428 --- [http-nio-8086-exec-7] com.kwok.mapper.TagMapper.tagCount       : <==      Total: 1
2022-04-06 11:39:19.632 DEBUG 19428 --- [http-nio-8086-exec-7] com.kwok.mapper.TagMapper.tagCount       : ==>  Preparing: select count(1) as count from blog_tag where tag_id=?
2022-04-06 11:39:19.633 DEBUG 19428 --- [http-nio-8086-exec-7] com.kwok.mapper.TagMapper.tagCount       : ==> Parameters: 1(Integer)
2022-04-06 11:39:19.633 DEBUG 19428 --- [http-nio-8086-exec-7] com.kwok.mapper.TagMapper.tagCount       : <==      Total: 1
2022-04-06 11:39:19.634 DEBUG 19428 --- [http-nio-8086-exec-7] c.k.m.BlogMapper.getBlogCountByTagId     : ==>  Preparing: select count(1) as count from blog_tag where tag_id = ?
2022-04-06 11:39:19.634 DEBUG 19428 --- [http-nio-8086-exec-7] c.k.m.BlogMapper.getBlogCountByTagId     : ==> Parameters: 14(Integer)
2022-04-06 11:39:19.635 DEBUG 19428 --- [http-nio-8086-exec-7] c.k.m.BlogMapper.getBlogCountByTagId     : <==      Total: 1
2022-04-06 11:39:19.635 DEBUG 19428 --- [http-nio-8086-exec-7] c.k.m.BlogMapper.getBlogListByTagId      : ==>  Preparing: select b.*,bt.tag_id,t.name from blog b,blog_tag bt,tag t where bt.blog_id=b.id and bt.tag_id=t.id and bt.tag_id=? order by b.id desc limit ?,?
2022-04-06 11:39:19.636 DEBUG 19428 --- [http-nio-8086-exec-7] c.k.m.BlogMapper.getBlogListByTagId      : ==> Parameters: 14(Integer), 0(Integer), 5(Integer)
2022-04-06 11:39:19.640 DEBUG 19428 --- [http-nio-8086-exec-7] c.k.m.BlogMapper.getBlogListByTagId      : <==      Total: 5
2022-04-06 11:39:19.641 DEBUG 19428 --- [http-nio-8086-exec-7] com.kwok.mapper.TypeMapper.getTypeById   : ==>  Preparing: select * from type where id = ?
2022-04-06 11:39:19.641 DEBUG 19428 --- [http-nio-8086-exec-7] com.kwok.mapper.TypeMapper.getTypeById   : ==> Parameters: 6(Integer)
2022-04-06 11:39:19.642 DEBUG 19428 --- [http-nio-8086-exec-7] com.kwok.mapper.TypeMapper.getTypeById   : <==      Total: 1
2022-04-06 11:39:19.643 DEBUG 19428 --- [http-nio-8086-exec-7] c.kwok.mapper.TagMapper.getTagsByBlogId  : ==>  Preparing: select t.* from tag t,blog_tag bt where t.id=bt.tag_id and bt.blog_id=?
2022-04-06 11:39:19.643 DEBUG 19428 --- [http-nio-8086-exec-7] c.kwok.mapper.TagMapper.getTagsByBlogId  : ==> Parameters: 66(Integer)
2022-04-06 11:39:19.644 DEBUG 19428 --- [http-nio-8086-exec-7] c.kwok.mapper.TagMapper.getTagsByBlogId  : <==      Total: 3
2022-04-06 11:39:19.644 DEBUG 19428 --- [http-nio-8086-exec-7] com.kwok.mapper.TypeMapper.getTypeById   : ==>  Preparing: select * from type where id = ?
2022-04-06 11:39:19.645 DEBUG 19428 --- [http-nio-8086-exec-7] com.kwok.mapper.TypeMapper.getTypeById   : ==> Parameters: 6(Integer)
2022-04-06 11:39:19.645 DEBUG 19428 --- [http-nio-8086-exec-7] com.kwok.mapper.TypeMapper.getTypeById   : <==      Total: 1
2022-04-06 11:39:19.646 DEBUG 19428 --- [http-nio-8086-exec-7] c.kwok.mapper.TagMapper.getTagsByBlogId  : ==>  Preparing: select t.* from tag t,blog_tag bt where t.id=bt.tag_id and bt.blog_id=?
2022-04-06 11:39:19.646 DEBUG 19428 --- [http-nio-8086-exec-7] c.kwok.mapper.TagMapper.getTagsByBlogId  : ==> Parameters: 65(Integer)
2022-04-06 11:39:19.647 DEBUG 19428 --- [http-nio-8086-exec-7] c.kwok.mapper.TagMapper.getTagsByBlogId  : <==      Total: 3
2022-04-06 11:39:19.648 DEBUG 19428 --- [http-nio-8086-exec-7] com.kwok.mapper.TypeMapper.getTypeById   : ==>  Preparing: select * from type where id = ?
2022-04-06 11:39:19.648 DEBUG 19428 --- [http-nio-8086-exec-7] com.kwok.mapper.TypeMapper.getTypeById   : ==> Parameters: 6(Integer)
2022-04-06 11:39:19.648 DEBUG 19428 --- [http-nio-8086-exec-7] com.kwok.mapper.TypeMapper.getTypeById   : <==      Total: 1
2022-04-06 11:39:19.649 DEBUG 19428 --- [http-nio-8086-exec-7] c.kwok.mapper.TagMapper.getTagsByBlogId  : ==>  Preparing: select t.* from tag t,blog_tag bt where t.id=bt.tag_id and bt.blog_id=?
2022-04-06 11:39:19.649 DEBUG 19428 --- [http-nio-8086-exec-7] c.kwok.mapper.TagMapper.getTagsByBlogId  : ==> Parameters: 64(Integer)
2022-04-06 11:39:19.650 DEBUG 19428 --- [http-nio-8086-exec-7] c.kwok.mapper.TagMapper.getTagsByBlogId  : <==      Total: 3
2022-04-06 11:39:19.650 DEBUG 19428 --- [http-nio-8086-exec-7] com.kwok.mapper.TypeMapper.getTypeById   : ==>  Preparing: select * from type where id = ?
2022-04-06 11:39:19.651 DEBUG 19428 --- [http-nio-8086-exec-7] com.kwok.mapper.TypeMapper.getTypeById   : ==> Parameters: 6(Integer)
2022-04-06 11:39:19.651 DEBUG 19428 --- [http-nio-8086-exec-7] com.kwok.mapper.TypeMapper.getTypeById   : <==      Total: 1
2022-04-06 11:39:19.652 DEBUG 19428 --- [http-nio-8086-exec-7] c.kwok.mapper.TagMapper.getTagsByBlogId  : ==>  Preparing: select t.* from tag t,blog_tag bt where t.id=bt.tag_id and bt.blog_id=?
2022-04-06 11:39:19.652 DEBUG 19428 --- [http-nio-8086-exec-7] c.kwok.mapper.TagMapper.getTagsByBlogId  : ==> Parameters: 63(Integer)
2022-04-06 11:39:19.653 DEBUG 19428 --- [http-nio-8086-exec-7] c.kwok.mapper.TagMapper.getTagsByBlogId  : <==      Total: 3
2022-04-06 11:39:19.653 DEBUG 19428 --- [http-nio-8086-exec-7] com.kwok.mapper.TypeMapper.getTypeById   : ==>  Preparing: select * from type where id = ?
2022-04-06 11:39:19.653 DEBUG 19428 --- [http-nio-8086-exec-7] com.kwok.mapper.TypeMapper.getTypeById   : ==> Parameters: 6(Integer)
2022-04-06 11:39:19.654 DEBUG 19428 --- [http-nio-8086-exec-7] com.kwok.mapper.TypeMapper.getTypeById   : <==      Total: 1
2022-04-06 11:39:19.655 DEBUG 19428 --- [http-nio-8086-exec-7] c.kwok.mapper.TagMapper.getTagsByBlogId  : ==>  Preparing: select t.* from tag t,blog_tag bt where t.id=bt.tag_id and bt.blog_id=?
2022-04-06 11:39:19.655 DEBUG 19428 --- [http-nio-8086-exec-7] c.kwok.mapper.TagMapper.getTagsByBlogId  : ==> Parameters: 62(Integer)
2022-04-06 11:39:19.656 DEBUG 19428 --- [http-nio-8086-exec-7] c.kwok.mapper.TagMapper.getTagsByBlogId  : <==      Total: 3
2022-04-06 11:39:19.657 DEBUG 19428 --- [http-nio-8086-exec-7] c.k.m.BlogMapper.getPreBlogsByTagId      : ==>  Preparing: select b.* from blog b,blog_tag bt where b.id = bt.blog_id and bt.tag_id=? and b.id > ?
2022-04-06 11:39:19.657 DEBUG 19428 --- [http-nio-8086-exec-7] c.k.m.BlogMapper.getPreBlogsByTagId      : ==> Parameters: 14(Integer), 66(Integer)
2022-04-06 11:39:19.658 DEBUG 19428 --- [http-nio-8086-exec-7] c.k.m.BlogMapper.getPreBlogsByTagId      : <==      Total: 0
2022-04-06 11:39:19.659 DEBUG 19428 --- [http-nio-8086-exec-7] c.k.m.BlogMapper.getNextBlogsByTagId     : ==>  Preparing: select b.* from blog b,blog_tag bt where b.id = bt.blog_id and bt.tag_id=? and ? > b.id
2022-04-06 11:39:19.659 DEBUG 19428 --- [http-nio-8086-exec-7] c.k.m.BlogMapper.getNextBlogsByTagId     : ==> Parameters: 14(Integer), 62(Integer)
2022-04-06 11:39:19.664 DEBUG 19428 --- [http-nio-8086-exec-7] c.k.m.BlogMapper.getNextBlogsByTagId     : <==      Total: 4
2022-04-06 11:39:19.665  INFO 19428 --- [http-nio-8086-exec-7] com.kwok.aspect.LogAspect                : Result : tags
2022-04-06 11:39:22.363  INFO 19428 --- [http-nio-8086-exec-7] com.kwok.aspect.LogAspect                : Request : {url='http://localhost:8086/archives', ip='0:0:0:0:0:0:0:1', classMethod='com.kwok.controller.ArchiveShowController.archives', args=[{}]}
2022-04-06 11:39:22.365 DEBUG 19428 --- [http-nio-8086-exec-7] c.kwok.mapper.BlogMapper.findGroupYear   : ==>  Preparing: select date_format(b.update_time,'%Y') as year from blog b group by year order by year desc
2022-04-06 11:39:22.366 DEBUG 19428 --- [http-nio-8086-exec-7] c.kwok.mapper.BlogMapper.findGroupYear   : ==> Parameters: 
2022-04-06 11:39:22.367 DEBUG 19428 --- [http-nio-8086-exec-7] c.kwok.mapper.BlogMapper.findGroupYear   : <==      Total: 1
2022-04-06 11:39:22.367 DEBUG 19428 --- [http-nio-8086-exec-7] c.kwok.mapper.BlogMapper.findBlogByYear  : ==>  Preparing: select * from blog b where date_format(b.update_time,'%Y') = ?
2022-04-06 11:39:22.368 DEBUG 19428 --- [http-nio-8086-exec-7] c.kwok.mapper.BlogMapper.findBlogByYear  : ==> Parameters: 2022(String)
2022-04-06 11:39:22.412 DEBUG 19428 --- [http-nio-8086-exec-7] c.kwok.mapper.BlogMapper.findBlogByYear  : <==      Total: 92
2022-04-06 11:39:22.412 DEBUG 19428 --- [http-nio-8086-exec-7] com.kwok.mapper.BlogMapper.getBlogCount  : ==>  Preparing: select count(1) as count from blog
2022-04-06 11:39:22.413 DEBUG 19428 --- [http-nio-8086-exec-7] com.kwok.mapper.BlogMapper.getBlogCount  : ==> Parameters: 
2022-04-06 11:39:22.415 DEBUG 19428 --- [http-nio-8086-exec-7] com.kwok.mapper.BlogMapper.getBlogCount  : <==      Total: 1
2022-04-06 11:39:22.415  INFO 19428 --- [http-nio-8086-exec-7] com.kwok.aspect.LogAspect                : Result : archives
2022-04-06 11:39:24.499  INFO 19428 --- [http-nio-8086-exec-3] com.kwok.aspect.LogAspect                : Request : {url='http://localhost:8086/about', ip='0:0:0:0:0:0:0:1', classMethod='com.kwok.controller.AboutShowController.archives', args=[]}
2022-04-06 11:39:24.500  INFO 19428 --- [http-nio-8086-exec-3] com.kwok.aspect.LogAspect                : Result : about
